function _S(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ou(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var jS={exports:{}},$f={},SS={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),SC=Symbol.for("react.portal"),OC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),AC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),TC=Symbol.for("react.suspense"),CC=Symbol.for("react.memo"),$C=Symbol.for("react.lazy"),xb=Symbol.iterator;function IC(e){return e===null||typeof e!="object"?null:(e=xb&&e[xb]||e["@@iterator"],typeof e=="function"?e:null)}var OS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NS=Object.assign,PS={};function is(e,t,r){this.props=e,this.context=t,this.refs=PS,this.updater=r||OS}is.prototype.isReactComponent={};is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ES(){}ES.prototype=is.prototype;function Qy(e,t,r){this.props=e,this.context=t,this.refs=PS,this.updater=r||OS}var Zy=Qy.prototype=new ES;Zy.constructor=Qy;NS(Zy,is.prototype);Zy.isPureReactComponent=!0;var wb=Array.isArray,AS=Object.prototype.hasOwnProperty,ev={current:null},kS={key:!0,ref:!0,__self:!0,__source:!0};function TS(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)AS.call(t,n)&&!kS.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Nu,type:e,key:i,ref:o,props:a,_owner:ev.current}}function DC(e,t){return{$$typeof:Nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function RC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _b=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RC(""+e.key):t.toString(36)}function Ec(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nu:case SC:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Zh(o,0):n,wb(a)?(r="",e!=null&&(r=e.replace(_b,"$&/")+"/"),Ec(a,t,r,"",function(c){return c})):a!=null&&(tv(a)&&(a=DC(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(_b,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",wb(e))for(var s=0;s<e.length;s++){i=e[s];var l=n+Zh(i,s);o+=Ec(i,t,r,l,a)}else if(l=IC(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=n+Zh(i,s++),o+=Ec(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qu(e,t,r){if(e==null)return e;var n=[],a=0;return Ec(e,n,"","",function(i){return t.call(r,i,a++)}),n}function MC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},Ac={transition:null},LC={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:ev};function CS(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:qu,forEach:function(e,t,r){qu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qu(e,function(){t++}),t},toArray:function(e){return qu(e,function(t){return t})||[]},only:function(e){if(!tv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=is;ve.Fragment=OC;ve.Profiler=PC;ve.PureComponent=Qy;ve.StrictMode=NC;ve.Suspense=TC;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;ve.act=CS;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=NS({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ev.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)AS.call(t,l)&&!kS.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Nu,type:e.type,key:a,ref:i,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:AC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EC,_context:e},e.Consumer=e};ve.createElement=TS;ve.createFactory=function(e){var t=TS.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:kC,render:e}};ve.isValidElement=tv;ve.lazy=function(e){return{$$typeof:$C,_payload:{_status:-1,_result:e},_init:MC}};ve.memo=function(e,t){return{$$typeof:CC,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Ac.transition;Ac.transition={};try{e()}finally{Ac.transition=t}};ve.unstable_act=CS;ve.useCallback=function(e,t){return Vt.current.useCallback(e,t)};ve.useContext=function(e){return Vt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Vt.current.useEffect(e,t)};ve.useId=function(){return Vt.current.useId()};ve.useImperativeHandle=function(e,t,r){return Vt.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Vt.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return Vt.current.useReducer(e,t,r)};ve.useRef=function(e){return Vt.current.useRef(e)};ve.useState=function(e){return Vt.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return Vt.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return Vt.current.useTransition()};ve.version="18.3.1";SS.exports=ve;var N=SS.exports;const D=Ne(N),UC=_S({__proto__:null,default:D},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=N,FC=Symbol.for("react.element"),qC=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,WC=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function $S(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)zC.call(t,n)&&!VC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:FC,type:e,key:i,ref:o,props:a,_owner:WC.current}}$f.Fragment=qC;$f.jsx=$S;$f.jsxs=$S;jS.exports=$f;var u=jS.exports,um={},IS={exports:{}},pr={},DS={exports:{}},RS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,L){var V=I.length;I.push(L);e:for(;0<V;){var z=V-1>>>1,q=I[z];if(0<a(q,L))I[z]=L,I[V]=q,V=z;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var L=I[0],V=I.pop();if(V!==L){I[0]=V;e:for(var z=0,q=I.length,Z=q>>>1;z<Z;){var fe=2*(z+1)-1,te=I[fe],ge=fe+1,Ue=I[ge];if(0>a(te,V))ge<q&&0>a(Ue,te)?(I[z]=Ue,I[ge]=V,z=ge):(I[z]=te,I[fe]=V,z=fe);else if(ge<q&&0>a(Ue,V))I[z]=Ue,I[ge]=V,z=ge;else break e}}return L}function a(I,L){var V=I.sortIndex-L.sortIndex;return V!==0?V:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=I)n(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(c)}}function j(I){if(y=!1,x(I),!m)if(r(l)!==null)m=!0,O(w);else{var L=r(c);L!==null&&R(j,L.startTime-I)}}function w(I,L){m=!1,y&&(y=!1,g(P),P=-1),p=!0;var V=h;try{for(x(L),f=r(l);f!==null&&(!(f.expirationTime>L)||I&&!E());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var q=z(f.expirationTime<=L);L=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(l)&&n(l),x(L)}else n(l);f=r(l)}if(f!==null)var Z=!0;else{var fe=r(c);fe!==null&&R(j,fe.startTime-L),Z=!1}return Z}finally{f=null,h=V,p=!1}}var _=!1,S=null,P=-1,k=5,$=-1;function E(){return!(e.unstable_now()-$<k)}function T(){if(S!==null){var I=e.unstable_now();$=I;var L=!0;try{L=S(!0,I)}finally{L?M():(_=!1,S=null)}}else _=!1}var M;if(typeof b=="function")M=function(){b(T)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,A=C.port2;C.port1.onmessage=T,M=function(){A.postMessage(null)}}else M=function(){v(T,0)};function O(I){S=I,_||(_=!0,M())}function R(I,L){P=v(function(){I(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,O(w))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var V=h;h=L;try{return I()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=h;h=I;try{return L()}finally{h=V}},e.unstable_scheduleCallback=function(I,L,V){var z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,I){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=V+q,I={id:d++,callback:L,priorityLevel:I,startTime:V,expirationTime:q,sortIndex:-1},V>z?(I.sortIndex=V,t(c,I),r(l)===null&&I===r(c)&&(y?(g(P),P=-1):y=!0,R(j,V-z))):(I.sortIndex=q,t(l,I),m||p||(m=!0,O(w))),I},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(I){var L=h;return function(){var V=h;h=L;try{return I.apply(this,arguments)}finally{h=V}}}})(RS);DS.exports=RS;var HC=DS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=N,fr=HC;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MS=new Set,_l={};function Pi(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(_l[e]=t,e=0;e<t.length;e++)MS.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cm=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jb={},Sb={};function YC(e){return cm.call(Sb,e)?!0:cm.call(jb,e)?!1:KC.test(e)?Sb[e]=!0:(jb[e]=!0,!1)}function XC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JC(e,t,r,n){if(t===null||typeof t>"u"||XC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var rv=/[\-:]([a-z])/g;function nv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rv,nv);Et[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rv,nv);Et[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rv,nv);Et[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function av(e,t,r,n){var a=Et.hasOwnProperty(t)?Et[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JC(t,r,a,n)&&(r=null),n||a===null?YC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mn=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),LS=Symbol.for("react.provider"),US=Symbol.for("react.context"),ov=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),Ob=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=Ob&&e[Ob]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,ep;function Qs(e){if(ep===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ep=t&&t[1]||""}return`
`+ep+e}var tp=!1;function rp(e,t){if(!e||tp)return"";tp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{tp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qs(e):""}function QC(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=rp(e.type,!1),e;case 11:return e=rp(e.type.render,!1),e;case 1:return e=rp(e.type,!0),e;default:return""}}function pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Hi:return"Portal";case dm:return"Profiler";case iv:return"StrictMode";case fm:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case US:return(e.displayName||"Context")+".Consumer";case LS:return(e._context.displayName||"Context")+".Provider";case ov:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sv:return t=e.displayName||null,t!==null?t:pm(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return pm(e(t))}catch{}}return null}function ZC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pm(t);case 8:return t===iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e2(e){var t=FS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){e._valueTracker||(e._valueTracker=e2(e))}function qS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=FS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mm(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Nb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zS(e,t){t=t.checked,t!=null&&av(e,"checked",t,!1)}function gm(e,t){zS(e,t);var r=wa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ym(e,t.type,r):t.hasOwnProperty("defaultValue")&&ym(e,t.type,wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ym(e,t,r){(t!=="number"||Vc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zs=Array.isArray;function uo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Zs(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wa(r)}}function WS(e,t){var r=wa(t.value),n=wa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ab(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vu,HS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vu=Vu||document.createElement("div"),Vu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t2=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(e){t2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),il[t]=il[e]})});function GS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||il.hasOwnProperty(e)&&il[e]?(""+t).trim():t+"px"}function KS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=GS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var r2=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(e,t){if(t){if(r2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function wm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function lv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jm=null,co=null,fo=null;function kb(e){if(e=Au(e)){if(typeof jm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Lf(t),jm(e.stateNode,e.type,t))}}function YS(e){co?fo?fo.push(e):fo=[e]:co=e}function XS(){if(co){var e=co,t=fo;if(fo=co=null,kb(e),t)for(e=0;e<t.length;e++)kb(t[e])}}function JS(e,t){return e(t)}function QS(){}var np=!1;function ZS(e,t,r){if(np)return e(t,r);np=!0;try{return JS(e,t,r)}finally{np=!1,(co!==null||fo!==null)&&(QS(),XS())}}function Sl(e,t){var r=e.stateNode;if(r===null)return null;var n=Lf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Sm=!1;if(En)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{Sm=!1}function n2(e,t,r,n,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var ol=!1,Hc=null,Gc=!1,Om=null,a2={onError:function(e){ol=!0,Hc=e}};function i2(e,t,r,n,a,i,o,s,l){ol=!1,Hc=null,n2.apply(a2,arguments)}function o2(e,t,r,n,a,i,o,s,l){if(i2.apply(this,arguments),ol){if(ol){var c=Hc;ol=!1,Hc=null}else throw Error(G(198));Gc||(Gc=!0,Om=c)}}function Ei(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tb(e){if(Ei(e)!==e)throw Error(G(188))}function s2(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Tb(a),e;if(i===n)return Tb(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function tO(e){return e=s2(e),e!==null?rO(e):null}function rO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rO(e);if(t!==null)return t;e=e.sibling}return null}var nO=fr.unstable_scheduleCallback,Cb=fr.unstable_cancelCallback,l2=fr.unstable_shouldYield,u2=fr.unstable_requestPaint,nt=fr.unstable_now,c2=fr.unstable_getCurrentPriorityLevel,uv=fr.unstable_ImmediatePriority,aO=fr.unstable_UserBlockingPriority,Kc=fr.unstable_NormalPriority,d2=fr.unstable_LowPriority,iO=fr.unstable_IdlePriority,If=null,en=null;function f2(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(If,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:m2,h2=Math.log,p2=Math.LN2;function m2(e){return e>>>=0,e===0?32:31-(h2(e)/p2|0)|0}var Hu=64,Gu=4194304;function el(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~a;s!==0?n=el(s):(i&=o,i!==0&&(n=el(i)))}else o=r&~a,o!==0?n=el(o):i!==0&&(n=el(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),a=1<<r,n|=e[r],t&=~a;return n}function g2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Fr(i),s=1<<o,l=a[o];l===-1?(!(s&r)||s&n)&&(a[o]=g2(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Nm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oO(){var e=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),e}function ap(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function v2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Fr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function cv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ae=0;function sO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lO,dv,uO,cO,dO,Pm=!1,Ku=[],ua=null,ca=null,da=null,Ol=new Map,Nl=new Map,Zn=[],b2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $b(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Ts(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Au(t),t!==null&&dv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function x2(e,t,r,n,a){switch(t){case"focusin":return ua=Ts(ua,e,t,r,n,a),!0;case"dragenter":return ca=Ts(ca,e,t,r,n,a),!0;case"mouseover":return da=Ts(da,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ol.set(i,Ts(Ol.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Nl.set(i,Ts(Nl.get(i)||null,e,t,r,n,a)),!0}return!1}function fO(e){var t=ri(e.target);if(t!==null){var r=Ei(t);if(r!==null){if(t=r.tag,t===13){if(t=eO(r),t!==null){e.blockedOn=t,dO(e.priority,function(){uO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_m=n,r.target.dispatchEvent(n),_m=null}else return t=Au(r),t!==null&&dv(t),e.blockedOn=r,!1;t.shift()}return!0}function Ib(e,t,r){kc(e)&&r.delete(t)}function w2(){Pm=!1,ua!==null&&kc(ua)&&(ua=null),ca!==null&&kc(ca)&&(ca=null),da!==null&&kc(da)&&(da=null),Ol.forEach(Ib),Nl.forEach(Ib)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Pm||(Pm=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,w2)))}function Pl(e){function t(a){return Cs(a,e)}if(0<Ku.length){Cs(Ku[0],e);for(var r=1;r<Ku.length;r++){var n=Ku[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ua!==null&&Cs(ua,e),ca!==null&&Cs(ca,e),da!==null&&Cs(da,e),Ol.forEach(t),Nl.forEach(t),r=0;r<Zn.length;r++)n=Zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)fO(r),r.blockedOn===null&&Zn.shift()}var ho=Mn.ReactCurrentBatchConfig,Xc=!0;function _2(e,t,r,n){var a=Ae,i=ho.transition;ho.transition=null;try{Ae=1,fv(e,t,r,n)}finally{Ae=a,ho.transition=i}}function j2(e,t,r,n){var a=Ae,i=ho.transition;ho.transition=null;try{Ae=4,fv(e,t,r,n)}finally{Ae=a,ho.transition=i}}function fv(e,t,r,n){if(Xc){var a=Em(e,t,r,n);if(a===null)pp(e,t,n,Jc,r),$b(e,n);else if(x2(a,e,t,r,n))n.stopPropagation();else if($b(e,n),t&4&&-1<b2.indexOf(e)){for(;a!==null;){var i=Au(a);if(i!==null&&lO(i),i=Em(e,t,r,n),i===null&&pp(e,t,n,Jc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else pp(e,t,n,null,r)}}var Jc=null;function Em(e,t,r,n){if(Jc=null,e=lv(n),e=ri(e),e!==null)if(t=Ei(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jc=e,null}function hO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c2()){case uv:return 1;case aO:return 4;case Kc:case d2:return 16;case iO:return 536870912;default:return 16}default:return 16}}var aa=null,hv=null,Tc=null;function pO(){if(Tc)return Tc;var e,t=hv,r=t.length,n,a="value"in aa?aa.value:aa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Tc=a.slice(e,1<n?1-n:void 0)}function Cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yu(){return!0}function Db(){return!1}function mr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yu:Db,this.isPropagationStopped=Db,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pv=mr(os),Eu=Je({},os,{view:0,detail:0}),S2=mr(Eu),ip,op,$s,Df=Je({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(ip=e.screenX-$s.screenX,op=e.screenY-$s.screenY):op=ip=0,$s=e),ip)},movementY:function(e){return"movementY"in e?e.movementY:op}}),Rb=mr(Df),O2=Je({},Df,{dataTransfer:0}),N2=mr(O2),P2=Je({},Eu,{relatedTarget:0}),sp=mr(P2),E2=Je({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),A2=mr(E2),k2=Je({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T2=mr(k2),C2=Je({},os,{data:0}),Mb=mr(C2),$2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D2[e])?!!t[e]:!1}function mv(){return R2}var M2=Je({},Eu,{key:function(e){if(e.key){var t=$2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(e){return e.type==="keypress"?Cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L2=mr(M2),U2=Je({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lb=mr(U2),B2=Je({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),F2=mr(B2),q2=Je({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),z2=mr(q2),W2=Je({},Df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V2=mr(W2),H2=[9,13,27,32],gv=En&&"CompositionEvent"in window,sl=null;En&&"documentMode"in document&&(sl=document.documentMode);var G2=En&&"TextEvent"in window&&!sl,mO=En&&(!gv||sl&&8<sl&&11>=sl),Ub=" ",Bb=!1;function gO(e,t){switch(e){case"keyup":return H2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function K2(e,t){switch(e){case"compositionend":return yO(t);case"keypress":return t.which!==32?null:(Bb=!0,Ub);case"textInput":return e=t.data,e===Ub&&Bb?null:e;default:return null}}function Y2(e,t){if(Ki)return e==="compositionend"||!gv&&gO(e,t)?(e=pO(),Tc=hv=aa=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mO&&t.locale!=="ko"?null:t.data;default:return null}}var X2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X2[e.type]:t==="textarea"}function vO(e,t,r,n){YS(n),t=Qc(t,"onChange"),0<t.length&&(r=new pv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ll=null,El=null;function J2(e){AO(e,0)}function Rf(e){var t=Ji(e);if(qS(t))return e}function Q2(e,t){if(e==="change")return t}var bO=!1;if(En){var lp;if(En){var up="oninput"in document;if(!up){var qb=document.createElement("div");qb.setAttribute("oninput","return;"),up=typeof qb.oninput=="function"}lp=up}else lp=!1;bO=lp&&(!document.documentMode||9<document.documentMode)}function zb(){ll&&(ll.detachEvent("onpropertychange",xO),El=ll=null)}function xO(e){if(e.propertyName==="value"&&Rf(El)){var t=[];vO(t,El,e,lv(e)),ZS(J2,t)}}function Z2(e,t,r){e==="focusin"?(zb(),ll=t,El=r,ll.attachEvent("onpropertychange",xO)):e==="focusout"&&zb()}function e$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rf(El)}function t$(e,t){if(e==="click")return Rf(t)}function r$(e,t){if(e==="input"||e==="change")return Rf(t)}function n$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wr=typeof Object.is=="function"?Object.is:n$;function Al(e,t){if(Wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!cm.call(t,a)||!Wr(e[a],t[a]))return!1}return!0}function Wb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vb(e,t){var r=Wb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wb(r)}}function wO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _O(){for(var e=window,t=Vc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vc(e.document)}return t}function yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function a$(e){var t=_O(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wO(r.ownerDocument.documentElement,r)){if(n!==null&&yv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Vb(r,i);var o=Vb(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i$=En&&"documentMode"in document&&11>=document.documentMode,Yi=null,Am=null,ul=null,km=!1;function Hb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;km||Yi==null||Yi!==Vc(n)||(n=Yi,"selectionStart"in n&&yv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ul&&Al(ul,n)||(ul=n,n=Qc(Am,"onSelect"),0<n.length&&(t=new pv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yi)))}function Xu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xi={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},cp={},jO={};En&&(jO=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Mf(e){if(cp[e])return cp[e];if(!Xi[e])return e;var t=Xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jO)return cp[e]=t[r];return e}var SO=Mf("animationend"),OO=Mf("animationiteration"),NO=Mf("animationstart"),PO=Mf("transitionend"),EO=new Map,Gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){EO.set(e,t),Pi(t,[e])}for(var dp=0;dp<Gb.length;dp++){var fp=Gb[dp],o$=fp.toLowerCase(),s$=fp[0].toUpperCase()+fp.slice(1);Oa(o$,"on"+s$)}Oa(SO,"onAnimationEnd");Oa(OO,"onAnimationIteration");Oa(NO,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(PO,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l$=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Kb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,o2(n,t,void 0,e),e.currentTarget=null}function AO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Kb(a,s,c),i=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Kb(a,s,c),i=l}}}if(Gc)throw e=Om,Gc=!1,Om=null,e}function Fe(e,t){var r=t[Dm];r===void 0&&(r=t[Dm]=new Set);var n=e+"__bubble";r.has(n)||(kO(t,e,2,!1),r.add(n))}function hp(e,t,r){var n=0;t&&(n|=4),kO(r,e,n,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[Ju]){e[Ju]=!0,MS.forEach(function(r){r!=="selectionchange"&&(l$.has(r)||hp(r,!1,e),hp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ju]||(t[Ju]=!0,hp("selectionchange",!1,t))}}function kO(e,t,r,n){switch(hO(t)){case 1:var a=_2;break;case 4:a=j2;break;default:a=fv}r=a.bind(null,t,r,e),a=void 0,!Sm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function pp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=ri(s),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}s=s.parentNode}}n=n.return}ZS(function(){var c=i,d=lv(r),f=[];e:{var h=EO.get(e);if(h!==void 0){var p=pv,m=e;switch(e){case"keypress":if(Cc(r)===0)break e;case"keydown":case"keyup":p=L2;break;case"focusin":m="focus",p=sp;break;case"focusout":m="blur",p=sp;break;case"beforeblur":case"afterblur":p=sp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=N2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=F2;break;case SO:case OO:case NO:p=A2;break;case PO:p=z2;break;case"scroll":p=S2;break;case"wheel":p=V2;break;case"copy":case"cut":case"paste":p=T2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lb}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,x;b!==null;){x=b;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,g!==null&&(j=Sl(b,g),j!=null&&y.push(Tl(b,j,x)))),v)break;b=b.return}0<y.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==_m&&(m=r.relatedTarget||r.fromElement)&&(ri(m)||m[An]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ri(m):null,m!==null&&(v=Ei(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=Rb,j="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Lb,j="onPointerLeave",g="onPointerEnter",b="pointer"),v=p==null?h:Ji(p),x=m==null?h:Ji(m),h=new y(j,b+"leave",p,r,d),h.target=v,h.relatedTarget=x,j=null,ri(d)===c&&(y=new y(g,b+"enter",m,r,d),y.target=x,y.relatedTarget=v,j=y),v=j,p&&m)t:{for(y=p,g=m,b=0,x=y;x;x=Ii(x))b++;for(x=0,j=g;j;j=Ii(j))x++;for(;0<b-x;)y=Ii(y),b--;for(;0<x-b;)g=Ii(g),x--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ii(y),g=Ii(g)}y=null}else y=null;p!==null&&Yb(f,h,p,y,!1),m!==null&&v!==null&&Yb(f,v,m,y,!0)}}e:{if(h=c?Ji(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=Q2;else if(Fb(h))if(bO)w=r$;else{w=e$;var _=Z2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=t$);if(w&&(w=w(e,c))){vO(f,w,r,d);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&ym(h,"number",h.value)}switch(_=c?Ji(c):window,e){case"focusin":(Fb(_)||_.contentEditable==="true")&&(Yi=_,Am=c,ul=null);break;case"focusout":ul=Am=Yi=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,Hb(f,r,d);break;case"selectionchange":if(i$)break;case"keydown":case"keyup":Hb(f,r,d)}var S;if(gv)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ki?gO(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(mO&&r.locale!=="ko"&&(Ki||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ki&&(S=pO()):(aa=d,hv="value"in aa?aa.value:aa.textContent,Ki=!0)),_=Qc(c,P),0<_.length&&(P=new Mb(P,e,null,r,d),f.push({event:P,listeners:_}),S?P.data=S:(S=yO(r),S!==null&&(P.data=S)))),(S=G2?K2(e,r):Y2(e,r))&&(c=Qc(c,"onBeforeInput"),0<c.length&&(d=new Mb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=S))}AO(f,t)})}function Tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qc(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Sl(e,r),i!=null&&n.unshift(Tl(e,i,a)),i=Sl(e,t),i!=null&&n.push(Tl(e,i,a))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yb(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Sl(r,i),l!=null&&o.unshift(Tl(r,l,s))):a||(l=Sl(r,i),l!=null&&o.push(Tl(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var u$=/\r\n?/g,c$=/\u0000|\uFFFD/g;function Xb(e){return(typeof e=="string"?e:""+e).replace(u$,`
`).replace(c$,"")}function Qu(e,t,r){if(t=Xb(t),Xb(e)!==t&&r)throw Error(G(425))}function Zc(){}var Tm=null,Cm=null;function $m(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,d$=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,f$=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(e){return Jb.resolve(null).then(e).catch(h$)}:Im;function h$(e){setTimeout(function(){throw e})}function mp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Pl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Pl(t)}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ss=Math.random().toString(36).slice(2),Qr="__reactFiber$"+ss,Cl="__reactProps$"+ss,An="__reactContainer$"+ss,Dm="__reactEvents$"+ss,p$="__reactListeners$"+ss,m$="__reactHandles$"+ss;function ri(e){var t=e[Qr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[An]||r[Qr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qb(e);e!==null;){if(r=e[Qr])return r;e=Qb(e)}return t}e=r,r=e.parentNode}return null}function Au(e){return e=e[Qr]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Lf(e){return e[Cl]||null}var Rm=[],Qi=-1;function Na(e){return{current:e}}function We(e){0>Qi||(e.current=Rm[Qi],Rm[Qi]=null,Qi--)}function Me(e,t){Qi++,Rm[Qi]=e.current,e.current=t}var _a={},Mt=Na(_a),Zt=Na(!1),gi=_a;function jo(e,t){var r=e.type.contextTypes;if(!r)return _a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function er(e){return e=e.childContextTypes,e!=null}function ed(){We(Zt),We(Mt)}function Zb(e,t,r){if(Mt.current!==_a)throw Error(G(168));Me(Mt,t),Me(Zt,r)}function TO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,ZC(e)||"Unknown",a));return Je({},r,n)}function td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,gi=Mt.current,Me(Mt,e),Me(Zt,Zt.current),!0}function ex(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=TO(e,t,gi),n.__reactInternalMemoizedMergedChildContext=e,We(Zt),We(Mt),Me(Mt,e)):We(Zt),Me(Zt,r)}var yn=null,Uf=!1,gp=!1;function CO(e){yn===null?yn=[e]:yn.push(e)}function g$(e){Uf=!0,CO(e)}function Pa(){if(!gp&&yn!==null){gp=!0;var e=0,t=Ae;try{var r=yn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yn=null,Uf=!1}catch(a){throw yn!==null&&(yn=yn.slice(e+1)),nO(uv,Pa),a}finally{Ae=t,gp=!1}}return null}var Zi=[],eo=0,rd=null,nd=0,br=[],xr=0,yi=null,vn=1,bn="";function Wa(e,t){Zi[eo++]=nd,Zi[eo++]=rd,rd=e,nd=t}function $O(e,t,r){br[xr++]=vn,br[xr++]=bn,br[xr++]=yi,yi=e;var n=vn;e=bn;var a=32-Fr(n)-1;n&=~(1<<a),r+=1;var i=32-Fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,vn=1<<32-Fr(t)+a|r<<a|n,bn=i+e}else vn=1<<i|r<<a|n,bn=e}function vv(e){e.return!==null&&(Wa(e,1),$O(e,1,0))}function bv(e){for(;e===rd;)rd=Zi[--eo],Zi[eo]=null,nd=Zi[--eo],Zi[eo]=null;for(;e===yi;)yi=br[--xr],br[xr]=null,bn=br[--xr],br[xr]=null,vn=br[--xr],br[xr]=null}var cr=null,ur=null,He=!1,Ur=null;function IO(e,t){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,ur=fa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yi!==null?{id:vn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,ur=null,!0):!1;default:return!1}}function Mm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lm(e){if(He){var t=ur;if(t){var r=t;if(!tx(e,t)){if(Mm(e))throw Error(G(418));t=fa(r.nextSibling);var n=cr;t&&tx(e,t)?IO(n,r):(e.flags=e.flags&-4097|2,He=!1,cr=e)}}else{if(Mm(e))throw Error(G(418));e.flags=e.flags&-4097|2,He=!1,cr=e}}}function rx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Zu(e){if(e!==cr)return!1;if(!He)return rx(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$m(e.type,e.memoizedProps)),t&&(t=ur)){if(Mm(e))throw DO(),Error(G(418));for(;t;)IO(e,t),t=fa(t.nextSibling)}if(rx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ur=fa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ur=null}}else ur=cr?fa(e.stateNode.nextSibling):null;return!0}function DO(){for(var e=ur;e;)e=fa(e.nextSibling)}function So(){ur=cr=null,He=!1}function xv(e){Ur===null?Ur=[e]:Ur.push(e)}var y$=Mn.ReactCurrentBatchConfig;function Is(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function ec(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nx(e){var t=e._init;return t(e._payload)}function RO(e){function t(g,b){if(e){var x=g.deletions;x===null?(g.deletions=[b],g.flags|=16):x.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=ga(g,b),g.index=0,g.sibling=null,g}function i(g,b,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<b?(g.flags|=2,b):x):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,x,j){return b===null||b.tag!==6?(b=jp(x,g.mode,j),b.return=g,b):(b=a(b,x),b.return=g,b)}function l(g,b,x,j){var w=x.type;return w===Gi?d(g,b,x.props.children,j,x.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Kn&&nx(w)===b.type)?(j=a(b,x.props),j.ref=Is(g,b,x),j.return=g,j):(j=Uc(x.type,x.key,x.props,null,g.mode,j),j.ref=Is(g,b,x),j.return=g,j)}function c(g,b,x,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Sp(x,g.mode,j),b.return=g,b):(b=a(b,x.children||[]),b.return=g,b)}function d(g,b,x,j,w){return b===null||b.tag!==7?(b=fi(x,g.mode,j,w),b.return=g,b):(b=a(b,x),b.return=g,b)}function f(g,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jp(""+b,g.mode,x),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zu:return x=Uc(b.type,b.key,b.props,null,g.mode,x),x.ref=Is(g,null,b),x.return=g,x;case Hi:return b=Sp(b,g.mode,x),b.return=g,b;case Kn:var j=b._init;return f(g,j(b._payload),x)}if(Zs(b)||As(b))return b=fi(b,g.mode,x,null),b.return=g,b;ec(g,b)}return null}function h(g,b,x,j){var w=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(g,b,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zu:return x.key===w?l(g,b,x,j):null;case Hi:return x.key===w?c(g,b,x,j):null;case Kn:return w=x._init,h(g,b,w(x._payload),j)}if(Zs(x)||As(x))return w!==null?null:d(g,b,x,j,null);ec(g,x)}return null}function p(g,b,x,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(x)||null,s(b,g,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zu:return g=g.get(j.key===null?x:j.key)||null,l(b,g,j,w);case Hi:return g=g.get(j.key===null?x:j.key)||null,c(b,g,j,w);case Kn:var _=j._init;return p(g,b,x,_(j._payload),w)}if(Zs(j)||As(j))return g=g.get(x)||null,d(b,g,j,w,null);ec(b,j)}return null}function m(g,b,x,j){for(var w=null,_=null,S=b,P=b=0,k=null;S!==null&&P<x.length;P++){S.index>P?(k=S,S=null):k=S.sibling;var $=h(g,S,x[P],j);if($===null){S===null&&(S=k);break}e&&S&&$.alternate===null&&t(g,S),b=i($,b,P),_===null?w=$:_.sibling=$,_=$,S=k}if(P===x.length)return r(g,S),He&&Wa(g,P),w;if(S===null){for(;P<x.length;P++)S=f(g,x[P],j),S!==null&&(b=i(S,b,P),_===null?w=S:_.sibling=S,_=S);return He&&Wa(g,P),w}for(S=n(g,S);P<x.length;P++)k=p(S,g,P,x[P],j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?P:k.key),b=i(k,b,P),_===null?w=k:_.sibling=k,_=k);return e&&S.forEach(function(E){return t(g,E)}),He&&Wa(g,P),w}function y(g,b,x,j){var w=As(x);if(typeof w!="function")throw Error(G(150));if(x=w.call(x),x==null)throw Error(G(151));for(var _=w=null,S=b,P=b=0,k=null,$=x.next();S!==null&&!$.done;P++,$=x.next()){S.index>P?(k=S,S=null):k=S.sibling;var E=h(g,S,$.value,j);if(E===null){S===null&&(S=k);break}e&&S&&E.alternate===null&&t(g,S),b=i(E,b,P),_===null?w=E:_.sibling=E,_=E,S=k}if($.done)return r(g,S),He&&Wa(g,P),w;if(S===null){for(;!$.done;P++,$=x.next())$=f(g,$.value,j),$!==null&&(b=i($,b,P),_===null?w=$:_.sibling=$,_=$);return He&&Wa(g,P),w}for(S=n(g,S);!$.done;P++,$=x.next())$=p(S,g,P,$.value,j),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?P:$.key),b=i($,b,P),_===null?w=$:_.sibling=$,_=$);return e&&S.forEach(function(T){return t(g,T)}),He&&Wa(g,P),w}function v(g,b,x,j){if(typeof x=="object"&&x!==null&&x.type===Gi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zu:e:{for(var w=x.key,_=b;_!==null;){if(_.key===w){if(w=x.type,w===Gi){if(_.tag===7){r(g,_.sibling),b=a(_,x.props.children),b.return=g,g=b;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Kn&&nx(w)===_.type){r(g,_.sibling),b=a(_,x.props),b.ref=Is(g,_,x),b.return=g,g=b;break e}r(g,_);break}else t(g,_);_=_.sibling}x.type===Gi?(b=fi(x.props.children,g.mode,j,x.key),b.return=g,g=b):(j=Uc(x.type,x.key,x.props,null,g.mode,j),j.ref=Is(g,b,x),j.return=g,g=j)}return o(g);case Hi:e:{for(_=x.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(g,b.sibling),b=a(b,x.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=Sp(x,g.mode,j),b.return=g,g=b}return o(g);case Kn:return _=x._init,v(g,b,_(x._payload),j)}if(Zs(x))return m(g,b,x,j);if(As(x))return y(g,b,x,j);ec(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(g,b.sibling),b=a(b,x),b.return=g,g=b):(r(g,b),b=jp(x,g.mode,j),b.return=g,g=b),o(g)):r(g,b)}return v}var Oo=RO(!0),MO=RO(!1),ad=Na(null),id=null,to=null,wv=null;function _v(){wv=to=id=null}function jv(e){var t=ad.current;We(ad),e._currentValue=t}function Um(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function po(e,t){id=e,wv=to=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function Nr(e){var t=e._currentValue;if(wv!==e)if(e={context:e,memoizedValue:t,next:null},to===null){if(id===null)throw Error(G(308));to=e,id.dependencies={lanes:0,firstContext:e}}else to=to.next=e;return t}var ni=null;function Sv(e){ni===null?ni=[e]:ni.push(e)}function LO(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Sv(t)):(r.next=a.next,a.next=r),t.interleaved=r,kn(e,n)}function kn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function Ov(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,kn(e,r)}return a=n.interleaved,a===null?(t.next=t,Sv(n)):(t.next=a.next,a.next=t),n.interleaved=t,kn(e,r)}function $c(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cv(e,r)}}function ax(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function od(e,t,r,n){var a=e.updateQueue;Yn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,y=s;switch(h=t,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Je({},f,h);break e;case 2:Yn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);bi|=o,e.lanes=o,e.memoizedState=f}}function ix(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var ku={},tn=Na(ku),$l=Na(ku),Il=Na(ku);function ai(e){if(e===ku)throw Error(G(174));return e}function Nv(e,t){switch(Me(Il,t),Me($l,e),Me(tn,ku),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}We(tn),Me(tn,t)}function No(){We(tn),We($l),We(Il)}function BO(e){ai(Il.current);var t=ai(tn.current),r=bm(t,e.type);t!==r&&(Me($l,e),Me(tn,r))}function Pv(e){$l.current===e&&(We(tn),We($l))}var Ye=Na(0);function sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yp=[];function Ev(){for(var e=0;e<yp.length;e++)yp[e]._workInProgressVersionPrimary=null;yp.length=0}var Ic=Mn.ReactCurrentDispatcher,vp=Mn.ReactCurrentBatchConfig,vi=0,Xe=null,ft=null,vt=null,ld=!1,cl=!1,Dl=0,v$=0;function At(){throw Error(G(321))}function Av(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wr(e[r],t[r]))return!1;return!0}function kv(e,t,r,n,a,i){if(vi=i,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ic.current=e===null||e.memoizedState===null?_$:j$,e=r(n,a),cl){i=0;do{if(cl=!1,Dl=0,25<=i)throw Error(G(301));i+=1,vt=ft=null,t.updateQueue=null,Ic.current=S$,e=r(n,a)}while(cl)}if(Ic.current=ud,t=ft!==null&&ft.next!==null,vi=0,vt=ft=Xe=null,ld=!1,t)throw Error(G(300));return e}function Tv(){var e=Dl!==0;return Dl=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=e:vt=vt.next=e,vt}function Pr(){if(ft===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=vt===null?Xe.memoizedState:vt.next;if(t!==null)vt=t,ft=e;else{if(e===null)throw Error(G(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Xe.memoizedState=vt=e:vt=vt.next=e}return vt}function Rl(e,t){return typeof t=="function"?t(e):t}function bp(e){var t=Pr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=ft,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((vi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Xe.lanes|=d,bi|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=s,Wr(n,t.memoizedState)||(Jt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Xe.lanes|=i,bi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xp(e){var t=Pr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Wr(i,t.memoizedState)||(Jt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function FO(){}function qO(e,t){var r=Xe,n=Pr(),a=t(),i=!Wr(n.memoizedState,a);if(i&&(n.memoizedState=a,Jt=!0),n=n.queue,Cv(VO.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Ml(9,WO.bind(null,r,n,a,t),void 0,null),wt===null)throw Error(G(349));vi&30||zO(r,t,a)}return a}function zO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function WO(e,t,r,n){t.value=r,t.getSnapshot=n,HO(t)&&GO(e)}function VO(e,t,r){return r(function(){HO(t)&&GO(e)})}function HO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wr(e,r)}catch{return!0}}function GO(e){var t=kn(e,1);t!==null&&qr(t,e,1,-1)}function ox(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=w$.bind(null,Xe,e),[t.memoizedState,e]}function Ml(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function KO(){return Pr().memoizedState}function Dc(e,t,r,n){var a=Kr();Xe.flags|=e,a.memoizedState=Ml(1|t,r,void 0,n===void 0?null:n)}function Bf(e,t,r,n){var a=Pr();n=n===void 0?null:n;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,n!==null&&Av(n,o.deps)){a.memoizedState=Ml(t,r,i,n);return}}Xe.flags|=e,a.memoizedState=Ml(1|t,r,i,n)}function sx(e,t){return Dc(8390656,8,e,t)}function Cv(e,t){return Bf(2048,8,e,t)}function YO(e,t){return Bf(4,2,e,t)}function XO(e,t){return Bf(4,4,e,t)}function JO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QO(e,t,r){return r=r!=null?r.concat([e]):null,Bf(4,4,JO.bind(null,t,e),r)}function $v(){}function ZO(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Av(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eN(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Av(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tN(e,t,r){return vi&21?(Wr(r,t)||(r=oO(),Xe.lanes|=r,bi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=r)}function b$(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=vp.transition;vp.transition={};try{e(!1),t()}finally{Ae=r,vp.transition=n}}function rN(){return Pr().memoizedState}function x$(e,t,r){var n=ma(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nN(e))aN(t,r);else if(r=LO(e,t,r,n),r!==null){var a=Wt();qr(r,e,n,a),iN(r,t,n)}}function w$(e,t,r){var n=ma(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nN(e))aN(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Wr(s,o)){var l=t.interleaved;l===null?(a.next=a,Sv(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=LO(e,t,a,n),r!==null&&(a=Wt(),qr(r,e,n,a),iN(r,t,n))}}function nN(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function aN(e,t){cl=ld=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function iN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cv(e,r)}}var ud={readContext:Nr,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},_$={readContext:Nr,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:Nr,useEffect:sx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dc(4194308,4,JO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dc(4,2,e,t)},useMemo:function(e,t){var r=Kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=x$.bind(null,Xe,e),[n.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:ox,useDebugValue:$v,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=ox(!1),t=e[0];return e=b$.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xe,a=Kr();if(He){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),wt===null)throw Error(G(349));vi&30||zO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,sx(VO.bind(null,n,i,e),[e]),n.flags|=2048,Ml(9,WO.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Kr(),t=wt.identifierPrefix;if(He){var r=bn,n=vn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=v$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j$={readContext:Nr,useCallback:ZO,useContext:Nr,useEffect:Cv,useImperativeHandle:QO,useInsertionEffect:YO,useLayoutEffect:XO,useMemo:eN,useReducer:bp,useRef:KO,useState:function(){return bp(Rl)},useDebugValue:$v,useDeferredValue:function(e){var t=Pr();return tN(t,ft.memoizedState,e)},useTransition:function(){var e=bp(Rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:FO,useSyncExternalStore:qO,useId:rN,unstable_isNewReconciler:!1},S$={readContext:Nr,useCallback:ZO,useContext:Nr,useEffect:Cv,useImperativeHandle:QO,useInsertionEffect:YO,useLayoutEffect:XO,useMemo:eN,useReducer:xp,useRef:KO,useState:function(){return xp(Rl)},useDebugValue:$v,useDeferredValue:function(e){var t=Pr();return ft===null?t.memoizedState=e:tN(t,ft.memoizedState,e)},useTransition:function(){var e=xp(Rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:FO,useSyncExternalStore:qO,useId:rN,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ff={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wt(),a=ma(e),i=jn(n,a);i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(qr(t,e,a,n),$c(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wt(),a=ma(e),i=jn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(qr(t,e,a,n),$c(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wt(),n=ma(e),a=jn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ha(e,a,n),t!==null&&(qr(t,e,n,r),$c(t,e,n))}};function lx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Al(r,n)||!Al(a,i):!0}function oN(e,t,r){var n=!1,a=_a,i=t.contextType;return typeof i=="object"&&i!==null?i=Nr(i):(a=er(t)?gi:Mt.current,n=t.contextTypes,i=(n=n!=null)?jo(e,a):_a),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ff,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ux(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ff.enqueueReplaceState(t,t.state,null)}function Fm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ov(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Nr(i):(i=er(t)?gi:Mt.current,a.context=jo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ff.enqueueReplaceState(a,a.state,null),od(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var r="",n=t;do r+=QC(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function wp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var O$=typeof WeakMap=="function"?WeakMap:Map;function sN(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dd||(dd=!0,Qm=n),qm(e,t)},r}function lN(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){qm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qm(e,t),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new O$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=U$.bind(null,e,t,r),t.then(e,e))}function dx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,ha(r,t,1))),r.lanes|=1),e)}var N$=Mn.ReactCurrentOwner,Jt=!1;function Bt(e,t,r,n){t.child=e===null?MO(t,null,r,n):Oo(t,e.child,r,n)}function hx(e,t,r,n,a){r=r.render;var i=t.ref;return po(t,a),n=kv(e,t,r,n,i,a),r=Tv(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Tn(e,t,a)):(He&&r&&vv(t),t.flags|=1,Bt(e,t,n,a),t.child)}function px(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Fv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,uN(e,t,i,n,a)):(e=Uc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Al,r(o,n)&&e.ref===t.ref)return Tn(e,t,a)}return t.flags|=1,e=ga(i,n),e.ref=t.ref,e.return=t,t.child=e}function uN(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Al(i,n)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,Tn(e,t,a)}return zm(e,t,r,n,a)}function cN(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(no,ir),ir|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(no,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Me(no,ir),ir|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Me(no,ir),ir|=n;return Bt(e,t,a,r),t.child}function dN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zm(e,t,r,n,a){var i=er(r)?gi:Mt.current;return i=jo(t,i),po(t,a),r=kv(e,t,r,n,i,a),n=Tv(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Tn(e,t,a)):(He&&n&&vv(t),t.flags|=1,Bt(e,t,r,a),t.child)}function mx(e,t,r,n,a){if(er(r)){var i=!0;td(t)}else i=!1;if(po(t,a),t.stateNode===null)Rc(e,t),oN(t,r,n),Fm(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Nr(c):(c=er(r)?gi:Mt.current,c=jo(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&ux(t,o,n,c),Yn=!1;var h=t.memoizedState;o.state=h,od(t,n,o,a),l=t.memoizedState,s!==n||h!==l||Zt.current||Yn?(typeof d=="function"&&(Bm(t,r,d,n),l=t.memoizedState),(s=Yn||lx(t,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,UO(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ir(t.type,s),o.props=c,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Nr(l):(l=er(r)?gi:Mt.current,l=jo(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&ux(t,o,n,l),Yn=!1,h=t.memoizedState,o.state=h,od(t,n,o,a);var m=t.memoizedState;s!==f||h!==m||Zt.current||Yn?(typeof p=="function"&&(Bm(t,r,p,n),m=t.memoizedState),(c=Yn||lx(t,r,c,n,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Wm(e,t,r,n,i,a)}function Wm(e,t,r,n,a,i){dN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&ex(t,r,!1),Tn(e,t,i);n=t.stateNode,N$.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Oo(t,e.child,null,i),t.child=Oo(t,null,s,i)):Bt(e,t,s,i),t.memoizedState=n.state,a&&ex(t,r,!0),t.child}function fN(e){var t=e.stateNode;t.pendingContext?Zb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zb(e,t.context,!1),Nv(e,t.containerInfo)}function gx(e,t,r,n,a){return So(),xv(a),t.flags|=256,Bt(e,t,r,n),t.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function hN(e,t,r){var n=t.pendingProps,a=Ye.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Me(Ye,a&1),e===null)return Lm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wf(o,n,0,null),e=fi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hm(r),t.memoizedState=Vm,e):Iv(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return P$(e,t,o,n,s,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ga(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=ga(s,i):(i=fi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Hm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Vm,n}return i=e.child,e=i.sibling,n=ga(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Iv(e,t){return t=Wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tc(e,t,r,n){return n!==null&&xv(n),Oo(t,e.child,null,r),e=Iv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P$(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=wp(Error(G(422))),tc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Wf({mode:"visible",children:n.children},a,0,null),i=fi(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Oo(t,e.child,null,o),t.child.memoizedState=Hm(o),t.memoizedState=Vm,i);if(!(t.mode&1))return tc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(G(419)),n=wp(i,n,void 0),tc(e,t,o,n)}if(s=(o&e.childLanes)!==0,Jt||s){if(n=wt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,kn(e,a),qr(n,e,a,-1))}return Bv(),n=wp(Error(G(421))),tc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=B$.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ur=fa(a.nextSibling),cr=t,He=!0,Ur=null,e!==null&&(br[xr++]=vn,br[xr++]=bn,br[xr++]=yi,vn=e.id,bn=e.overflow,yi=t),t=Iv(t,n.children),t.flags|=4096,t)}function yx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Um(e.return,t,r)}function _p(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function pN(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Bt(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yx(e,r,t);else if(e.tag===19)yx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Me(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&sd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),_p(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}_p(t,!0,r,null,i);break;case"together":_p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ga(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ga(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function E$(e,t,r){switch(t.tag){case 3:fN(t),So();break;case 5:BO(t);break;case 1:er(t.type)&&td(t);break;case 4:Nv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Me(ad,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Me(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?hN(e,t,r):(Me(Ye,Ye.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Me(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pN(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Me(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,cN(e,t,r)}return Tn(e,t,r)}var mN,Gm,gN,yN;mN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gm=function(){};gN=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ai(tn.current);var i=null;switch(r){case"input":a=mm(e,a),n=mm(e,n),i=[];break;case"select":a=Je({},a,{value:void 0}),n=Je({},n,{value:void 0}),i=[];break;case"textarea":a=vm(e,a),n=vm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zc)}xm(r,n);var o;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_l.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_l.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};yN=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ds(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function A$(e,t,r){var n=t.pendingProps;switch(bv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return er(t.type)&&ed(),kt(t),null;case 3:return n=t.stateNode,No(),We(Zt),We(Mt),Ev(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(tg(Ur),Ur=null))),Gm(e,t),kt(t),null;case 5:Pv(t);var a=ai(Il.current);if(r=t.type,e!==null&&t.stateNode!=null)gN(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return kt(t),null}if(e=ai(tn.current),Zu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Qr]=t,n[Cl]=i,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<tl.length;a++)Fe(tl[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Nb(n,i),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",n);break;case"textarea":Eb(n,i),Fe("invalid",n)}xm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&Qu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Qu(n.textContent,s,e),a=["children",""+s]):_l.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Fe("scroll",n)}switch(r){case"input":Wu(n),Pb(n,i,!0);break;case"textarea":Wu(n),Ab(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Zc)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qr]=t,e[Cl]=n,mN(e,t,!1,!1),t.stateNode=e;e:{switch(o=wm(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),a=n;break;case"iframe":case"object":case"embed":Fe("load",e),a=n;break;case"video":case"audio":for(a=0;a<tl.length;a++)Fe(tl[a],e);a=n;break;case"source":Fe("error",e),a=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),a=n;break;case"details":Fe("toggle",e),a=n;break;case"input":Nb(e,n),a=mm(e,n),Fe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Je({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":Eb(e,n),a=vm(e,n),Fe("invalid",e);break;default:a=n}xm(r,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?KS(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HS(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&jl(e,l):typeof l=="number"&&jl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_l.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",e):l!=null&&av(e,i,l,o))}switch(r){case"input":Wu(e),Pb(e,n,!1);break;case"textarea":Wu(e),Ab(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?uo(e,!!n.multiple,i,!1):n.defaultValue!=null&&uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)yN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=ai(Il.current),ai(tn.current),Zu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qr]=t,(i=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:Qu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qr]=t,t.stateNode=n}return kt(t),null;case 13:if(We(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&ur!==null&&t.mode&1&&!(t.flags&128))DO(),So(),t.flags|=98560,i=!1;else if(i=Zu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Qr]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),i=!1}else Ur!==null&&(tg(Ur),Ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ht===0&&(ht=3):Bv())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return No(),Gm(e,t),e===null&&kl(t.stateNode.containerInfo),kt(t),null;case 10:return jv(t.type._context),kt(t),null;case 17:return er(t.type)&&ed(),kt(t),null;case 19:if(We(Ye),i=t.memoizedState,i===null)return kt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ds(i,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sd(e),o!==null){for(t.flags|=128,Ds(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Me(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&nt()>Eo&&(t.flags|=128,n=!0,Ds(i,!1),t.lanes=4194304)}else{if(!n)if(e=sd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return kt(t),null}else 2*nt()-i.renderingStartTime>Eo&&r!==1073741824&&(t.flags|=128,n=!0,Ds(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nt(),t.sibling=null,r=Ye.current,Me(Ye,n?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return Uv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ir&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function k$(e,t){switch(bv(t),t.tag){case 1:return er(t.type)&&ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return No(),We(Zt),We(Mt),Ev(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pv(t),null;case 13:if(We(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ye),null;case 4:return No(),null;case 10:return jv(t.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var rc=!1,Ct=!1,T$=typeof WeakSet=="function"?WeakSet:Set,J=null;function ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function Km(e,t,r){try{r()}catch(n){et(e,t,n)}}var vx=!1;function C$(e,t){if(Tm=Xc,e=_O(),yv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(s=o),h===i&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cm={focusedElem:e,selectionRange:r},Xc=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ir(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){et(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return m=vx,vx=!1,m}function dl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Km(t,r,i)}a=a.next}while(a!==n)}}function qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ym(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vN(e){var t=e.alternate;t!==null&&(e.alternate=null,vN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qr],delete t[Cl],delete t[Dm],delete t[p$],delete t[m$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bN(e){return e.tag===5||e.tag===3||e.tag===4}function bx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zc));else if(n!==4&&(e=e.child,e!==null))for(Xm(e,t,r),e=e.sibling;e!==null;)Xm(e,t,r),e=e.sibling}function Jm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jm(e,t,r),e=e.sibling;e!==null;)Jm(e,t,r),e=e.sibling}var Nt=null,Rr=!1;function Wn(e,t,r){for(r=r.child;r!==null;)xN(e,t,r),r=r.sibling}function xN(e,t,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(If,r)}catch{}switch(r.tag){case 5:Ct||ro(r,t);case 6:var n=Nt,a=Rr;Nt=null,Wn(e,t,r),Nt=n,Rr=a,Nt!==null&&(Rr?(e=Nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Rr?(e=Nt,r=r.stateNode,e.nodeType===8?mp(e.parentNode,r):e.nodeType===1&&mp(e,r),Pl(e)):mp(Nt,r.stateNode));break;case 4:n=Nt,a=Rr,Nt=r.stateNode.containerInfo,Rr=!0,Wn(e,t,r),Nt=n,Rr=a;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Km(r,t,o),a=a.next}while(a!==n)}Wn(e,t,r);break;case 1:if(!Ct&&(ro(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){et(r,t,s)}Wn(e,t,r);break;case 21:Wn(e,t,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,Wn(e,t,r),Ct=n):Wn(e,t,r);break;default:Wn(e,t,r)}}function xx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new T$),t.forEach(function(n){var a=F$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Tr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Nt=s.stateNode,Rr=!1;break e;case 3:Nt=s.stateNode.containerInfo,Rr=!0;break e;case 4:Nt=s.stateNode.containerInfo,Rr=!0;break e}s=s.return}if(Nt===null)throw Error(G(160));xN(i,o,a),Nt=null,Rr=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){et(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wN(t,e),t=t.sibling}function wN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tr(t,e),Gr(e),n&4){try{dl(3,e,e.return),qf(3,e)}catch(y){et(e,e.return,y)}try{dl(5,e,e.return)}catch(y){et(e,e.return,y)}}break;case 1:Tr(t,e),Gr(e),n&512&&r!==null&&ro(r,r.return);break;case 5:if(Tr(t,e),Gr(e),n&512&&r!==null&&ro(r,r.return),e.flags&32){var a=e.stateNode;try{jl(a,"")}catch(y){et(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&zS(a,i),wm(s,o);var c=wm(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?KS(a,f):d==="dangerouslySetInnerHTML"?HS(a,f):d==="children"?jl(a,f):av(a,d,f,c)}switch(s){case"input":gm(a,i);break;case"textarea":WS(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?uo(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?uo(a,!!i.multiple,i.defaultValue,!0):uo(a,!!i.multiple,i.multiple?[]:"",!1))}a[Cl]=i}catch(y){et(e,e.return,y)}}break;case 6:if(Tr(t,e),Gr(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){et(e,e.return,y)}}break;case 3:if(Tr(t,e),Gr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(y){et(e,e.return,y)}break;case 4:Tr(t,e),Gr(e);break;case 13:Tr(t,e),Gr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Mv=nt())),n&4&&xx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(c=Ct)||d,Tr(t,e),Ct=c):Tr(t,e),Gr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:dl(4,h,h.return);break;case 1:ro(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){et(n,r,y)}}break;case 5:ro(h,h.return);break;case 22:if(h.memoizedState!==null){_x(f);continue}}p!==null?(p.return=h,J=p):_x(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=GS("display",o))}catch(y){et(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){et(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tr(t,e),Gr(e),n&4&&xx(e);break;case 21:break;default:Tr(t,e),Gr(e)}}function Gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bN(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jl(a,""),n.flags&=-33);var i=bx(e);Jm(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,s=bx(e);Xm(e,s,o);break;default:throw Error(G(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $$(e,t,r){J=e,_N(e)}function _N(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var a=J,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||rc;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Ct;s=rc;var c=Ct;if(rc=o,(Ct=l)&&!c)for(J=a;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?jx(a):l!==null?(l.return=o,J=l):jx(a);for(;i!==null;)J=i,_N(i),i=i.sibling;J=a,rc=s,Ct=c}wx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,J=i):wx(e)}}function wx(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||qf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ix(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ix(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ct||t.flags&512&&Ym(t)}catch(h){et(t,t.return,h)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function _x(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function jx(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qf(4,t)}catch(l){et(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){et(t,a,l)}}var i=t.return;try{Ym(t)}catch(l){et(t,i,l)}break;case 5:var o=t.return;try{Ym(t)}catch(l){et(t,o,l)}}}catch(l){et(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var I$=Math.ceil,cd=Mn.ReactCurrentDispatcher,Dv=Mn.ReactCurrentOwner,Sr=Mn.ReactCurrentBatchConfig,xe=0,wt=null,lt=null,Pt=0,ir=0,no=Na(0),ht=0,Ll=null,bi=0,zf=0,Rv=0,fl=null,Kt=null,Mv=0,Eo=1/0,pn=null,dd=!1,Qm=null,pa=null,nc=!1,ia=null,fd=0,hl=0,Zm=null,Mc=-1,Lc=0;function Wt(){return xe&6?nt():Mc!==-1?Mc:Mc=nt()}function ma(e){return e.mode&1?xe&2&&Pt!==0?Pt&-Pt:y$.transition!==null?(Lc===0&&(Lc=oO()),Lc):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:hO(e.type)),e):1}function qr(e,t,r,n){if(50<hl)throw hl=0,Zm=null,Error(G(185));Pu(e,r,n),(!(xe&2)||e!==wt)&&(e===wt&&(!(xe&2)&&(zf|=r),ht===4&&ea(e,Pt)),tr(e,n),r===1&&xe===0&&!(t.mode&1)&&(Eo=nt()+500,Uf&&Pa()))}function tr(e,t){var r=e.callbackNode;y2(e,t);var n=Yc(e,e===wt?Pt:0);if(n===0)r!==null&&Cb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cb(r),t===1)e.tag===0?g$(Sx.bind(null,e)):CO(Sx.bind(null,e)),f$(function(){!(xe&6)&&Pa()}),r=null;else{switch(sO(n)){case 1:r=uv;break;case 4:r=aO;break;case 16:r=Kc;break;case 536870912:r=iO;break;default:r=Kc}r=kN(r,jN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jN(e,t){if(Mc=-1,Lc=0,xe&6)throw Error(G(327));var r=e.callbackNode;if(mo()&&e.callbackNode!==r)return null;var n=Yc(e,e===wt?Pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hd(e,n);else{t=n;var a=xe;xe|=2;var i=ON();(wt!==e||Pt!==t)&&(pn=null,Eo=nt()+500,di(e,t));do try{M$();break}catch(s){SN(e,s)}while(!0);_v(),cd.current=i,xe=a,lt!==null?t=0:(wt=null,Pt=0,t=ht)}if(t!==0){if(t===2&&(a=Nm(e),a!==0&&(n=a,t=eg(e,a))),t===1)throw r=Ll,di(e,0),ea(e,n),tr(e,nt()),r;if(t===6)ea(e,n);else{if(a=e.current.alternate,!(n&30)&&!D$(a)&&(t=hd(e,n),t===2&&(i=Nm(e),i!==0&&(n=i,t=eg(e,i))),t===1))throw r=Ll,di(e,0),ea(e,n),tr(e,nt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Va(e,Kt,pn);break;case 3:if(ea(e,n),(n&130023424)===n&&(t=Mv+500-nt(),10<t)){if(Yc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Wt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Im(Va.bind(null,e,Kt,pn),t);break}Va(e,Kt,pn);break;case 4:if(ea(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Fr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I$(n/1960))-n,10<n){e.timeoutHandle=Im(Va.bind(null,e,Kt,pn),n);break}Va(e,Kt,pn);break;case 5:Va(e,Kt,pn);break;default:throw Error(G(329))}}}return tr(e,nt()),e.callbackNode===r?jN.bind(null,e):null}function eg(e,t){var r=fl;return e.current.memoizedState.isDehydrated&&(di(e,t).flags|=256),e=hd(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&tg(t)),e}function tg(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function D$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Wr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t){for(t&=~Rv,t&=~zf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function Sx(e){if(xe&6)throw Error(G(327));mo();var t=Yc(e,0);if(!(t&1))return tr(e,nt()),null;var r=hd(e,t);if(e.tag!==0&&r===2){var n=Nm(e);n!==0&&(t=n,r=eg(e,n))}if(r===1)throw r=Ll,di(e,0),ea(e,t),tr(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,Kt,pn),tr(e,nt()),null}function Lv(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(Eo=nt()+500,Uf&&Pa())}}function xi(e){ia!==null&&ia.tag===0&&!(xe&6)&&mo();var t=xe;xe|=1;var r=Sr.transition,n=Ae;try{if(Sr.transition=null,Ae=1,e)return e()}finally{Ae=n,Sr.transition=r,xe=t,!(xe&6)&&Pa()}}function Uv(){ir=no.current,We(no)}function di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,d$(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(bv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ed();break;case 3:No(),We(Zt),We(Mt),Ev();break;case 5:Pv(n);break;case 4:No();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:jv(n.type._context);break;case 22:case 23:Uv()}r=r.return}if(wt=e,lt=e=ga(e.current,null),Pt=ir=t,ht=0,Ll=null,Rv=zf=bi=0,Kt=fl=null,ni!==null){for(t=0;t<ni.length;t++)if(r=ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ni=null}return e}function SN(e,t){do{var r=lt;try{if(_v(),Ic.current=ud,ld){for(var n=Xe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ld=!1}if(vi=0,vt=ft=Xe=null,cl=!1,Dl=0,Dv.current=null,r===null||r.return===null){ht=1,Ll=t,lt=null;break}e:{var i=e,o=r.return,s=r,l=t;if(t=Pt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=dx(o);if(p!==null){p.flags&=-257,fx(p,o,s,i,t),p.mode&1&&cx(i,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){cx(i,c,t),Bv();break e}l=Error(G(426))}}else if(He&&s.mode&1){var v=dx(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),fx(v,o,s,i,t),xv(Po(l,s));break e}}i=l=Po(l,s),ht!==4&&(ht=2),fl===null?fl=[i]:fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=sN(i,l,t);ax(i,g);break e;case 1:s=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pa===null||!pa.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=lN(i,s,t);ax(i,j);break e}}i=i.return}while(i!==null)}PN(r)}catch(w){t=w,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function ON(){var e=cd.current;return cd.current=ud,e===null?ud:e}function Bv(){(ht===0||ht===3||ht===2)&&(ht=4),wt===null||!(bi&268435455)&&!(zf&268435455)||ea(wt,Pt)}function hd(e,t){var r=xe;xe|=2;var n=ON();(wt!==e||Pt!==t)&&(pn=null,di(e,t));do try{R$();break}catch(a){SN(e,a)}while(!0);if(_v(),xe=r,cd.current=n,lt!==null)throw Error(G(261));return wt=null,Pt=0,ht}function R$(){for(;lt!==null;)NN(lt)}function M$(){for(;lt!==null&&!l2();)NN(lt)}function NN(e){var t=AN(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?PN(e):lt=t,Dv.current=null}function PN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=k$(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(r=A$(r,t,ir),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function Va(e,t,r){var n=Ae,a=Sr.transition;try{Sr.transition=null,Ae=1,L$(e,t,r,n)}finally{Sr.transition=a,Ae=n}return null}function L$(e,t,r,n){do mo();while(ia!==null);if(xe&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(v2(e,i),e===wt&&(lt=wt=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nc||(nc=!0,kN(Kc,function(){return mo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var o=Ae;Ae=1;var s=xe;xe|=4,Dv.current=null,C$(e,r),wN(r,e),a$(Cm),Xc=!!Tm,Cm=Tm=null,e.current=r,$$(r),u2(),xe=s,Ae=o,Sr.transition=i}else e.current=r;if(nc&&(nc=!1,ia=e,fd=a),i=e.pendingLanes,i===0&&(pa=null),f2(r.stateNode),tr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(dd)throw dd=!1,e=Qm,Qm=null,e;return fd&1&&e.tag!==0&&mo(),i=e.pendingLanes,i&1?e===Zm?hl++:(hl=0,Zm=e):hl=0,Pa(),null}function mo(){if(ia!==null){var e=sO(fd),t=Sr.transition,r=Ae;try{if(Sr.transition=null,Ae=16>e?16:e,ia===null)var n=!1;else{if(e=ia,ia=null,fd=0,xe&6)throw Error(G(331));var a=xe;for(xe|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:dl(8,d,i)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var h=d.sibling,p=d.return;if(vN(d),d===c){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,J=g;break e}J=i.return}}var b=e.current;for(J=b;J!==null;){o=J;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,J=x;else e:for(o=b;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:qf(9,s)}}catch(w){et(s,s.return,w)}if(s===o){J=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,J=j;break e}J=s.return}}if(xe=a,Pa(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(If,e)}catch{}n=!0}return n}finally{Ae=r,Sr.transition=t}}return!1}function Ox(e,t,r){t=Po(r,t),t=sN(e,t,1),e=ha(e,t,1),t=Wt(),e!==null&&(Pu(e,1,t),tr(e,t))}function et(e,t,r){if(e.tag===3)Ox(e,e,r);else for(;t!==null;){if(t.tag===3){Ox(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){e=Po(r,e),e=lN(t,e,1),t=ha(t,e,1),e=Wt(),t!==null&&(Pu(t,1,e),tr(t,e));break}}t=t.return}}function U$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&r,wt===e&&(Pt&r)===r&&(ht===4||ht===3&&(Pt&130023424)===Pt&&500>nt()-Mv?di(e,0):Rv|=r),tr(e,t)}function EN(e,t){t===0&&(e.mode&1?(t=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):t=1);var r=Wt();e=kn(e,t),e!==null&&(Pu(e,t,r),tr(e,r))}function B$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),EN(e,r)}function F$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),EN(e,r)}var AN;AN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Jt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Jt=!1,E$(e,t,r);Jt=!!(e.flags&131072)}else Jt=!1,He&&t.flags&1048576&&$O(t,nd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rc(e,t),e=t.pendingProps;var a=jo(t,Mt.current);po(t,r),a=kv(null,t,n,e,a,r);var i=Tv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(n)?(i=!0,td(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ov(t),a.updater=Ff,t.stateNode=a,a._reactInternals=t,Fm(t,n,e,r),t=Wm(null,t,n,!0,i,r)):(t.tag=0,He&&i&&vv(t),Bt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=z$(n),e=Ir(n,e),a){case 0:t=zm(null,t,n,e,r);break e;case 1:t=mx(null,t,n,e,r);break e;case 11:t=hx(null,t,n,e,r);break e;case 14:t=px(null,t,n,Ir(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),zm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),mx(e,t,n,a,r);case 3:e:{if(fN(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,UO(e,t),od(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Po(Error(G(423)),t),t=gx(e,t,n,r,a);break e}else if(n!==a){a=Po(Error(G(424)),t),t=gx(e,t,n,r,a);break e}else for(ur=fa(t.stateNode.containerInfo.firstChild),cr=t,He=!0,Ur=null,r=MO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(So(),n===a){t=Tn(e,t,r);break e}Bt(e,t,n,r)}t=t.child}return t;case 5:return BO(t),e===null&&Lm(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,$m(n,a)?o=null:i!==null&&$m(n,i)&&(t.flags|=32),dN(e,t),Bt(e,t,o,r),t.child;case 6:return e===null&&Lm(t),null;case 13:return hN(e,t,r);case 4:return Nv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):Bt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),hx(e,t,n,a,r);case 7:return Bt(e,t,t.pendingProps,r),t.child;case 8:return Bt(e,t,t.pendingProps.children,r),t.child;case 12:return Bt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Me(ad,n._currentValue),n._currentValue=o,i!==null)if(Wr(i.value,o)){if(i.children===a.children&&!Zt.current){t=Tn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=jn(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Um(i.return,r,t),s.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Um(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,po(t,r),a=Nr(a),n=n(a),t.flags|=1,Bt(e,t,n,r),t.child;case 14:return n=t.type,a=Ir(n,t.pendingProps),a=Ir(n.type,a),px(e,t,n,a,r);case 15:return uN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),Rc(e,t),t.tag=1,er(n)?(e=!0,td(t)):e=!1,po(t,r),oN(t,n,a),Fm(t,n,a,r),Wm(null,t,n,!0,e,r);case 19:return pN(e,t,r);case 22:return cN(e,t,r)}throw Error(G(156,t.tag))};function kN(e,t){return nO(e,t)}function q$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,r,n){return new q$(e,t,r,n)}function Fv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z$(e){if(typeof e=="function")return Fv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ov)return 11;if(e===sv)return 14}return 2}function ga(e,t){var r=e.alternate;return r===null?(r=_r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uc(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Fv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gi:return fi(r.children,a,i,t);case iv:o=8,a|=8;break;case dm:return e=_r(12,r,t,a|2),e.elementType=dm,e.lanes=i,e;case fm:return e=_r(13,r,t,a),e.elementType=fm,e.lanes=i,e;case hm:return e=_r(19,r,t,a),e.elementType=hm,e.lanes=i,e;case BS:return Wf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LS:o=10;break e;case US:o=9;break e;case ov:o=11;break e;case sv:o=14;break e;case Kn:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=_r(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fi(e,t,r,n){return e=_r(7,e,n,t),e.lanes=r,e}function Wf(e,t,r,n){return e=_r(22,e,n,t),e.elementType=BS,e.lanes=r,e.stateNode={isHidden:!1},e}function jp(e,t,r){return e=_r(6,e,null,t),e.lanes=r,e}function Sp(e,t,r){return t=_r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qv(e,t,r,n,a,i,o,s,l){return e=new W$(e,t,r,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_r(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ov(i),e}function V$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function TN(e){if(!e)return _a;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(er(r))return TO(e,r,t)}return t}function CN(e,t,r,n,a,i,o,s,l){return e=qv(r,n,!0,e,a,i,o,s,l),e.context=TN(null),r=e.current,n=Wt(),a=ma(r),i=jn(n,a),i.callback=t??null,ha(r,i,a),e.current.lanes=a,Pu(e,a,n),tr(e,n),e}function Vf(e,t,r,n){var a=t.current,i=Wt(),o=ma(a);return r=TN(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ha(a,t,o),e!==null&&(qr(e,a,o,i),$c(e,a,o)),o}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zv(e,t){Nx(e,t),(e=e.alternate)&&Nx(e,t)}function H$(){return null}var $N=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wv(e){this._internalRoot=e}Hf.prototype.render=Wv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Vf(e,t,null,null)};Hf.prototype.unmount=Wv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xi(function(){Vf(null,e,null,null)}),t[An]=null}};function Hf(e){this._internalRoot=e}Hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=cO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zn.length&&t!==0&&t<Zn[r].priority;r++);Zn.splice(r,0,e),r===0&&fO(e)}};function Vv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Px(){}function G$(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=pd(o);i.call(c)}}var o=CN(t,n,e,0,null,!1,!1,"",Px);return e._reactRootContainer=o,e[An]=o.current,kl(e.nodeType===8?e.parentNode:e),xi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=pd(l);s.call(c)}}var l=qv(e,0,!1,null,null,!1,!1,"",Px);return e._reactRootContainer=l,e[An]=l.current,kl(e.nodeType===8?e.parentNode:e),xi(function(){Vf(t,l,r,n)}),l}function Kf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=pd(o);s.call(l)}}Vf(t,o,e,a)}else o=G$(r,t,e,a,n);return pd(o)}lO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=el(t.pendingLanes);r!==0&&(cv(t,r|1),tr(t,nt()),!(xe&6)&&(Eo=nt()+500,Pa()))}break;case 13:xi(function(){var n=kn(e,1);if(n!==null){var a=Wt();qr(n,e,1,a)}}),zv(e,1)}};dv=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var r=Wt();qr(t,e,134217728,r)}zv(e,134217728)}};uO=function(e){if(e.tag===13){var t=ma(e),r=kn(e,t);if(r!==null){var n=Wt();qr(r,e,t,n)}zv(e,t)}};cO=function(){return Ae};dO=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};jm=function(e,t,r){switch(t){case"input":if(gm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Lf(n);if(!a)throw Error(G(90));qS(n),gm(n,a)}}}break;case"textarea":WS(e,r);break;case"select":t=r.value,t!=null&&uo(e,!!r.multiple,t,!1)}};JS=Lv;QS=xi;var K$={usingClientEntryPoint:!1,Events:[Au,Ji,Lf,YS,XS,Lv]},Rs={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y$={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tO(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||H$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{If=ac.inject(Y$),en=ac}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K$;pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(t))throw Error(G(200));return V$(e,t,null,r)};pr.createRoot=function(e,t){if(!Vv(e))throw Error(G(299));var r=!1,n="",a=$N;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=qv(e,1,!1,null,null,r,!1,n,a),e[An]=t.current,kl(e.nodeType===8?e.parentNode:e),new Wv(t)};pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=tO(t),e=e===null?null:e.stateNode,e};pr.flushSync=function(e){return xi(e)};pr.hydrate=function(e,t,r){if(!Gf(t))throw Error(G(200));return Kf(null,e,t,!0,r)};pr.hydrateRoot=function(e,t,r){if(!Vv(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=$N;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=CN(t,null,e,1,r??null,a,!1,i,o),e[An]=t.current,kl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Hf(t)};pr.render=function(e,t,r){if(!Gf(t))throw Error(G(200));return Kf(null,e,t,!1,r)};pr.unmountComponentAtNode=function(e){if(!Gf(e))throw Error(G(40));return e._reactRootContainer?(xi(function(){Kf(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};pr.unstable_batchedUpdates=Lv;pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gf(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Kf(e,t,r,!1,n)};pr.version="18.3.1-next-f1338f8080-20240426";function IN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IN)}catch(e){console.error(e)}}IN(),IS.exports=pr;var X$=IS.exports,Ex=X$;um.createRoot=Ex.createRoot,um.hydrateRoot=Ex.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}var oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oa||(oa={}));const Ax="popstate";function J$(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return rg("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:md(a)}return Z$(t,r,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q$(){return Math.random().toString(36).substr(2,8)}function kx(e,t){return{usr:e.state,key:e.key,idx:t}}function rg(e,t,r,n){return r===void 0&&(r=null),Ul({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ls(t):t,{state:r,key:t&&t.key||n||Q$()})}function md(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ls(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Z$(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=oa.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ul({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=oa.Pop;let v=d(),g=v==null?null:v-c;c=v,l&&l({action:s,location:y.location,delta:g})}function h(v,g){s=oa.Push;let b=rg(y.location,v,g);c=d()+1;let x=kx(b,c),j=y.createHref(b);try{o.pushState(x,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(j)}i&&l&&l({action:s,location:y.location,delta:1})}function p(v,g){s=oa.Replace;let b=rg(y.location,v,g);c=d();let x=kx(b,c),j=y.createHref(b);o.replaceState(x,"",j),i&&l&&l({action:s,location:y.location,delta:0})}function m(v){let g=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:md(v);return b=b.replace(/ $/,"%20"),at(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let y={get action(){return s},get location(){return e(a,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Ax,f),l=v,()=>{a.removeEventListener(Ax,f),l=null}},createHref(v){return t(a,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var Tx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tx||(Tx={}));function eI(e,t,r){return r===void 0&&(r="/"),tI(e,t,r)}function tI(e,t,r,n){let a=typeof t=="string"?ls(t):t,i=Gv(a.pathname||"/",r);if(i==null)return null;let o=DN(e);rI(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=pI(i);s=dI(o[l],c)}return s}function DN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ya([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),DN(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:uI(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of RN(i.path))a(i,o,l)}),t}function RN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=RN(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function rI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nI=/^:[\w-]+$/,aI=3,iI=2,oI=1,sI=10,lI=-2,Cx=e=>e==="*";function uI(e,t){let r=e.split("/"),n=r.length;return r.some(Cx)&&(n+=lI),t&&(n+=iI),r.filter(a=>!Cx(a)).reduce((a,i)=>a+(nI.test(i)?aI:i===""?oI:sI),n)}function cI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function dI(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=fI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ya([i,f.pathname]),pathnameBase:bI(ya([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ya([i,f.pathnameBase]))}return o}function fI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=s[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function hI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Hv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const mI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gI=e=>mI.test(e);function yI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ls(e):e,i;if(r)if(gI(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Hv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=$x(r.substring(1),"/"):i=$x(r,t)}else i=t;return{pathname:i,search:xI(n),hash:wI(a)}}function $x(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Op(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kv(e,t){let r=vI(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ls(e):(a=Ul({},e),at(!a.pathname||!a.pathname.includes("?"),Op("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Op("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Op("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=yI(a,s),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ya=e=>e.join("/").replace(/\/\/+/g,"/"),bI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _I(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MN=["post","put","patch","delete"];new Set(MN);const jI=["get",...MN];new Set(jI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}const Xv=N.createContext(null),SI=N.createContext(null),Ea=N.createContext(null),Yf=N.createContext(null),Ln=N.createContext({outlet:null,matches:[],isDataRoute:!1}),LN=N.createContext(null);function OI(e,t){let{relative:r}=t===void 0?{}:t;us()||at(!1);let{basename:n,navigator:a}=N.useContext(Ea),{hash:i,pathname:o,search:s}=BN(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ya([n,o])),a.createHref({pathname:l,search:s,hash:i})}function us(){return N.useContext(Yf)!=null}function cs(){return us()||at(!1),N.useContext(Yf).location}function UN(e){N.useContext(Ea).static||N.useLayoutEffect(e)}function Tu(){let{isDataRoute:e}=N.useContext(Ln);return e?BI():NI()}function NI(){us()||at(!1);let e=N.useContext(Xv),{basename:t,future:r,navigator:n}=N.useContext(Ea),{matches:a}=N.useContext(Ln),{pathname:i}=cs(),o=JSON.stringify(Kv(a,r.v7_relativeSplatPath)),s=N.useRef(!1);return UN(()=>{s.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=Yv(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ya([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const PI=N.createContext(null);function EI(e){let t=N.useContext(Ln).outlet;return t&&N.createElement(PI.Provider,{value:e},t)}function BN(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Ea),{matches:a}=N.useContext(Ln),{pathname:i}=cs(),o=JSON.stringify(Kv(a,n.v7_relativeSplatPath));return N.useMemo(()=>Yv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function AI(e,t){return kI(e,t)}function kI(e,t,r,n){us()||at(!1);let{navigator:a}=N.useContext(Ea),{matches:i}=N.useContext(Ln),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=cs(),d;if(t){var f;let v=typeof t=="string"?ls(t):t;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||at(!1),d=v}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=eI(e,{pathname:p}),y=DI(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ya([l,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ya([l,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?N.createElement(Yf.Provider,{value:{location:Bl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oa.Pop}},y):y}function TI(){let e=UI(),t=_I(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const CI=N.createElement(TI,null);class $I extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(Ln.Provider,{value:this.props.routeContext},N.createElement(LN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function II(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext(Xv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Ln.Provider,{value:t},n)}function DI(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,y=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||CI,l&&(c<0&&h===0?(FI("route-fallback"),m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),b=()=>{let x;return p?x=y:m?x=v:f.route.Component?x=N.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,N.createElement(II,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement($I,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var FN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(FN||{}),qN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qN||{});function RI(e){let t=N.useContext(Xv);return t||at(!1),t}function MI(e){let t=N.useContext(SI);return t||at(!1),t}function LI(e){let t=N.useContext(Ln);return t||at(!1),t}function zN(e){let t=LI(),r=t.matches[t.matches.length-1];return r.route.id||at(!1),r.route.id}function UI(){var e;let t=N.useContext(LN),r=MI(),n=zN();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function BI(){let{router:e}=RI(FN.UseNavigateStable),t=zN(qN.UseNavigateStable),r=N.useRef(!1);return UN(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bl({fromRouteId:t},i)))},[e,t])}const Ix={};function FI(e,t,r){Ix[e]||(Ix[e]=!0)}function qI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function WN(e){let{to:t,replace:r,state:n,relative:a}=e;us()||at(!1);let{future:i,static:o}=N.useContext(Ea),{matches:s}=N.useContext(Ln),{pathname:l}=cs(),c=Tu(),d=Yv(t,Kv(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function zI(e){return EI(e.context)}function Ut(e){at(!1)}function WI(e){let{basename:t="/",children:r=null,location:n,navigationType:a=oa.Pop,navigator:i,static:o=!1,future:s}=e;us()&&at(!1);let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:i,static:o,future:Bl({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=ls(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,y=N.useMemo(()=>{let v=Gv(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:a}},[l,d,f,h,p,m,a]);return y==null?null:N.createElement(Ea.Provider,{value:c},N.createElement(Yf.Provider,{children:r,value:y}))}function VI(e){let{children:t,location:r}=e;return AI(ng(t),r)}new Promise(()=>{});function ng(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let i=[...t,a];if(n.type===N.Fragment){r.push.apply(r,ng(n.props.children,i));return}n.type!==Ut&&at(!1),!n.props.index||!n.props.children||at(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ng(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function HI(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KI(e,t){return e.button===0&&(!t||t==="_self")&&!GI(e)}const YI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XI="6";try{window.__reactRouterVersion=XI}catch{}const JI="startTransition",Dx=UC[JI];function QI(e){let{basename:t,children:r,future:n,window:a}=e,i=N.useRef();i.current==null&&(i.current=J$({window:a,v5Compat:!0}));let o=i.current,[s,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=N.useCallback(f=>{c&&Dx?Dx(()=>l(f)):l(f)},[l,c]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>qI(n),[n]),N.createElement(WI,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const ZI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mn=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=HI(t,YI),{basename:p}=N.useContext(Ea),m,y=!1;if(typeof c=="string"&&eD.test(c)&&(m=c,ZI))try{let x=new URL(window.location.href),j=c.startsWith("//")?new URL(x.protocol+c):new URL(c),w=Gv(j.pathname,p);j.origin===x.origin&&w!=null?c=w+j.search+j.hash:y=!0}catch{}let v=OI(c,{relative:a}),g=tD(c,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(x){n&&n(x),x.defaultPrevented||g(x)}return N.createElement("a",ag({},h,{href:m||v,onClick:y||i?n:b,ref:r,target:l}))});var Rx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rx||(Rx={}));var Mx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mx||(Mx={}));function tD(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=Tu(),c=cs(),d=BN(e,{relative:o});return N.useCallback(f=>{if(KI(f,r)){f.preventDefault();let h=n!==void 0?n:md(c)===md(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,d,n,a,r,e,i,o,s])}var Jv={},gd={},ig=function(e,t){return ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ig(e,t)};function VN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ig(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var yd=function(){return yd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yd.apply(this,arguments)};function ds(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function HN(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function GN(e,t){return function(r,n){t(r,n,e)}}function KN(e,t,r,n,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var v=(0,r[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],m);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(d.get=f),(f=o(v.set))&&(d.set=f),(f=o(v.init))&&a.unshift(f)}else(f=o(v))&&(s==="field"?a.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function YN(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function XN(e){return typeof e=="symbol"?e:"".concat(e)}function JN(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function QN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ee(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):a(d.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function ZN(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Xf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function eP(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xf(t,e,r)}function vd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function tP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qv(arguments[t]));return e}function rP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function nP(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ao(e){return this instanceof Ao?(this.v=e,this):new Ao(e)}function aP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(p){return function(m){return Promise.resolve(m).then(p,f)}}function s(p,m){n[p]&&(a[p]=function(y){return new Promise(function(v,g){i.push([p,y,v,g])>1||l(p,y)})},m&&(a[p]=m(a[p])))}function l(p,m){try{c(n[p](m))}catch(y){h(i[0][3],y)}}function c(p){p.value instanceof Ao?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,m){p(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function iP(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ao(e[a](o)),done:!1}:i?i(o):o}:i}}function oP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vd=="function"?vd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,l){o=e[i](o),a(s,l,o.done,o.value)})}}function a(i,o,s,l){Promise.resolve(l).then(function(c){i({value:c,done:s})},o)}}function sP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var rD=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},og=function(e){return og=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},og(e)};function lP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=og(e),n=0;n<r.length;n++)r[n]!=="default"&&Xf(t,e,r[n]);return rD(t,e),t}function uP(e){return e&&e.__esModule?e:{default:e}}function cP(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function dP(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function fP(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function hP(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var nD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function pP(e){function t(i){e.error=e.hasError?new nD(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function mP(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const aD={__extends:VN,__assign:yd,__rest:ds,__decorate:HN,__param:GN,__esDecorate:KN,__runInitializers:YN,__propKey:XN,__setFunctionName:JN,__metadata:QN,__awaiter:ee,__generator:ZN,__createBinding:Xf,__exportStar:eP,__values:vd,__read:Qv,__spread:tP,__spreadArrays:rP,__spreadArray:nP,__await:Ao,__asyncGenerator:aP,__asyncDelegator:iP,__asyncValues:oP,__makeTemplateObject:sP,__importStar:lP,__importDefault:uP,__classPrivateFieldGet:cP,__classPrivateFieldSet:dP,__classPrivateFieldIn:fP,__addDisposableResource:hP,__disposeResources:pP,__rewriteRelativeImportExtension:mP},iD=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:hP,get __assign(){return yd},__asyncDelegator:iP,__asyncGenerator:aP,__asyncValues:oP,__await:Ao,__awaiter:ee,__classPrivateFieldGet:cP,__classPrivateFieldIn:fP,__classPrivateFieldSet:dP,__createBinding:Xf,__decorate:HN,__disposeResources:pP,__esDecorate:KN,__exportStar:eP,__extends:VN,__generator:ZN,__importDefault:uP,__importStar:lP,__makeTemplateObject:sP,__metadata:QN,__param:GN,__propKey:XN,__read:Qv,__rest:ds,__rewriteRelativeImportExtension:mP,__runInitializers:YN,__setFunctionName:JN,__spread:tP,__spreadArray:nP,__spreadArrays:rP,__values:vd,default:aD},Symbol.toStringTag,{value:"Module"})),oD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Jf=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},gP=class extends Jf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},sg=class extends Jf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},lg=class extends Jf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var bd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bd||(bd={}));class sD{constructor(t,{headers:r={},customFetch:n,region:a=bd.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=oD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ee(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const g=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:v}).catch(w=>{throw new gP(w)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new sg(g);if(!g.ok)throw new lg(g);let x=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield g.json():x==="application/octet-stream"||x==="application/pdf"?j=yield g.blob():x==="text/event-stream"?j=g:x==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof lg||s instanceof sg?s.context:void 0}}finally{i&&clearTimeout(i)}})}}const lD=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return bd},FunctionsClient:sD,FunctionsError:Jf,FunctionsFetchError:gP,FunctionsHttpError:lg,FunctionsRelayError:sg},Symbol.toStringTag,{value:"Module"})),yP=Ou(lD);var $t={};const fs=Ou(iD);var ic={},oc={},sc={},lc={},uc={},cc={},Lx;function vP(){if(Lx)return cc;Lx=1,Object.defineProperty(cc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return cc.default=e,cc}var Ux;function bP(){if(Ux)return uc;Ux=1,Object.defineProperty(uc,"__esModule",{value:!0});const t=fs.__importDefault(vP());let r=class{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let p=null,m=null,y=null,v=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=w:m=JSON.parse(w))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,v=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(m=[],p=null,v=200,g="OK")}catch{l.status===404&&x===""?(v=204,g="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:m,count:y,status:v,statusText:g}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,d,f,h,p,m;let y="";const v=l==null?void 0:l.cause;if(v){const g=(c=v==null?void 0:v.message)!==null&&c!==void 0?c:"",b=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";y=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${g}`,b&&(y+=` (${b})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(a,i)}returns(){return this}overrideTypes(){return this}};return uc.default=r,uc}var Bx;function xP(){if(Bx)return lc;Bx=1,Object.defineProperty(lc,"__esModule",{value:!0});const t=fs.__importDefault(bP());let r=class extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return lc.default=r,lc}var Fx;function Zv(){if(Fx)return sc;Fx=1,Object.defineProperty(sc,"__esModule",{value:!0});const t=fs.__importDefault(xP()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}};return sc.default=n,sc}var qx;function wP(){if(qx)return oc;qx=1,Object.defineProperty(oc,"__esModule",{value:!0});const t=fs.__importDefault(Zv());let r=class{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const c=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return oc.default=r,oc}var zx;function uD(){if(zx)return ic;zx=1,Object.defineProperty(ic,"__esModule",{value:!0});const e=fs,t=e.__importDefault(wP()),r=e.__importDefault(Zv());let n=class _P{constructor(i,{headers:o={},schema:s,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new _P(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(f="POST",p=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:m,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return ic.default=n,ic}Object.defineProperty($t,"__esModule",{value:!0});$t.PostgrestError=$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const hs=fs,jP=hs.__importDefault(uD());$t.PostgrestClient=jP.default;const SP=hs.__importDefault(wP());$t.PostgrestQueryBuilder=SP.default;const OP=hs.__importDefault(Zv());$t.PostgrestFilterBuilder=OP.default;const NP=hs.__importDefault(xP());$t.PostgrestTransformBuilder=NP.default;const PP=hs.__importDefault(bP());$t.PostgrestBuilder=PP.default;const EP=hs.__importDefault(vP());$t.PostgrestError=EP.default;$t.default={PostgrestClient:jP.default,PostgrestQueryBuilder:SP.default,PostgrestFilterBuilder:OP.default,PostgrestTransformBuilder:NP.default,PostgrestBuilder:PP.default,PostgrestError:EP.default};class AP{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cD="2.86.2",dD=`realtime-js/${cD}`,kP="1.0.0",fD="2.0.0",Wx=kP,ug=1e4,hD=1e3,pD=100;var Za;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Za||(Za={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var Mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mr||(Mr={}));var cg;(function(e){e.websocket="websocket"})(cg||(cg={}));var ei;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ei||(ei={}));class mD{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,s=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,l.length),m.setUint8(y++,s.length),m.setUint8(y++,o.length),m.setUint8(y++,c.length),m.setUint8(y++,f.length),m.setUint8(y++,r),Array.from(l,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(s,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(c,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(f,g=>m.setUint8(y++,g.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,s,l]=n;return r({join_ref:a,ref:i,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class TP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ie||(Ie={}));const Vx=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=gD(o,e,t,a),i),{}):{}},gD=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?CP(i,o):dg(o)},CP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return xD(t,r)}switch(e){case Ie.bool:return yD(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return vD(t);case Ie.json:case Ie.jsonb:return bD(t);case Ie.timestamp:return wD(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return dg(t);default:return dg(t)}},dg=e=>e,yD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>CP(t,s))}return e},wD=e=>typeof e=="string"?e.replace(" ","T"):e,$P=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Np{constructor(t,r,n={},a=ug){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fg||(fg={}));let IP=class Bc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bc.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=Bc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bc.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(s[c]=m),y.length>0&&(l[c]=y)}else s[c]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var c;const d=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=c,a(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hg||(hg={}));var go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(go||(go={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));const _D=it;let DP=class RP{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Np(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new TP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new IP(this),this.broadcastEndpointURL=$P(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[go.PRESENCE]&&this.bindings[go.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Yr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,g=[];for(let b=0;b<v;b++){const x=y[b],{filter:{event:j,schema:w,table:_,filter:S}}=x,P=p&&p[b];if(P&&P.event===j&&P.schema===w&&P.table===_&&P.filter===S)g.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=it.errored,t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Yr.SUBSCRIBED);return}}).receive("error",p=>{this.state=it.errored,t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===it.joined&&t===go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Np(this,Mr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Np(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>pD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=Mr;if(n&&[s,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,y,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,y,v,g,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:v,commit_timestamp:g,type:b,errors:x}=m;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:g,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&RP.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mr.close,{},t)}_onError(t){this._on(Mr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Vx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Vx(t.columns,t.old_record)),r}};const Pp=()=>{},dc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jD=[1e3,2e3,5e3,1e4],SD=1e4,OD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ND=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ug,this.transport=null,this.heartbeatIntervalMs=dc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pp,this.ref=0,this.reconnectTimer=null,this.vsn=Wx,this.logger=Pp,this.conn=null,this.sendBuffer=[],this.serializer=new mD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${cg.websocket}`,this.httpEndpoint=$P(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Za.connecting:return ei.Connecting;case Za.open:return ei.Open;case Za.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new DP(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(hD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},dc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${s}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Za.open||this.conn.readyState===Za.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:dD};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Mr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,l,c,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ug,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:dc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Pp,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Wx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>jD[m-1]||SD,this.vsn){case kP:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,y)=>y(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,y)=>y(JSON.parse(m));break;case fD:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const PD=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:_D,get REALTIME_LISTEN_TYPES(){return go},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return hg},get REALTIME_PRESENCE_LISTEN_EVENTS(){return fg},get REALTIME_SUBSCRIBE_STATES(){return Yr},RealtimeChannel:DP,RealtimeClient:ND,RealtimePresence:IP,WebSocketFactory:AP},Symbol.toStringTag,{value:"Module"})),MP=Ou(PD);class Cu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class LP extends Cu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xd extends Cu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const e0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ED=()=>Response,pg=e=>{if(Array.isArray(e))return e.map(r=>pg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=pg(n)}),t},AD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kD=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Ep=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},TD=(e,t,r)=>ee(void 0,void 0,void 0,function*(){const n=yield ED();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new LP(Ep(a),i,o))}).catch(a=>{t(new xd(Ep(a),a))}):t(new xd(Ep(e),e))}),CD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(AD(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function $u(e,t,r,n,a,i){return ee(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,CD(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>TD(l,s,n))})})}function Fl(e,t,r,n){return ee(this,void 0,void 0,function*(){return $u(e,"GET",t,r,n)})}function Dr(e,t,r,n,a){return ee(this,void 0,void 0,function*(){return $u(e,"POST",t,n,a,r)})}function mg(e,t,r,n,a){return ee(this,void 0,void 0,function*(){return $u(e,"PUT",t,n,a,r)})}function $D(e,t,r,n){return ee(this,void 0,void 0,function*(){return $u(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function t0(e,t,r,n,a){return ee(this,void 0,void 0,function*(){return $u(e,"DELETE",t,n,a,r)})}class ID{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}}var UP;class DD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[UP]="BlobDownloadBuilder",this.promise=null}asStream(){return new ID(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}}UP=Symbol.toStringTag;const RD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MD{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=e0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Hx),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?mg:Dr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Hx.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield mg(this.fetch,s.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Dr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new Cu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}})}update(t,r,n){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ee(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ee(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Dr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ee(this,void 0,void 0,function*(){try{const a=yield Dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),l=()=>Fl(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new DD(l,this.shouldThrowOnError)}info(t){return ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}})}exists(t){return ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $D(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ve(n)&&n instanceof xd){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return ee(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}list(t,r,n){return ee(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},RD),r),{prefix:t||""});return{data:yield Dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}listV2(t,r){return ee(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const BP="2.86.2",FP={"X-Client-Info":`storage-js/${BP}`};class LD{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FP),r),this.fetch=e0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ee(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Fl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}getBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Fl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}createBucket(t){return ee(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ee(this,void 0,void 0,function*(){try{return{data:yield mg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ql=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UD(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function BD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function FD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const s=UD(e.baseUrl,n,a),l=await BD(e.auth),c=await t(s,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new ql((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function fc(e){return e.join("")}var qD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:fc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fc(e.namespace)}`}),!0}catch(t){if(t instanceof ql&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ql&&r.status===409)return;throw r}}};function Di(e){return e.join("")}var zD=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ql&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ql&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},WD=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=FD({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new qD(this.client,t),this.tableOps=new zD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class qP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FP),r),this.fetch=e0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}listBuckets(t){return ee(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Fl(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}from(t){if(!kD(t))throw new Cu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new WD({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ee(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const r0={"X-Client-Info":`storage-js/${BP}`,"Content-Type":"application/json"};class n0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Fc extends n0{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zP extends n0{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gg||(gg={}));const Qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VD=()=>Response,WP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HD=e=>Array.from(new Float32Array(e)),GD=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Gx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KD=(e,t,r)=>ee(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Fc(Gx(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Fc(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Fc(s,a,o))}}else t(new zP(Gx(e),e))}),YD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(WP(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function XD(e,t,r,n,a,i){return ee(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,YD(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>KD(l,s,n))})})}function sr(e,t,r,n,a){return ee(this,void 0,void 0,function*(){return XD(e,"POST",t,n,a,r)})}class VP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ee(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}})}listIndexes(t){return ee(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ee(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}})}}class HP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getVectors(t){return ee(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}queryVectors(t){return ee(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class GP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listBuckets(){return ee(this,arguments,void 0,function*(t={}){try{return{data:yield sr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class KP extends GP{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new YP(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ee(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ee(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ee(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ee(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class YP extends VP{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new XP(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class XP extends HP{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class JD extends LD{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new MD(this.url,this.headers,t,this.fetch)}get vectors(){return new KP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qP(this.url+"/iceberg",this.headers,this.fetch)}}const QD=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:qP,StorageApiError:LP,StorageClient:JD,StorageError:Cu,StorageUnknownError:xd,StorageVectorsApiError:Fc,StorageVectorsClient:KP,StorageVectorsError:n0,get StorageVectorsErrorCode(){return gg},StorageVectorsUnknownError:zP,VectorBucketApi:GP,VectorBucketScope:YP,VectorDataApi:HP,VectorIndexApi:VP,VectorIndexScope:XP,isPlainObject:WP,isStorageError:Ve,isStorageVectorsError:Yt,normalizeToFloat32:HD,resolveFetch:Qf,resolveResponse:VD,validateVectorDimension:GD},Symbol.toStringTag,{value:"Module"})),ZD=Ou(QD);var JP={},Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.version=void 0;Zf.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Zf;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(JP);var QP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,i,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,d)=>{var f;const h=(f=await i())!==null&&f!==void 0?f:a;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(c,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=n})(QP);var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.isBrowser=void 0;Aa.uuid=eR;Aa.ensureTrailingSlash=ZP;Aa.applySettingDefaults=rR;Aa.validateSupabaseUrl=nR;function eR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function ZP(e){return e.endsWith("/")?e:e+"/"}const tR=()=>typeof window<"u";Aa.isBrowser=tR;function rR(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function nR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eh={};const eE="2.86.2",Wi=30*1e3,yg=3,Ap=yg*Wi,aR="http://localhost:9999",iR="supabase.auth.token",oR={"X-Client-Info":`gotrue-js/${eE}`},vg="X-Supabase-Api-Version",tE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lR=10*60*1e3;let ko=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let rE=class extends ko{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function nE(e){return re(e)&&e.name==="AuthApiError"}let ta=class extends ko{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Un=class extends ko{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Gt=class extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function aE(e){return re(e)&&e.name==="AuthSessionMissingError"}let Ha=class extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rl=class extends Un{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},nl=class extends Un{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function iE(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}let bg=class extends Un{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wd=class extends Un{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function qc(e){return re(e)&&e.name==="AuthRetryableFetchError"}let xg=class extends Un{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function uR(e){return re(e)&&e.name==="AuthWeakPasswordError"}let _d=class extends Un{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kx=` 	
\r=`.split(""),cR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kx.length;t+=1)e[Kx[t].charCodeAt(0)]=-2;for(let t=0;t<jd.length;t+=1)e[jd[t].charCodeAt(0)]=t;return e})();function Yx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jd[n]),t.queuedBits-=6}}function oE(e,t,r){const n=cR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xx(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{hR(o,n,r)};for(let o=0;o<e.length;o+=1)oE(e.charCodeAt(o),a,i);return t.join("")}function dR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dR(n,t)}}function hR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)oE(e.charCodeAt(a),r,n);return new Uint8Array(t)}function pR(e){const t=[];return fR(e,r=>t.push(r)),new Uint8Array(t)}function ii(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Yx(a,r,n)),Yx(null,r,n),t.join("")}function mR(e){return Math.round(Date.now()/1e3)+e}function gR(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},sE=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function yR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const lE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ma=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(e,t)=>{await e.removeItem(t)};class th{constructor(){this.promise=new th.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}th.promiseConstructor=Promise;function kp(e){const t=e.split(".");if(t.length!==3)throw new _d("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sR.test(t[n]))throw new _d("JWT not in base64url format");return{header:JSON.parse(Xx(t[0])),payload:JSON.parse(Xx(t[1])),signature:yo(t[2]),raw:{header:t[0],payload:t[1]}}}async function bR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xR(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function wR(e){return("0"+e.toString(16)).substr(-2)}function _R(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,wR).join("")}async function jR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function SR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(e,t,r=!1){const n=_R();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Vi(e,`${t}-code-verifier`,a);const i=await SR(n);return[i,n===i?"plain":"s256"]}const OR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NR(e){const t=e.headers.get(vg);if(!t||!t.match(OR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ER(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mi(e){if(!AR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kR(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Jx(e){return JSON.parse(JSON.stringify(e))}const Ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TR=[502,503,504];async function Qx(e){var t;if(!vR(e))throw new wd(Ga(e),0);if(TR.includes(e.status))throw new wd(Ga(e),e.status);let r;try{r=await e.json()}catch(i){throw new ta(Ga(i),i)}let n;const a=NR(e);if(a&&a.getTime()>=tE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xg(Ga(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xg(Ga(r),e.status,r.weak_password.reasons);throw new rE(Ga(r),e.status||500,n)}const CR=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function se(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[vg]||(i[vg]=tE["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $R(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $R(e,t,r,n,a,i){const o=CR(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new wd(Ga(l),0)}if(s.ok||await Qx(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await Qx(l)}}function $r(e){var t;let r=null;RR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=mR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Zx(e){const t=$r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function IR(e){return{data:e,error:null}}function DR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=ds(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function ew(e){return e}function RR(e){return e.access_token&&e.refresh_token&&e.expires_in}const zc=["global","local","others"];let a0=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zc[0]){if(zc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zc.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ra})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ds(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:DR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ra})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ew});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(re(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Mi(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ra})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Mi(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ra})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Mi(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ra})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Mi(t.userId);try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Mi(t.userId),Mi(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ew});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(re(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}};function tw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ka={debug:!!(globalThis&&sE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let uE=class extends i0{};class MR extends i0{}async function cE(e,t,r){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ka.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const rw={};async function LR(e,t,r){var n;const a=(n=rw[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new MR(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return rw[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await a,null;throw o}),await i}function UR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function BR(e){return parseInt(e,16)}function FR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function qR(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=dE(e.address),m=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}g+=b}return`${v}
${g}`}class st extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sd extends st{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function zR({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(fE(o)){if(i.rp.id!==o)return new st({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function WR({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fE(n)){if(r.rpId!==n)return new st({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class VR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const HR=new VR;function GR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ds(e,["challenge","user","excludeCredentials"]),i=yo(t).buffer,o=Object.assign(Object.assign({},r),{id:yo(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:yo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function KR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ds(e,["challenge","allowCredentials"]),a=yo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:yo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function YR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ii(new Uint8Array(e.response.attestationObject)),clientDataJSON:ii(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ii(new Uint8Array(a.authenticatorData)),clientDataJSON:ii(new Uint8Array(a.clientDataJSON)),signature:ii(new Uint8Array(a.signature)),userHandle:a.userHandle?ii(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nw(){var e,t;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function JR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sd("Browser returned unexpected credential type",t)}:{data:null,error:new Sd("Empty credential response",t)}}catch(t){return{data:null,error:zR({error:t,options:e})}}}async function QR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sd("Browser returned unexpected credential type",t)}:{data:null,error:new Sd("Empty credential response",t)}}catch(t){return{data:null,error:WR({error:t,options:e})}}}const ZR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},eM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Od(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=Od(s,o):n[i]=Od(o)}else n[i]=o}return n}function tM(e,t){return Od(ZR,e,t||{})}function rM(e,t){return Od(eM,e,t||{})}class nM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=a??HR.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=tM(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await JR({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=rM(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await QR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return re(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new ko("rpId is required for WebAuthn authentication")};try{if(!nw())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return re(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new ko("rpId is required for WebAuthn registration")};try{if(!nw())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return re(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in register",o)}}}}UR();const aM={url:aR,storageKey:iR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function aw(e,t,r){return await r()}const Li={};let o0=class wg{get jwks(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},aM),t);if(this.storageKey=i.storageKey,this.instanceID=(r=wg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&St()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new a0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lE(i.fetch),this.lock=i.lock||aw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:St()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cE:this.lock=aw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:sE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=tw(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(St()&&(r=yR(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),St()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iE(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?this._returnResult({error:r}):this._returnResult({error:new ta("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:$r}),{data:o,error:s}=i;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ri(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:$r})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$r})}else throw new rl("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Zx})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Zx})}else throw new rl("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Ha;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,l,c,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:g,options:b}=t;let x;if(St())if(typeof v=="object")x=v;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")x=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=dE(w[0]);let S=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const k=await x.request({method:"eth_chainId"});S=BR(k)}const P={domain:j.host,address:_,statement:g,uri:j.href,version:"1",chainId:S,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=qR(P),m=await x.request({method:"personal_sign",params:[FR(p),_]})}try{const{data:y,error:v}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$r});if(v)throw v;if(!y||!y.session||!y.user){const g=new Ha;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(re(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,o,s,l,c,d,f,h,p;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:v,wallet:g,statement:b,options:x}=t;let j;if(St())if(typeof g=="object")j=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const w=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:v,error:g}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ii(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$r});if(g)throw g;if(!v||!v.session||!v.user){const b=new Ha;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(re(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$r});if(await jt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const s=new Ha;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$r}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Ha;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ri(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new rl("You must provide either an email or phone number.")}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$r});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ri(this.storage,this.storageKey));const c=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:IR});return!((i=c.data)===null||i===void 0)&&i.url&&St()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Gt;const{error:a}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new rl("You must provide either an email or phone number and a type")}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ap:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ma(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Tp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=kR(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ra}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ra})})}catch(r){if(re(r))return aE(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Gt;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Ri(this.storage,this.storageKey));const{data:c,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:ra});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gt;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=kp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Gt;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!St())throw new nl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bg("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!i||!s||!o||!c)throw new nl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(nE(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=gR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ri(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return St()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(re(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:l,access_token:c,nonce:d}=t,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$r}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ha}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xR(async a=>(a>0&&await bR(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$r})),(a,i)=>{const o=200*Math.pow(2,a);return i&&qc(i)&&Date.now()+o-n<Wi})}catch(n){if(this._debug(r,"error",n),re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),St()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ma(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Vi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Tp()}else if(a&&!a.user&&!a.user){const o=await Ma(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await jt(this.storage,this.storageKey+"-user"),await Vi(this.storage,this.storageKey,a)):a.user=Tp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ap;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ap}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),qc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new th;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),re(i)){const o={data:null,error:i};return qc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Jx(a);await Vi(this.storage,this.storageKey,i)}else{const a=Jx(r);await Vi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wi}ms, refresh threshold is ${yg} ticks`),a<=yg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof i0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ri(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await se(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?YR(t.webauthn.credential_response):XR(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:GR(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:KR(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=kp(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Gt});const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&St()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Gt});const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&St()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gt})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+lR>a)return n;const{data:i,error:o}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=kp(n);r!=null&&r.allowExpired||PR(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=ER(a.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,pR(`${s}.${l}`)))throw new _d("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}};o0.nextInstanceID={};const iM=a0,oM=o0,sM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:iM,AuthApiError:rE,AuthClient:oM,AuthError:ko,AuthImplicitGrantRedirectError:nl,AuthInvalidCredentialsError:rl,AuthInvalidJwtError:_d,AuthInvalidTokenResponseError:Ha,AuthPKCEGrantCodeExchangeError:bg,AuthRetryableFetchError:wd,AuthSessionMissingError:Gt,AuthUnknownError:ta,AuthWeakPasswordError:xg,CustomAuthError:Un,GoTrueAdminApi:a0,GoTrueClient:o0,NavigatorLockAcquireTimeoutError:uE,SIGN_OUT_SCOPES:zc,isAuthApiError:nE,isAuthError:re,isAuthImplicitGrantRedirectError:iE,isAuthRetryableFetchError:qc,isAuthSessionMissingError:aE,isAuthWeakPasswordError:uR,lockInternals:Ka,navigatorLock:cE,processLock:LR},Symbol.toStringTag,{value:"Module"})),hE=Ou(sM);Object.defineProperty(eh,"__esModule",{value:!0});eh.SupabaseAuthClient=void 0;const lM=hE;class uM extends lM.AuthClient{constructor(t){super(t)}}eh.SupabaseAuthClient=uM;Object.defineProperty(gd,"__esModule",{value:!0});const cM=yP,dM=$t,fM=MP,hM=ZD,hc=JP,pM=QP,iw=Aa,mM=eh;let gM=class{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=(0,iw.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:hc.DEFAULT_DB_OPTIONS,realtime:hc.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},hc.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:hc.DEFAULT_GLOBAL_OPTIONS},d=(0,iw.applySettingDefaults)(n??{},c);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,pM.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new dM.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new hM.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new cM.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:l,debug:c,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mM.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fM.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};gd.default=gM;(function(e){var t=Jr&&Jr.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(f,h);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,m)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=Jr&&Jr.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},n=Jr&&Jr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(gd);r(hE,e);var i=$t;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=yP;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(MP,e);var s=gd;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(d,f,h)=>new a.default(d,f,h);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Jv);const pE=Ne(Jv),yM=_S({__proto__:null,default:pE},[Jv]),{PostgrestError:Vse,FunctionsHttpError:Hse,FunctionsFetchError:Gse,FunctionsRelayError:Kse,FunctionsError:Yse,FunctionRegion:Xse,SupabaseClient:Jse,createClient:vM,GoTrueAdminApi:Qse,GoTrueClient:Zse,AuthAdminApi:ele,AuthClient:tle,navigatorLock:rle,NavigatorLockAcquireTimeoutError:nle,lockInternals:ale,processLock:ile,SIGN_OUT_SCOPES:ole,AuthError:sle,AuthApiError:lle,AuthUnknownError:ule,CustomAuthError:cle,AuthSessionMissingError:dle,AuthInvalidTokenResponseError:fle,AuthInvalidCredentialsError:hle,AuthImplicitGrantRedirectError:ple,AuthPKCEGrantCodeExchangeError:mle,AuthRetryableFetchError:gle,AuthWeakPasswordError:yle,AuthInvalidJwtError:vle,isAuthError:ble,isAuthApiError:xle,isAuthSessionMissingError:wle,isAuthImplicitGrantRedirectError:_le,isAuthRetryableFetchError:jle,isAuthWeakPasswordError:Sle,RealtimePresence:Ole,RealtimeChannel:Nle,RealtimeClient:Ple,REALTIME_LISTEN_TYPES:Ele,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Ale,REALTIME_PRESENCE_LISTEN_EVENTS:kle,REALTIME_SUBSCRIBE_STATES:Tle,REALTIME_CHANNEL_STATES:Cle}=pE||yM,bM="https://weyymipalqdphlgydvnh.supabase.co",xM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndleXltaXBhbHFkcGhsZ3lkdm5oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNDQxNDUsImV4cCI6MjA4MDYyMDE0NX0.eG3Rord9Jr6-ZYYtI74uN6EyIEjuXxo2odDKVc8fd7E";let X=null;try{X=vM(bM,xM),console.log(" Supabase connected successfully")}catch(e){console.error(" Error initializing Supabase:",e)}const mE=N.createContext(void 0);function wM({children:e}){const[t,r]=N.useState(null),[n,a]=N.useState(!0);N.useEffect(()=>{i()},[]);const i=async()=>{var l;try{if(X){const{data:{session:c}}=await X.auth.getSession();if(c!=null&&c.user){const{data:d,error:f}=await X.from("users").select("*").eq("id",c.user.id).single();if(d&&!f){const h=((l=d.role)==null?void 0:l.trim())||d.role;console.log("=== USER DATA LOADED ==="),console.log("User data from database:",d),console.log("Role value (raw):",JSON.stringify(d.role)),console.log("Role value (trimmed):",JSON.stringify(h)),console.log("Role type:",typeof h),console.log("Is admin?",h==="admin"),console.log("========================"),r({id:d.id,email:d.email,name:d.name,role:h})}}}else{const c=localStorage.getItem("auth_user");c&&r(JSON.parse(c))}}catch(c){console.error("Error checking auth:",c)}finally{a(!1)}},o=async(l,c)=>{var d;try{if(X){const{data:f,error:h}=await X.auth.signInWithPassword({email:l,password:c});if(h)return{success:!1,error:h.message};if(f.user){const{data:p,error:m}=await X.from("users").select("*").eq("id",f.user.id).single();if(console.log("=== USER QUERY DEBUG ==="),console.log("User ID from auth:",f.user.id),console.log("User email from auth:",f.user.email),console.log("Query result - userData:",p),console.log("Query result - userError:",m),m&&(console.log("Error code:",m.code),console.log("Error message:",m.message),console.log("Error details:",JSON.stringify(m,null,2))),console.log("========================"),m)return{success:!1,error:`Database error: ${m.message||"Unknown error"}. Code: ${m.code||"N/A"}`};if(p){const y=((d=p.role)==null?void 0:d.trim())||p.role,v={id:p.id,email:p.email,name:p.name,role:y};return r(v),{success:!0}}else return{success:!1,error:"User not found in database"}}}else{const h=JSON.parse(localStorage.getItem("auth_users")||"[]").find(p=>p.email===l&&p.password===c);if(h){const p={id:h.id,email:h.email,name:h.name,role:h.role};return r(p),localStorage.setItem("auth_user",JSON.stringify(p)),{success:!0}}else return{success:!1,error:"Invalid email or password"}}return{success:!1,error:"Login failed"}}catch(f){return console.error("Login error:",f),{success:!1,error:f.message||"Login failed"}}},s=async()=>{try{X&&await X.auth.signOut(),localStorage.removeItem("auth_user"),r(null)}catch(l){console.error("Logout error:",l)}};return u.jsx(mE.Provider,{value:{user:t,loading:n,login:o,logout:s},children:e})}function ka(){const e=N.useContext(mE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function _M({children:e}){const{user:t,loading:r}=ka();return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-gray-600",children:"Loading..."})}):t?u.jsx(u.Fragment,{children:e}):u.jsx(WN,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,...c},d)=>N.createElement("svg",{ref:d,...jM,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${SM(e)}`,s].join(" "),...c},[...t.map(([f,h])=>N.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=he("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=he("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=he("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=he("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=he("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BM="modulepreload",FM=function(e){return"/"+e},cw={},wE=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=FM(l),l in cw)return;cw[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":BM,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};X||console.error(" Supabase is not configured. Please set up your .env file with Supabase credentials.");const La=e=>({id:e.id,name:e.name,address:e.address,addressLine2:e.address_line_2,city:e.city,country:e.country,images:e.images||[],createdAt:new Date(e.created_at),shortCode:e.short_code,state:e.state,postalCode:e.postal_code,notes:e.notes,isActive:e.is_active??!0}),Ua=e=>({id:e.id,propertyId:e.property_id,unitNumber:e.unit_number,type:e.type,floor:e.floor,bedrooms:e.bedrooms,bathrooms:e.bathrooms,squareFeet:e.square_feet,monthlyRent:parseFloat(e.monthly_rent)||0,isOccupied:e.is_occupied,images:e.images||[],notes:e.notes,createdAt:new Date(e.created_at)}),Ba=e=>({id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,secondaryPhone:e.secondary_phone,whatsappNumber:e.whatsapp_number,secondaryWhatsappNumber:e.secondary_whatsapp_number,nationalId:e.national_id,emergencyContact:e.emergency_contact,emergencyPhone:e.emergency_phone,createdAt:new Date(e.created_at),idType:e.id_type,idNumber:e.id_number,idExpiryDate:e.id_expiry_date?new Date(e.id_expiry_date):void 0,billingAddress:e.billing_address,paymentMethod:e.payment_method,notificationPreference:e.notification_preference,notes:e.notes}),Ms=e=>({id:e.id,tenantId:e.tenant_id,unitId:e.unit_id,startDate:new Date(e.start_date),endDate:new Date(e.end_date),monthlyRent:parseFloat(e.monthly_rent)||0,securityDeposit:parseFloat(e.security_deposit)||0,paymentFrequency:e.payment_frequency,numberOfInstallments:e.number_of_installments,status:e.status,reminderPeriod:e.reminder_period,notes:e.notes,createdAt:new Date(e.created_at),contractNumber:e.contract_number,dueDateDay:e.due_date_day,attachments:e.attachments||[]}),Cp=e=>({id:e.id,contractId:e.contract_id,invoiceNumber:e.invoice_number,installmentNumber:e.installment_number,dueDate:new Date(e.due_date),amount:parseFloat(e.amount)||0,paidAmount:parseFloat(e.paid_amount)||0,remainingAmount:parseFloat(e.remaining_amount)||0,status:e.status,sentDate:e.sent_date?new Date(e.sent_date):void 0,createdAt:new Date(e.created_at),notes:e.notes,adminStatus:e.admin_status,paymentType:e.payment_type}),Ui=e=>({id:e.id,invoiceId:e.invoice_id,amount:parseFloat(e.amount)||0,paymentDate:new Date(e.payment_date),paymentMethod:e.payment_method,referenceNumber:e.reference_number,notes:e.notes,createdAt:new Date(e.created_at)}),qM=e=>({id:e.id,contractId:e.contract_id,invoiceId:e.invoice_id,reminderDate:new Date(e.reminder_date),message:e.message,isDismissed:e.is_dismissed,createdAt:new Date(e.created_at)}),zM=e=>({name:e.name,address:e.address,address_line_2:e.addressLine2,city:e.city,country:e.country,images:e.images||[],short_code:e.shortCode,state:e.state,postal_code:e.postalCode,notes:e.notes,is_active:e.isActive??!0}),WM=e=>({property_id:e.propertyId,unit_number:e.unitNumber,type:e.type,floor:e.floor,bedrooms:e.bedrooms,bathrooms:e.bathrooms,square_feet:e.squareFeet,monthly_rent:e.monthlyRent,is_occupied:e.isOccupied,images:e.images||[],notes:e.notes}),VM=e=>{var t;return{first_name:e.firstName,last_name:e.lastName,email:e.email,phone:e.phone,secondary_phone:e.secondaryPhone,whatsapp_number:e.whatsappNumber,secondary_whatsapp_number:e.secondaryWhatsappNumber,national_id:e.nationalId,emergency_contact:e.emergencyContact,emergency_phone:e.emergencyPhone,id_type:e.idType,id_number:e.idNumber,id_expiry_date:(t=e.idExpiryDate)==null?void 0:t.toISOString().split("T")[0],billing_address:e.billingAddress,payment_method:e.paymentMethod,notification_preference:e.notificationPreference,notes:e.notes}},HM=e=>({tenant_id:e.tenantId,unit_id:e.unitId,contract_number:e.contractNumber,start_date:e.startDate.toISOString().split("T")[0],end_date:e.endDate.toISOString().split("T")[0],monthly_rent:e.monthlyRent,security_deposit:e.securityDeposit,payment_frequency:e.paymentFrequency,number_of_installments:e.numberOfInstallments,status:e.status,reminder_period:e.reminderPeriod,due_date_day:e.dueDateDay,notes:e.notes,attachments:e.attachments||[]}),GM=e=>{let t;const r=e.paymentDate;return r instanceof Date?t=r.toISOString().split("T")[0]:typeof r=="string"?t=r.split("T")[0]:t=new Date(r).toISOString().split("T")[0],{invoice_id:e.invoiceId,amount:Math.round(e.amount*100)/100,payment_date:t,payment_method:e.paymentMethod,reference_number:e.referenceNumber,notes:e.notes}},dw=e=>({id:e.id,requestType:e.request_type,requestedBy:e.requested_by,approvedBy:e.approved_by,status:e.status,entityType:e.entity_type,entityId:e.entity_id,requestData:e.request_data,rejectionReason:e.rejection_reason,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),approvedAt:e.approved_at?new Date(e.approved_at):void 0});class KM{checkSupabase(){return X?!0:(console.warn(" Supabase is not configured. Please set up your .env file."),!1)}async getProperties(){if(!this.checkSupabase())return[];const{data:t,error:r}=await X.from("properties").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching properties:",r),[]):t?t.map(La):[]}async getPropertyById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await X.from("properties").select("*").eq("id",t).single();return n?(console.error("Error fetching property:",n),null):La(r)}async createProperty(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await X.from("properties").insert(zM(t)).select().single();if(n)throw console.error("Error creating property:",n),n;return La(r)}async updateProperty(t,r){const n={};if(r.name!==void 0&&(n.name=r.name),r.address!==void 0&&(n.address=r.address),r.addressLine2!==void 0&&(n.address_line_2=r.addressLine2),r.city!==void 0&&(n.city=r.city),r.country!==void 0&&(n.country=r.country),r.images!==void 0&&(n.images=r.images),r.shortCode!==void 0&&(n.short_code=r.shortCode),r.state!==void 0&&(n.state=r.state),r.postalCode!==void 0&&(n.postal_code=r.postalCode),r.notes!==void 0&&(n.notes=r.notes),r.isActive!==void 0&&(n.is_active=r.isActive),!this.checkSupabase())return null;const{data:a,error:i}=await X.from("properties").update(n).eq("id",t).select().single();return i?(console.error("Error updating property:",i),null):La(a)}async deleteProperty(t){if(!this.checkSupabase())return!1;const{error:r}=await X.from("properties").delete().eq("id",t);return r?(console.error("Error deleting property:",r),!1):!0}async getUnits(t){if(!this.checkSupabase())return[];let r=X.from("units").select("*").order("created_at",{ascending:!1});t&&(r=r.eq("property_id",t));const{data:n,error:a}=await r;return a?(console.error("Error fetching units:",a),[]):n.map(Ua)}async getUnitById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await X.from("units").select("*").eq("id",t).single();return n?(console.error("Error fetching unit:",n),null):Ua(r)}async createUnit(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await X.from("units").insert(WM(t)).select().single();if(n)throw console.error("Error creating unit:",n),n;return Ua(r)}async updateUnit(t,r){const n={};if(r.propertyId!==void 0&&(n.property_id=r.propertyId),r.unitNumber!==void 0&&(n.unit_number=r.unitNumber),r.type!==void 0&&(n.type=r.type),r.floor!==void 0&&(n.floor=r.floor),r.bedrooms!==void 0&&(n.bedrooms=r.bedrooms),r.bathrooms!==void 0&&(n.bathrooms=r.bathrooms),r.squareFeet!==void 0&&(n.square_feet=r.squareFeet),r.monthlyRent!==void 0&&(n.monthly_rent=r.monthlyRent),r.isOccupied!==void 0&&(n.is_occupied=r.isOccupied),r.images!==void 0&&(n.images=r.images),r.notes!==void 0&&(n.notes=r.notes),!this.checkSupabase())return null;const{data:a,error:i}=await X.from("units").update(n).eq("id",t).select().single();return i?(console.error("Error updating unit:",i),null):Ua(a)}async deleteUnit(t){if(!this.checkSupabase())return!1;const{error:r}=await X.from("units").delete().eq("id",t);return r?(console.error("Error deleting unit:",r),!1):!0}async getTenants(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await X.from("tenants").select(`
        id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
        national_id, emergency_contact, emergency_phone, created_at,
        id_type, id_number, id_expiry_date, billing_address, payment_method, notification_preference, notes
      `).order("created_at",{ascending:!1}).range(t.from,t.to);return n?(console.error("Error fetching tenants:",n),[]):r.map(Ba)}async getTenantById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await X.from("tenants").select("*").eq("id",t).single();return n?(console.error("Error fetching tenant:",n),null):Ba(r)}async createTenant(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await X.from("tenants").insert(VM(t)).select().single();if(n)throw console.error("Error creating tenant:",n),n;return Ba(r)}async updateTenant(t,r){var o;const n={};if(r.firstName!==void 0&&(n.first_name=r.firstName),r.lastName!==void 0&&(n.last_name=r.lastName),r.email!==void 0&&(n.email=r.email),r.phone!==void 0&&(n.phone=r.phone),r.secondaryPhone!==void 0&&(n.secondary_phone=r.secondaryPhone),r.whatsappNumber!==void 0&&(n.whatsapp_number=r.whatsappNumber),r.secondaryWhatsappNumber!==void 0&&(n.secondary_whatsapp_number=r.secondaryWhatsappNumber),r.nationalId!==void 0&&(n.national_id=r.nationalId),r.emergencyContact!==void 0&&(n.emergency_contact=r.emergencyContact),r.emergencyPhone!==void 0&&(n.emergency_phone=r.emergencyPhone),r.idType!==void 0&&(n.id_type=r.idType),r.idNumber!==void 0&&(n.id_number=r.idNumber),r.idExpiryDate!==void 0&&(n.id_expiry_date=(o=r.idExpiryDate)==null?void 0:o.toISOString().split("T")[0]),r.billingAddress!==void 0&&(n.billing_address=r.billingAddress),r.paymentMethod!==void 0&&(n.payment_method=r.paymentMethod),r.notificationPreference!==void 0&&(n.notification_preference=r.notificationPreference),r.notes!==void 0&&(n.notes=r.notes),!this.checkSupabase())return null;const{data:a,error:i}=await X.from("tenants").update(n).eq("id",t).select().single();return i?(console.error("Error updating tenant:",i),null):Ba(a)}async deleteTenant(t){if(!this.checkSupabase())return!1;const{data:r}=await X.from("contracts").select("id").eq("tenant_id",t).limit(1);if(r&&r.length>0)return!1;const{error:n}=await X.from("tenants").delete().eq("id",t);return n?(console.error("Error deleting tenant:",n),!1):!0}async getContracts(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await X.from("contracts").select(`
        *,
        tenant:tenants(
          id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
          payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date, billing_address
        ),
        unit:units(
          id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
          property:properties(
            id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
          )
        )
      `).order("created_at",{ascending:!1}).range(t.from,t.to);return n?(console.error("Error fetching contracts:",n),[]):r.map(a=>{const i=Ms(a),o=Ba(a.tenant),s=Ua(a.unit),l=La(a.unit.property);return{...i,tenant:o,unit:s,property:l}}).filter(a=>a.tenant&&a.unit&&a.property)}async createContract(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");if(n!=="admin"&&r)try{return{success:!0,requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("contract_create","contract",t,r)).id,message:"Contract creation request submitted for approval"}}catch(s){return console.error("Error creating approval request:",s),{success:!1,message:s.message||"Failed to create approval request"}}if(t.status==="active"){const{data:s}=await X.from("contracts").select("id").eq("unit_id",t.unitId).eq("status","active").or(`and(start_date.lte.${t.endDate.toISOString().split("T")[0]},end_date.gte.${t.startDate.toISOString().split("T")[0]})`);if(s&&s.length>0)return{success:!1,message:"This unit already has an active contract for the selected dates."};const{data:l}=await X.from("contracts").select("id").eq("tenant_id",t.tenantId).eq("status","active").limit(1);if(l&&l.length>0)return{success:!1,message:"This tenant already has an active contract."}}const{data:a,error:i}=await X.from("contracts").insert(HM(t)).select().single();if(i)return console.error("Error creating contract:",i),{success:!1,message:i.message};const o=Ms(a);return t.status==="active"&&await this.generateInvoicesForContract(o),{success:!0,contract:o}}async terminateContract(t,r,n){if(!this.checkSupabase())return!1;if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("contract_terminate","contract",{contractId:t},r)).id,message:"Contract termination request submitted for approval"}}catch(o){return console.error("Error creating approval request:",o),!1}const{error:a}=await X.from("contracts").update({status:"terminated"}).eq("id",t);if(a)return console.error("Error terminating contract:",a),!1;const{data:i}=await X.from("contracts").select("unit_id").eq("id",t).single();return i&&(await X.from("units").update({is_occupied:!1}).eq("id",i.unit_id),await X.from("invoices").update({status:"cancelled"}).eq("contract_id",t).in("status",["pending","partial","overdue"])),!0}async updateContract(t,r,n,a){if(!this.checkSupabase())return null;const{data:i,error:o}=await X.from("contracts").select("status").eq("id",t).single();if(o||!i)return console.error("Error fetching contract:",o),null;if(i.status==="active"){if(r.status&&r.status!=="terminated")throw new Error("Active contracts cannot be edited. Only termination is allowed.");const f=["status"];if(Object.keys(r).some(m=>!f.includes(m))&&r.status!=="terminated")throw new Error("Active contracts cannot be edited. Only termination is allowed.")}if(i.status==="draft"&&r.status==="active"&&a!=="admin"&&n)throw new Error("Changing contract status to active requires admin approval");const s={};r.tenantId!==void 0&&(s.tenant_id=r.tenantId),r.unitId!==void 0&&(s.unit_id=r.unitId),r.contractNumber!==void 0&&(s.contract_number=r.contractNumber),r.startDate!==void 0&&(s.start_date=r.startDate.toISOString().split("T")[0]),r.endDate!==void 0&&(s.end_date=r.endDate.toISOString().split("T")[0]),r.monthlyRent!==void 0&&(s.monthly_rent=r.monthlyRent),r.securityDeposit!==void 0&&(s.security_deposit=r.securityDeposit),r.paymentFrequency!==void 0&&(s.payment_frequency=r.paymentFrequency),r.numberOfInstallments!==void 0&&(s.number_of_installments=r.numberOfInstallments),r.status!==void 0&&(s.status=r.status),r.reminderPeriod!==void 0&&(s.reminder_period=r.reminderPeriod),r.dueDateDay!==void 0&&(s.due_date_day=r.dueDateDay),r.notes!==void 0&&(s.notes=r.notes),r.attachments!==void 0&&(s.attachments=r.attachments||[]);const{data:l,error:c}=await X.from("contracts").update(s).eq("id",t).select().single();if(c)return console.error("Error updating contract:",c),null;const d=Ms(l);return i.status!=="active"&&r.status==="active"&&await this.generateInvoicesForContract(d),d}async generateInvoicesForContract(t){const{addMonths:r,differenceInMonths:n}=await wE(async()=>{const{addMonths:c,differenceInMonths:d}=await import("./index-B7v9SMXS.js");return{addMonths:c,differenceInMonths:d}},[]),a=n(t.endDate,t.startDate),i=t.monthlyRent*a;let o=1,s=t.monthlyRent;t.paymentFrequency==="1_payment"?(o=12,s=i):t.paymentFrequency==="2_payment"?(o=6,s=i/2):t.paymentFrequency==="3_payment"?(o=4,s=i/3):t.paymentFrequency==="4_payment"&&(o=3,s=i/4);const l=[];for(let c=0;c<t.numberOfInstallments;c++){const d=r(t.startDate,c*o);t.dueDateDay&&d.setDate(t.dueDateDay);const f=`INV-${t.id.slice(-4).toUpperCase()}-${String(c+1).padStart(3,"0")}`;l.push({contract_id:t.id,invoice_number:f,installment_number:c+1,due_date:d.toISOString().split("T")[0],amount:s,paid_amount:0,remaining_amount:s,status:"pending"})}if(l.length>0){if(!this.checkSupabase())return;const{error:c}=await X.from("invoices").insert(l);c&&console.error("Error generating invoices:",c)}}async getInvoices(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await X.from("invoices").select(`
        *,
        contract:contracts!inner(
          *,
          tenant:tenants(
            id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
            payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date
          ),
          unit:units(
            id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
            property:properties(
              id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
            )
          )
        )
      `).order("created_at",{ascending:!1}).range(t.from,t.to);if(n)return console.error("Error fetching invoices:",n),[];const a=r.map(s=>s.id),{data:i}=await X.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").in("invoice_id",a),o=new Map;return i&&i.forEach(s=>{o.has(s.invoice_id)||o.set(s.invoice_id,[]),o.get(s.invoice_id).push(Ui(s))}),r.map(s=>{if(!s.contract||!s.contract.tenant||!s.contract.unit||!s.contract.unit.property)return null;const l=Cp(s),c=Ms(s.contract),d=Ba(s.contract.tenant),f=Ua(s.contract.unit),h=La(s.contract.unit.property),p=o.get(l.id)||[];return{...l,contract:c,tenant:d,unit:f,property:h,payments:p}}).filter(s=>s!==null)}async getInvoicesByDateRange(t,r,n={from:0,to:199}){if(!this.checkSupabase())return[];const{data:a,error:i}=await X.from("invoices").select(`
        *,
        contract:contracts!inner(
          *,
          tenant:tenants(
            id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
            payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date
          ),
          unit:units(
            id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
            property:properties(
              id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
            )
          )
        )
      `).gte("due_date",t.toISOString().split("T")[0]).lte("due_date",r.toISOString().split("T")[0]).order("due_date",{ascending:!0}).range(n.from,n.to);if(i)return console.error("Error fetching invoices by date range:",i),[];const o=a.map(c=>c.id),{data:s}=await X.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").in("invoice_id",o),l=new Map;return s&&s.forEach(c=>{l.has(c.invoice_id)||l.set(c.invoice_id,[]),l.get(c.invoice_id).push(Ui(c))}),a.map(c=>{if(!c.contract||!c.contract.tenant||!c.contract.unit||!c.contract.unit.property)return null;const d=Cp(c),f=Ms(c.contract),h=Ba(c.contract.tenant),p=Ua(c.contract.unit),m=La(c.contract.unit.property),y=l.get(d.id)||[];return{...d,contract:f,tenant:h,unit:p,property:m,payments:y}}).filter(c=>c!==null)}async updateInvoice(t,r){var o;if(!this.checkSupabase())return null;const n={};r.paidAmount!==void 0&&(n.paid_amount=r.paidAmount),r.remainingAmount!==void 0&&(n.remaining_amount=r.remainingAmount),r.status!==void 0&&(n.status=r.status),r.adminStatus!==void 0&&(n.admin_status=r.adminStatus),r.paymentType!==void 0&&(n.payment_type=r.paymentType),r.sentDate!==void 0&&(n.sent_date=(o=r.sentDate)==null?void 0:o.toISOString().split("T")[0]),r.notes!==void 0&&(n.notes=r.notes);const{data:a,error:i}=await X.from("invoices").update(n).eq("id",t).select().single();return i?(console.error("Error updating invoice:",i),null):Cp(a)}async getPayments(t,r={from:0,to:199}){if(!this.checkSupabase())return[];let n=X.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").order("payment_date",{ascending:!1}).range(r.from,r.to);t&&(n=n.eq("invoice_id",t));const{data:a,error:i}=await n;return i?(console.error("Error fetching payments:",i),[]):a.map(Ui)}async createPayment(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:a,error:i}=await X.from("invoices").select("id, contract_id, installment_number, paid_amount, remaining_amount, amount, status").eq("id",t.invoiceId).single();if(i||!a)throw new Error("Invoice not found");const{data:o,error:s}=await X.from("invoices").select("id, installment_number, status, remaining_amount").eq("contract_id",a.contract_id).order("installment_number",{ascending:!0});if(s)console.error("Error fetching contract invoices:",s);else if(o){const h=o.filter(p=>p.installment_number<a.installment_number).find(p=>p.status!=="paid"||p.remaining_amount&&p.remaining_amount>.01);if(h)throw new Error(`Cannot create payment for installment ${a.installment_number}. Installment ${h.installment_number} must be fully paid first.`)}if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("payment_create","payment",t,r)).id,message:"Payment request submitted for approval"}}catch(f){throw console.error("Error creating approval request:",f),f}const{data:l,error:c}=await X.from("payments").insert(GM(t)).select().single();if(c)throw console.error("Error creating payment:",c),c;const{data:d}=await X.from("invoices").select("paid_amount, remaining_amount, amount").eq("id",t.invoiceId).single();if(d){const f=Math.round(((d.paid_amount||0)+t.amount)*100)/100,h=Math.round((d.amount-f)*100)/100;let p="pending";if(h<=.01){p="paid";const m=0,y=d.amount;await X.from("invoices").update({paid_amount:y,remaining_amount:m,status:p}).eq("id",t.invoiceId)}else f>0&&(p="partial",await X.from("invoices").update({paid_amount:f,remaining_amount:h,status:p}).eq("id",t.invoiceId))}return Ui(l)}async deletePayment(t,r,n){if(!this.checkSupabase())return!1;const{data:a,error:i}=await X.from("payments").select("*").eq("id",t).single();if(i||!a)return console.error("Error fetching payment:",i),!1;if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("payment_delete","payment",{paymentId:t,payment:Ui(a)},r)).id,message:"Payment deletion request submitted for approval"}}catch(c){return console.error("Error creating approval request:",c),!1}const{error:o}=await X.from("payments").delete().eq("id",t);if(o)return console.error("Error deleting payment:",o),!1;const s=Ui(a),{data:l}=await X.from("invoices").select("paid_amount, remaining_amount, amount").eq("id",s.invoiceId).single();if(l){const c=Math.round(Math.max(0,(l.paid_amount||0)-s.amount)*100)/100,d=Math.round((l.amount-c)*100)/100;let f="pending";if(d<=.01){f="paid";const h=0,p=l.amount;await X.from("invoices").update({paid_amount:p,remaining_amount:h,status:f}).eq("id",s.invoiceId)}else c>0?(f="partial",await X.from("invoices").update({paid_amount:c,remaining_amount:d,status:f}).eq("id",s.invoiceId)):(f="pending",await X.from("invoices").update({paid_amount:c,remaining_amount:d,status:f}).eq("id",s.invoiceId))}return!0}async createApprovalRequest(t,r,n,a){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:i,error:o}=await X.from("approval_requests").insert({request_type:t,requested_by:a,status:"pending",entity_type:r,request_data:n}).select().single();if(o)throw console.error("Error creating approval request:",o),o;return dw(i)}async getApprovalRequests(t,r){if(!this.checkSupabase())return[];console.log("=== FETCHING APPROVAL REQUESTS ==="),console.log("Status filter:",t),console.log("User ID filter:",r);let n=X.from("approval_requests").select("id, request_type, requested_by, approved_by, status, entity_type, entity_id, request_data, rejection_reason, created_at, updated_at, approved_at").order("created_at",{ascending:!1});t&&(n=n.eq("status",t)),r&&(n=n.eq("requested_by",r));const{data:a,error:i}=await n;if(console.log("Query result - data:",a),console.log("Query result - error:",i),i&&(console.error("Error fetching approval requests:",i),console.error("Error details:",JSON.stringify(i,null,2))),console.log("Number of requests found:",(a==null?void 0:a.length)||0),console.log("==================================="),i)return[];if(a&&a.length>0){const o=new Set;a.forEach(f=>{f.requested_by&&o.add(f.requested_by),f.approved_by&&o.add(f.approved_by)}),console.log("Fetching user names for IDs:",Array.from(o));const{data:s,error:l}=await X.from("users").select("id, name, email").in("id",Array.from(o));console.log("Users data fetched:",s),console.log("Users error:",l);const c=new Map((s||[]).map(f=>[f.id,f])),d=a.map(f=>{const h=c.get(f.requested_by),p=c.get(f.approved_by);return console.log(`Request ${f.id}: requested_by=${f.requested_by}, requester=${(h==null?void 0:h.name)||"NOT FOUND"}`),{...dw(f),requesterName:h==null?void 0:h.name,approverName:p==null?void 0:p.name}});return console.log("Final approval requests with names:",d),d}return[]}async approveRequest(t,r){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:n,error:a}=await X.from("approval_requests").select("*").eq("id",t).single();if(a||!n)return{success:!1,message:"Request not found"};if(n.status!=="pending")return{success:!1,message:"Request already processed"};let i=null;try{switch(n.request_type){case"contract_create":const s=await this.createContract(n.request_data,r,"admin");if(s.success&&s.contract)i=s.contract.id;else return{success:!1,message:s.message||"Failed to create contract"};break;case"contract_terminate":if(await this.terminateContract(n.request_data.contractId,r,"admin")===!0)i=n.request_data.contractId;else return{success:!1,message:"Failed to terminate contract"};break;case"payment_create":const c={...n.request_data,paymentDate:n.request_data.paymentDate instanceof Date?n.request_data.paymentDate:new Date(n.request_data.paymentDate)},d=await this.createPayment(c,r,"admin");if("id"in d)i=d.id;else return{success:!1,message:"Failed to create payment"};break;case"payment_delete":if(await this.deletePayment(n.request_data.paymentId,r,"admin")===!0)i=n.request_data.paymentId;else return{success:!1,message:"Failed to delete payment"};break;default:return{success:!1,message:"Unknown request type"}}const{error:o}=await X.from("approval_requests").update({status:"approved",approved_by:r,approved_at:new Date().toISOString(),entity_id:i}).eq("id",t);return o?(console.error("Error updating approval request:",o),{success:!1,message:"Failed to update approval status"}):{success:!0}}catch(o){return console.error("Error processing approval:",o),{success:!1,message:o.message||"Failed to process approval"}}}async rejectRequest(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{error:a}=await X.from("approval_requests").update({status:"rejected",approved_by:r,rejection_reason:n,updated_at:new Date().toISOString()}).eq("id",t);return a?(console.error("Error rejecting request:",a),{success:!1,message:a.message}):{success:!0}}async getReminders(){if(!this.checkSupabase())return[];const{data:t,error:r}=await X.from("reminders").select("*").eq("is_dismissed",!1).order("reminder_date",{ascending:!0});return r?(console.error("Error fetching reminders:",r),[]):t.map(qM)}async getActiveReminders(){const t=await this.getReminders(),r=new Date;return t.filter(n=>n.reminderDate?new Date(n.reminderDate)<=r:!1)}async dismissReminder(t){if(!this.checkSupabase())return!1;const{error:r}=await X.from("reminders").update({is_dismissed:!0}).eq("id",t);return r?(console.error("Error dismissing reminder:",r),!1):!0}async getDashboardStats(){const[t,r,n,a,i]=await Promise.all([this.getProperties(),this.getUnits(),this.getTenants(),this.getContracts(),this.getInvoices()]),o=a.filter(g=>g.status==="active"),s=new Set(o.map(g=>g.tenantId)).size,l=i.reduce((g,b)=>g+b.amount,0),c=i.reduce((g,b)=>g+b.paidAmount,0),d=i.filter(g=>g.status==="pending"||g.status==="partial").reduce((g,b)=>g+b.remainingAmount,0),f=i.filter(g=>g.status==="overdue").reduce((g,b)=>g+b.remainingAmount,0),h=i.filter(g=>{const b=new Date(g.dueDate);return g.status!=="paid"&&g.status!=="cancelled"&&b<new Date}),p=i.filter(g=>{const b=new Date(g.dueDate),x=new Date,j=new Date(x);return j.setDate(x.getDate()+7),g.status==="pending"&&b>=x&&b<=j}),m=r.filter(g=>g.isOccupied).length,y=r.length>0?m/r.length*100:0,v=l>0?c/l*100:0;return{totalProperties:t.length,totalUnits:r.length,occupiedUnits:m,vacantUnits:r.length-m,totalTenants:n.length,activeTenants:s,activeContracts:o.length,totalRevenue:l,collectedRevenue:c,pendingRevenue:d,overdueRevenue:f,overdueInvoices:h.length,upcomingInvoices:p.length,occupancyRate:y,collectionRate:v}}async getOverdueInvoices(){const t=await this.getInvoices(),r=new Date;return t.filter(n=>{const a=new Date(n.dueDate);return n.status!=="paid"&&n.status!=="cancelled"&&a<r})}async searchProperties(t){const r=await this.getProperties(),n=t.toLowerCase();return r.filter(a=>{var i;return a.name.toLowerCase().includes(n)||a.address.toLowerCase().includes(n)||a.city.toLowerCase().includes(n)||((i=a.shortCode)==null?void 0:i.toLowerCase().includes(n))})}async searchUnits(t){const r=await this.getUnits(),n=t.toLowerCase();return r.filter(a=>a.unitNumber.toLowerCase().includes(n)||a.type.toLowerCase().includes(n))}async searchTenants(t){const r=await this.getTenants(),n=t.toLowerCase();return r.filter(a=>{var i,o,s,l,c;return a.firstName.toLowerCase().includes(n)||a.lastName.toLowerCase().includes(n)||a.email.toLowerCase().includes(n)||a.phone.includes(t)||((i=a.whatsappNumber)==null?void 0:i.includes(t))||a.nationalId.toLowerCase().includes(n)||((o=a.idNumber)==null?void 0:o.toLowerCase().includes(n))||((s=a.emergencyContact)==null?void 0:s.toLowerCase().includes(n))||((l=a.emergencyPhone)==null?void 0:l.includes(t))||((c=a.billingAddress)==null?void 0:c.toLowerCase().includes(n))})}async searchContracts(t){const r=await this.getContracts(),n=t.toLowerCase();return r.filter(a=>{var l,c;const i=a.tenant,o=a.property,s=a.unit;return`${i.firstName} ${i.lastName}`.toLowerCase().includes(n)||o.name.toLowerCase().includes(n)||s.unitNumber.toLowerCase().includes(n)||((l=a.contractNumber)==null?void 0:l.toLowerCase().includes(n))||i.email.toLowerCase().includes(n)||i.phone.includes(t)||((c=i.whatsappNumber)==null?void 0:c.includes(t))||i.nationalId.toLowerCase().includes(n)})}async searchInvoices(t){const r=await this.getInvoices(),n=t.toLowerCase();return r.filter(a=>{var i;return a.invoiceNumber.toLowerCase().includes(n)||`${a.tenant.firstName} ${a.tenant.lastName}`.toLowerCase().includes(n)||a.unit.unitNumber.toLowerCase().includes(n)||a.property.name.toLowerCase().includes(n)||a.tenant.email.toLowerCase().includes(n)||a.tenant.phone.includes(t)||((i=a.tenant.whatsappNumber)==null?void 0:i.includes(t))})}async searchPayments(t){const r=await this.getPayments(),n=t.toLowerCase();return r.filter(a=>{var i;return((i=a.referenceNumber)==null?void 0:i.toLowerCase().includes(n))||a.paymentMethod.toLowerCase().includes(n)})}}const _E=new KM,YM=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:_E},Symbol.toStringTag,{value:"Module"})),jE=X!==null;jE?console.log(" Using Supabase for data storage"):console.warn(" Supabase not configured, using localStorage fallback");class XM{getStorageKey(t){return`tenant_tracking_${t}`}loadFromStorage(t){try{const r=localStorage.getItem(this.getStorageKey(t));return r?JSON.parse(r).map(n=>(["createdAt","startDate","endDate","dueDate","paymentDate","reminderDate","sentDate","idExpiryDate"].forEach(i=>{n[i]&&(n[i]=new Date(n[i]))}),n)):[]}catch{return[]}}saveToStorage(t,r){localStorage.setItem(this.getStorageKey(t),JSON.stringify(r))}async getProperties(){return this.loadFromStorage("properties")}async getUnits(){return this.loadFromStorage("units")}async getTenants(){return this.loadFromStorage("tenants")}async getContracts(){const t=this.loadFromStorage("contracts"),r=this.loadFromStorage("tenants"),n=this.loadFromStorage("units"),a=this.loadFromStorage("properties");return t.map(i=>{const o=r.find(c=>c.id===i.tenantId),s=n.find(c=>c.id===i.unitId),l=a.find(c=>c.id===(s==null?void 0:s.propertyId));return!o||!s||!l?null:{...i,tenant:o,unit:s,property:l}}).filter(i=>i!==null)}async getInvoices(){const t=this.loadFromStorage("invoices"),r=this.loadFromStorage("contracts"),n=this.loadFromStorage("tenants"),a=this.loadFromStorage("units"),i=this.loadFromStorage("properties"),o=this.loadFromStorage("payments");return t.map(s=>{const l=r.find(p=>p.id===s.contractId);if(!l)return null;const c=n.find(p=>p.id===l.tenantId),d=a.find(p=>p.id===l.unitId),f=i.find(p=>p.id===(d==null?void 0:d.propertyId)),h=o.filter(p=>p.invoiceId===s.id);return!c||!d||!f?null:{...s,contract:l,tenant:c,unit:d,property:f,payments:h}}).filter(s=>s!==null)}async getPayments(){return this.loadFromStorage("payments")}async getInvoicesByDateRange(t,r){return(await this.getInvoices()).filter(a=>{const i=new Date(a.dueDate);return i>=t&&i<=r})}async getDashboardStats(){const t=await this.getProperties(),r=await this.getUnits(),n=await this.getTenants(),a=await this.getContracts(),i=await this.getInvoices(),o=a.filter(g=>g.status==="active"),s=new Set(o.map(g=>g.tenantId)).size,l=i.reduce((g,b)=>g+b.amount,0),c=i.reduce((g,b)=>g+b.paidAmount,0),d=i.filter(g=>g.status==="pending"||g.status==="partial").reduce((g,b)=>g+b.remainingAmount,0),f=i.filter(g=>g.status==="overdue").reduce((g,b)=>g+b.remainingAmount,0),h=i.filter(g=>{const b=new Date(g.dueDate);return g.status!=="paid"&&g.status!=="cancelled"&&b<new Date}),p=i.filter(g=>{const b=new Date(g.dueDate),x=new Date,j=new Date(x);return j.setDate(x.getDate()+7),g.status==="pending"&&b>=x&&b<=j}),m=r.filter(g=>g.isOccupied).length,y=r.length>0?m/r.length*100:0,v=l>0?c/l*100:0;return{totalProperties:t.length,totalUnits:r.length,occupiedUnits:m,vacantUnits:r.length-m,totalTenants:n.length,activeTenants:s,activeContracts:o.length,totalRevenue:l,collectedRevenue:c,pendingRevenue:d,overdueRevenue:f,overdueInvoices:h.length,upcomingInvoices:p.length,occupancyRate:y,collectionRate:v}}async getOverdueInvoices(){const t=await this.getInvoices(),r=new Date;return t.filter(n=>{const a=new Date(n.dueDate);return n.status!=="paid"&&n.status!=="cancelled"&&a<r})}getActiveReminders(){const t=this.loadFromStorage("reminders"),r=new Date;return t.filter(n=>n.isDismissed||!n.reminderDate?!1:new Date(n.reminderDate)<=r)}async dismissReminder(t){const n=this.loadFromStorage("reminders").map(a=>a.id===t?{...a,dismissed:!0}:a);return this.saveToStorage("reminders",n),!0}async createContract(t,r,n){const a=this.loadFromStorage("contracts"),i={...t,id:crypto.randomUUID(),createdAt:new Date};return a.push(i),this.saveToStorage("contracts",a),{success:!0,contract:i}}async terminateContract(t,r,n){const a=this.loadFromStorage("contracts"),i=a.find(c=>c.id===t);if(!i)return!1;i.status="terminated",this.saveToStorage("contracts",a);const o=this.loadFromStorage("units"),s=o.find(c=>c.id===i.unitId);s&&(s.isOccupied=!1,this.saveToStorage("units",o));const l=this.loadFromStorage("invoices");return l.forEach(c=>{c.contractId===t&&["pending","partial","overdue"].includes(c.status)&&(c.status="cancelled")}),this.saveToStorage("invoices",l),!0}async updateContract(t,r,n,a){const i=this.loadFromStorage("contracts"),o=i.find(s=>s.id===t);if(!o)return null;if(o.status==="active"&&r.status!=="terminated"){const s=["status"];if(Object.keys(r).some(d=>!s.includes(d)))throw new Error("Active contracts cannot be edited. Only termination is allowed.")}return Object.assign(o,r),this.saveToStorage("contracts",i),o}async createPayment(t,r,n){const a=this.loadFromStorage("payments"),i={...t,id:crypto.randomUUID(),createdAt:new Date};a.push(i),this.saveToStorage("payments",a);const o=this.loadFromStorage("invoices"),s=o.find(l=>l.id===t.invoiceId);if(s){const l=Math.round(((s.paidAmount||0)+t.amount)*100)/100,c=Math.round((s.amount-l)*100)/100;s.paidAmount=l,s.remainingAmount=c,c<=.01?(s.status="paid",s.remainingAmount=0,s.paidAmount=s.amount):l>0&&(s.status=s.status==="pending"?"partial":s.status),this.saveToStorage("invoices",o)}return i}async deletePayment(t,r,n){const a=this.loadFromStorage("payments"),i=a.find(c=>c.id===t);if(!i)return!1;const o=a.filter(c=>c.id!==t);this.saveToStorage("payments",o);const s=this.loadFromStorage("invoices"),l=s.find(c=>c.id===i.invoiceId);return l&&(l.paidAmount=Math.max(0,(l.paidAmount||0)-i.amount),l.remainingAmount=l.amount-l.paidAmount,l.remainingAmount<=0?l.status="paid":l.paidAmount>0?l.status="partial":l.status="pending",this.saveToStorage("invoices",s)),!0}async updateInvoice(t,r){const n=this.loadFromStorage("invoices"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("invoices",n),a):null}async createTenant(t){const r=this.loadFromStorage("tenants"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("tenants",r),n}async createProperty(t){const r=this.loadFromStorage("properties"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("properties",r),n}async updateProperty(t,r){const n=this.loadFromStorage("properties"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("properties",n),a):null}async deleteProperty(t){if(this.loadFromStorage("units").some(o=>o.propertyId===t))return!1;const i=this.loadFromStorage("properties").filter(o=>o.id!==t);return this.saveToStorage("properties",i),!0}async createUnit(t){const r=this.loadFromStorage("units"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("units",r),n}async updateUnit(t,r){const n=this.loadFromStorage("units"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("units",n),a):null}async deleteUnit(t){if(this.loadFromStorage("contracts").some(o=>o.unitId===t))return!1;const i=this.loadFromStorage("units").filter(o=>o.id!==t);return this.saveToStorage("units",i),!0}async updateTenant(t,r){const n=this.loadFromStorage("tenants"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("tenants",n),a):null}async deleteTenant(t){if(this.loadFromStorage("contracts").some(o=>o.tenantId===t))return!1;const i=this.loadFromStorage("tenants").filter(o=>o.id!==t);return this.saveToStorage("tenants",i),!0}async getApprovalRequests(t,r){return[]}async approveRequest(t,r){return{success:!1,message:"Approval system requires Supabase"}}async rejectRequest(t,r,n){return{success:!1,message:"Approval system requires Supabase"}}}const le=jE?_E:new XM;function SE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=SE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=SE(e))&&(n&&(n+=" "),n+=t);return n}const s0="-",JM=e=>{const t=ZM(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(s0);return s[0]===""&&s.length!==1&&s.shift(),OE(s,t)||QM(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},OE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?OE(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(s0);return(o=t.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},fw=/^\[(.+)\]$/,QM=e=>{if(fw.test(e)){const t=fw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ZM=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return t3(Object.entries(e.classGroups),r).forEach(([i,o])=>{jg(o,n,i,t)}),n},jg=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:hw(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(e3(a)){jg(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{jg(o,hw(t,i),r,n)})})},hw=(e,t)=>{let r=e;return t.split(s0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},e3=e=>e.isThemeGetter,t3=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[r,a]}):e,r3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},NE="!",n3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=s=>{const l=[];let c=0,d=0,f;for(let v=0;v<s.length;v++){let g=s[v];if(c===0){if(g===a&&(n||s.slice(v,v+i)===t)){l.push(s.slice(d,v)),d=v+i;continue}if(g==="/"){f=v;continue}}g==="["?c++:g==="]"&&c--}const h=l.length===0?s:s.substring(d),p=h.startsWith(NE),m=p?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}};return r?s=>r({className:s,parseClassName:o}):o},a3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},i3=e=>({cache:r3(e.cacheSize),parseClassName:n3(e),...JM(e)}),o3=/\s+/,s3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(o3);let s="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let m=!!p,y=n(m?h.substring(0,p):h);if(!y){if(!m){s=c+(s.length>0?" "+s:s);continue}if(y=n(h),!y){s=c+(s.length>0?" "+s:s);continue}m=!1}const v=a3(d).join(":"),g=f?v+NE:v,b=g+y;if(i.includes(b))continue;i.push(b);const x=a(y,m);for(let j=0;j<x.length;++j){const w=x[j];i.push(g+w)}s=c+(s.length>0?" "+s:s)}return s};function l3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=PE(t))&&(n&&(n+=" "),n+=r);return n}const PE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=PE(e[n]))&&(r&&(r+=" "),r+=t);return r};function u3(e,...t){let r,n,a,i=o;function o(l){const c=t.reduce((d,f)=>f(d),e());return r=i3(c),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const c=n(l);if(c)return c;const d=s3(l,r);return a(l,d),d}return function(){return i(l3.apply(null,arguments))}}const Be=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EE=/^\[(?:([a-z-]+):)?(.+)\]$/i,c3=/^\d+\/\d+$/,d3=new Set(["px","full","screen"]),f3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,m3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,g3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=e=>vo(e)||d3.has(e)||c3.test(e),Vn=e=>ps(e,"length",S3),vo=e=>!!e&&!Number.isNaN(Number(e)),$p=e=>ps(e,"number",vo),Ls=e=>!!e&&Number.isInteger(Number(e)),y3=e=>e.endsWith("%")&&vo(e.slice(0,-1)),pe=e=>EE.test(e),Hn=e=>f3.test(e),v3=new Set(["length","size","percentage"]),b3=e=>ps(e,v3,AE),x3=e=>ps(e,"position",AE),w3=new Set(["image","url"]),_3=e=>ps(e,w3,N3),j3=e=>ps(e,"",O3),Us=()=>!0,ps=(e,t,r)=>{const n=EE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},S3=e=>h3.test(e)&&!p3.test(e),AE=()=>!1,O3=e=>m3.test(e),N3=e=>g3.test(e),P3=()=>{const e=Be("colors"),t=Be("spacing"),r=Be("blur"),n=Be("brightness"),a=Be("borderColor"),i=Be("borderRadius"),o=Be("borderSpacing"),s=Be("borderWidth"),l=Be("contrast"),c=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),h=Be("gap"),p=Be("gradientColorStops"),m=Be("gradientColorStopPositions"),y=Be("inset"),v=Be("margin"),g=Be("opacity"),b=Be("padding"),x=Be("saturate"),j=Be("scale"),w=Be("sepia"),_=Be("skew"),S=Be("space"),P=Be("translate"),k=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",pe,t],T=()=>[pe,t],M=()=>["",dn,Vn],C=()=>["auto",vo,pe],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",pe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[vo,pe];return{cacheSize:500,separator:":",theme:{colors:[Us],spacing:[dn,Vn],blur:["none","",Hn,pe],brightness:z(),borderColor:[e],borderRadius:["none","","full",Hn,pe],borderSpacing:T(),borderWidth:M(),contrast:z(),grayscale:L(),hueRotate:z(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[y3,Vn],inset:E(),margin:E(),opacity:z(),padding:T(),saturate:z(),scale:z(),sepia:L(),skew:z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Hn]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),pe]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ls,pe]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ls,pe]}],"grid-cols":[{"grid-cols":[Us]}],"col-start-end":[{col:["auto",{span:["full",Ls,pe]},pe]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Us]}],"row-start-end":[{row:["auto",{span:[Ls,pe]},pe]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,t]}],"min-w":[{"min-w":[pe,t,"min","max","fit"]}],"max-w":[{"max-w":[pe,t,"none","full","min","max","fit","prose",{screen:[Hn]},Hn]}],h:[{h:[pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hn,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$p]}],"font-family":[{font:[Us]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",vo,$p]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,Vn]}],"underline-offset":[{"underline-offset":["auto",dn,pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),x3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[dn,pe]}],"outline-w":[{outline:[dn,Vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[dn,Vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hn,j3]}],"shadow-color":[{shadow:[Us]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hn,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ls,pe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dn,Vn,$p]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E3=u3(P3);function bt(...e){return E3(me(e))}function Ge(e){return`AED ${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function Xt(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}function zl(e){return{active:"bg-success-100 text-success-700",pending:"bg-warning-100 text-warning-700",paid:"bg-success-100 text-success-700",partial:"bg-primary-100 text-primary-700",overdue:"bg-danger-100 text-danger-700",expired:"bg-gray-100 text-gray-700",terminated:"bg-gray-100 text-gray-700",cancelled:"bg-gray-100 text-gray-700",draft:"bg-gray-100 text-gray-700"}[e]||"bg-gray-100 text-gray-700"}function kE(e,t){let r=e.replace(/[^0-9+]/g,"");r.startsWith("+")||(r=r.replace(/^0+/,""),r.startsWith("971")||(r="971"+r),r="+"+r);const n=encodeURIComponent(t);return`https://wa.me/${r.replace("+","")}?text=${n}`}function TE(e,t,r){const n=encodeURIComponent(t),a=encodeURIComponent(r);return`mailto:${e}?subject=${n}&body=${a}`}function A3(){return X?null:u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 m-4 rounded",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(hr,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm text-yellow-700",children:[u.jsx("strong",{children:"Supabase not configured."})," Please create a ",u.jsx("code",{children:".env"})," file with your Supabase credentials. See ",u.jsx("code",{children:"SUPABASE_SETUP.md"})," for instructions."]})})]})})}const k3=[{name:"Dashboard",href:"/dashboard",icon:IM},{name:"Properties",href:"/properties",icon:Sn},{name:"Tenants",href:"/tenants",icon:Io},{name:"Contracts",href:"/contracts",icon:sa},{name:"Invoices",href:"/invoices",icon:Ed},{name:"Payments",href:"/payments",icon:Ad},{name:"Calendar",href:"/calendar",icon:On},{name:"Approvals",href:"/approvals",icon:ja,adminOnly:!0}];function T3(){const e=cs(),t=Tu(),{user:r,logout:n}=ka(),[a,i]=N.useState([]);N.useEffect(()=>{o();const l=setInterval(o,6e4);return()=>clearInterval(l)},[]);const o=async()=>{try{if(typeof le.getActiveReminders=="function"){const l=le.getActiveReminders();if(l instanceof Promise){const c=await l;i(c)}else i(l)}}catch(l){console.error("Error loading reminders:",l),i([])}},s=async l=>{try{await le.dismissReminder(l),o()}catch(c){console.error("Error dismissing reminder:",c)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(A3,{}),u.jsx("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center h-16 px-6 border-b border-gray-200",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3",children:u.jsx(Sn,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:"PropTrack"})]}),u.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:k3.map(l=>{var d;if(l.adminOnly&&console.log("Checking Approvals access:",{user:r,role:r==null?void 0:r.role,isAdmin:(r==null?void 0:r.role)==="admin",roleType:typeof(r==null?void 0:r.role),roleValue:JSON.stringify(r==null?void 0:r.role)}),l.adminOnly&&((d=r==null?void 0:r.role)==null?void 0:d.trim())!=="admin")return null;const c=e.pathname===l.href;return u.jsxs(mn,{to:l.href,className:bt("flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors",c?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[u.jsx(l.icon,{className:"w-5 h-5 mr-3"}),l.name]},l.name)})}),u.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[r&&u.jsxs("div",{className:"px-3 py-2 text-xs text-gray-600",children:[u.jsx("div",{className:"font-medium text-gray-900",children:r.name}),u.jsx("div",{className:"text-gray-500",children:r.email})]}),u.jsxs(mn,{to:"/password",className:bt("w-full flex items-center px-3 py-2 text-sm rounded-lg transition-colors",e.pathname==="/password"?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50"),children:[u.jsx(pl,{className:"w-4 h-4 mr-3"}),"Password"]}),u.jsxs("button",{onClick:async()=>{await n(),t("/login")},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[u.jsx(DM,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})]})}),u.jsxs("div",{className:"pl-64",children:[a.length>0&&u.jsx("div",{className:"fixed top-4 right-4 z-50 w-96 max-h-[80vh] overflow-y-auto space-y-2",children:a.map(l=>u.jsx("div",{className:"bg-warning-50 border-l-4 border-warning-500 p-4 rounded-lg shadow-lg animate-pulse",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(PM,{className:"w-5 h-5 text-warning-600 mt-0.5 mr-3 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-warning-900",children:"Payment Reminder"}),u.jsx("p",{className:"text-sm text-warning-700 mt-1",children:l.message})]}),u.jsx("button",{onClick:()=>s(l.id),className:"ml-3 flex-shrink-0 text-warning-600 hover:text-warning-900",children:u.jsx(Dt,{className:"w-5 h-5"})})]})},l.id))}),u.jsx("main",{className:"min-h-screen",children:u.jsx(zI,{})})]})]})}function C3(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(""),[o,s]=N.useState(!1),[l,c]=N.useState(!1),[d,f]=N.useState(""),[h,p]=N.useState(!1),[m,y]=N.useState(""),[v,g]=N.useState(!1),{login:b}=ka(),x=Tu(),j=async _=>{_.preventDefault(),i(""),s(!0);try{const S=await b(e,r);S.success?x("/dashboard"):i(S.error||"Login failed")}catch(S){i(S.message||"An error occurred during login")}finally{s(!1)}},w=async _=>{_.preventDefault(),y(""),g(!1),p(!0);try{if(!X){y("Supabase is not configured");return}const{error:S}=await X.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/reset-password`});if(S){y(S.message||"Failed to send reset email");return}g(!0)}catch(S){y(S.message||"An error occurred")}finally{p(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[u.jsxs("div",{className:"flex items-center justify-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center mr-4",children:u.jsx(Sn,{className:"w-10 h-10 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"PropTrack"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Property Management System"})]})]}),l?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("button",{onClick:()=>{c(!1),f(""),y(""),g(!1)},className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[u.jsx(OM,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),u.jsxs("form",{onSubmit:w,className:"space-y-6",children:[m&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-red-700",children:m})]}),v&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(ja,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-green-700",children:[u.jsx("p",{className:"font-medium",children:"Reset email sent!"}),u.jsx("p",{className:"mt-1",children:"Check your inbox for a password reset link."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"email",value:d,onChange:_=>f(_.target.value),required:!0,disabled:v,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-50",placeholder:"Enter your email"})]})]}),u.jsx("button",{type:"submit",disabled:h||v,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Sending...":v?"Email Sent!":"Send Reset Link"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-red-700",children:a})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"email",value:e,onChange:_=>t(_.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",value:r,onChange:_=>n(_.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),u.jsx("div",{className:"flex items-center justify-end",children:u.jsx("button",{type:"button",onClick:()=>c(!0),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"Forgot Password?"})}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Logging in...":"Sign In"})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("p",{className:"text-sm text-gray-600",children:"Contact your administrator for access"})})]})]})})}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function rr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function rt(e){ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||kd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function CE(e,t){ke(2,arguments);var r=rt(e),n=rr(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Td(e,t){ke(2,arguments);var r=rt(e),n=rr(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function $3(e,t){ke(2,arguments);var r=rt(e).getTime(),n=rr(t);return new Date(r+n)}var I3={};function ms(){return I3}function pw(e,t){var r,n,a,i,o,s;ke(1,arguments);var l=ms(),c=rr((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=rt(e),f=d.getDay(),h=(f<c?7:0)+f-c;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function D3(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function mw(e){ke(1,arguments);var t=rt(e);return t.setHours(0,0,0,0),t}function R3(e,t){ke(2,arguments);var r=rr(t);return Td(e,r*12)}function Sg(e,t){ke(2,arguments);var r=mw(e),n=mw(t);return r.getTime()===n.getTime()}function M3(e){return ke(1,arguments),e instanceof Date||kd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function L3(e){if(ke(1,arguments),!M3(e)&&typeof e!="number")return!1;var t=rt(e);return!isNaN(Number(t))}function ml(e){ke(1,arguments);var t=rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xn(e){ke(1,arguments);var t=rt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function gw(e,t){var r,n,a,i,o,s;ke(1,arguments);var l=ms(),c=rr((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=rt(e),f=d.getDay(),h=(f<c?-7:0)+6-(f-c);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function U3(e,t){ke(2,arguments);var r=rr(t);return $3(e,-r)}var B3=864e5;function F3(e){ke(1,arguments);var t=rt(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/B3)+1}function Cd(e){ke(1,arguments);var t=1,r=rt(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function $E(e){ke(1,arguments);var t=rt(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Cd(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=Cd(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function q3(e){ke(1,arguments);var t=$E(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Cd(r);return n}var z3=6048e5;function W3(e){ke(1,arguments);var t=rt(e),r=Cd(t).getTime()-q3(t).getTime();return Math.round(r/z3)+1}function $d(e,t){var r,n,a,i,o,s,l,c;ke(1,arguments);var d=ms(),f=rr((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=rt(e),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function IE(e,t){var r,n,a,i,o,s,l,c;ke(1,arguments);var d=rt(e),f=d.getUTCFullYear(),h=ms(),p=rr((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var y=$d(m,t),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var g=$d(v,t);return d.getTime()>=y.getTime()?f+1:d.getTime()>=g.getTime()?f:f-1}function V3(e,t){var r,n,a,i,o,s,l,c;ke(1,arguments);var d=ms(),f=rr((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=IE(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=$d(p,t);return m}var H3=6048e5;function G3(e,t){ke(1,arguments);var r=rt(e),n=$d(r,t).getTime()-V3(r,t).getTime();return Math.round(n/H3)+1}function Pe(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Gn={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Pe(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Pe(n+1,2)},d:function(t,r){return Pe(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Pe(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Pe(t.getUTCHours(),r.length)},m:function(t,r){return Pe(t.getUTCMinutes(),r.length)},s:function(t,r){return Pe(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Pe(i,r.length)}},Bi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K3={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Gn.y(t,r)},Y:function(t,r,n,a){var i=IE(t,a),o=i>0?i:1-i;if(r==="YY"){var s=o%100;return Pe(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Pe(o,r.length)},R:function(t,r){var n=$E(t);return Pe(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Pe(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Pe(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Pe(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Gn.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Pe(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=G3(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Pe(i,r.length)},I:function(t,r,n){var a=W3(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Pe(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Gn.d(t,r)},D:function(t,r,n){var a=F3(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Pe(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Pe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Pe(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Pe(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Bi.noon:a===0?i=Bi.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Bi.evening:a>=12?i=Bi.afternoon:a>=4?i=Bi.morning:i=Bi.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Gn.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Gn.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Pe(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Pe(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Gn.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Gn.s(t,r)},S:function(t,r){return Gn.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return vw(o);case"XXXX":case"XX":return Ya(o);case"XXXXX":case"XXX":default:return Ya(o,":")}},x:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return vw(o);case"xxxx":case"xx":return Ya(o);case"xxxxx":case"xxx":default:return Ya(o,":")}},O:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+yw(o,":");case"OOOO":default:return"GMT"+Ya(o,":")}},z:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+yw(o,":");case"zzzz":default:return"GMT"+Ya(o,":")}},t:function(t,r,n,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Pe(o,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,o=i.getTime();return Pe(o,r.length)}};function yw(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var o=t;return r+String(a)+o+Pe(i,2)}function vw(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Pe(Math.abs(e)/60,2)}return Ya(e,t)}function Ya(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Pe(Math.floor(a/60),2),o=Pe(a%60,2);return n+i+r+o}var bw=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},DE=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Y3=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return bw(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",bw(a,r)).replace("{{time}}",DE(i,r))},X3={p:DE,P:Y3},J3=["D","DD"],Q3=["YY","YYYY"];function Z3(e){return J3.indexOf(e)!==-1}function eL(e){return Q3.indexOf(e)!==-1}function xw(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var tL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rL=function(t,r,n){var a,i=tL[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Ip(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var nL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:Ip({formats:nL,defaultWidth:"full"}),time:Ip({formats:aL,defaultWidth:"full"}),dateTime:Ip({formats:iL,defaultWidth:"full"})},sL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lL=function(t,r,n,a){return sL[t]};function Bs(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var uL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mL=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gL={ordinalNumber:mL,era:Bs({values:uL,defaultWidth:"wide"}),quarter:Bs({values:cL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Bs({values:dL,defaultWidth:"wide"}),day:Bs({values:fL,defaultWidth:"wide"}),dayPeriod:Bs({values:hL,defaultWidth:"wide",formattingValues:pL,defaultFormattingWidth:"wide"})};function Fs(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?vL(s,function(f){return f.test(o)}):yL(s,function(f){return f.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var d=t.slice(o.length);return{value:c,rest:d}}}function yL(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function vL(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function bL(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var xL=/^(\d+)(th|st|nd|rd)?/i,wL=/\d+/i,_L={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jL={any:[/^b/i,/^(a|c)/i]},SL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OL={any:[/1/i,/2/i,/3/i,/4/i]},NL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CL={ordinalNumber:bL({matchPattern:xL,parsePattern:wL,valueCallback:function(t){return parseInt(t,10)}}),era:Fs({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:jL,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:SL,defaultMatchWidth:"wide",parsePatterns:OL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Fs({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),day:Fs({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:kL,defaultMatchWidth:"any",parsePatterns:TL,defaultParseWidth:"any"})},$L={code:"en-US",formatDistance:rL,formatLong:oL,formatRelative:lL,localize:gL,match:CL,options:{weekStartsOn:0,firstWeekContainsDate:1}},IL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RL=/^'([^]*?)'?$/,ML=/''/g,LL=/[a-zA-Z]/;function oi(e,t,r){var n,a,i,o,s,l,c,d,f,h,p,m,y,v;ke(2,arguments);var g=String(t),b=ms(),x=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:$L,j=rr((i=(o=(s=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&s!==void 0?s:b.firstWeekContainsDate)!==null&&o!==void 0?o:(c=b.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=rr((f=(h=(p=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(y=b.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var _=rt(e);if(!L3(_))throw new RangeError("Invalid time value");var S=D3(_),P=U3(_,S),k={firstWeekContainsDate:j,weekStartsOn:w,locale:x,_originalDate:_},$=g.match(DL).map(function(E){var T=E[0];if(T==="p"||T==="P"){var M=X3[T];return M(E,x.formatLong)}return E}).join("").match(IL).map(function(E){if(E==="''")return"'";var T=E[0];if(T==="'")return UL(E);var M=K3[T];if(M)return eL(E)&&xw(E,t,String(e)),Z3(E)&&xw(E,t,String(e)),M(P,E,x.localize,k);if(T.match(LL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return E}).join("");return $}function UL(e){var t=e.match(RL);return t?t[1].replace(ML,"'"):e}function ww(e,t){ke(2,arguments);var r=rt(e),n=rt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function BL(e){return ke(1,arguments),Sg(e,Date.now())}function _w(e,t){ke(2,arguments);var r=rt(e).getTime(),n=rt(t.start).getTime(),a=rt(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function FL(e,t){ke(2,arguments);var r=rr(t);return CE(e,-r)}function fn(e,t){ke(2,arguments);var r=rr(t);return Td(e,-r)}var qL=Array.isArray,nr=qL,zL=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr,RE=zL,WL=RE,VL=typeof self=="object"&&self&&self.Object===Object&&self,HL=WL||VL||Function("return this")(),on=HL,GL=on,KL=GL.Symbol,Iu=KL,jw=Iu,ME=Object.prototype,YL=ME.hasOwnProperty,XL=ME.toString,qs=jw?jw.toStringTag:void 0;function JL(e){var t=YL.call(e,qs),r=e[qs];try{e[qs]=void 0;var n=!0}catch{}var a=XL.call(e);return n&&(t?e[qs]=r:delete e[qs]),a}var QL=JL,ZL=Object.prototype,e5=ZL.toString;function t5(e){return e5.call(e)}var r5=t5,Sw=Iu,n5=QL,a5=r5,i5="[object Null]",o5="[object Undefined]",Ow=Sw?Sw.toStringTag:void 0;function s5(e){return e==null?e===void 0?o5:i5:Ow&&Ow in Object(e)?n5(e):a5(e)}var Bn=s5;function l5(e){return e!=null&&typeof e=="object"}var Fn=l5,u5=Bn,c5=Fn,d5="[object Symbol]";function f5(e){return typeof e=="symbol"||c5(e)&&u5(e)==d5}var gs=f5,h5=nr,p5=gs,m5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g5=/^\w*$/;function y5(e,t){if(h5(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||p5(e)?!0:g5.test(e)||!m5.test(e)||t!=null&&e in Object(t)}var l0=y5;function v5(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ta=v5;const ys=Ne(Ta);var b5=Bn,x5=Ta,w5="[object AsyncFunction]",_5="[object Function]",j5="[object GeneratorFunction]",S5="[object Proxy]";function O5(e){if(!x5(e))return!1;var t=b5(e);return t==_5||t==j5||t==w5||t==S5}var u0=O5;const ce=Ne(u0);var N5=on,P5=N5["__core-js_shared__"],E5=P5,Dp=E5,Nw=function(){var e=/[^.]+$/.exec(Dp&&Dp.keys&&Dp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function A5(e){return!!Nw&&Nw in e}var k5=A5,T5=Function.prototype,C5=T5.toString;function $5(e){if(e!=null){try{return C5.call(e)}catch{}try{return e+""}catch{}}return""}var LE=$5,I5=u0,D5=k5,R5=Ta,M5=LE,L5=/[\\^$.*+?()[\]{}|]/g,U5=/^\[object .+?Constructor\]$/,B5=Function.prototype,F5=Object.prototype,q5=B5.toString,z5=F5.hasOwnProperty,W5=RegExp("^"+q5.call(z5).replace(L5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V5(e){if(!R5(e)||D5(e))return!1;var t=I5(e)?W5:U5;return t.test(M5(e))}var H5=V5;function G5(e,t){return e==null?void 0:e[t]}var K5=G5,Y5=H5,X5=K5;function J5(e,t){var r=X5(e,t);return Y5(r)?r:void 0}var Ai=J5,Q5=Ai,Z5=Q5(Object,"create"),rh=Z5,Pw=rh;function e4(){this.__data__=Pw?Pw(null):{},this.size=0}var t4=e4;function r4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var n4=r4,a4=rh,i4="__lodash_hash_undefined__",o4=Object.prototype,s4=o4.hasOwnProperty;function l4(e){var t=this.__data__;if(a4){var r=t[e];return r===i4?void 0:r}return s4.call(t,e)?t[e]:void 0}var u4=l4,c4=rh,d4=Object.prototype,f4=d4.hasOwnProperty;function h4(e){var t=this.__data__;return c4?t[e]!==void 0:f4.call(t,e)}var p4=h4,m4=rh,g4="__lodash_hash_undefined__";function y4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=m4&&t===void 0?g4:t,this}var v4=y4,b4=t4,x4=n4,w4=u4,_4=p4,j4=v4;function vs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vs.prototype.clear=b4;vs.prototype.delete=x4;vs.prototype.get=w4;vs.prototype.has=_4;vs.prototype.set=j4;var S4=vs;function O4(){this.__data__=[],this.size=0}var N4=O4;function P4(e,t){return e===t||e!==e&&t!==t}var c0=P4,E4=c0;function A4(e,t){for(var r=e.length;r--;)if(E4(e[r][0],t))return r;return-1}var nh=A4,k4=nh,T4=Array.prototype,C4=T4.splice;function $4(e){var t=this.__data__,r=k4(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():C4.call(t,r,1),--this.size,!0}var I4=$4,D4=nh;function R4(e){var t=this.__data__,r=D4(t,e);return r<0?void 0:t[r][1]}var M4=R4,L4=nh;function U4(e){return L4(this.__data__,e)>-1}var B4=U4,F4=nh;function q4(e,t){var r=this.__data__,n=F4(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var z4=q4,W4=N4,V4=I4,H4=M4,G4=B4,K4=z4;function bs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bs.prototype.clear=W4;bs.prototype.delete=V4;bs.prototype.get=H4;bs.prototype.has=G4;bs.prototype.set=K4;var ah=bs,Y4=Ai,X4=on,J4=Y4(X4,"Map"),d0=J4,Ew=S4,Q4=ah,Z4=d0;function eU(){this.size=0,this.__data__={hash:new Ew,map:new(Z4||Q4),string:new Ew}}var tU=eU;function rU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var nU=rU,aU=nU;function iU(e,t){var r=e.__data__;return aU(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ih=iU,oU=ih;function sU(e){var t=oU(this,e).delete(e);return this.size-=t?1:0,t}var lU=sU,uU=ih;function cU(e){return uU(this,e).get(e)}var dU=cU,fU=ih;function hU(e){return fU(this,e).has(e)}var pU=hU,mU=ih;function gU(e,t){var r=mU(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var yU=gU,vU=tU,bU=lU,xU=dU,wU=pU,_U=yU;function xs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xs.prototype.clear=vU;xs.prototype.delete=bU;xs.prototype.get=xU;xs.prototype.has=wU;xs.prototype.set=_U;var f0=xs,UE=f0,jU="Expected a function";function h0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jU);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(h0.Cache||UE),r}h0.Cache=UE;var BE=h0;const SU=Ne(BE);var OU=BE,NU=500;function PU(e){var t=OU(e,function(n){return r.size===NU&&r.clear(),n}),r=t.cache;return t}var EU=PU,AU=EU,kU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TU=/\\(\\)?/g,CU=AU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kU,function(r,n,a,i){t.push(a?i.replace(TU,"$1"):n||r)}),t}),$U=CU;function IU(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var p0=IU,Aw=Iu,DU=p0,RU=nr,MU=gs,kw=Aw?Aw.prototype:void 0,Tw=kw?kw.toString:void 0;function FE(e){if(typeof e=="string")return e;if(RU(e))return DU(e,FE)+"";if(MU(e))return Tw?Tw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var LU=FE,UU=LU;function BU(e){return e==null?"":UU(e)}var qE=BU,FU=nr,qU=l0,zU=$U,WU=qE;function VU(e,t){return FU(e)?e:qU(e,t)?[e]:zU(WU(e))}var zE=VU,HU=gs;function GU(e){if(typeof e=="string"||HU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var oh=GU,KU=zE,YU=oh;function XU(e,t){t=KU(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[YU(t[r++])];return r&&r==n?e:void 0}var m0=XU,JU=m0;function QU(e,t,r){var n=e==null?void 0:JU(e,t);return n===void 0?r:n}var WE=QU;const dr=Ne(WE);function ZU(e){return e==null}var eB=ZU;const ye=Ne(eB);var tB=Bn,rB=nr,nB=Fn,aB="[object String]";function iB(e){return typeof e=="string"||!rB(e)&&nB(e)&&tB(e)==aB}var oB=iB;const wi=Ne(oB);var VE={exports:{}},Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=Symbol.for("react.element"),y0=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),ch=Symbol.for("react.provider"),dh=Symbol.for("react.context"),sB=Symbol.for("react.server_context"),fh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),mh=Symbol.for("react.memo"),gh=Symbol.for("react.lazy"),lB=Symbol.for("react.offscreen"),HE;HE=Symbol.for("react.module.reference");function Ar(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case g0:switch(e=e.type,e){case sh:case uh:case lh:case hh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case sB:case dh:case fh:case gh:case mh:case ch:return e;default:return t}}case y0:return t}}}Te.ContextConsumer=dh;Te.ContextProvider=ch;Te.Element=g0;Te.ForwardRef=fh;Te.Fragment=sh;Te.Lazy=gh;Te.Memo=mh;Te.Portal=y0;Te.Profiler=uh;Te.StrictMode=lh;Te.Suspense=hh;Te.SuspenseList=ph;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(e){return Ar(e)===dh};Te.isContextProvider=function(e){return Ar(e)===ch};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===g0};Te.isForwardRef=function(e){return Ar(e)===fh};Te.isFragment=function(e){return Ar(e)===sh};Te.isLazy=function(e){return Ar(e)===gh};Te.isMemo=function(e){return Ar(e)===mh};Te.isPortal=function(e){return Ar(e)===y0};Te.isProfiler=function(e){return Ar(e)===uh};Te.isStrictMode=function(e){return Ar(e)===lh};Te.isSuspense=function(e){return Ar(e)===hh};Te.isSuspenseList=function(e){return Ar(e)===ph};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sh||e===uh||e===lh||e===hh||e===ph||e===lB||typeof e=="object"&&e!==null&&(e.$$typeof===gh||e.$$typeof===mh||e.$$typeof===ch||e.$$typeof===dh||e.$$typeof===fh||e.$$typeof===HE||e.getModuleId!==void 0)};Te.typeOf=Ar;VE.exports=Te;var uB=VE.exports,cB=Bn,dB=Fn,fB="[object Number]";function hB(e){return typeof e=="number"||dB(e)&&cB(e)==fB}var GE=hB;const pB=Ne(GE);var mB=GE;function gB(e){return mB(e)&&e!=+e}var yB=gB;const Du=Ne(yB);var Ft=function(t){return t===0?0:t>0?1:-1},si=function(t){return wi(t)&&t.indexOf("%")===t.length-1},K=function(t){return pB(t)&&!Du(t)},vB=function(t){return ye(t)},pt=function(t){return K(t)||wi(t)},bB=0,Ru=function(t){var r=++bB;return"".concat(t||"").concat(r)},qt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(t)&&!wi(t))return n;var i;if(si(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Du(i)&&(i=n),a&&i>r&&(i=r),i},na=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},xB=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Jn=function(t,r){return K(t)&&K(r)?function(n){return t+n*(r-t)}:function(){return r}};function Og(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):dr(n,t))===r})}var wB=function(t,r){return K(t)&&K(r)?t-r:wi(t)&&wi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function bo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}var _B=["viewBox","children"],jB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cw=["points","pathLength"],Rp={svg:_B,polygon:Cw,polyline:Cw},v0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Id=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!ys(n))return null;var a={};return Object.keys(n).forEach(function(i){v0.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},SB=function(t,r,n){return function(a){return t(r,n,a),null}},_i=function(t,r,n){if(!ys(t)||Ng(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];v0.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=SB(o,r,n))}),a},OB=["children"],NB=["children"];function $w(e,t){if(e==null)return{};var r=PB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Iw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Dw=null,Mp=null,b0=function e(t){if(t===Dw&&Array.isArray(Mp))return Mp;var r=[];return N.Children.forEach(t,function(n){ye(n)||(uB.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Mp=r,Dw=t,r};function Or(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Nn(a)}):n=[Nn(t)],b0(e).forEach(function(a){var i=dr(a,"type.displayName")||dr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function or(e,t){var r=Or(e,t);return r&&r[0]}var Rw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!K(n)||n<=0||!K(a)||a<=0)},EB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],AB=function(t){return t&&t.type&&wi(t.type)&&EB.indexOf(t.type)>=0},kB=function(t,r,n,a){var i,o=(i=Rp==null?void 0:Rp[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ce(t)&&(a&&o.includes(r)||jB.includes(r))||n&&v0.includes(r)},ue=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!ys(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;kB((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},Pg=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Mw(i,o))return!1}return!0},Mw=function(t,r){if(ye(t)&&ye(r))return!0;if(!ye(t)&&!ye(r)){var n=t.props||{},a=n.children,i=$w(n,OB),o=r.props||{},s=o.children,l=$w(o,NB);return a&&s?bo(i,l)&&Pg(a,s):!a&&!s?bo(i,l):!1}return!1},Lw=function(t,r){var n=[],a={};return b0(t).forEach(function(i,o){if(AB(i))n.push(i);else if(i){var s=Nn(i.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!a[s])){var f=c(i,s,o);n.push(f),a[s]=!0}}}),n},TB=function(t){var r=t&&t.type;return r&&Iw[r]?Iw[r]:null},CB=function(t,r){return b0(r).indexOf(t)},$B=["children","width","height","viewBox","className","style","title","desc"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function IB(e,t){if(e==null)return{};var r=DB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ag(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,c=IB(e,$B),d=a||{width:r,height:n,x:0,y:0},f=me("recharts-surface",i);return D.createElement("svg",Eg({},ue(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),t)}var RB=["children","className"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function MB(e,t){if(e==null)return{};var r=LB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ee=D.forwardRef(function(e,t){var r=e.children,n=e.className,a=MB(e,RB),i=me("recharts-layer",n);return D.createElement("g",kg({className:i},ue(a,!0),{ref:t}),r)}),zr=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function UB(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var BB=UB,FB=BB;function qB(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:FB(e,t,r)}var zB=qB,WB="\\ud800-\\udfff",VB="\\u0300-\\u036f",HB="\\ufe20-\\ufe2f",GB="\\u20d0-\\u20ff",KB=VB+HB+GB,YB="\\ufe0e\\ufe0f",XB="\\u200d",JB=RegExp("["+XB+WB+KB+YB+"]");function QB(e){return JB.test(e)}var KE=QB;function ZB(e){return e.split("")}var e6=ZB,YE="\\ud800-\\udfff",t6="\\u0300-\\u036f",r6="\\ufe20-\\ufe2f",n6="\\u20d0-\\u20ff",a6=t6+r6+n6,i6="\\ufe0e\\ufe0f",o6="["+YE+"]",Tg="["+a6+"]",Cg="\\ud83c[\\udffb-\\udfff]",s6="(?:"+Tg+"|"+Cg+")",XE="[^"+YE+"]",JE="(?:\\ud83c[\\udde6-\\uddff]){2}",QE="[\\ud800-\\udbff][\\udc00-\\udfff]",l6="\\u200d",ZE=s6+"?",eA="["+i6+"]?",u6="(?:"+l6+"(?:"+[XE,JE,QE].join("|")+")"+eA+ZE+")*",c6=eA+ZE+u6,d6="(?:"+[XE+Tg+"?",Tg,JE,QE,o6].join("|")+")",f6=RegExp(Cg+"(?="+Cg+")|"+d6+c6,"g");function h6(e){return e.match(f6)||[]}var p6=h6,m6=e6,g6=KE,y6=p6;function v6(e){return g6(e)?y6(e):m6(e)}var b6=v6,x6=zB,w6=KE,_6=b6,j6=qE;function S6(e){return function(t){t=j6(t);var r=w6(t)?_6(t):void 0,n=r?r[0]:t.charAt(0),a=r?x6(r,1).join(""):t.slice(1);return n[e]()+a}}var O6=S6,N6=O6,P6=N6("toUpperCase"),E6=P6;const yh=Ne(E6);function Re(e){return function(){return e}}const tA=Math.cos,Dd=Math.sin,Vr=Math.sqrt,Rd=Math.PI,vh=2*Rd,$g=Math.PI,Ig=2*$g,Xa=1e-6,A6=Ig-Xa;function rA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function k6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class T6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rA:k6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,c=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Xa)if(!(Math.abs(f*l-c*d)>Xa)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-s,y=l*l+c*c,v=p*p+m*m,g=Math.sqrt(y),b=Math.sqrt(h),x=i*Math.tan(($g-Math.acos((y+h-v)/(2*g*b)))/2),j=x/b,w=x/g;Math.abs(j-1)>Xa&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Xa||Math.abs(this._y1-d)>Xa)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Ig+Ig),h>A6?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>Xa&&this._append`A${n},${n},0,${+(h>=$g)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function x0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new T6(t)}function w0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nA(e){this._context=e}nA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bh(e){return new nA(e)}function aA(e){return e[0]}function iA(e){return e[1]}function oA(e,t){var r=Re(!0),n=null,a=bh,i=null,o=x0(s);e=typeof e=="function"?e:e===void 0?aA:Re(e),t=typeof t=="function"?t:t===void 0?iA:Re(t);function s(l){var c,d=(l=w0(l)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Re(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Re(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Re(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function pc(e,t,r){var n=null,a=Re(!0),i=null,o=bh,s=null,l=x0(c);e=typeof e=="function"?e:e===void 0?aA:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iA:Re(+r);function c(f){var h,p,m,y=(f=w0(f)).length,v,g=!1,b,x=new Array(y),j=new Array(y);for(i==null&&(s=o(b=l())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===g)if(g=!g)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],j[m]);s.lineEnd(),s.areaEnd()}g&&(x[h]=+e(v,h,f),j[h]=+t(v,h,f),s.point(n?+n(v,h,f):x[h],r?+r(v,h,f):j[h]))}if(b)return s=null,b+""||null}function d(){return oA().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Re(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class sA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function C6(e){return new sA(e,!0)}function $6(e){return new sA(e,!1)}const _0={draw(e,t){const r=Vr(t/Rd);e.moveTo(r,0),e.arc(0,0,r,0,vh)}},I6={draw(e,t){const r=Vr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lA=Vr(1/3),D6=lA*2,R6={draw(e,t){const r=Vr(t/D6),n=r*lA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},M6={draw(e,t){const r=Vr(t),n=-r/2;e.rect(n,n,r,r)}},L6=.8908130915292852,uA=Dd(Rd/10)/Dd(7*Rd/10),U6=Dd(vh/10)*uA,B6=-tA(vh/10)*uA,F6={draw(e,t){const r=Vr(t*L6),n=U6*r,a=B6*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=vh*i/5,s=tA(o),l=Dd(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Lp=Vr(3),q6={draw(e,t){const r=-Vr(t/(Lp*3));e.moveTo(0,r*2),e.lineTo(-Lp*r,-r),e.lineTo(Lp*r,-r),e.closePath()}},gr=-.5,yr=Vr(3)/2,Dg=1/Vr(12),z6=(Dg/2+1)*3,W6={draw(e,t){const r=Vr(t/z6),n=r/2,a=r*Dg,i=n,o=r*Dg+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(gr*n-yr*a,yr*n+gr*a),e.lineTo(gr*i-yr*o,yr*i+gr*o),e.lineTo(gr*s-yr*l,yr*s+gr*l),e.lineTo(gr*n+yr*a,gr*a-yr*n),e.lineTo(gr*i+yr*o,gr*o-yr*i),e.lineTo(gr*s+yr*l,gr*l-yr*s),e.closePath()}};function V6(e,t){let r=null,n=x0(a);e=typeof e=="function"?e:Re(e||_0),t=typeof t=="function"?t:Re(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Re(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Re(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Md(){}function Ld(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cA(e){this._context=e}cA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ld(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H6(e){return new cA(e)}function dA(e){this._context=e}dA.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G6(e){return new dA(e)}function fA(e){this._context=e}fA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K6(e){return new fA(e)}function hA(e){this._context=e}hA.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Y6(e){return new hA(e)}function Uw(e){return e<0?-1:1}function Bw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Uw(i)+Uw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Fw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Up(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Up(this,this._t0,Fw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Up(this,Fw(this,r=Bw(this,e,t)),r);break;default:Up(this,this._t0,r=Bw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pA(e){this._context=new mA(e)}(pA.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function mA(e){this._context=e}mA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function X6(e){return new Ud(e)}function J6(e){return new pA(e)}function gA(e){this._context=e}gA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qw(e),a=qw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Q6(e){return new gA(e)}function xh(e,t){this._context=e,this._t=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Z6(e){return new xh(e,.5)}function eF(e){return new xh(e,0)}function tF(e){return new xh(e,1)}function Do(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Rg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function rF(e,t){return e[t]}function nF(e){const t=[];return t.key=e,t}function aF(){var e=Re([]),t=Rg,r=Do,n=rF;function a(i){var o=Array.from(e.apply(this,arguments),nF),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,i)]).data=f;for(s=0,d=w0(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Re(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Re(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Rg:typeof i=="function"?i:Re(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Do,a):r},a}function iF(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Do(e,t)}}function oF(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Do(e,t)}}function sF(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var y=e[t[m]],v=y[n][1]||0,g=y[n-1][1]||0;p+=v-g}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Do(e,t)}}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}var lF=["type","size","sizeType"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return t=cF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=dF(e,"string");return Wl(t)=="symbol"?t:t+""}function dF(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fF(e,t){if(e==null)return{};var r=hF(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yA={symbolCircle:_0,symbolCross:I6,symbolDiamond:R6,symbolSquare:M6,symbolStar:F6,symbolTriangle:q6,symbolWye:W6},pF=Math.PI/180,mF=function(t){var r="symbol".concat(yh(t));return yA[r]||_0},gF=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*pF;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yF=function(t,r){yA["symbol".concat(yh(t))]=r},j0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=fF(t,lF),c=Ww(Ww({},l),{},{type:n,size:i,sizeType:s}),d=function(){var v=mF(n),g=V6().type(v).size(gF(i,s,n));return g()},f=c.className,h=c.cx,p=c.cy,m=ue(c,!0);return h===+h&&p===+p&&i===+i?D.createElement("path",Mg({},m,{className:me("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};j0.registerSymbol=yF;function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){Vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bA(n.key),n)}}function wF(e,t,r){return t&&xF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _F(e,t,r){return t=Bd(t),jF(e,vA()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function jF(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SF(e)}function SF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vA=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function OF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function Vl(e,t,r){return t=bA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bA(e){var t=NF(e,"string");return Ro(t)=="symbol"?t:t+""}function NF(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vr=32,S0=function(e){function t(){return bF(this,t),_F(this,t,arguments)}return OF(t,e),wF(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=vr/2,o=vr/6,s=vr/3,l=n.inactive?a:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:vr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(vr,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var c=vF({},n);return delete c.legendIcon,D.cloneElement(n.legendIcon,c)}return D.createElement(j0,{fill:l,cx:i,cy:i,size:vr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,d={x:0,y:0,width:vr,height:vr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var y=p.formatter||l,v=me(Vl(Vl({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=ce(p.value)?null:p.value;zr(!ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return D.createElement("li",Lg({className:v,style:f,key:"legend-item-".concat(m)},_i(n.props,p,m)),D.createElement(Ag,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(g,p,m):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(N.PureComponent);Vl(S0,"displayName","Legend");Vl(S0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PF=ah;function EF(){this.__data__=new PF,this.size=0}var AF=EF;function kF(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var TF=kF;function CF(e){return this.__data__.get(e)}var $F=CF;function IF(e){return this.__data__.has(e)}var DF=IF,RF=ah,MF=d0,LF=f0,UF=200;function BF(e,t){var r=this.__data__;if(r instanceof RF){var n=r.__data__;if(!MF||n.length<UF-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new LF(n)}return r.set(e,t),this.size=r.size,this}var FF=BF,qF=ah,zF=AF,WF=TF,VF=$F,HF=DF,GF=FF;function ws(e){var t=this.__data__=new qF(e);this.size=t.size}ws.prototype.clear=zF;ws.prototype.delete=WF;ws.prototype.get=VF;ws.prototype.has=HF;ws.prototype.set=GF;var xA=ws,KF="__lodash_hash_undefined__";function YF(e){return this.__data__.set(e,KF),this}var XF=YF;function JF(e){return this.__data__.has(e)}var QF=JF,ZF=f0,eq=XF,tq=QF;function Fd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ZF;++t<r;)this.add(e[t])}Fd.prototype.add=Fd.prototype.push=eq;Fd.prototype.has=tq;var wA=Fd;function rq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _A=rq;function nq(e,t){return e.has(t)}var jA=nq,aq=wA,iq=_A,oq=jA,sq=1,lq=2;function uq(e,t,r,n,a,i){var o=r&sq,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&lq?new aq:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var m=e[f],y=t[f];if(n)var v=o?n(y,m,f,t,e,i):n(m,y,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!iq(t,function(g,b){if(!oq(p,b)&&(m===g||a(m,g,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(m===y||a(m,y,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var SA=uq,cq=on,dq=cq.Uint8Array,fq=dq;function hq(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var pq=hq;function mq(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var O0=mq,Hw=Iu,Gw=fq,gq=c0,yq=SA,vq=pq,bq=O0,xq=1,wq=2,_q="[object Boolean]",jq="[object Date]",Sq="[object Error]",Oq="[object Map]",Nq="[object Number]",Pq="[object RegExp]",Eq="[object Set]",Aq="[object String]",kq="[object Symbol]",Tq="[object ArrayBuffer]",Cq="[object DataView]",Kw=Hw?Hw.prototype:void 0,Bp=Kw?Kw.valueOf:void 0;function $q(e,t,r,n,a,i,o){switch(r){case Cq:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tq:return!(e.byteLength!=t.byteLength||!i(new Gw(e),new Gw(t)));case _q:case jq:case Nq:return gq(+e,+t);case Sq:return e.name==t.name&&e.message==t.message;case Pq:case Aq:return e==t+"";case Oq:var s=vq;case Eq:var l=n&xq;if(s||(s=bq),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=wq,o.set(e,t);var d=yq(s(e),s(t),n,a,i,o);return o.delete(e),d;case kq:if(Bp)return Bp.call(e)==Bp.call(t)}return!1}var Iq=$q;function Dq(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var OA=Dq,Rq=OA,Mq=nr;function Lq(e,t,r){var n=t(e);return Mq(e)?n:Rq(n,r(e))}var Uq=Lq;function Bq(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Fq=Bq;function qq(){return[]}var zq=qq,Wq=Fq,Vq=zq,Hq=Object.prototype,Gq=Hq.propertyIsEnumerable,Yw=Object.getOwnPropertySymbols,Kq=Yw?function(e){return e==null?[]:(e=Object(e),Wq(Yw(e),function(t){return Gq.call(e,t)}))}:Vq,Yq=Kq;function Xq(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Jq=Xq,Qq=Bn,Zq=Fn,ez="[object Arguments]";function tz(e){return Zq(e)&&Qq(e)==ez}var rz=tz,Xw=rz,nz=Fn,NA=Object.prototype,az=NA.hasOwnProperty,iz=NA.propertyIsEnumerable,oz=Xw(function(){return arguments}())?Xw:function(e){return nz(e)&&az.call(e,"callee")&&!iz.call(e,"callee")},N0=oz,qd={exports:{}};function sz(){return!1}var lz=sz;qd.exports;(function(e,t){var r=on,n=lz,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(qd,qd.exports);var PA=qd.exports,uz=9007199254740991,cz=/^(?:0|[1-9]\d*)$/;function dz(e,t){var r=typeof e;return t=t??uz,!!t&&(r=="number"||r!="symbol"&&cz.test(e))&&e>-1&&e%1==0&&e<t}var P0=dz,fz=9007199254740991;function hz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fz}var E0=hz,pz=Bn,mz=E0,gz=Fn,yz="[object Arguments]",vz="[object Array]",bz="[object Boolean]",xz="[object Date]",wz="[object Error]",_z="[object Function]",jz="[object Map]",Sz="[object Number]",Oz="[object Object]",Nz="[object RegExp]",Pz="[object Set]",Ez="[object String]",Az="[object WeakMap]",kz="[object ArrayBuffer]",Tz="[object DataView]",Cz="[object Float32Array]",$z="[object Float64Array]",Iz="[object Int8Array]",Dz="[object Int16Array]",Rz="[object Int32Array]",Mz="[object Uint8Array]",Lz="[object Uint8ClampedArray]",Uz="[object Uint16Array]",Bz="[object Uint32Array]",qe={};qe[Cz]=qe[$z]=qe[Iz]=qe[Dz]=qe[Rz]=qe[Mz]=qe[Lz]=qe[Uz]=qe[Bz]=!0;qe[yz]=qe[vz]=qe[kz]=qe[bz]=qe[Tz]=qe[xz]=qe[wz]=qe[_z]=qe[jz]=qe[Sz]=qe[Oz]=qe[Nz]=qe[Pz]=qe[Ez]=qe[Az]=!1;function Fz(e){return gz(e)&&mz(e.length)&&!!qe[pz(e)]}var qz=Fz;function zz(e){return function(t){return e(t)}}var EA=zz,zd={exports:{}};zd.exports;(function(e,t){var r=RE,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(zd,zd.exports);var Wz=zd.exports,Vz=qz,Hz=EA,Jw=Wz,Qw=Jw&&Jw.isTypedArray,Gz=Qw?Hz(Qw):Vz,AA=Gz,Kz=Jq,Yz=N0,Xz=nr,Jz=PA,Qz=P0,Zz=AA,e8=Object.prototype,t8=e8.hasOwnProperty;function r8(e,t){var r=Xz(e),n=!r&&Yz(e),a=!r&&!n&&Jz(e),i=!r&&!n&&!a&&Zz(e),o=r||n||a||i,s=o?Kz(e.length,String):[],l=s.length;for(var c in e)(t||t8.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Qz(c,l)))&&s.push(c);return s}var n8=r8,a8=Object.prototype;function i8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||a8;return e===r}var o8=i8;function s8(e,t){return function(r){return e(t(r))}}var kA=s8,l8=kA,u8=l8(Object.keys,Object),c8=u8,d8=o8,f8=c8,h8=Object.prototype,p8=h8.hasOwnProperty;function m8(e){if(!d8(e))return f8(e);var t=[];for(var r in Object(e))p8.call(e,r)&&r!="constructor"&&t.push(r);return t}var g8=m8,y8=u0,v8=E0;function b8(e){return e!=null&&v8(e.length)&&!y8(e)}var Mu=b8,x8=n8,w8=g8,_8=Mu;function j8(e){return _8(e)?x8(e):w8(e)}var wh=j8,S8=Uq,O8=Yq,N8=wh;function P8(e){return S8(e,N8,O8)}var E8=P8,Zw=E8,A8=1,k8=Object.prototype,T8=k8.hasOwnProperty;function C8(e,t,r,n,a,i){var o=r&A8,s=Zw(e),l=s.length,c=Zw(t),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in t:T8.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var y=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<l;){h=s[f];var g=e[h],b=t[h];if(n)var x=o?n(b,g,h,t,e,i):n(g,b,h,e,t,i);if(!(x===void 0?g===b||a(g,b,r,n,i):x)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(y=!1)}return i.delete(e),i.delete(t),y}var $8=C8,I8=Ai,D8=on,R8=I8(D8,"DataView"),M8=R8,L8=Ai,U8=on,B8=L8(U8,"Promise"),F8=B8,q8=Ai,z8=on,W8=q8(z8,"Set"),TA=W8,V8=Ai,H8=on,G8=V8(H8,"WeakMap"),K8=G8,Bg=M8,Fg=d0,qg=F8,zg=TA,Wg=K8,CA=Bn,_s=LE,e1="[object Map]",Y8="[object Object]",t1="[object Promise]",r1="[object Set]",n1="[object WeakMap]",a1="[object DataView]",X8=_s(Bg),J8=_s(Fg),Q8=_s(qg),Z8=_s(zg),eW=_s(Wg),Ja=CA;(Bg&&Ja(new Bg(new ArrayBuffer(1)))!=a1||Fg&&Ja(new Fg)!=e1||qg&&Ja(qg.resolve())!=t1||zg&&Ja(new zg)!=r1||Wg&&Ja(new Wg)!=n1)&&(Ja=function(e){var t=CA(e),r=t==Y8?e.constructor:void 0,n=r?_s(r):"";if(n)switch(n){case X8:return a1;case J8:return e1;case Q8:return t1;case Z8:return r1;case eW:return n1}return t});var tW=Ja,Fp=xA,rW=SA,nW=Iq,aW=$8,i1=tW,o1=nr,s1=PA,iW=AA,oW=1,l1="[object Arguments]",u1="[object Array]",mc="[object Object]",sW=Object.prototype,c1=sW.hasOwnProperty;function lW(e,t,r,n,a,i){var o=o1(e),s=o1(t),l=o?u1:i1(e),c=s?u1:i1(t);l=l==l1?mc:l,c=c==l1?mc:c;var d=l==mc,f=c==mc,h=l==c;if(h&&s1(e)){if(!s1(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Fp),o||iW(e)?rW(e,t,r,n,a,i):nW(e,t,l,r,n,a,i);if(!(r&oW)){var p=d&&c1.call(e,"__wrapped__"),m=f&&c1.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,v=m?t.value():t;return i||(i=new Fp),a(y,v,r,n,i)}}return h?(i||(i=new Fp),aW(e,t,r,n,a,i)):!1}var uW=lW,cW=uW,d1=Fn;function $A(e,t,r,n,a){return e===t?!0:e==null||t==null||!d1(e)&&!d1(t)?e!==e&&t!==t:cW(e,t,r,n,$A,a)}var A0=$A,dW=xA,fW=A0,hW=1,pW=2;function mW(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var l=s[0],c=e[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new dW;if(n)var h=n(c,d,l,e,t,f);if(!(h===void 0?fW(d,c,hW|pW,n,f):h))return!1}}return!0}var gW=mW,yW=Ta;function vW(e){return e===e&&!yW(e)}var IA=vW,bW=IA,xW=wh;function wW(e){for(var t=xW(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,bW(a)]}return t}var _W=wW;function jW(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var DA=jW,SW=gW,OW=_W,NW=DA;function PW(e){var t=OW(e);return t.length==1&&t[0][2]?NW(t[0][0],t[0][1]):function(r){return r===e||SW(r,e,t)}}var EW=PW;function AW(e,t){return e!=null&&t in Object(e)}var kW=AW,TW=zE,CW=N0,$W=nr,IW=P0,DW=E0,RW=oh;function MW(e,t,r){t=TW(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=RW(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&DW(a)&&IW(o,a)&&($W(e)||CW(e)))}var LW=MW,UW=kW,BW=LW;function FW(e,t){return e!=null&&BW(e,t,UW)}var qW=FW,zW=A0,WW=WE,VW=qW,HW=l0,GW=IA,KW=DA,YW=oh,XW=1,JW=2;function QW(e,t){return HW(e)&&GW(t)?KW(YW(e),t):function(r){var n=WW(r,e);return n===void 0&&n===t?VW(r,e):zW(t,n,XW|JW)}}var ZW=QW;function e7(e){return e}var js=e7;function t7(e){return function(t){return t==null?void 0:t[e]}}var r7=t7,n7=m0;function a7(e){return function(t){return n7(t,e)}}var i7=a7,o7=r7,s7=i7,l7=l0,u7=oh;function c7(e){return l7(e)?o7(u7(e)):s7(e)}var d7=c7,f7=EW,h7=ZW,p7=js,m7=nr,g7=d7;function y7(e){return typeof e=="function"?e:e==null?p7:typeof e=="object"?m7(e)?h7(e[0],e[1]):f7(e):g7(e)}var sn=y7;function v7(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var RA=v7;function b7(e){return e!==e}var x7=b7;function w7(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var _7=w7,j7=RA,S7=x7,O7=_7;function N7(e,t,r){return t===t?O7(e,t,r):j7(e,S7,r)}var P7=N7,E7=P7;function A7(e,t){var r=e==null?0:e.length;return!!r&&E7(e,t,0)>-1}var k7=A7;function T7(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var C7=T7;function $7(){}var I7=$7,qp=TA,D7=I7,R7=O0,M7=1/0,L7=qp&&1/R7(new qp([,-0]))[1]==M7?function(e){return new qp(e)}:D7,U7=L7,B7=wA,F7=k7,q7=C7,z7=jA,W7=U7,V7=O0,H7=200;function G7(e,t,r){var n=-1,a=F7,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=q7;else if(i>=H7){var c=t?null:W7(e);if(c)return V7(c);o=!1,a=z7,l=new B7}else l=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var K7=G7,Y7=sn,X7=K7;function J7(e,t){return e&&e.length?X7(e,Y7(t)):[]}var Q7=J7;const f1=Ne(Q7);function MA(e,t,r){return t===!0?f1(e,r):ce(t)?f1(e,t):e}function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}var Z7=["ref"];function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UA(n.key),n)}}function t9(e,t,r){return t&&p1(e.prototype,t),r&&p1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r9(e,t,r){return t=Wd(t),n9(e,LA()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function n9(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a9(e)}function a9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LA=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function i9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function _h(e,t,r){return t=UA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UA(e){var t=o9(e,"string");return Mo(t)=="symbol"?t:t+""}function o9(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function s9(e,t){if(e==null)return{};var r=l9(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u9(e){return e.value}function c9(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=s9(t,Z7);return D.createElement(S0,r)}var m1=1,hi=function(e){function t(){var r;e9(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=r9(this,t,[].concat(a)),_h(r,"lastBoundingBox",{width:-1,height:-1}),r}return i9(t,e),t9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>m1||Math.abs(a.height-this.lastBoundingBox.height)>m1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return hn(hn({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,d=a.payload,f=hn(hn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},c9(i,hn(hn({},this.props),{},{payload:MA(d,c,u9)})))}}],[{key:"getWithHeight",value:function(n,a){var i=hn(hn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&K(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);_h(hi,"displayName","Legend");_h(hi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var g1=Iu,d9=N0,f9=nr,y1=g1?g1.isConcatSpreadable:void 0;function h9(e){return f9(e)||d9(e)||!!(y1&&e&&e[y1])}var p9=h9,m9=OA,g9=p9;function BA(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=g9),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?BA(s,t-1,r,n,a):m9(a,s):n||(a[a.length]=s)}return a}var FA=BA;function y9(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(r(i[l],l,i)===!1)break}return t}}var v9=y9,b9=v9,x9=b9(),w9=x9,_9=w9,j9=wh;function S9(e,t){return e&&_9(e,t,j9)}var qA=S9,O9=Mu;function N9(e,t){return function(r,n){if(r==null)return r;if(!O9(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var P9=N9,E9=qA,A9=P9,k9=A9(E9),k0=k9,T9=k0,C9=Mu;function $9(e,t){var r=-1,n=C9(e)?Array(e.length):[];return T9(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var zA=$9;function I9(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var D9=I9,v1=gs;function R9(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=v1(e),o=t!==void 0,s=t===null,l=t===t,c=v1(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var M9=R9,L9=M9;function U9(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=L9(a[n],i[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var B9=U9,zp=p0,F9=m0,q9=sn,z9=zA,W9=D9,V9=EA,H9=B9,G9=js,K9=nr;function Y9(e,t,r){t.length?t=zp(t,function(i){return K9(i)?function(o){return F9(o,i.length===1?i[0]:i)}:i}):t=[G9];var n=-1;t=zp(t,V9(q9));var a=z9(e,function(i,o,s){var l=zp(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return W9(a,function(i,o){return H9(i,o,r)})}var X9=Y9;function J9(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Q9=J9,Z9=Q9,b1=Math.max;function eV(e,t,r){return t=b1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=b1(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),Z9(e,this,s)}}var tV=eV;function rV(e){return function(){return e}}var nV=rV,aV=Ai,iV=function(){try{var e=aV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WA=iV,oV=nV,x1=WA,sV=js,lV=x1?function(e,t){return x1(e,"toString",{configurable:!0,enumerable:!1,value:oV(t),writable:!0})}:sV,uV=lV,cV=800,dV=16,fV=Date.now;function hV(e){var t=0,r=0;return function(){var n=fV(),a=dV-(n-r);if(r=n,a>0){if(++t>=cV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pV=hV,mV=uV,gV=pV,yV=gV(mV),vV=yV,bV=js,xV=tV,wV=vV;function _V(e,t){return wV(xV(e,t,bV),e+"")}var jV=_V,SV=c0,OV=Mu,NV=P0,PV=Ta;function EV(e,t,r){if(!PV(r))return!1;var n=typeof t;return(n=="number"?OV(r)&&NV(t,r.length):n=="string"&&t in r)?SV(r[t],e):!1}var jh=EV,AV=FA,kV=X9,TV=jV,w1=jh,CV=TV(function(e,t){if(e==null)return[];var r=t.length;return r>1&&w1(e,t[0],t[1])?t=[]:r>2&&w1(t[0],t[1],t[2])&&(t=[t[0]]),kV(e,AV(t,1),[])}),$V=CV;const T0=Ne($V);function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function IV(e,t){return LV(e)||MV(e,t)||RV(e,t)||DV()}function DV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(e,t){if(e){if(typeof e=="string")return _1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(e,t)}}function _1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function LV(e){if(Array.isArray(e))return e}function j1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(r),!0).forEach(function(n){UV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t,r){return t=BV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=FV(e,"string");return Hl(t)=="symbol"?t:t+""}function FV(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qV(e){return Array.isArray(e)&&pt(e[0])&&pt(e[1])?e.join(" ~ "):e}var zV=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,y=t.label,v=t.labelFormatter,g=t.accessibilityLayer,b=g===void 0?!1:g,x=function(){if(d&&d.length){var T={padding:0,margin:0},M=(h?T0(d,h):d).map(function(C,A){if(C.type==="none")return null;var O=Wp({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},s),R=C.formatter||f||qV,I=C.value,L=C.name,V=I,z=L;if(R&&V!=null&&z!=null){var q=R(I,L,C,A,d);if(Array.isArray(q)){var Z=IV(q,2);V=Z[0],z=Z[1]}else V=q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:O},pt(z)?D.createElement("span",{className:"recharts-tooltip-item-name"},z):null,pt(z)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},V),D.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},j=Wp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Wp({margin:0},c),_=!ye(y),S=_?y:"",P=me("recharts-default-tooltip",p),k=me("recharts-tooltip-label",m);_&&v&&d!==void 0&&d!==null&&(S=v(y,d));var $=b?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",Hg({className:P,style:j},$),D.createElement("p",{className:k,style:w},D.isValidElement(S)?S:"".concat(S)),x())};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function gc(e,t,r){return t=WV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=VV(e,"string");return Gl(t)=="symbol"?t:t+""}function VV(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zs="recharts-tooltip-wrapper",HV={visibility:"hidden"};function GV(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return me(zs,gc(gc(gc(gc({},"".concat(zs,"-right"),K(r)&&t&&K(t.x)&&r>=t.x),"".concat(zs,"-left"),K(r)&&t&&K(t.x)&&r<t.x),"".concat(zs,"-bottom"),K(n)&&t&&K(t.y)&&n>=t.y),"".concat(zs,"-top"),K(n)&&t&&K(t.y)&&n<t.y))}function S1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&K(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,y=l[n]+c;return m>y?Math.max(d,l[n]):Math.max(f,l[n])}function KV(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function YV(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,f;return o.height>0&&o.width>0&&r?(d=S1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=S1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=KV({translateX:d,translateY:f,useTranslate3d:s})):c=HV,{cssProperties:c,cssClasses:GV({translateX:d,translateY:f,coordinate:r})}}function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(n){Kg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HA(n.key),n)}}function QV(e,t,r){return t&&JV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZV(e,t,r){return t=Vd(t),eH(e,VA()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function eH(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tH(e)}function tH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VA=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function rH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gg(e,t)}function Kg(e,t,r){return t=HA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HA(e){var t=nH(e,"string");return Lo(t)=="symbol"?t:t+""}function nH(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P1=1,aH=function(e){function t(){var r;XV(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ZV(this,t,[].concat(a)),Kg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Kg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return rH(t,e),QV(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>P1||Math.abs(n.height-this.state.lastBoundingBox.height)>P1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,y=a.reverseDirection,v=a.useTranslate3d,g=a.viewBox,b=a.wrapperStyle,x=YV({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),j=x.cssClasses,w=x.cssProperties,_=N1(N1({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return D.createElement("div",{tabIndex:-1,className:j,style:_,ref:function(P){n.wrapperNode=P}},c)}}])}(N.PureComponent),iH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ss={isSsr:iH()};function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function E1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(r),!0).forEach(function(n){C0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KA(n.key),n)}}function lH(e,t,r){return t&&sH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uH(e,t,r){return t=Hd(t),cH(e,GA()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function cH(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(e)}function dH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GA=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function fH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function C0(e,t,r){return t=KA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KA(e){var t=hH(e,"string");return Uo(t)=="symbol"?t:t+""}function hH(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pH(e){return e.dataKey}function mH(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(zV,t)}var Xr=function(e){function t(){return oH(this,t),uH(this,t,arguments)}return fH(t,e),lH(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,y=a.payloadUniqBy,v=a.position,g=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,w=m??[];f&&w.length&&(w=MA(m.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,pH));var _=w.length>0;return D.createElement(aH,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:g,useTranslate3d:b,viewBox:x,wrapperStyle:j},mH(c,A1(A1({},this.props),{},{payload:w})))}}])}(N.PureComponent);C0(Xr,"displayName","Tooltip");C0(Xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ss.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gH=on,yH=function(){return gH.Date.now()},vH=yH,bH=/\s/;function xH(e){for(var t=e.length;t--&&bH.test(e.charAt(t)););return t}var wH=xH,_H=wH,jH=/^\s+/;function SH(e){return e&&e.slice(0,_H(e)+1).replace(jH,"")}var OH=SH,NH=OH,k1=Ta,PH=gs,T1=NaN,EH=/^[-+]0x[0-9a-f]+$/i,AH=/^0b[01]+$/i,kH=/^0o[0-7]+$/i,TH=parseInt;function CH(e){if(typeof e=="number")return e;if(PH(e))return T1;if(k1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=k1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=NH(e);var r=AH.test(e);return r||kH.test(e)?TH(e.slice(2),r?2:8):EH.test(e)?T1:+e}var YA=CH,$H=Ta,Vp=vH,C1=YA,IH="Expected a function",DH=Math.max,RH=Math.min;function MH(e,t,r){var n,a,i,o,s,l,c=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(IH);t=C1(t)||0,$H(r)&&(d=!!r.leading,f="maxWait"in r,i=f?DH(C1(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var S=n,P=a;return n=a=void 0,c=_,o=e.apply(P,S),o}function m(_){return c=_,s=setTimeout(g,t),d?p(_):o}function y(_){var S=_-l,P=_-c,k=t-S;return f?RH(k,i-P):k}function v(_){var S=_-l,P=_-c;return l===void 0||S>=t||S<0||f&&P>=i}function g(){var _=Vp();if(v(_))return b(_);s=setTimeout(g,y(_))}function b(_){return s=void 0,h&&n?p(_):(n=a=void 0,o)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function j(){return s===void 0?o:b(Vp())}function w(){var _=Vp(),S=v(_);if(n=arguments,a=this,l=_,S){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(g,t),p(l)}return s===void 0&&(s=setTimeout(g,t)),o}return w.cancel=x,w.flush=j,w}var LH=MH,UH=LH,BH=Ta,FH="Expected a function";function qH(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(FH);return BH(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),UH(e,t,{leading:n,maxWait:t,trailing:a})}var zH=qH;const XA=Ne(zH);function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return t=VH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=HH(e,"string");return Kl(t)=="symbol"?t:t+""}function HH(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e,t){return JH(e)||XH(e,t)||YH(e,t)||KH()}function KH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function JH(e){if(Array.isArray(e))return e}var D1=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,y=m===void 0?0:m,v=e.id,g=e.className,b=e.onResize,x=e.style,j=x===void 0?{}:x,w=N.useRef(null),_=N.useRef();_.current=b,N.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=N.useState({containerWidth:a.width,containerHeight:a.height}),P=GH(S,2),k=P[0],$=P[1],E=N.useCallback(function(M,C){$(function(A){var O=Math.round(M),R=Math.round(C);return A.containerWidth===O&&A.containerHeight===R?A:{containerWidth:O,containerHeight:R}})},[]);N.useEffect(function(){var M=function(L){var V,z=L[0].contentRect,q=z.width,Z=z.height;E(q,Z),(V=_.current)===null||V===void 0||V.call(_,q,Z)};y>0&&(M=XA(M,y,{trailing:!0,leading:!1}));var C=new ResizeObserver(M),A=w.current.getBoundingClientRect(),O=A.width,R=A.height;return E(O,R),C.observe(w.current),function(){C.disconnect()}},[E,y]);var T=N.useMemo(function(){var M=k.containerWidth,C=k.containerHeight;if(M<0||C<0)return null;zr(si(o)||si(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),zr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=si(o)?M:o,O=si(l)?C:l;r&&r>0&&(A?O=A/r:O&&(A=O*r),h&&O>h&&(O=h)),zr(A>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,O,o,l,d,f,r);var R=!Array.isArray(p)&&Nn(p.type).endsWith("Chart");return D.Children.map(p,function(I){return D.isValidElement(I)?N.cloneElement(I,yc({width:A,height:O},R?{style:yc({height:"100%",width:"100%",maxHeight:O,maxWidth:A},I.props.style)}:{})):I})},[r,p,l,h,f,d,k,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:me("recharts-responsive-container",g),style:yc(yc({},j),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},T)}),Sh=function(t){return null};Sh.displayName="Cell";function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=eG(e,"string");return Yl(t)=="symbol"?t:t+""}function eG(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi={widthCache:{},cacheCount:0},tG=2e3,rG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},M1="recharts_measurement_span";function nG(e){var t=Xg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var gl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ss.isSsr)return{width:0,height:0};var n=nG(r),a=JSON.stringify({text:t,copyStyle:n});if(Fi.widthCache[a])return Fi.widthCache[a];try{var i=document.getElementById(M1);i||(i=document.createElement("span"),i.setAttribute("id",M1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Xg(Xg({},rG),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return Fi.widthCache[a]=l,++Fi.cacheCount>tG&&(Fi.cacheCount=0,Fi.widthCache={}),l}catch{return{width:0,height:0}}},aG=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Gd(e,t){return lG(e)||sG(e,t)||oG(e,t)||iG()}function iG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return L1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(e,t)}}function L1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function lG(e){if(Array.isArray(e))return e}function uG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dG(n.key),n)}}function cG(e,t,r){return t&&U1(e.prototype,t),r&&U1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dG(e){var t=fG(e,"string");return Xl(t)=="symbol"?t:t+""}function fG(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mG=Object.keys(JA),ao="NaN";function gG(e,t){return e*JA[t]}var vc=function(){function e(t,r){uG(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!hG.test(r)&&(this.num=NaN,this.unit=""),mG.includes(r)&&(this.num=gG(t,r),this.unit="px")}return cG(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=pG.exec(r))!==null&&n!==void 0?n:[],i=Gd(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function QA(e){if(e.includes(ao))return ao;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=B1.exec(t))!==null&&r!==void 0?r:[],a=Gd(n,4),i=a[1],o=a[2],s=a[3],l=vc.parse(i??""),c=vc.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return ao;t=t.replace(B1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=F1.exec(t))!==null&&f!==void 0?f:[],p=Gd(h,4),m=p[1],y=p[2],v=p[3],g=vc.parse(m??""),b=vc.parse(v??""),x=y==="+"?g.add(b):g.subtract(b);if(x.isNaN())return ao;t=t.replace(F1,x.toString())}return t}var q1=/\(([^()]*)\)/;function yG(e){for(var t=e;t.includes("(");){var r=q1.exec(t),n=Gd(r,2),a=n[1];t=t.replace(q1,QA(a))}return t}function vG(e){var t=e.replace(/\s+/g,"");return t=yG(t),t=QA(t),t}function bG(e){try{return vG(e)}catch{return ao}}function Hp(e){var t=bG(e.slice(5,-1));return t===ao?"":t}var xG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wG=["dx","dy","angle","className","breakAll"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function z1(e,t){if(e==null)return{};var r=_G(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _G(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W1(e,t){return NG(e)||OG(e,t)||SG(e,t)||jG()}function jG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SG(e,t){if(e){if(typeof e=="string")return V1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(e,t)}}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function NG(e){if(Array.isArray(e))return e}var ZA=/[ \f\n\r\t\v\u2028\u2029]+/,ek=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ye(r)||(n?i=r.toString().split(""):i=r.toString().split(ZA));var o=i.map(function(l){return{word:l,width:gl(l,a).width}}),s=n?0:gl("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},PG=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=K(o),f=s,h=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce(function(O,R){var I=R.word,L=R.width,V=O[O.length-1];if(V&&(a==null||i||V.width+L+n<Number(a)))V.words.push(I),V.width+=L+n;else{var z={words:[I],width:L};O.push(z)}return O},[])},p=h(r),m=function(A){return A.reduce(function(O,R){return O.width>R.width?O:R})};if(!d)return p;for(var y="",v=function(A){var O=f.slice(0,A),R=ek({breakAll:c,style:l,children:O+y}).wordsWithComputedWidth,I=h(R),L=I.length>o||m(I).width>Number(a);return[L,I]},g=0,b=f.length-1,x=0,j;g<=b&&x<=f.length-1;){var w=Math.floor((g+b)/2),_=w-1,S=v(_),P=W1(S,2),k=P[0],$=P[1],E=v(w),T=W1(E,1),M=T[0];if(!k&&!M&&(g=w+1),k&&M&&(b=w-1),!k&&M){j=$;break}x++}return j||p},H1=function(t){var r=ye(t)?[]:t.toString().split(ZA);return[{words:r}]},EG=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Ss.isSsr){var l,c,d=ek({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return H1(a);return PG({breakAll:o,children:a,maxLines:s,style:i},l,c,r,n)}return H1(a)},G1="#808080",ji=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,y=m===void 0?"end":m,v=t.fill,g=v===void 0?G1:v,b=z1(t,xG),x=N.useMemo(function(){return EG({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,w=b.dy,_=b.angle,S=b.className,P=b.breakAll,k=z1(b,wG);if(!pt(n)||!pt(i))return null;var $=n+(K(j)?j:0),E=i+(K(w)?w:0),T;switch(y){case"start":T=Hp("calc(".concat(c,")"));break;case"middle":T=Hp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:T=Hp("calc(".concat(x.length-1," * -").concat(s,")"));break}var M=[];if(f){var C=x[0].width,A=b.width;M.push("scale(".concat((K(A)?A/C:1)/C,")"))}return _&&M.push("rotate(".concat(_,", ").concat($,", ").concat(E,")")),M.length&&(k.transform=M.join(" ")),D.createElement("text",Jg({},ue(k,!0),{x:$,y:E,className:me("recharts-text",S),textAnchor:p,fill:g.includes("url")?G1:g}),x.map(function(O,R){var I=O.words.join(P?"":" ");return D.createElement("tspan",{x:$,dy:R===0?T:s,key:"".concat(I,"-").concat(R)},I)}))};function ba(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $0(e){let t,r,n;e.length!==2?(t=ba,r=(s,l)=>ba(e(s),l),n=(s,l)=>e(s)-l):(t=e===ba||e===AG?e:kG,r=e,n=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function kG(){return 0}function tk(e){return e===null?NaN:+e}function*TG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const CG=$0(ba),Lu=CG.right;$0(tk).center;class K1 extends Map{constructor(t,r=DG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Y1(this,t))}has(t){return super.has(Y1(this,t))}set(t,r){return super.set($G(this,t),r)}delete(t){return super.delete(IG(this,t))}}function Y1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $G({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function IG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function DG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RG(e=ba){if(e===ba)return rk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MG=Math.sqrt(50),LG=Math.sqrt(10),UG=Math.sqrt(2);function Kd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=MG?10:i>=LG?5:i>=UG?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Kd(e,t,r*2):[s,l,c]}function Qg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Kd(t,e,r):Kd(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Zg(e,t,r){return t=+t,e=+e,r=+r,Kd(e,t,r)[2]}function ey(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Zg(t,e,r):Zg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function X1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function J1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rk:RG(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));nk(e,t,p,m,a)}const i=e[t];let o=r,s=n;for(Ws(e,r,t),a(e[n],i)>0&&Ws(e,r,n);o<s;){for(Ws(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Ws(e,r,s):(++s,Ws(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Ws(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function BG(e,t,r){if(e=Float64Array.from(TG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return J1(e);if(t>=1)return X1(e);var n,a=(n-1)*t,i=Math.floor(a),o=X1(nk(e,i).subarray(0,i+1)),s=J1(e.subarray(i+1));return o+(s-o)*(a-i)}}function FG(e,t,r=tk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function qG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function kr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ty=Symbol("implicit");function I0(){var e=new K1,t=[],r=[],n=ty;function a(i){let o=e.get(i);if(o===void 0){if(n!==ty)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new K1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return I0(t,r).unknown(n)},kr.apply(a,arguments),a}function Jl(){var e=I0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,y=p?n:a;i=(y-m)/Math.max(1,h-l+c*2),s&&(i=Math.floor(i)),m+=(y-m-i*(h-l))*d,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=qG(h).map(function(g){return m+i*g});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Jl(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},kr.apply(f(),arguments)}function ak(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ak(t())},e}function yl(){return ak(Jl.apply(null,arguments).paddingInner(1))}function D0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ik(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Uu(){}var Ql=.7,Yd=1/Ql,xo="\\s*([+-]?\\d+)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zG=/^#([0-9a-f]{3,8})$/,WG=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),VG=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),HG=new RegExp(`^rgba\\(${xo},${xo},${xo},${Zl}\\)$`),GG=new RegExp(`^rgba\\(${rn},${rn},${rn},${Zl}\\)$`),KG=new RegExp(`^hsl\\(${Zl},${rn},${rn}\\)$`),YG=new RegExp(`^hsla\\(${Zl},${rn},${rn},${Zl}\\)$`),Q1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D0(Uu,eu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z1,formatHex:Z1,formatHex8:XG,formatHsl:JG,formatRgb:e_,toString:e_});function Z1(){return this.rgb().formatHex()}function XG(){return this.rgb().formatHex8()}function JG(){return ok(this).formatHsl()}function e_(){return this.rgb().formatRgb()}function eu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?t_(t):r===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WG.exec(e))?new Qt(t[1],t[2],t[3],1):(t=VG.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HG.exec(e))?bc(t[1],t[2],t[3],t[4]):(t=GG.exec(e))?bc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KG.exec(e))?a_(t[1],t[2]/100,t[3]/100,1):(t=YG.exec(e))?a_(t[1],t[2]/100,t[3]/100,t[4]):Q1.hasOwnProperty(e)?t_(Q1[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function t_(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function bc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qt(e,t,r,n)}function QG(e){return e instanceof Uu||(e=eu(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function ry(e,t,r,n){return arguments.length===1?QG(e):new Qt(e,t,r,n??1)}function Qt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}D0(Qt,ry,ik(Uu,{brighter(e){return e=e==null?Yd:Math.pow(Yd,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(pi(this.r),pi(this.g),pi(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r_,formatHex:r_,formatHex8:ZG,formatRgb:n_,toString:n_}));function r_(){return`#${li(this.r)}${li(this.g)}${li(this.b)}`}function ZG(){return`#${li(this.r)}${li(this.g)}${li(this.b)}${li((isNaN(this.opacity)?1:this.opacity)*255)}`}function n_(){const e=Xd(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Xd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function li(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function a_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Br(e,t,r,n)}function ok(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof Uu||(e=eu(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Br(o,s,l,e.opacity)}function eK(e,t,r,n){return arguments.length===1?ok(e):new Br(e,t,r,n??1)}function Br(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}D0(Br,eK,ik(Uu,{brighter(e){return e=e==null?Yd:Math.pow(Yd,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Qt(Gp(e>=240?e-240:e+120,a,n),Gp(e,a,n),Gp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Br(i_(this.h),xc(this.s),xc(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xd(this.opacity);return`${e===1?"hsl(":"hsla("}${i_(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function i_(e){return e=(e||0)%360,e<0?e+360:e}function xc(e){return Math.max(0,Math.min(1,e||0))}function Gp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const R0=e=>()=>e;function tK(e,t){return function(r){return e+r*t}}function rK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nK(e){return(e=+e)==1?sk:function(t,r){return r-t?rK(t,r,e):R0(isNaN(t)?r:t)}}function sk(e,t){var r=t-e;return r?tK(e,r):R0(isNaN(e)?t:e)}const o_=function e(t){var r=nK(t);function n(a,i){var o=r((a=ry(a)).r,(i=ry(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),c=sk(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function aK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function iK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Os(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function sK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Jd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lK(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Os(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ny=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kp=new RegExp(ny.source,"g");function uK(e){return function(){return e}}function cK(e){return function(t){return e(t)+""}}function dK(e,t){var r=ny.lastIndex=Kp.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=ny.exec(e))&&(a=Kp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Jd(n,a)})),r=Kp.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?cK(l[0].x):uK(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Os(e,t){var r=typeof t,n;return t==null||r==="boolean"?R0(t):(r==="number"?Jd:r==="string"?(n=eu(t))?(t=n,o_):dK:t instanceof eu?o_:t instanceof Date?sK:iK(t)?aK:Array.isArray(t)?oK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lK:Jd)(e,t)}function M0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fK(e,t){t===void 0&&(t=e,e=Os);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function hK(e){return function(){return e}}function Qd(e){return+e}var s_=[0,1];function zt(e){return e}function ay(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hK(isNaN(t)?NaN:.5)}function pK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mK(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ay(a,n),i=r(o,i)):(n=ay(n,a),i=r(i,o)),function(s){return i(n(s))}}function gK(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ay(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=Lu(e,s,1,n)-1;return i[l](a[l](s))}}function Bu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Oh(){var e=s_,t=s_,r=Os,n,a,i,o=zt,s,l,c;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=pK(e[0],e[h-1])),s=h>2?gK:mK,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((c||(c=s(t,e.map(n),Jd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Qd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=M0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function L0(){return Oh()(zt,zt)}function yK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bo(e){return e=Zd(Math.abs(e)),e?e[1]:NaN}function vK(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function bK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tu(e){if(!(t=xK.exec(e)))throw new Error("invalid format: "+e);var t;return new U0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tu.prototype=U0.prototype;function U0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}U0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wK(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lk;function _K(e,t){var r=Zd(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(lk=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Zd(e,Math.max(0,t+i-1))[0]}function l_(e,t){var r=Zd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const u_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>l_(e*100,t),r:l_,s:_K,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c_(e){return e}var d_=Array.prototype.map,f_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jK(e){var t=e.grouping===void 0||e.thousands===void 0?c_:vK(d_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?c_:bK(d_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=tu(f);var h=f.fill,p=f.align,m=f.sign,y=f.symbol,v=f.zero,g=f.width,b=f.comma,x=f.precision,j=f.trim,w=f.type;w==="n"?(b=!0,w="g"):u_[w]||(x===void 0&&(x=12),j=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=y==="$"?n:/[%p]/.test(w)?o:"",P=u_[w],k=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(E){var T=_,M=S,C,A,O;if(w==="c")M=P(E)+M,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?l:P(Math.abs(E),x),j&&(E=wK(E)),R&&+E==0&&m!=="+"&&(R=!1),T=(R?m==="("?m:s:m==="-"||m==="("?"":m)+T,M=(w==="s"?f_[8+lk/3]:"")+M+(R&&m==="("?")":""),k){for(C=-1,A=E.length;++C<A;)if(O=E.charCodeAt(C),48>O||O>57){M=(O===46?a+E.slice(C+1):E.slice(C))+M,E=E.slice(0,C);break}}}b&&!v&&(E=t(E,1/0));var I=T.length+E.length+M.length,L=I<g?new Array(g-I+1).join(h):"";switch(b&&v&&(E=t(L+E,L.length?g-M.length:1/0),L=""),p){case"<":E=T+E+M+L;break;case"=":E=T+L+E+M;break;case"^":E=L.slice(0,I=L.length>>1)+T+E+M+L.slice(I);break;default:E=L+T+E+M;break}return i(E)}return $.toString=function(){return f+""},$}function d(f,h){var p=c((f=tu(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Bo(h)/3)))*3,y=Math.pow(10,-m),v=f_[8+m/3];return function(g){return p(y*g)+v}}return{format:c,formatPrefix:d}}var wc,B0,uk;SK({thousands:",",grouping:[3],currency:["$",""]});function SK(e){return wc=jK(e),B0=wc.format,uk=wc.formatPrefix,wc}function OK(e){return Math.max(0,-Bo(Math.abs(e)))}function NK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bo(t)/3)))*3-Bo(Math.abs(e)))}function PK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bo(t)-Bo(e))+1}function ck(e,t,r,n){var a=ey(e,t,r),i;switch(n=tu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=NK(a,o))&&(n.precision=i),uk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=PK(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=OK(a))&&(n.precision=i-(n.type==="%")*2);break}}return B0(n)}function Ca(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ck(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Zg(o,s,r),c===l)return n[a]=o,n[i]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function ef(){var e=L0();return e.copy=function(){return Bu(e,ef())},kr.apply(e,arguments),Ca(e)}function dk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dk(e).unknown(t)},e=arguments.length?Array.from(e,Qd):[0,1],Ca(r)}function fk(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function h_(e){return Math.log(e)}function p_(e){return Math.exp(e)}function EK(e){return-Math.log(-e)}function AK(e){return-Math.exp(-e)}function kK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TK(e){return e===10?kK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m_(e){return(t,r)=>-e(-t,r)}function F0(e){const t=e(h_,p_),r=t.domain;let n=10,a,i;function o(){return a=CK(n),i=TK(n),r()[0]<0?(a=m_(a),i=m_(i),e(EK,AK)):e(h_,p_),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),p=a(d),m,y;const v=s==null?10:+s;let g=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(y=h<0?m/i(-h):m*i(h),!(y<c)){if(y>d)break;g.push(y)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(y=h>0?m/i(-h):m*i(h),!(y<c)){if(y>d)break;g.push(y)}g.length*2<v&&(g=Qg(c,d,v))}else g=Qg(h,p,Math.min(p-h,v)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=tu(l)).precision==null&&(l.trim=!0),l=B0(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(fk(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function hk(){const e=F0(Oh()).domain([1,10]);return e.copy=()=>Bu(e,hk()).base(e.base()),kr.apply(e,arguments),e}function g_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function y_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function q0(e){var t=1,r=e(g_(t),y_(t));return r.constant=function(n){return arguments.length?e(g_(t=+n),y_(t)):t},Ca(r)}function pk(){var e=q0(Oh());return e.copy=function(){return Bu(e,pk()).constant(e.constant())},kr.apply(e,arguments)}function v_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $K(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IK(e){return e<0?-e*e:e*e}function z0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e($K,IK):e(v_(r),v_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ca(t)}function W0(){var e=z0(Oh());return e.copy=function(){return Bu(e,W0()).exponent(e.exponent())},kr.apply(e,arguments),e}function DK(){return W0.apply(null,arguments).exponent(.5)}function b_(e){return Math.sign(e)*e*e}function RK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mk(){var e=L0(),t=[0,1],r=!1,n;function a(i){var o=RK(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(b_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Qd)).map(b_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return mk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},kr.apply(a,arguments),Ca(a)}function gk(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=FG(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Lu(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ba),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return gk().domain(e).range(t).unknown(n)},kr.apply(i,arguments)}function yk(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Lu(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return yk().domain([e,t]).range(a).unknown(i)},kr.apply(Ca(o),arguments)}function vk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Lu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vk().domain(e).range(t).unknown(r)},kr.apply(a,arguments)}const Yp=new Date,Xp=new Date;function mt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>mt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Yp.setTime(+i),Xp.setTime(+o),e(Yp),e(Xp),Math.floor(r(Yp,Xp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const tf=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tf);tf.range;const xn=1e3,jr=xn*60,wn=jr*60,$n=wn*24,V0=$n*7,x_=$n*30,Jp=$n*365,ui=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCSeconds());ui.range;const H0=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xn)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getMinutes());H0.range;const G0=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCMinutes());G0.range;const K0=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xn-e.getMinutes()*jr)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getHours());K0.range;const Y0=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCHours());Y0.range;const Fu=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jr)/$n,e=>e.getDate()-1);Fu.range;const Nh=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$n,e=>e.getUTCDate()-1);Nh.range;const bk=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$n,e=>Math.floor(e/$n));bk.range;function ki(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*jr)/V0)}const Ph=ki(0),rf=ki(1),MK=ki(2),LK=ki(3),Fo=ki(4),UK=ki(5),BK=ki(6);Ph.range;rf.range;MK.range;LK.range;Fo.range;UK.range;BK.range;function Ti(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/V0)}const Eh=Ti(0),nf=Ti(1),FK=Ti(2),qK=Ti(3),qo=Ti(4),zK=Ti(5),WK=Ti(6);Eh.range;nf.range;FK.range;qK.range;qo.range;zK.range;WK.range;const X0=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());X0.range;const J0=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());J0.range;const In=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});In.range;const Dn=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Dn.range;function xk(e,t,r,n,a,i){const o=[[ui,1,xn],[ui,5,5*xn],[ui,15,15*xn],[ui,30,30*xn],[i,1,jr],[i,5,5*jr],[i,15,15*jr],[i,30,30*jr],[a,1,wn],[a,3,3*wn],[a,6,6*wn],[a,12,12*wn],[n,1,$n],[n,2,2*$n],[r,1,V0],[t,1,x_],[t,3,3*x_],[e,1,Jp]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=$0(([,,v])=>v).right(o,h);if(p===o.length)return e.every(ey(c/Jp,d/Jp,f));if(p===0)return tf.every(Math.max(ey(c,d,f),1));const[m,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(y)}return[s,l]}const[VK,HK]=xk(Dn,J0,Eh,bk,Y0,G0),[GK,KK]=xk(In,X0,Ph,Fu,K0,H0);function Qp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YK(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Hs(a),d=Gs(a),f=Hs(i),h=Gs(i),p=Hs(o),m=Gs(o),y=Hs(s),v=Gs(s),g=Hs(l),b=Gs(l),x={a:R,A:I,b:L,B:V,c:null,d:N_,e:N_,f:vY,g:EY,G:kY,H:mY,I:gY,j:yY,L:wk,m:bY,M:xY,p:z,q,Q:A_,s:k_,S:wY,u:_Y,U:jY,V:SY,w:OY,W:NY,x:null,X:null,y:PY,Y:AY,Z:TY,"%":E_},j={a:Z,A:fe,b:te,B:ge,c:null,d:P_,e:P_,f:DY,g:VY,G:GY,H:CY,I:$Y,j:IY,L:jk,m:RY,M:MY,p:Ue,q:we,Q:A_,s:k_,S:LY,u:UY,U:BY,V:FY,w:qY,W:zY,x:null,X:null,y:WY,Y:HY,Z:KY,"%":E_},w={a:$,A:E,b:T,B:M,c:C,d:S_,e:S_,f:dY,g:j_,G:__,H:O_,I:O_,j:sY,L:cY,m:oY,M:lY,p:k,q:iY,Q:hY,s:pY,S:uY,u:eY,U:tY,V:rY,w:ZK,W:nY,x:A,X:O,y:j_,Y:__,Z:aY,"%":fY};x.x=_(r,x),x.X=_(n,x),x.c=_(t,x),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(Y,B){return function(H){var W=[],ie=-1,ae=0,de=Y.length,be,Qe,Lt;for(H instanceof Date||(H=new Date(+H));++ie<de;)Y.charCodeAt(ie)===37&&(W.push(Y.slice(ae,ie)),(Qe=w_[be=Y.charAt(++ie)])!=null?be=Y.charAt(++ie):Qe=be==="e"?" ":"0",(Lt=B[be])&&(be=Lt(H,Qe)),W.push(be),ae=ie+1);return W.push(Y.slice(ae,ie)),W.join("")}}function S(Y,B){return function(H){var W=Vs(1900,void 0,1),ie=P(W,Y,H+="",0),ae,de;if(ie!=H.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(B&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ae=Zp(Vs(W.y,0,1)),de=ae.getUTCDay(),ae=de>4||de===0?nf.ceil(ae):nf(ae),ae=Nh.offset(ae,(W.V-1)*7),W.y=ae.getUTCFullYear(),W.m=ae.getUTCMonth(),W.d=ae.getUTCDate()+(W.w+6)%7):(ae=Qp(Vs(W.y,0,1)),de=ae.getDay(),ae=de>4||de===0?rf.ceil(ae):rf(ae),ae=Fu.offset(ae,(W.V-1)*7),W.y=ae.getFullYear(),W.m=ae.getMonth(),W.d=ae.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),de="Z"in W?Zp(Vs(W.y,0,1)).getUTCDay():Qp(Vs(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(de+5)%7:W.w+W.U*7-(de+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Zp(W)):Qp(W)}}function P(Y,B,H,W){for(var ie=0,ae=B.length,de=H.length,be,Qe;ie<ae;){if(W>=de)return-1;if(be=B.charCodeAt(ie++),be===37){if(be=B.charAt(ie++),Qe=w[be in w_?B.charAt(ie++):be],!Qe||(W=Qe(Y,H,W))<0)return-1}else if(be!=H.charCodeAt(W++))return-1}return W}function k(Y,B,H){var W=c.exec(B.slice(H));return W?(Y.p=d.get(W[0].toLowerCase()),H+W[0].length):-1}function $(Y,B,H){var W=p.exec(B.slice(H));return W?(Y.w=m.get(W[0].toLowerCase()),H+W[0].length):-1}function E(Y,B,H){var W=f.exec(B.slice(H));return W?(Y.w=h.get(W[0].toLowerCase()),H+W[0].length):-1}function T(Y,B,H){var W=g.exec(B.slice(H));return W?(Y.m=b.get(W[0].toLowerCase()),H+W[0].length):-1}function M(Y,B,H){var W=y.exec(B.slice(H));return W?(Y.m=v.get(W[0].toLowerCase()),H+W[0].length):-1}function C(Y,B,H){return P(Y,t,B,H)}function A(Y,B,H){return P(Y,r,B,H)}function O(Y,B,H){return P(Y,n,B,H)}function R(Y){return o[Y.getDay()]}function I(Y){return i[Y.getDay()]}function L(Y){return l[Y.getMonth()]}function V(Y){return s[Y.getMonth()]}function z(Y){return a[+(Y.getHours()>=12)]}function q(Y){return 1+~~(Y.getMonth()/3)}function Z(Y){return o[Y.getUTCDay()]}function fe(Y){return i[Y.getUTCDay()]}function te(Y){return l[Y.getUTCMonth()]}function ge(Y){return s[Y.getUTCMonth()]}function Ue(Y){return a[+(Y.getUTCHours()>=12)]}function we(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var B=_(Y+="",x);return B.toString=function(){return Y},B},parse:function(Y){var B=S(Y+="",!1);return B.toString=function(){return Y},B},utcFormat:function(Y){var B=_(Y+="",j);return B.toString=function(){return Y},B},utcParse:function(Y){var B=S(Y+="",!0);return B.toString=function(){return Y},B}}}var w_={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,XK=/^%/,JK=/[\\^$*+?|[\]().{}]/g;function je(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function QK(e){return e.replace(JK,"\\$&")}function Hs(e){return new RegExp("^(?:"+e.map(QK).join("|")+")","i")}function Gs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZK(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eY(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function __(e,t,r){var n=_t.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function j_(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iY(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function S_(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sY(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function O_(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function uY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cY(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dY(e,t,r){var n=_t.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fY(e,t,r){var n=XK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hY(e,t,r){var n=_t.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pY(e,t,r){var n=_t.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function N_(e,t){return je(e.getDate(),t,2)}function mY(e,t){return je(e.getHours(),t,2)}function gY(e,t){return je(e.getHours()%12||12,t,2)}function yY(e,t){return je(1+Fu.count(In(e),e),t,3)}function wk(e,t){return je(e.getMilliseconds(),t,3)}function vY(e,t){return wk(e,t)+"000"}function bY(e,t){return je(e.getMonth()+1,t,2)}function xY(e,t){return je(e.getMinutes(),t,2)}function wY(e,t){return je(e.getSeconds(),t,2)}function _Y(e){var t=e.getDay();return t===0?7:t}function jY(e,t){return je(Ph.count(In(e)-1,e),t,2)}function _k(e){var t=e.getDay();return t>=4||t===0?Fo(e):Fo.ceil(e)}function SY(e,t){return e=_k(e),je(Fo.count(In(e),e)+(In(e).getDay()===4),t,2)}function OY(e){return e.getDay()}function NY(e,t){return je(rf.count(In(e)-1,e),t,2)}function PY(e,t){return je(e.getFullYear()%100,t,2)}function EY(e,t){return e=_k(e),je(e.getFullYear()%100,t,2)}function AY(e,t){return je(e.getFullYear()%1e4,t,4)}function kY(e,t){var r=e.getDay();return e=r>=4||r===0?Fo(e):Fo.ceil(e),je(e.getFullYear()%1e4,t,4)}function TY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function P_(e,t){return je(e.getUTCDate(),t,2)}function CY(e,t){return je(e.getUTCHours(),t,2)}function $Y(e,t){return je(e.getUTCHours()%12||12,t,2)}function IY(e,t){return je(1+Nh.count(Dn(e),e),t,3)}function jk(e,t){return je(e.getUTCMilliseconds(),t,3)}function DY(e,t){return jk(e,t)+"000"}function RY(e,t){return je(e.getUTCMonth()+1,t,2)}function MY(e,t){return je(e.getUTCMinutes(),t,2)}function LY(e,t){return je(e.getUTCSeconds(),t,2)}function UY(e){var t=e.getUTCDay();return t===0?7:t}function BY(e,t){return je(Eh.count(Dn(e)-1,e),t,2)}function Sk(e){var t=e.getUTCDay();return t>=4||t===0?qo(e):qo.ceil(e)}function FY(e,t){return e=Sk(e),je(qo.count(Dn(e),e)+(Dn(e).getUTCDay()===4),t,2)}function qY(e){return e.getUTCDay()}function zY(e,t){return je(nf.count(Dn(e)-1,e),t,2)}function WY(e,t){return je(e.getUTCFullYear()%100,t,2)}function VY(e,t){return e=Sk(e),je(e.getUTCFullYear()%100,t,2)}function HY(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function GY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qo(e):qo.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function KY(){return"+0000"}function E_(){return"%"}function A_(e){return+e}function k_(e){return Math.floor(+e/1e3)}var qi,Ok,Nk;YY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YY(e){return qi=YK(e),Ok=qi.format,qi.parse,Nk=qi.utcFormat,qi.utcParse,qi}function XY(e){return new Date(e)}function JY(e){return e instanceof Date?+e:+new Date(+e)}function Q0(e,t,r,n,a,i,o,s,l,c){var d=L0(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),y=c("%I:%M"),v=c("%I %p"),g=c("%a %d"),b=c("%b %d"),x=c("%B"),j=c("%Y");function w(_){return(l(_)<_?p:s(_)<_?m:o(_)<_?y:i(_)<_?v:n(_)<_?a(_)<_?g:b:r(_)<_?x:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,JY)):h().map(XY)},d.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?w:c(S)},d.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(fk(S,_)):d},d.copy=function(){return Bu(d,Q0(e,t,r,n,a,i,o,s,l,c))},d}function QY(){return kr.apply(Q0(GK,KK,In,X0,Ph,Fu,K0,H0,ui,Ok).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZY(){return kr.apply(Q0(VK,HK,Dn,J0,Eh,Nh,Y0,G0,ui,Nk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ah(){var e=0,t=1,r,n,a,i,o=zt,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=d(Os),c.rangeRound=d(M0),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function $a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Pk(){var e=Ca(Ah()(zt));return e.copy=function(){return $a(e,Pk())},qn.apply(e,arguments)}function Ek(){var e=F0(Ah()).domain([1,10]);return e.copy=function(){return $a(e,Ek()).base(e.base())},qn.apply(e,arguments)}function Ak(){var e=q0(Ah());return e.copy=function(){return $a(e,Ak()).constant(e.constant())},qn.apply(e,arguments)}function Z0(){var e=z0(Ah());return e.copy=function(){return $a(e,Z0()).exponent(e.exponent())},qn.apply(e,arguments)}function eX(){return Z0.apply(null,arguments).exponent(.5)}function kk(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ba),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>BG(e,i/n))},r.copy=function(){return kk(t).domain(e)},qn.apply(r,arguments)}function kh(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,c=zt,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?s:l),c(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function m(y){return function(v){var g,b,x;return arguments.length?([g,b,x]=v,c=fK(y,[g,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(Os),p.rangeRound=m(M0),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,a=y(e),i=y(t),o=y(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function Tk(){var e=Ca(kh()(zt));return e.copy=function(){return $a(e,Tk())},qn.apply(e,arguments)}function Ck(){var e=F0(kh()).domain([.1,1,10]);return e.copy=function(){return $a(e,Ck()).base(e.base())},qn.apply(e,arguments)}function $k(){var e=q0(kh());return e.copy=function(){return $a(e,$k()).constant(e.constant())},qn.apply(e,arguments)}function eb(){var e=z0(kh());return e.copy=function(){return $a(e,eb()).exponent(e.exponent())},qn.apply(e,arguments)}function tX(){return eb.apply(null,arguments).exponent(.5)}const T_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jl,scaleDiverging:Tk,scaleDivergingLog:Ck,scaleDivergingPow:eb,scaleDivergingSqrt:tX,scaleDivergingSymlog:$k,scaleIdentity:dk,scaleImplicit:ty,scaleLinear:ef,scaleLog:hk,scaleOrdinal:I0,scalePoint:yl,scalePow:W0,scaleQuantile:gk,scaleQuantize:yk,scaleRadial:mk,scaleSequential:Pk,scaleSequentialLog:Ek,scaleSequentialPow:Z0,scaleSequentialQuantile:kk,scaleSequentialSqrt:eX,scaleSequentialSymlog:Ak,scaleSqrt:DK,scaleSymlog:pk,scaleThreshold:vk,scaleTime:QY,scaleUtc:ZY,tickFormat:ck},Symbol.toStringTag,{value:"Module"}));var rX=gs;function nX(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!rX(o):r(o,s)))var s=o,l=i}return l}var Th=nX;function aX(e,t){return e>t}var Ik=aX,iX=Th,oX=Ik,sX=js;function lX(e){return e&&e.length?iX(e,sX,oX):void 0}var uX=lX;const Ch=Ne(uX);function cX(e,t){return e<t}var Dk=cX,dX=Th,fX=Dk,hX=js;function pX(e){return e&&e.length?dX(e,hX,fX):void 0}var mX=pX;const $h=Ne(mX);var gX=p0,yX=sn,vX=zA,bX=nr;function xX(e,t){var r=bX(e)?gX:vX;return r(e,yX(t))}var wX=xX,_X=FA,jX=wX;function SX(e,t){return _X(jX(e,t),1)}var OX=SX;const NX=Ne(OX);var PX=A0;function EX(e,t){return PX(e,t)}var AX=EX;const Ih=Ne(AX);var Ns=1e9,kX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rb,Ke=!0,Er="[DecimalError] ",mi=Er+"Invalid argument: ",tb=Er+"Exponent out of range: ",Ps=Math.floor,Qa=Math.pow,TX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,yt=1e7,ze=7,Rk=9007199254740991,af=Ps(Rk/ze),Q={};Q.absoluteValue=Q.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Q.comparedTo=Q.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Q.dividedBy=Q.div=function(e){return Pn(this,new this.constructor(e))};Q.dividedToIntegerBy=Q.idiv=function(e){var t=this,r=t.constructor;return $e(Pn(t,new r(e),0,1),r.precision)};Q.equals=Q.eq=function(e){return!this.cmp(e)};Q.exponent=function(){return ut(this)};Q.greaterThan=Q.gt=function(e){return this.cmp(e)>0};Q.greaterThanOrEqualTo=Q.gte=function(e){return this.cmp(e)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(e){return this.cmp(e)<0};Q.lessThanOrEqualTo=Q.lte=function(e){return this.cmp(e)<1};Q.logarithm=Q.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Er+"NaN");if(r.s<1)throw Error(Er+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ke=!1,t=Pn(ru(r,i),ru(e,i),i),Ke=!0,$e(t,a))};Q.minus=Q.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Uk(t,e):Mk(t,(e.s=-e.s,e))};Q.modulo=Q.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Er+"NaN");return r.s?(Ke=!1,t=Pn(r,e,0,1).times(e),Ke=!0,r.minus(t)):$e(new n(r),a)};Q.naturalExponential=Q.exp=function(){return Lk(this)};Q.naturalLogarithm=Q.ln=function(){return ru(this)};Q.negated=Q.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Q.plus=Q.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Mk(t,e):Uk(t,(e.s=-e.s,e))};Q.precision=Q.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=ut(a)+1,n=a.d.length-1,r=n*ze+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Q.squareRoot=Q.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Er+"NaN")}for(e=ut(s),Ke=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Zr(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ps((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(Pn(s,i,o+2)).times(.5),Zr(i.d).slice(0,o)===(t=Zr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if($e(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ke=!0,$e(n,r)};Q.times=Q.mul=function(e){var t,r,n,a,i,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,o=l,l=c,c=o),i=[],o=l+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+p[n]*h[a-n-1]+t,i[a--]=s%yt|0,t=s/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ke?$e(e,f.precision):e};Q.toDecimalPlaces=Q.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(an(e,0,Ns),t===void 0?t=n.rounding:an(t,0,8),$e(r,e+ut(r)+1,t))};Q.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Si(n,!0):(an(e,0,Ns),t===void 0?t=a.rounding:an(t,0,8),n=$e(new a(n),e+1,t),r=Si(n,!0,e+1)),r};Q.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Si(a):(an(e,0,Ns),t===void 0?t=i.rounding:an(t,0,8),n=$e(new i(a),e+ut(a)+1,t),r=Si(n.abs(),!1,e+ut(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Q.toInteger=Q.toint=function(){var e=this,t=e.constructor;return $e(new t(e),ut(e)+1,t.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(lr);if(s=new l(s),!s.s){if(e.s<1)throw Error(Er+"Infinity");return s}if(s.eq(lr))return s;if(n=l.precision,e.eq(lr))return $e(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=Rk){for(a=new l(lr),t=Math.ceil(n/ze+4),Ke=!1;r%2&&(a=a.times(s),$_(a.d,t)),r=Ps(r/2),r!==0;)s=s.times(s),$_(s.d,t);return Ke=!0,e.s<0?new l(lr).div(a):$e(a,n)}}else if(i<0)throw Error(Er+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ke=!1,a=e.times(ru(s,n+c)),Ke=!0,a=Lk(a),a.s=i,a};Q.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ut(a),n=Si(a,r<=i.toExpNeg||r>=i.toExpPos)):(an(e,1,Ns),t===void 0?t=i.rounding:an(t,0,8),a=$e(new i(a),e,t),r=ut(a),n=Si(a,e<=r||r<=i.toExpNeg,e)),n};Q.toSignificantDigits=Q.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(an(e,1,Ns),t===void 0?t=n.rounding:an(t,0,8)),$e(new n(r),e,t)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Si(e,t<=r.toExpNeg||t>=r.toExpPos)};function Mk(e,t){var r,n,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?$e(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=c.length):(n=c,a=o,s=l.length),o=Math.ceil(f/ze),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/yt|0,l[i]%=yt;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Ke?$e(t,f):t}function an(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function Zr(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ze-n.length,r&&(i+=Qn(r)),i+=n;o=e[t],n=o+"",r=ze-n.length,r&&(i+=Qn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pn=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%yt|0,o=i/yt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,c,d,f,h,p,m,y,v,g,b,x,j,w,_,S,P,k=n.constructor,$=n.s==a.s?1:-1,E=n.d,T=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Er+"Division by zero");for(l=n.e-a.e,S=T.length,w=E.length,p=new k($),m=p.d=[],c=0;T[c]==(E[c]||0);)++c;if(T[c]>(E[c]||0)&&--l,i==null?b=i=k.precision:o?b=i+(ut(n)-ut(a))+1:b=i,b<0)return new k(0);if(b=b/ze+2|0,c=0,S==1)for(d=0,T=T[0],b++;(c<w||d)&&b--;c++)x=d*yt+(E[c]||0),m[c]=x/T|0,d=x%T|0;else{for(d=yt/(T[0]+1)|0,d>1&&(T=e(T,d),E=e(E,d),S=T.length,w=E.length),j=S,y=E.slice(0,S),v=y.length;v<S;)y[v++]=0;P=T.slice(),P.unshift(0),_=T[0],T[1]>=yt/2&&++_;do d=0,s=t(T,y,S,v),s<0?(g=y[0],S!=v&&(g=g*yt+(y[1]||0)),d=g/_|0,d>1?(d>=yt&&(d=yt-1),f=e(T,d),h=f.length,v=y.length,s=t(f,y,h,v),s==1&&(d--,r(f,S<h?P:T,h))):(d==0&&(s=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),s==-1&&(v=y.length,s=t(T,y,S,v),s<1&&(d++,r(y,S<v?P:T,v))),v=y.length):s===0&&(d++,y=[0]),m[c++]=d,s&&y[0]?y[v++]=E[j]||0:(y=[E[j]],v=1);while((j++<w||y[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,$e(p,o?i+ut(p)+1:i)}}();function Lk(e,t){var r,n,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(ut(e)>16)throw Error(tb+ut(e));if(!e.s)return new d(lr);for(Ke=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Qa(2,c))/Math.LN10*2+5|0,s+=n,r=a=i=new d(lr),d.precision=s;;){if(a=$e(a.times(e),s),r=r.times(++l),o=i.plus(Pn(a,r,s)),Zr(o.d).slice(0,s)===Zr(i.d).slice(0,s)){for(;c--;)i=$e(i.times(i),s);return d.precision=f,t==null?(Ke=!0,$e(i,f)):i}i=o}}function ut(e){for(var t=e.e*ze,r=e.d[0];r>=10;r/=10)t++;return t}function em(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(Er+"LN10 precision limit exceeded");return $e(new e(e.LN10),t)}function Qn(e){for(var t="";e--;)t+="0";return t}function ru(e,t){var r,n,a,i,o,s,l,c,d,f=1,h=10,p=e,m=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(Er+(p.s?"NaN":"-Infinity"));if(p.eq(lr))return new y(0);if(t==null?(Ke=!1,c=v):c=t,p.eq(10))return t==null&&(Ke=!0),em(y,c);if(c+=h,y.precision=c,r=Zr(m),n=r.charAt(0),i=ut(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Zr(p.d),n=r.charAt(0),f++;i=ut(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return l=em(y,c+2,v).times(i+""),p=ru(new y(n+"."+r.slice(1)),c-h).plus(l),y.precision=v,t==null?(Ke=!0,$e(p,v)):p;for(s=o=p=Pn(p.minus(lr),p.plus(lr),c),d=$e(p.times(p),c),a=3;;){if(o=$e(o.times(d),c),l=s.plus(Pn(o,new y(a),c)),Zr(l.d).slice(0,c)===Zr(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(em(y,c+2,v).times(i+""))),s=Pn(s,new y(f),c),y.precision=v,t==null?(Ke=!0,$e(s,v)):s;s=l,a+=2}}function C_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ps(r/ze),e.d=[],n=(r+1)%ze,r<0&&(n+=ze),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ze;n<a;)e.d.push(+t.slice(n,n+=ze));t=t.slice(n),n=ze-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>af||e.e<-af))throw Error(tb+r)}else e.s=0,e.e=0,e.d=[0];return e}function $e(e,t,r){var n,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ze,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/ze),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;n%=ze,a=n-ze+o}if(r!==void 0&&(i=Qa(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Qa(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ut(e),f.length=1,t=t-i-1,f[0]=Qa(10,(ze-t%ze)%ze),e.e=Ps(-t/ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Qa(10,ze-n),f[d]=a>0?(c/Qa(10,o-a)%Qa(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>af||e.e<-af))throw Error(tb+ut(e));return e}function Uk(e,t){var r,n,a,i,o,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?$e(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(p/ze),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=yt-1;--l[i],l[a]+=yt}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ke?$e(t,p):t):new h(0)}function Si(e,t,r){var n,a=ut(e),i=Zr(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Qn(-a-1)+i,r&&(n=r-o)>0&&(i+=Qn(n))):a>=o?(i+=Qn(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Qn(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Qn(n))),e.s<0?"-"+i:i}function $_(e,t){if(e.length>t)return e.length=t,!0}function Bk(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return C_(o,i.toString())}else if(typeof i!="string")throw Error(mi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,TX.test(i))C_(o,i);else throw Error(mi+i)}if(a.prototype=Q,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Bk,a.config=a.set=CX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function CX(e){if(!e||typeof e!="object")throw Error(Er+"Object expected");var t,r,n,a=["precision",1,Ns,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ps(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var rb=Bk(kX);lr=new rb(1);const Ce=rb;function $X(e){return MX(e)||RX(e)||DX(e)||IX()}function IX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function RX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function MX(e){if(Array.isArray(e))return iy(e)}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var LX=function(t){return t},Fk={},qk=function(t){return t===Fk},I_=function(t){return function r(){return arguments.length===0||arguments.length===1&&qk(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},UX=function e(t,r){return t===1?r:I_(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==Fk}).length;return o>=t?r.apply(void 0,a):e(t-o,I_(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=a.map(function(f){return qk(f)?l.shift():f});return r.apply(void 0,$X(d).concat(l))}))})},Dh=function(t){return UX(t.length,t)},oy=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},BX=Dh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),FX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return LX;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},sy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},zk=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function qX(e){var t;return e===0?t=1:t=Math.floor(new Ce(e).abs().log(10).toNumber())+1,t}function zX(e,t,r){for(var n=new Ce(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var WX=Dh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),VX=Dh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),HX=Dh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rh={rangeStep:zX,getDigitCount:qX,interpolateNumber:WX,uninterpolateNumber:VX,uninterpolateTruncation:HX};function ly(e){return YX(e)||KX(e)||Wk(e)||GX()}function GX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function YX(e){if(Array.isArray(e))return uy(e)}function nu(e,t){return QX(e)||JX(e,t)||Wk(e,t)||XX()}function XX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wk(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JX(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function QX(e){if(Array.isArray(e))return e}function Vk(e){var t=nu(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Hk(e,t,r){if(e.lte(0))return new Ce(0);var n=Rh.getDigitCount(e.toNumber()),a=new Ce(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Ce(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new Ce(Math.ceil(l))}function ZX(e,t,r){var n=1,a=new Ce(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ce(10).pow(Rh.getDigitCount(e)-1),a=new Ce(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ce(Math.floor(e)))}else e===0?a=new Ce(Math.floor((t-1)/2)):r||(a=new Ce(Math.floor(e)));var o=Math.floor((t-1)/2),s=FX(BX(function(l){return a.add(new Ce(l-o).mul(n)).toNumber()}),oy);return s(0,t)}function Gk(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var i=Hk(new Ce(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ce(0):(o=new Ce(e).add(t).div(2),o=o.sub(new Ce(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Ce(t).sub(o).div(i).toNumber()),c=s+l+1;return c>r?Gk(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:i,tickMin:o.sub(new Ce(s).mul(i)),tickMax:o.add(new Ce(l).mul(i))})}function eJ(e){var t=nu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=Vk([r,n]),l=nu(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(ly(oy(0,a-1).map(function(){return 1/0}))):[].concat(ly(oy(0,a-1).map(function(){return-1/0})),[d]);return r>n?sy(f):f}if(c===d)return ZX(c,a,i);var h=Gk(c,d,o,i),p=h.step,m=h.tickMin,y=h.tickMax,v=Rh.rangeStep(m,y.add(new Ce(.1).mul(p)),p);return r>n?sy(v):v}function tJ(e,t){var r=nu(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Vk([n,a]),s=nu(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=Hk(new Ce(c).sub(l).div(d-1),i,0),h=[].concat(ly(Rh.rangeStep(new Ce(l),new Ce(c).sub(new Ce(.99).mul(f)),f)),[c]);return n>a?sy(h):h}var rJ=zk(eJ),nJ=zk(tJ),aJ="Invariant failed";function Oi(e,t){throw new Error(aJ)}var iJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function oJ(e,t){return cJ(e)||uJ(e,t)||lJ(e,t)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(e,t){if(e){if(typeof e=="string")return D_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D_(e,t)}}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function cJ(e){if(Array.isArray(e))return e}function dJ(e,t){if(e==null)return{};var r=fJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xk(n.key),n)}}function mJ(e,t,r){return t&&pJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gJ(e,t,r){return t=sf(t),yJ(e,Kk()?Reflect.construct(t,r||[],sf(e).constructor):t.apply(e,r))}function yJ(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vJ(e)}function vJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kk=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(e)}function bJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cy(e,t)}function Yk(e,t,r){return t=Xk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xk(e){var t=xJ(e,"string");return zo(t)=="symbol"?t:t+""}function xJ(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mh=function(e){function t(){return hJ(this,t),gJ(this,t,arguments)}return bJ(t,e),mJ(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=dJ(n,iJ),p=ue(h,!1);this.props.direction==="x"&&d.type!=="number"&&Oi();var m=l.map(function(y){var v=c(y,s),g=v.x,b=v.y,x=v.value,j=v.errorVal;if(!j)return null;var w=[],_,S;if(Array.isArray(j)){var P=oJ(j,2);_=P[0],S=P[1]}else _=S=j;if(i==="vertical"){var k=d.scale,$=b+a,E=$+o,T=$-o,M=k(x-_),C=k(x+S);w.push({x1:C,y1:E,x2:C,y2:T}),w.push({x1:M,y1:$,x2:C,y2:$}),w.push({x1:M,y1:E,x2:M,y2:T})}else if(i==="horizontal"){var A=f.scale,O=g+a,R=O-o,I=O+o,L=A(x-_),V=A(x+S);w.push({x1:R,y1:V,x2:I,y2:V}),w.push({x1:O,y1:L,x2:O,y2:V}),w.push({x1:R,y1:L,x2:I,y2:L})}return D.createElement(Ee,of({className:"recharts-errorBar",key:"bar-".concat(w.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},p),w.map(function(z){return D.createElement("line",of({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return D.createElement(Ee,{className:"recharts-errorBars"},m)}}])}(D.Component);Yk(Mh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Yk(Mh,"displayName","ErrorBar");function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return t=_J(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=jJ(e,"string");return au(t)=="symbol"?t:t+""}function jJ(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jk=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=or(r,hi);if(!o)return null;var s=hi.defaultProps,l=s!==void 0?Fa(Fa({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:i==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Fa(Fa({},h),f.props):{},m=p.dataKey,y=p.name,v=p.legendType,g=p.hide;return{inactive:g,dataKey:m,type:l.iconType||v||"square",color:nb(f),value:y||m,payload:p}}),Fa(Fa(Fa({},l),hi.getWithHeight(o,a)),{},{payload:c,item:o})};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function M_(e){return PJ(e)||NJ(e)||OJ(e)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJ(e,t){if(e){if(typeof e=="string")return dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dy(e,t)}}function NJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PJ(e){if(Array.isArray(e))return dy(e)}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wo(e,t,r){return t=EJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=AJ(e,"string");return iu(t)=="symbol"?t:t+""}function AJ(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return ye(e)||ye(t)?r:pt(t)?dr(e,t,r):ce(t)?t(e):r}function vl(e,t,r,n){var a=NX(e,function(s){return Rt(s,t)});if(r==="number"){var i=a.filter(function(s){return K(s)||parseFloat(s)});return i.length?[$h(i),Ch(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!ye(s)}):a;return o.map(function(s){return pt(s)||s instanceof Date?s:""})}var kJ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<s;c++){var d=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Ft(f-d)!==Ft(h-f)){var m=[];if(Ft(h-f)===Ft(l[1]-l[0])){p=h;var y=f+l[1]-l[0];m[0]=Math.min(y,(y+d)/2),m[1]=Math.max(y,(y+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=m[0]&&t<=m[1]){o=a[c].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(t>(b+f)/2&&t<=(x+f)/2){o=a[c].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},nb=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},TJ=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],y=m.items,v=m.cateAxisId,g=y.filter(function(S){return Nn(S.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,x=b!==void 0?tt(tt({},b),g[0].props):g[0].props,j=x.barSize,w=x[v];o[w]||(o[w]=[]);var _=ye(j)?r:j;o[w].push({item:g[0],stackList:g.slice(1),barSize:ye(_)?void 0:qt(_,n,0)})}}return o},CJ=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=qt(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/l,m=o.reduce(function(j,w){return j+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var y=(a-m)/2>>0,v={offset:y-c,size:0};d=o.reduce(function(j,w){var _={item:w.item,position:{offset:v.offset+v.size+c,size:h?p:w.barSize}},S=[].concat(M_(j),[_]);return v=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){S.push({item:P,position:v})}),S},f)}else{var g=qt(n,a,0,!0);a-2*g-(l-1)*c<=0&&(c=0);var b=(a-2*g-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;d=o.reduce(function(j,w,_){var S=[].concat(M_(j),[{item:w.item,position:{offset:g+(b+c)*_+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){S.push({item:P,position:S[S.length-1].position})}),S},f)}return d},$J=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=Jk({children:i,legendWidth:l});if(c){var d=a||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&K(t[p]))return tt(tt({},t),{},wo({},p,t[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&K(t[m]))return tt(tt({},t),{},wo({},m,t[m]+(h||0)))}return t},IJ=function(t,r,n){return ye(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Qk=function(t,r,n,a,i){var o=r.props.children,s=Or(o,Mh).filter(function(c){return IJ(a,i,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=Rt(d,n);if(ye(f))return c;var h=Array.isArray(f)?[$h(f),Ch(f)]:[f,f],p=l.reduce(function(m,y){var v=Rt(d,y,0),g=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},DJ=function(t,r,n,a,i){var o=r.map(function(s){return Qk(t,s,n,i,a)}).filter(function(s){return!ye(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Zk=function(t,r,n,a,i){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&Qk(t,l,c,a)||vl(t,c,n,i)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},eT=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},tT=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},_n=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ft(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return d.filter(function(f){return!Du(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},tm=new WeakMap,_c=function(t,r){if(typeof r!="function")return t;tm.has(t)||tm.set(t,new WeakMap);var n=tm.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},rT=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Jl(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:ef(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yl(),realScaleType:"point"}:i==="category"?{scale:Jl(),realScaleType:"band"}:{scale:ef(),realScaleType:"linear"};if(wi(a)){var l="scale".concat(yh(a));return{scale:(T_[l]||yl)(),realScaleType:T_[l]?l:"point"}}return ce(a)?{scale:a}:{scale:yl(),realScaleType:"point"}},U_=1e-4,nT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-U_,o=Math.max(a[0],a[1])+U_,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},RJ=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},MJ=function(t,r){if(!r||r.length!==2||!K(r[0])||!K(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!K(t[0])||t[0]<n)&&(i[0]=n),(!K(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},LJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=Du(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},UJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Du(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},BJ={sign:LJ,expand:iF,none:Do,silhouette:oF,wiggle:sF,positive:UJ},FJ=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=BJ[n],o=aF().keys(a).value(function(s,l){return+Rt(s,l,0)}).order(Rg).offset(i);return o(t)},qJ=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?tt(tt({},h.type.defaultProps),h.props):h.props,y=m.stackId,v=m.hide;if(v)return f;var g=m[n],b=f[g]||{hasStack:!1,stackGroups:{}};if(pt(y)){var x=b.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[y]=x}else b.stackGroups[Ru("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return tt(tt({},f),{},wo({},g,b))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var g=p.stackGroups[v];return tt(tt({},y),{},wo({},v,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:FJ(t,g.items,i)}))},m)}return tt(tt({},f),{},wo({},h,p))},d)},aT=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=rJ(c,i,s);return t.domain([$h(d),Ch(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=nJ(f,i,s);return{niceTicks:h}}return null},B_=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Rt(o,r.dataKey,r.domain[s]);return ye(l)?null:r.scale(l)-i/2+a},zJ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},WJ=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(pt(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},VJ=function(t){return t.reduce(function(r,n){return[$h(n.concat([r[0]]).filter(K)),Ch(n.concat([r[1]]).filter(K))]},[1/0,-1/0])},iT=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(c,d){var f=VJ(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},F_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fy=function(t,r,n){if(ce(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(K(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(F_.test(t[0])){var i=+F_.exec(t[0])[1];a[0]=r[0]-i}else ce(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(K(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(q_.test(t[1])){var o=+q_.exec(t[1])[1];a[1]=r[1]+o}else ce(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},lf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=T0(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var c=i[s],d=i[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},z_=function(t,r,n){return!t||!t.length||Ih(t,dr(n,"type.defaultProps.domain"))?r:t},oT=function(t,r){var n=t.type.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return tt(tt({},ue(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:nb(t),value:Rt(r,a),type:l,payload:r,chartType:c,hide:d})};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){sT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sT(e,t,r){return t=HJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=GJ(e,"string");return ou(t)=="symbol"?t:t+""}function GJ(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KJ(e,t){return QJ(e)||JJ(e,t)||XJ(e,t)||YJ()}function YJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function QJ(e){if(Array.isArray(e))return e}var uf=Math.PI/180,ZJ=function(t){return t*180/Math.PI},Le=function(t,r,n,a){return{x:t+Math.cos(-uf*a)*n,y:r+Math.sin(-uf*a)*n}},lT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},eQ=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,d=qt(t.cx,o,o/2),f=qt(t.cy,s,s/2),h=lT(o,s,n),p=qt(t.innerRadius,h,0),m=qt(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(v,g){var b=r[g],x=b.domain,j=b.reversed,w;if(ye(b.range))a==="angleAxis"?w=[l,c]:a==="radiusAxis"&&(w=[p,m]),j&&(w=[w[1],w[0]]);else{w=b.range;var _=w,S=KJ(_,2);l=S[0],c=S[1]}var P=rT(b,i),k=P.realScaleType,$=P.scale;$.domain(x).range(w),nT($);var E=aT($,gn(gn({},b),{},{realScaleType:k})),T=gn(gn(gn({},b),E),{},{range:w,radius:m,realScaleType:k,scale:$,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return gn(gn({},v),{},sT({},g,T))},{})},tQ=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},rQ=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=tQ({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,c=Math.acos(l);return a>o&&(c=2*Math.PI-c),{radius:s,angle:ZJ(c),angleInRadian:c}},nQ=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},aQ=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},H_=function(t,r){var n=t.x,a=t.y,i=rQ({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=nQ(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?gn(gn({},r),{},{radius:o,angle:aQ(p,r)}):null},uT=function(t){return!N.isValidElement(t)&&!ce(t)&&typeof t!="boolean"?t.className:""};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var iQ=["offset"];function oQ(e){return cQ(e)||uQ(e)||lQ(e)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQ(e,t){if(e){if(typeof e=="string")return hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hy(e,t)}}function uQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cQ(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dQ(e,t){if(e==null)return{};var r=fQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){hQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hQ(e,t,r){return t=pQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=mQ(e,"string");return su(t)=="symbol"?t:t+""}function mQ(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}var gQ=function(t){var r=t.value,n=t.formatter,a=ye(t.children)?r:t.children;return ce(n)?n(a):a},yQ=function(t,r){var n=Ft(r-t),a=Math.min(Math.abs(r-t),360);return n*a},vQ=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,v=(f+h)/2,g=yQ(p,m),b=g>=0?1:-1,x,j;a==="insideStart"?(x=p+b*o,j=y):a==="insideEnd"?(x=m-b*o,j=!y):a==="end"&&(x=m+b*o,j=y),j=g<=0?j:!j;var w=Le(c,d,v,x),_=Le(c,d,v,x+(j?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),P=ye(t.id)?Ru("recharts-radial-line-"):t.id;return D.createElement("text",lu({},n,{dominantBaseline:"central",className:me("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:P,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(P)},r))},bQ=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,c=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Le(o,s,c+n,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,g=Le(o,s,v,h),b=g.x,x=g.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},xQ=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,c=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",y=c>=0?1:-1,v=y*a,g=y>0?"end":"start",b=y>0?"start":"end";if(i==="top"){var x={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return dt(dt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var j={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return dt(dt({},j),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(i==="left"){var w={x:s-v,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return dt(dt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:s+c+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return dt(dt({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var S=n?{width:c,height:d}:{};return i==="insideLeft"?dt({x:s+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideRight"?dt({x:s+c-v,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?dt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},S):i==="insideBottom"?dt({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?dt({x:s+v,y:l+h,textAnchor:b,verticalAnchor:m},S):i==="insideTopRight"?dt({x:s+c-v,y:l+h,textAnchor:g,verticalAnchor:m},S):i==="insideBottomLeft"?dt({x:s+v,y:l+d-h,textAnchor:b,verticalAnchor:p},S):i==="insideBottomRight"?dt({x:s+c-v,y:l+d-h,textAnchor:g,verticalAnchor:p},S):ys(i)&&(K(i.x)||si(i.x))&&(K(i.y)||si(i.y))?dt({x:s+qt(i.x,c),y:l+qt(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):dt({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},wQ=function(t){return"cx"in t&&K(t.cx)};function xt(e){var t=e.offset,r=t===void 0?5:t,n=dQ(e,iQ),a=dt({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||ye(s)&&ye(l)&&!N.isValidElement(c)&&!ce(c))return null;if(N.isValidElement(c))return N.cloneElement(c,a);var p;if(ce(c)){if(p=N.createElement(c,a),N.isValidElement(p))return p}else p=gQ(a);var m=wQ(i),y=ue(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return vQ(a,p,y);var v=m?bQ(a):xQ(a);return D.createElement(ji,lu({className:me("recharts-label",f)},y,v,{breakAll:h}),p)}xt.displayName="Label";var cT=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,y=t.width,v=t.height,g=t.clockWise,b=t.labelViewBox;if(b)return b;if(K(y)&&K(v)){if(K(f)&&K(h))return{x:f,y:h,width:y,height:v};if(K(p)&&K(m))return{x:p,y:m,width:y,height:v}}return K(f)&&K(h)?{x:f,y:h,width:0,height:0}:K(r)&&K(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:g}:t.viewBox?t.viewBox:{}},_Q=function(t,r){return t?t===!0?D.createElement(xt,{key:"label-implicit",viewBox:r}):pt(t)?D.createElement(xt,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===xt?N.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(xt,{key:"label-implicit",content:t,viewBox:r}):ce(t)?D.createElement(xt,{key:"label-implicit",content:t,viewBox:r}):ys(t)?D.createElement(xt,lu({viewBox:r},t,{key:"label-implicit"})):null:null},jQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=cT(t),o=Or(a,xt).map(function(l,c){return N.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return o;var s=_Q(t.label,r||i);return[s].concat(oQ(o))};xt.parseViewBox=cT;xt.renderCallByParent=jQ;function SQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var OQ=SQ;const NQ=Ne(OQ);function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var PQ=["valueAccessor"],EQ=["data","dataKey","clockWise","id","textBreakAll"];function AQ(e){return $Q(e)||CQ(e)||TQ(e)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function CQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Q(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){IQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t,r){return t=DQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=RQ(e,"string");return uu(t)=="symbol"?t:t+""}function RQ(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_(e,t){if(e==null)return{};var r=MQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LQ=function(t){return Array.isArray(t.value)?NQ(t.value):t.value};function xa(e){var t=e.valueAccessor,r=t===void 0?LQ:t,n=X_(e,PQ),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=X_(n,EQ);return!a||!a.length?null:D.createElement(Ee,{className:"recharts-label-list"},a.map(function(d,f){var h=ye(i)?r(d,f):Rt(d&&d.payload,i),p=ye(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(xt,cf({},ue(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:xt.parseViewBox(ye(o)?d:Y_(Y_({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}xa.displayName="LabelList";function UQ(e,t){return e?e===!0?D.createElement(xa,{key:"labelList-implicit",data:t}):D.isValidElement(e)||ce(e)?D.createElement(xa,{key:"labelList-implicit",data:t,content:e}):ys(e)?D.createElement(xa,cf({data:t},e,{key:"labelList-implicit"})):null:null}function BQ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Or(n,xa).map(function(o,s){return N.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=UQ(e.label,t);return[i].concat(AQ(a))}xa.renderCallByParent=BQ;function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){FQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FQ(e,t,r){return t=qQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=zQ(e,"string");return cu(t)=="symbol"?t:t+""}function zQ(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WQ=function(t,r){var n=Ft(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},jc=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/uf,h=c?i:i+o*f,p=Le(r,n,d,h),m=Le(r,n,a,h),y=c?i-o*f:i,v=Le(r,n,d*Math.cos(f*uf),y);return{center:p,circleTangency:m,lineTangency:v,theta:f}},dT=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=WQ(o,s),c=o+l,d=Le(r,n,i,o),f=Le(r,n,i,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Le(r,n,a,o),m=Le(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},VQ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=Ft(d-c),h=jc({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,y=h.theta,v=jc({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),g=v.circleTangency,b=v.lineTangency,x=v.theta,j=l?Math.abs(c-d):Math.abs(c-d)-y-x;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):dT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var _=jc({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=_.circleTangency,P=_.lineTangency,k=_.theta,$=jc({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=$.circleTangency,T=$.lineTangency,M=$.theta,C=l?Math.abs(c-d):Math.abs(c-d)-k-M;if(C<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},HQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fT=function(t){var r=Q_(Q_({},HQ),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=me("recharts-sector",h),m=o-i,y=qt(s,m,0,!0),v;return y>0&&Math.abs(d-f)<360?v=VQ({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=dT({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",my({},ue(r,!0),{className:p,d:v,role:"img"}))};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return t=KQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=YQ(e,"string");return du(t)=="symbol"?t:t+""}function YQ(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tj={curveBasisClosed:G6,curveBasisOpen:K6,curveBasis:H6,curveBumpX:C6,curveBumpY:$6,curveLinearClosed:Y6,curveLinear:bh,curveMonotoneX:X6,curveMonotoneY:J6,curveNatural:Q6,curveStep:Z6,curveStepAfter:tF,curveStepBefore:eF},Sc=function(t){return t.x===+t.x&&t.y===+t.y},Ks=function(t){return t.x},Ys=function(t){return t.y},XQ=function(t,r){if(ce(t))return t;var n="curve".concat(yh(t));return(n==="curveMonotone"||n==="curveBump")&&r?tj["".concat(n).concat(r==="vertical"?"Y":"X")]:tj[n]||bh},JQ=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=XQ(n,s),f=c?i.filter(function(y){return Sc(y)}):i,h;if(Array.isArray(o)){var p=c?o.filter(function(y){return Sc(y)}):o,m=f.map(function(y,v){return ej(ej({},y),{},{base:p[v]})});return s==="vertical"?h=pc().y(Ys).x1(Ks).x0(function(y){return y.base.x}):h=pc().x(Ks).y1(Ys).y0(function(y){return y.base.y}),h.defined(Sc).curve(d),h(m)}return s==="vertical"&&K(o)?h=pc().y(Ys).x1(Ks).x0(o):K(o)?h=pc().x(Ks).y1(Ys).y0(o):h=oA().x(Ks).y(Ys),h.defined(Sc).curve(d),h(f)},yy=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?JQ(t):a;return N.createElement("path",gy({},ue(t,!1),Id(t),{className:me("recharts-curve",r),d:o,ref:i}))},hT={exports:{}},QQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZQ=QQ,eZ=ZQ;function pT(){}function mT(){}mT.resetWarningCache=pT;var tZ=function(){function e(n,a,i,o,s,l){if(l!==eZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mT,resetWarningCache:pT};return r.PropTypes=r,r};hT.exports=tZ();var rZ=hT.exports;const Oe=Ne(rZ);var nZ=Object.getOwnPropertyNames,aZ=Object.getOwnPropertySymbols,iZ=Object.prototype.hasOwnProperty;function rj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Oc(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function oZ(e){return e!=null?e[Symbol.toStringTag]:void 0}function nj(e){return nZ(e).concat(aZ(e))}var sZ=Object.hasOwn||function(e,t){return iZ.call(e,t)};function Ci(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var lZ="__v",uZ="__o",cZ="_owner",aj=Object.getOwnPropertyDescriptor,ij=Object.keys;function dZ(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function fZ(e,t){return Ci(e.getTime(),t.getTime())}function hZ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pZ(e,t){return e===t}function oj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var c=t.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var mZ=Ci;function gZ(e,t,r){var n=ij(e),a=n.length;if(ij(t).length!==a)return!1;for(;a-- >0;)if(!gT(e,t,r,n[a]))return!1;return!0}function Xs(e,t,r){var n=nj(e),a=n.length;if(nj(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!gT(e,t,r,i)||(o=aj(e,i),s=aj(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function yZ(e,t){return Ci(e.valueOf(),t.valueOf())}function vZ(e,t){return e.source===t.source&&e.flags===t.flags}function sj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function bZ(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function xZ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function gT(e,t,r,n){return(n===cZ||n===uZ||n===lZ)&&(e.$$typeof||t.$$typeof)?!0:sZ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var wZ="[object Arguments]",_Z="[object Boolean]",jZ="[object Date]",SZ="[object Error]",OZ="[object Map]",NZ="[object Number]",PZ="[object Object]",EZ="[object RegExp]",AZ="[object Set]",kZ="[object String]",TZ="[object URL]",CZ=Array.isArray,lj=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,uj=Object.assign,$Z=Object.prototype.toString.call.bind(Object.prototype.toString);function IZ(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(y,v,g){if(y===v)return!0;if(y==null||v==null)return!1;var b=typeof y;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(y,v,g):b==="function"?a(y,v,g):!1;var x=y.constructor;if(x!==v.constructor)return!1;if(x===Object)return s(y,v,g);if(CZ(y))return t(y,v,g);if(lj!=null&&lj(y))return f(y,v,g);if(x===Date)return r(y,v,g);if(x===RegExp)return c(y,v,g);if(x===Map)return i(y,v,g);if(x===Set)return d(y,v,g);var j=$Z(y);if(j===jZ)return r(y,v,g);if(j===EZ)return c(y,v,g);if(j===OZ)return i(y,v,g);if(j===AZ)return d(y,v,g);if(j===PZ)return typeof y.then!="function"&&typeof v.then!="function"&&s(y,v,g);if(j===TZ)return h(y,v,g);if(j===SZ)return n(y,v,g);if(j===wZ)return s(y,v,g);if(j===_Z||j===NZ||j===kZ)return l(y,v,g);if(p){var w=p[j];if(!w){var _=oZ(y);_&&(w=p[_])}if(w)return w(y,v,g)}return!1}}function DZ(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Xs:dZ,areDatesEqual:fZ,areErrorsEqual:hZ,areFunctionsEqual:pZ,areMapsEqual:n?rj(oj,Xs):oj,areNumbersEqual:mZ,areObjectsEqual:n?Xs:gZ,arePrimitiveWrappersEqual:yZ,areRegExpsEqual:vZ,areSetsEqual:n?rj(sj,Xs):sj,areTypedArraysEqual:n?Xs:bZ,areUrlsEqual:xZ,unknownTagComparators:void 0};if(r&&(a=uj({},a,r(a))),t){var i=Oc(a.areArraysEqual),o=Oc(a.areMapsEqual),s=Oc(a.areObjectsEqual),l=Oc(a.areSetsEqual);a=uj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function RZ(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function MZ(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,o)}}var LZ=Ia();Ia({strict:!0});Ia({circular:!0});Ia({circular:!0,strict:!0});Ia({createInternalComparator:function(){return Ci}});Ia({strict:!0,createInternalComparator:function(){return Ci}});Ia({circular:!0,createInternalComparator:function(){return Ci}});Ia({circular:!0,createInternalComparator:function(){return Ci},strict:!0});function Ia(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=DZ(e),l=IZ(s),c=n?n(l):RZ(l);return MZ({circular:r,comparator:l,createState:a,equals:c,strict:o})}function UZ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):UZ(a)};requestAnimationFrame(n)}function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function BZ(e){return WZ(e)||zZ(e)||qZ(e)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZ(e,t){if(e){if(typeof e=="string")return dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dj(e,t)}}function dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WZ(e){if(Array.isArray(e))return e}function VZ(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=BZ(o),l=s[0],c=s.slice(1);if(typeof l=="number"){cj(a.bind(null,c),l);return}a(l),cj(a.bind(null,c));return}vy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){yT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yT(e,t,r){return t=HZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=GZ(e,"string");return fu(t)==="symbol"?t:String(t)}function GZ(e,t){if(fu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},YZ=function(t){return t},XZ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bl=function(t,r){return Object.keys(r).reduce(function(n,a){return hj(hj({},n),{},yT({},a,t(a,r[a])))},{})},pj=function(t,r,n){return t.map(function(a){return"".concat(XZ(a)," ").concat(r,"ms ").concat(n)}).join(",")};function JZ(e,t){return eee(e)||ZZ(e,t)||vT(e,t)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function eee(e){if(Array.isArray(e))return e}function tee(e){return aee(e)||nee(e)||vT(e)||ree()}function ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vT(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function nee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aee(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var df=1e-4,bT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},xT=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},mj=function(t,r){return function(n){var a=bT(t,r);return xT(a,n)}},iee=function(t,r){return function(n){var a=bT(t,r),i=[].concat(tee(a.map(function(o,s){return o*s}).slice(1)),[0]);return xT(i,n)}},gj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=JZ(c,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=mj(a,o),h=mj(i,s),p=iee(a,o),m=function(g){return g>1?1:g<0?0:g},y=function(g){for(var b=g>1?1:g,x=b,j=0;j<8;++j){var w=f(x)-b,_=p(x);if(Math.abs(w-b)<df||_<df)return h(x);x=m(x-w/_)}return h(x)};return y.isStepper=!1,y},oee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,m=h*i,y=h+(p-m)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<df&&Math.abs(y)<df?[f,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},see=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gj(a);case"spring":return oee();default:if(a.split("(")[0]==="cubic-bezier")return gj(a)}return typeof a=="function"?a:null};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function yj(e){return cee(e)||uee(e)||wT(e)||lee()}function lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cee(e){if(Array.isArray(e))return wy(e)}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xy(e,t,r){return t=dee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dee(e){var t=fee(e,"string");return hu(t)==="symbol"?t:String(t)}function fee(e,t){if(hu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hee(e,t){return gee(e)||mee(e,t)||wT(e,t)||pee()}function pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wT(e,t){if(e){if(typeof e=="string")return wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wy(e,t)}}function wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function gee(e){if(Array.isArray(e))return e}var ff=function(t,r,n){return t+(r-t)*n},_y=function(t){var r=t.from,n=t.to;return r!==n},yee=function e(t,r,n){var a=bl(function(i,o){if(_y(o)){var s=t(o.from,o.to,o.velocity),l=hee(s,2),c=l[0],d=l[1];return Ot(Ot({},o),{},{from:c,velocity:d})}return o},r);return n<1?bl(function(i,o){return _y(o)?Ot(Ot({},o),{},{velocity:ff(o.velocity,a[i].velocity,n),from:ff(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const vee=function(e,t,r,n,a){var i=KZ(e,t),o=i.reduce(function(v,g){return Ot(Ot({},v),{},xy({},g,[e[g],t[g]]))},{}),s=i.reduce(function(v,g){return Ot(Ot({},v),{},xy({},g,{from:e[g],velocity:0,to:t[g]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return bl(function(g,b){return b.from},s)},p=function(){return!Object.values(s).filter(_y).length},m=function(g){c||(c=g);var b=g-c,x=b/r.dt;s=yee(r,s,x),a(Ot(Ot(Ot({},e),t),h())),c=g,p()||(l=requestAnimationFrame(f))},y=function(g){d||(d=g);var b=(g-d)/n,x=bl(function(w,_){return ff.apply(void 0,yj(_).concat([r(b)]))},o);if(a(Ot(Ot(Ot({},e),t),x)),b<1)l=requestAnimationFrame(f);else{var j=bl(function(w,_){return ff.apply(void 0,yj(_).concat([r(1)]))},o);a(Ot(Ot(Ot({},e),t),j))}};return f=r.isStepper?m:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}var bee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xee(e,t){if(e==null)return{};var r=wee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wee(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function rm(e){return Oee(e)||See(e)||jee(e)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(e,t){if(e){if(typeof e=="string")return jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jy(e,t)}}function See(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oee(e){if(Array.isArray(e))return jy(e)}function jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function al(e,t,r){return t=_T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_T(n.key),n)}}function Eee(e,t,r){return t&&Pee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _T(e){var t=Aee(e,"string");return Wo(t)==="symbol"?t:String(t)}function Aee(e,t){if(Wo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}function Sy(e,t){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sy(e,t)}function Tee(e){var t=Cee();return function(){var n=hf(e),a;if(t){var i=hf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Oy(this,a)}}function Oy(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ny(e)}function Ny(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}var Rn=function(e){kee(r,e);var t=Tee(r);function r(n,a){var i;Nee(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ny(i)),i.changeStyle=i.changeStyle.bind(Ny(i)),!s||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Oy(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},Oy(i);i.state={style:l?al({},l,c):c}}else i.state={style:{}};return i}return Eee(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var p={style:l?al({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(LZ(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?f:a.to;if(this.state&&h){var v={style:l?al({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(Cr(Cr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,c=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=vee(o,s,see(c),l,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,c=o[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(y,v,g){if(g===0)return y;var b=v.duration,x=v.easing,j=x===void 0?"ease":x,w=v.style,_=v.properties,S=v.onAnimationEnd,P=g>0?o[g-1]:v,k=_||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(rm(y),[i.runJSAnimation.bind(i,{from:P.style,to:w,duration:b,easing:j}),b]);var $=pj(k,b,j),E=Cr(Cr(Cr({},P.style),w),{},{transition:$});return[].concat(rm(y),[E,b,S]).filter(YZ)};return this.manager.start([l].concat(rm(o.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=VZ());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,c=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var y=s?al({},s,l):l,v=pj(Object.keys(y),o,c);m.start([d,i,Cr(Cr({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=xee(a,bee),c=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||c===0||o<=0)return i;var f=function(p){var m=p.props,y=m.style,v=y===void 0?{}:y,g=m.className,b=N.cloneElement(p,Cr(Cr({},l),{},{style:Cr(Cr({},v),d),className:g}));return b};return c===1?f(N.Children.only(i)):D.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),r}(N.PureComponent);Rn.displayName="Animate";Rn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rn.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function $ee(e,t){return Mee(e)||Ree(e,t)||Dee(e,t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(e,t){if(e){if(typeof e=="string")return xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xj(e,t)}}function xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Mee(e){if(Array.isArray(e))return e}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){Lee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lee(e,t,r){return t=Uee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return pu(t)=="symbol"?t:t+""}function Bee(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jj=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Fee=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=d&&a>=f&&a<=h}return!1},qee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ab=function(t){var r=_j(_j({},qee),t),n=N.useRef(),a=N.useState(-1),i=$ee(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,g=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var x=me("recharts-rectangle",p);return b?D.createElement(Rn,{canBegin:o>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:y,animationEasing:m,isActive:b},function(j){var w=j.width,_=j.height,S=j.x,P=j.y;return D.createElement(Rn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:g,easing:m},D.createElement("path",pf({},ue(r,!0),{className:x,d:jj(S,P,w,_,h),ref:n})))}):D.createElement("path",pf({},ue(r,!0),{className:x,d:jj(l,c,d,f,h)}))},zee=["points","className","baseLinePoints","connectNulls"];function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function Wee(e,t){if(e==null)return{};var r=Vee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sj(e){return Yee(e)||Kee(e)||Gee(e)||Hee()}function Hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gee(e,t){if(e){if(typeof e=="string")return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Py(e,t)}}function Kee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yee(e){if(Array.isArray(e))return Py(e)}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Xee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Oj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Oj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xl=function(t,r){var n=Xee(t);r&&(n=[n.reduce(function(i,o){return[].concat(Sj(i),Sj(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Jee=function(t,r,n){var a=xl(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(xl(r.reverse(),n).slice(1))},Qee=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Wee(t,zee);if(!r||!r.length)return null;var s=me("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",c=Jee(r,a,i);return D.createElement("g",{className:s},D.createElement("path",io({},ue(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?D.createElement("path",io({},ue(o,!0),{fill:"none",d:xl(r,i)})):null,l?D.createElement("path",io({},ue(o,!0),{fill:"none",d:xl(a,i)})):null)}var d=xl(r,i);return D.createElement("path",io({},ue(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}var ib=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=me("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",Ey({},ue(t,!1),Id(t),{className:o,cx:r,cy:n,r:a})):null};function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var Zee=["x","y","top","left","width","height","className"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ete(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return t=rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return mu(t)=="symbol"?t:t+""}function nte(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ate(e,t){if(e==null)return{};var r=ite(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ote=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},ste=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,y=ate(t,Zee),v=ete({x:n,y:i,top:s,left:c,width:f,height:p},y);return!K(n)||!K(i)||!K(f)||!K(p)||!K(s)||!K(c)?null:D.createElement("path",Ay({},ue(v,!0),{className:me("recharts-cross",m),d:ote(n,i,f,p,s,c)}))},lte=Th,ute=Ik,cte=sn;function dte(e,t){return e&&e.length?lte(e,cte(t),ute):void 0}var fte=dte;const hte=Ne(fte);var pte=Th,mte=sn,gte=Dk;function yte(e,t){return e&&e.length?pte(e,mte(t),gte):void 0}var vte=yte;const bte=Ne(vte);var xte=["cx","cy","angle","ticks","axisLine"],wte=["ticks","tick","angle","tickFormatter","stroke"];function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ej(e,t){if(e==null)return{};var r=_te(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ST(n.key),n)}}function Ste(e,t,r){return t&&Aj(e.prototype,t),r&&Aj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ote(e,t,r){return t=mf(t),Nte(e,jT()?Reflect.construct(t,r||[],mf(e).constructor):t.apply(e,r))}function Nte(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pte(e)}function Pte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jT=function(){return!!e})()}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(e)}function Ete(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ky(e,t)}function Lh(e,t,r){return t=ST(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=Ate(e,"string");return Vo(t)=="symbol"?t:t+""}function Ate(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uh=function(e){function t(){return jte(this,t),Ote(this,t,arguments)}return Ete(t,e),Ste(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Le(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=hte(s,function(d){return d.coordinate||0}),c=bte(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=Ej(n,xte),d=s.reduce(function(m,y){return[Math.min(m[0],y.coordinate),Math.max(m[1],y.coordinate)]},[1/0,-1/0]),f=Le(a,i,d[0],o),h=Le(a,i,d[1],o),p=qa(qa(qa({},ue(c,!1)),{},{fill:"none"},ue(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",wl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,c=a.stroke,d=Ej(a,wte),f=this.getTickTextAnchor(),h=ue(d,!1),p=ue(o,!1),m=i.map(function(y,v){var g=n.getTickValueCoord(y),b=qa(qa(qa(qa({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:v},g),{},{payload:y});return D.createElement(Ee,wl({className:me("recharts-polar-radius-axis-tick",uT(o)),key:"tick-".concat(y.coordinate)},_i(n.props,y,v)),t.renderTickItem(o,b,l?l(y.value,v):y.value))});return D.createElement(Ee,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:D.createElement(Ee,{className:me("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):ce(n)?o=n(a):o=D.createElement(ji,wl({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(N.PureComponent);Lh(Uh,"displayName","PolarRadiusAxis");Lh(Uh,"axisType","radiusAxis");Lh(Uh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(this,arguments)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NT(n.key),n)}}function Tte(e,t,r){return t&&Tj(e.prototype,t),r&&Tj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cte(e,t,r){return t=gf(t),$te(e,OT()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function $te(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ite(e)}function Ite(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OT=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function Dte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ty(e,t)}function Bh(e,t,r){return t=NT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NT(e){var t=Rte(e,"string");return Ho(t)=="symbol"?t:t+""}function Rte(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mte=Math.PI/180,Cj=1e-5,Fh=function(e){function t(){return kte(this,t),Cte(this,t,arguments)}return Dte(t,e),Tte(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,c=a.tickSize,d=c||8,f=Le(i,o,s,n.coordinate),h=Le(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Mte),o;return i>Cj?o=a==="outer"?"start":"end":i<-Cj?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=za(za({},ue(this.props,!1)),{},{fill:"none"},ue(s,!1));if(l==="circle")return D.createElement(ib,ti({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Le(a,i,o,h.coordinate)});return D.createElement(Qee,ti({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,c=a.stroke,d=ue(this.props,!1),f=ue(o,!1),h=za(za({},d),{},{fill:"none"},ue(s,!1)),p=i.map(function(m,y){var v=n.getTickLineCoord(m),g=n.getTickTextAnchor(m),b=za(za(za({textAnchor:g},d),{},{stroke:"none",fill:c},f),{},{index:y,payload:m,x:v.x2,y:v.y2});return D.createElement(Ee,ti({className:me("recharts-polar-angle-axis-tick",uT(o)),key:"tick-".concat(m.coordinate)},_i(n.props,m,y)),s&&D.createElement("line",ti({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,l?l(m.value,y):m.value))});return D.createElement(Ee,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:D.createElement(Ee,{className:me("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):ce(n)?o=n(a):o=D.createElement(ji,ti({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(N.PureComponent);Bh(Fh,"displayName","PolarAngleAxis");Bh(Fh,"axisType","angleAxis");Bh(Fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lte=kA,Ute=Lte(Object.getPrototypeOf,Object),Bte=Ute,Fte=Bn,qte=Bte,zte=Fn,Wte="[object Object]",Vte=Function.prototype,Hte=Object.prototype,PT=Vte.toString,Gte=Hte.hasOwnProperty,Kte=PT.call(Object);function Yte(e){if(!zte(e)||Fte(e)!=Wte)return!1;var t=qte(e);if(t===null)return!0;var r=Gte.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&PT.call(r)==Kte}var Xte=Yte;const Jte=Ne(Xte);var Qte=Bn,Zte=Fn,ere="[object Boolean]";function tre(e){return e===!0||e===!1||Zte(e)&&Qte(e)==ere}var rre=tre;const nre=Ne(rre);function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function are(e,t){return lre(e)||sre(e,t)||ore(e,t)||ire()}function ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function lre(e){if(Array.isArray(e))return e}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){ure(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ure(e,t,r){return t=cre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=dre(e,"string");return gu(t)=="symbol"?t:t+""}function dre(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rj=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},fre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hre=function(t){var r=Dj(Dj({},fre),t),n=N.useRef(),a=N.useState(-1),i=are(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=me("recharts-trapezoid",p);return g?D.createElement(Rn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:m,isActive:g},function(x){var j=x.upperWidth,w=x.lowerWidth,_=x.height,S=x.x,P=x.y;return D.createElement(Rn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:m},D.createElement("path",yf({},ue(r,!0),{className:b,d:Rj(S,P,j,w,_),ref:n})))}):D.createElement("g",null,D.createElement("path",yf({},ue(r,!0),{className:b,d:Rj(l,c,d,f,h)})))},pre=["option","shapeType","propTransformer","activeClassName","isActive"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function mre(e,t){if(e==null)return{};var r=gre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){yre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yre(e,t,r){return t=vre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=bre(e,"string");return yu(t)=="symbol"?t:t+""}function bre(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xre(e,t){return vf(vf({},t),e)}function wre(e,t){return e==="symbols"}function Lj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(ab,r);case"trapezoid":return D.createElement(hre,r);case"sector":return D.createElement(fT,r);case"symbols":if(wre(t))return D.createElement(j0,r);break;default:return null}}function _re(e){return N.isValidElement(e)?e.props:e}function ET(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?xre:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=mre(e,pre),c;if(N.isValidElement(t))c=N.cloneElement(t,vf(vf({},l),_re(t)));else if(ce(t))c=t(l);else if(Jte(t)&&!nre(t)){var d=a(t,l);c=D.createElement(Lj,{shapeType:r,elementProps:d})}else{var f=l;c=D.createElement(Lj,{shapeType:r,elementProps:f})}return s?D.createElement(Ee,{className:o},c):c}function qh(e,t){return t!=null&&"trapezoids"in e.props}function zh(e,t){return t!=null&&"sectors"in e.props}function vu(e,t){return t!=null&&"points"in e.props}function jre(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Sre(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ore(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Nre(e,t){var r;return qh(e,t)?r=jre:zh(e,t)?r=Sre:vu(e,t)&&(r=Ore),r}function Pre(e,t){var r;return qh(e,t)?r="trapezoids":zh(e,t)?r="sectors":vu(e,t)&&(r="points"),r}function Ere(e,t){if(qh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vu(e,t)?t.payload:{}}function Are(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Pre(r,t),i=Ere(r,t),o=n.filter(function(l,c){var d=Ih(i,l),f=r.props[a].filter(function(m){var y=Nre(r,t);return y(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var Wc;function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kT(n.key),n)}}function Tre(e,t,r){return t&&Bj(e.prototype,t),r&&Bj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cre(e,t,r){return t=bf(t),$re(e,AT()?Reflect.construct(t,r||[],bf(e).constructor):t.apply(e,r))}function $re(e,t){if(t&&(Go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ire(e)}function Ire(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AT=function(){return!!e})()}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bf(e)}function Dre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function wr(e,t,r){return t=kT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e){var t=Rre(e,"string");return Go(t)=="symbol"?t:t+""}function Rre(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zn=function(e){function t(r){var n;return kre(this,t),n=Cre(this,t,[r]),wr(n,"pieRef",null),wr(n,"sectorRefs",[]),wr(n,"id",Ru("recharts-pie-")),wr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(a)&&a()}),wr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Dre(t,e),Tre(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,c=i.valueKey,d=ue(this.props,!1),f=ue(o,!1),h=ue(s,!1),p=o&&o.offsetRadius||20,m=n.map(function(y,v){var g=(y.startAngle+y.endAngle)/2,b=Le(y.cx,y.cy,y.outerRadius+p,g),x=De(De(De(De({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,y.cx)},b),j=De(De(De(De({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[Le(y.cx,y.cy,y.outerRadius,g),b]}),w=l;return ye(l)&&ye(c)?w="value":ye(l)&&(w=c),D.createElement(Ee,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&t.renderLabelLineItem(s,j,"line"),t.renderLabelItem(o,x,Rt(y,w)))});return D.createElement(Ee,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?o:h,m=De(De({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return D.createElement(Ee,oo({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},_i(a.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),D.createElement(ET,oo({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return D.createElement(Rn,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var y=m.t,v=[],g=i&&i[0],b=g.startAngle;return i.forEach(function(x,j){var w=h&&h[j],_=j>0?dr(x,"paddingAngle",0):0;if(w){var S=Jn(w.endAngle-w.startAngle,x.endAngle-x.startAngle),P=De(De({},x),{},{startAngle:b+_,endAngle:b+S(y)+_});v.push(P),b=P.endAngle}else{var k=x.endAngle,$=x.startAngle,E=Jn(0,k-$),T=E(y),M=De(De({},x),{},{startAngle:b+_,endAngle:b+T+_});v.push(M),b=M.endAngle}}),D.createElement(Ee,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,c=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!K(c)||!K(d)||!K(f)||!K(h))return null;var y=me("recharts-pie",s);return D.createElement(Ee,{tabIndex:this.props.rootTabIndex,className:y,ref:function(g){n.pieRef=g}},this.renderSectors(),l&&this.renderLabels(o),xt.renderCallByParent(this.props,null,!1),(!p||m)&&xa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);if(ce(n))return n(a);var o=me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement(yy,oo({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);var o=i;if(ce(n)&&(o=n(a),D.isValidElement(o)))return o;var s=me("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return D.createElement(ji,oo({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(N.PureComponent);Wc=zn;wr(zn,"displayName","Pie");wr(zn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ss.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wr(zn,"parseDeltaAngle",function(e,t){var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n});wr(zn,"getRealPieData",function(e){var t=e.data,r=e.children,n=ue(e,!1),a=Or(r,Sh);return t&&t.length?t.map(function(i,o){return De(De(De({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return De(De({},n),i.props)}):[]});wr(zn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=lT(a,i),s=n+qt(e.cx,a,a/2),l=r+qt(e.cy,i,i/2),c=qt(e.innerRadius,o,0),d=qt(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});wr(zn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?De(De({},t.type.defaultProps),t.props):t.props,a=Wc.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=Wc.parseCoordinateOfPie(n,r),y=Wc.parseDeltaAngle(o,s),v=Math.abs(y),g=c;ye(c)&&ye(f)?(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):ye(c)&&(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var b=a.filter(function(P){return Rt(P,g,0)!==0}).length,x=(v>=360?b:b-1)*l,j=v-b*p-x,w=a.reduce(function(P,k){var $=Rt(k,g,0);return P+(K($)?$:0)},0),_;if(w>0){var S;_=a.map(function(P,k){var $=Rt(P,g,0),E=Rt(P,d,k),T=(K($)?$:0)/w,M;k?M=S.endAngle+Ft(y)*l*($!==0?1:0):M=o;var C=M+Ft(y)*(($!==0?p:0)+T*j),A=(M+C)/2,O=(m.innerRadius+m.outerRadius)/2,R=[{name:E,value:$,payload:P,dataKey:g,type:h}],I=Le(m.cx,m.cy,O,A);return S=De(De(De({percent:T,cornerRadius:i,name:E,tooltipPayload:R,midAngle:A,middleRadius:O,tooltipPosition:I},P),m),{},{value:Rt(P,g),startAngle:M,endAngle:C,payload:P,paddingAngle:Ft(y)*l}),S})}return De(De({},m),{},{sectors:_,data:a})});var Mre=Math.ceil,Lre=Math.max;function Ure(e,t,r,n){for(var a=-1,i=Lre(Mre((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Bre=Ure,Fre=YA,Fj=1/0,qre=17976931348623157e292;function zre(e){if(!e)return e===0?e:0;if(e=Fre(e),e===Fj||e===-Fj){var t=e<0?-1:1;return t*qre}return e===e?e:0}var TT=zre,Wre=Bre,Vre=jh,nm=TT;function Hre(e){return function(t,r,n){return n&&typeof n!="number"&&Vre(t,r,n)&&(r=n=void 0),t=nm(t),r===void 0?(r=t,t=0):r=nm(r),n=n===void 0?t<r?1:-1:nm(n),Wre(t,r,n,e)}}var Gre=Hre,Kre=Gre,Yre=Kre(),Xre=Yre;const xf=Ne(Xre);function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){CT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CT(e,t,r){return t=Jre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=Qre(e,"string");return bu(t)=="symbol"?t:t+""}function Qre(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zre=["Webkit","Moz","O","ms"],ene=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Zre.reduce(function(i,o){return zj(zj({},i),{},CT({},o+n,r))},{});return a[t]=r,a};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){ar(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IT(n.key),n)}}function rne(e,t,r){return t&&Vj(e.prototype,t),r&&Vj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nne(e,t,r){return t=_f(t),ane(e,$T()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function ane(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ine(e)}function ine(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($T=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function one(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$y(e,t)}function ar(e,t,r){return t=IT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=sne(e,"string");return Ko(t)=="symbol"?t:t+""}function sne(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lne=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=yl().domain(xf(0,l)).range([i,i+o-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:d}},Hj=function(t){return t.changedTouches&&!!t.changedTouches.length},Yo=function(e){function t(r){var n;return tne(this,t),n=nne(this,t,[r]),ar(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ar(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ar(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),ar(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ar(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ar(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ar(n,"handleSlideDragStart",function(a){var i=Hj(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return one(t,e),rne(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=Rt(i[n],s,n);return ce(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,y=n.pageX-i;y>0?y=Math.min(y,c+d-f-s,c+d-f-o):y<0&&(y=Math.max(y,c-o,c-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Hj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,y=d.gap,v=d.data,g={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),g[o]=c+b;var x=this.getIndex(g),j=x.startIndex,w=x.endIndex,_=function(){var P=v.length-1;return o==="startX"&&(s>l?j%y===0:w%y===0)||s<l&&w===P||o==="endX"&&(s>l?w%y===0:j%y===0)||s>l&&w===P};this.setState(ar(ar({},o,c+b),"brushMoveStartX",n.pageX),function(){m&&_()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(ar({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return D.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=N.Children.only(c);return f?D.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,y=l.startIndex,v=l.endIndex,g=Math.max(n,this.props.x),b=am(am({},ue(this.props,!1)),{},{x:g,y:c,width:d,height:f}),x=p||"Min value: ".concat((i=m[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return D.createElement(Ee,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,c=i.travellerWidth,d=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return D.createElement(Ee,{className:"recharts-brush-texts"},D.createElement(ji,wf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(a)),D.createElement(ji,wf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,y=h.isTextActive,v=h.isSlideMoving,g=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!K(s)||!K(l)||!K(c)||!K(d)||c<=0||d<=0)return null;var x=me("recharts-brush",i),j=D.Children.count(o)===1,w=ene("userSelect","none");return D.createElement(Ee,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||v||g||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(i+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:a+1,y1:c,x2:a+o-1,y2:c,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:c+2,x2:a+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return D.isValidElement(n)?i=D.cloneElement(n,a):ce(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return am({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},i&&i.length?lne({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(N.PureComponent);ar(Yo,"displayName","Brush");ar(Yo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var une=k0;function cne(e,t){var r;return une(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var dne=cne,fne=_A,hne=sn,pne=dne,mne=nr,gne=jh;function yne(e,t,r){var n=mne(e)?fne:pne;return r&&gne(e,t,r)&&(t=void 0),n(e,hne(t))}var vne=yne;const bne=Ne(vne);var nn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Gj=WA;function xne(e,t,r){t=="__proto__"&&Gj?Gj(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var wne=xne,_ne=wne,jne=qA,Sne=sn;function One(e,t){var r={};return t=Sne(t),jne(e,function(n,a,i){_ne(r,a,t(n,a,i))}),r}var Nne=One;const Pne=Ne(Nne);function Ene(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Ane=Ene,kne=k0;function Tne(e,t){var r=!0;return kne(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Cne=Tne,$ne=Ane,Ine=Cne,Dne=sn,Rne=nr,Mne=jh;function Lne(e,t,r){var n=Rne(e)?$ne:Ine;return r&&Mne(e,t,r)&&(t=void 0),n(e,Dne(t))}var Une=Lne;const DT=Ne(Une);var Bne=["x","y"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){Fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t,r){return t=qne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=zne(e,"string");return xu(t)=="symbol"?t:t+""}function zne(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wne(e,t){if(e==null)return{};var r=Vne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hne(e,t){var r=e.x,n=e.y,a=Wne(e,Bne),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),d=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Js(Js(Js(Js(Js({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Yj(e){return D.createElement(ET,Iy({shapeType:"rectangle",propTransformer:Hne,activeClassName:"recharts-active-bar"},e))}var Gne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=K(n)||vB(n);return i?t(n,a):(i||Oi(),r)}},Kne=["value","background"],RT;function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function Yne(e,t){if(e==null)return{};var r=Xne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(this,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){la(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LT(n.key),n)}}function Qne(e,t,r){return t&&Jj(e.prototype,t),r&&Jj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zne(e,t,r){return t=Sf(t),eae(e,MT()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function eae(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tae(e)}function tae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MT=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function rae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dy(e,t)}function la(e,t,r){return t=LT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LT(e){var t=nae(e,"string");return Xo(t)=="symbol"?t:t+""}function nae(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sa=function(e){function t(){var r;Jne(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Zne(this,t,[].concat(a)),la(r,"state",{isAnimationFinished:!1}),la(r,"id",Ru("recharts-bar-")),la(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),la(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return rae(t,e),Qne(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,c=i.activeBar,d=ue(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:o,y=ot(ot(ot({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(Ee,jf({className:"recharts-bar-rectangle"},_i(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(Yj,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return D.createElement(Rn,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=i.map(function(v,g){var b=h&&h[g];if(b){var x=Jn(b.x,v.x),j=Jn(b.y,v.y),w=Jn(b.width,v.width),_=Jn(b.height,v.height);return ot(ot({},v),{},{x:x(m),y:j(m),width:w(m),height:_(m)})}if(o==="horizontal"){var S=Jn(0,v.height),P=S(m);return ot(ot({},v),{},{y:v.y+v.height-P,height:P})}var k=Jn(0,v.width),$=k(m);return ot(ot({},v),{},{width:$})});return D.createElement(Ee,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=ue(this.props.background,!1);return i.map(function(c,d){c.value;var f=c.background,h=Yne(c,Kne);if(!f)return null;var p=ot(ot(ot(ot(ot({},h),{},{fill:"#eee"},f),l),_i(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(Yj,jf({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,c=i.layout,d=i.children,f=Or(d,Mh);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,g){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Rt(v,g)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(Ee,m,f.map(function(y){return D.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,y=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,g=me("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,j=b||x,w=ye(y)?this.id:y;return D.createElement(Ee,{className:g},b||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(w)},D.createElement("rect",{x:b?c:c-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,D.createElement(Ee,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!p||v)&&xa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);RT=Sa;la(Sa,"displayName","Bar");la(Sa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ss.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});la(Sa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=RJ(n,r);if(!p)return null;var m=t.layout,y=r.type.defaultProps,v=y!==void 0?ot(ot({},y),r.props):r.props,g=v.dataKey,b=v.children,x=v.minPointSize,j=m==="horizontal"?o:i,w=c?j.scale.domain():null,_=zJ({numericAxis:j}),S=Or(b,Sh),P=f.map(function(k,$){var E,T,M,C,A,O;c?E=MJ(c[d+$],w):(E=Rt(k,g),Array.isArray(E)||(E=[_,E]));var R=Gne(x,RT.defaultProps.minPointSize)(E[1],$);if(m==="horizontal"){var I,L=[o.scale(E[0]),o.scale(E[1])],V=L[0],z=L[1];T=B_({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:k,index:$}),M=(I=z??V)!==null&&I!==void 0?I:void 0,C=p.size;var q=V-z;if(A=Number.isNaN(q)?0:q,O={x:T,y:o.y,width:C,height:o.height},Math.abs(R)>0&&Math.abs(A)<Math.abs(R)){var Z=Ft(A||R)*(Math.abs(R)-Math.abs(A));M-=Z,A+=Z}}else{var fe=[i.scale(E[0]),i.scale(E[1])],te=fe[0],ge=fe[1];if(T=te,M=B_({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:k,index:$}),C=ge-te,A=p.size,O={x:i.x,y:M,width:i.width,height:A},Math.abs(R)>0&&Math.abs(C)<Math.abs(R)){var Ue=Ft(C||R)*(Math.abs(R)-Math.abs(C));C+=Ue}}return ot(ot(ot({},k),{},{x:T,y:M,width:C,height:A,value:c?E:E[1],payload:k,background:O},S&&S[$]&&S[$].props),{},{tooltipPayload:[oT(r,k)],tooltipPosition:{x:T+C/2,y:M+A/2}})});return ot({data:P,layout:m},h)});function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UT(n.key),n)}}function iae(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wh(e,t,r){return t=UT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UT(e){var t=oae(e,"string");return wu(t)=="symbol"?t:t+""}function oae(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sae=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!or(c,Sa);return d.reduce(function(p,m){var y=r[m],v=y.orientation,g=y.domain,b=y.padding,x=b===void 0?{}:b,j=y.mirror,w=y.reversed,_="".concat(v).concat(j?"Mirror":""),S,P,k,$,E;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var T=g[1]-g[0],M=1/0,C=y.categoricalDomain.sort(wB);if(C.forEach(function(fe,te){te>0&&(M=Math.min((fe||0)-(C[te-1]||0),M))}),Number.isFinite(M)){var A=M/T,O=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(S=A*O/2),y.padding==="no-gap"){var R=qt(t.barCategoryGap,A*O),I=A*O/2;S=I-R-(I-R)/O*R}}}a==="xAxis"?P=[n.left+(x.left||0)+(S||0),n.left+n.width-(x.right||0)-(S||0)]:a==="yAxis"?P=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(S||0),n.top+n.height-(x.bottom||0)-(S||0)]:P=y.range,w&&(P=[P[1],P[0]]);var L=rT(y,i,h),V=L.scale,z=L.realScaleType;V.domain(g).range(P),nT(V);var q=aT(V,Lr(Lr({},y),{},{realScaleType:z}));a==="xAxis"?(E=v==="top"&&!j||v==="bottom"&&j,k=n.left,$=f[_]-E*y.height):a==="yAxis"&&(E=v==="left"&&!j||v==="right"&&j,k=f[_]-E*y.width,$=n.top);var Z=Lr(Lr(Lr({},y),q),{},{realScaleType:z,x:k,y:$,scale:V,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return Z.bandSize=lf(Z,q),!y.hide&&a==="xAxis"?f[_]+=(E?-1:1)*Z.height:y.hide||(f[_]+=(E?-1:1)*Z.width),Lr(Lr({},p),{},Wh({},m,Z))},{})},BT=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},lae=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return BT({x:r,y:n},{x:a,y:i})},FT=function(){function e(t){aae(this,e),this.scale=t}return iae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Wh(FT,"EPS",1e-4);var ob=function(t){var r=Object.keys(t).reduce(function(n,a){return Lr(Lr({},n),{},Wh({},a,FT.create(t[a])))},{});return Lr(Lr({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return Pne(a,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return DT(a,function(i,o){return r[o].isInRange(i)})}})};function uae(e){return(e%180+180)%180}var cae=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=uae(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},dae=sn,fae=Mu,hae=wh;function pae(e){return function(t,r,n){var a=Object(t);if(!fae(t)){var i=dae(r);t=hae(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var mae=pae,gae=TT;function yae(e){var t=gae(e),r=t%1;return t===t?r?t-r:t:0}var vae=yae,bae=RA,xae=sn,wae=vae,_ae=Math.max;function jae(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:wae(r);return a<0&&(a=_ae(n+a,0)),bae(e,xae(t),a)}var Sae=jae,Oae=mae,Nae=Sae,Pae=Oae(Nae),Eae=Pae;const Aae=Ne(Eae);var kae=SU(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sb=N.createContext(void 0),lb=N.createContext(void 0),qT=N.createContext(void 0),zT=N.createContext({}),WT=N.createContext(void 0),VT=N.createContext(0),HT=N.createContext(0),eS=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,d=kae(i);return D.createElement(sb.Provider,{value:n},D.createElement(lb.Provider,{value:a},D.createElement(zT.Provider,{value:i},D.createElement(qT.Provider,{value:d},D.createElement(WT.Provider,{value:o},D.createElement(VT.Provider,{value:c},D.createElement(HT.Provider,{value:l},s)))))))},Tae=function(){return N.useContext(WT)},GT=function(t){var r=N.useContext(sb);r==null&&Oi();var n=r[t];return n==null&&Oi(),n},Cae=function(){var t=N.useContext(sb);return na(t)},$ae=function(){var t=N.useContext(lb),r=Aae(t,function(n){return DT(n.domain,Number.isFinite)});return r||na(t)},KT=function(t){var r=N.useContext(lb);r==null&&Oi();var n=r[t];return n==null&&Oi(),n},Iae=function(){var t=N.useContext(qT);return t},Dae=function(){return N.useContext(zT)},ub=function(){return N.useContext(HT)},cb=function(){return N.useContext(VT)};function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XT(n.key),n)}}function Lae(e,t,r){return t&&Mae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uae(e,t,r){return t=Of(t),Bae(e,YT()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function Bae(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fae(e)}function Fae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ry(e,t)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){db(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function db(e,t,r){return t=XT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XT(e){var t=zae(e,"string");return Jo(t)=="symbol"?t:t+""}function zae(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wae(e,t){return Kae(e)||Gae(e,t)||Hae(e,t)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(e,t){if(e){if(typeof e=="string")return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Kae(e){if(Array.isArray(e))return e}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}var Yae=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):ce(t)?n=t(r):n=D.createElement("line",My({},r,{className:"recharts-reference-line-line"})),n},Xae=function(t,r,n,a,i,o,s,l,c){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=c.y,y=t.y.apply(m,{position:o});if(nn(c,"discard")&&!t.y.isInRange(y))return null;var v=[{x:d+h,y},{x:d,y}];return l==="left"?v.reverse():v}if(r){var g=c.x,b=t.x.apply(g,{position:o});if(nn(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?x.reverse():x}if(a){var j=c.segment,w=j.map(function(_){return t.apply(_,{position:o})});return nn(c,"discard")&&bne(w,function(_){return!t.isInRange(_)})?null:w}return null};function Jae(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=Tae(),d=GT(a),f=KT(i),h=Iae();if(!c||!h)return null;zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ob({x:d.scale,y:f.scale}),m=pt(t),y=pt(r),v=n&&n.length===2,g=Xae(p,m,y,v,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var b=Wae(g,2),x=b[0],j=x.x,w=x.y,_=b[1],S=_.x,P=_.y,k=nn(e,"hidden")?"url(#".concat(c,")"):void 0,$=rS(rS({clipPath:k},ue(e,!0)),{},{x1:j,y1:w,x2:S,y2:P});return D.createElement(Ee,{className:me("recharts-reference-line",s)},Yae(o,$),xt.renderCallByParent(e,lae({x1:j,y1:w,x2:S,y2:P})))}var fb=function(e){function t(){return Rae(this,t),Uae(this,t,arguments)}return qae(t,e),Lae(t,[{key:"render",value:function(){return D.createElement(Jae,this.props)}}])}(D.Component);db(fb,"displayName","ReferenceLine");db(fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QT(n.key),n)}}function eie(e,t,r){return t&&Zae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tie(e,t,r){return t=Nf(t),rie(e,JT()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function rie(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(e)}function nie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JT=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function aie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uy(e,t)}function Vh(e,t,r){return t=QT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QT(e){var t=iie(e,"string");return Qo(t)=="symbol"?t:t+""}function iie(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oie=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=ob({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return nn(t,"discard")&&!o.isInRange(s)?null:s},Hh=function(e){function t(){return Qae(this,t),tie(this,t,arguments)}return aie(t,e),eie(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=pt(a),d=pt(i);if(zr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=oie(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,y=m.shape,v=m.className,g=nn(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=iS(iS({clipPath:g},ue(this.props,!0)),{},{cx:h,cy:p});return D.createElement(Ee,{className:me("recharts-reference-dot",v)},t.renderDot(y,b),xt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);Vh(Hh,"displayName","ReferenceDot");Vh(Hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vh(Hh,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):ce(e)?r=e(t):r=D.createElement(ib,Ly({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eC(n.key),n)}}function uie(e,t,r){return t&&lie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cie(e,t,r){return t=Pf(t),die(e,ZT()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function die(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(e)}function fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZT=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function hie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fy(e,t)}function Gh(e,t,r){return t=eC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eC(e){var t=pie(e,"string");return Zo(t)=="symbol"?t:t+""}function pie(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mie=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,c=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=ob({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return nn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:BT(p,m)},Kh=function(e){function t(){return sie(this,t),cie(this,t,arguments)}return hie(t,e),uie(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;zr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pt(a),h=pt(i),p=pt(o),m=pt(s),y=this.props.shape;if(!f&&!h&&!p&&!m&&!y)return null;var v=mie(f,h,p,m,this.props);if(!v&&!y)return null;var g=nn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(Ee,{className:me("recharts-reference-area",l)},t.renderRect(y,sS(sS({clipPath:g},ue(this.props,!0)),v)),xt.renderCallByParent(this.props,v))}}])}(D.Component);Gh(Kh,"displayName","ReferenceArea");Gh(Kh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gh(Kh,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):ce(e)?r=e(t):r=D.createElement(ab,By({},t,{className:"recharts-reference-area-rect"})),r});function tC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function gie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return cae(n,r)}function yie(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Ef(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function vie(e,t){return tC(e,t+1)}function bie(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,d=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:tC(n,c)};var y=l,v,g=function(){return v===void 0&&(v=r(m,y)),v},b=m.coordinate,x=l===0||Ef(e,b,g,d,s);x||(l=0,d=o,c+=1),x&&(d=b+e*(g()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xie(e,t,r){return t=wie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=_ie(e,"string");return _u(t)=="symbol"?t:t+""}function _ie(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jie(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(h){var p=i[h],m,y=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var v=e*(p.coordinate+e*y()/2-l);i[h]=p=Tt(Tt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Tt(Tt({},p),{},{tickCoord:p.coordinate});var g=Ef(e,p.tickCoord,y,s,l);g&&(l=p.tickCoord-e*(y()/2+a),i[h]=Tt(Tt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return i}function Sie(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-c);o[s-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Ef(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+a),o[s-1]=Tt(Tt({},d),{},{isShow:!0}))}for(var m=i?s-1:s,y=function(b){var x=o[b],j,w=function(){return j===void 0&&(j=r(x,b)),j};if(b===0){var _=e*(x.coordinate-e*w()/2-l);o[b]=x=Tt(Tt({},x),{},{tickCoord:_<0?x.coordinate-_*e:x.coordinate})}else o[b]=x=Tt(Tt({},x),{},{tickCoord:x.coordinate});var S=Ef(e,x.tickCoord,w,l,c);S&&(l=x.tickCoord+e*(w()/2+a),o[b]=Tt(Tt({},x),{},{isShow:!0}))},v=0;v<m;v++)y(v);return o}function hb(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(K(l)||Ss.isSsr)return vie(a,typeof l=="number"&&K(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?gl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(x,j){var w=ce(c)?c(x.value,j):x.value;return p==="width"?gie(gl(w,{fontSize:t,letterSpacing:r}),m,f):gl(w,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Ft(a[1].coordinate-a[0].coordinate):1,g=yie(i,v,p);return l==="equidistantPreserveStart"?bie(v,g,y,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Sie(v,g,y,a,o,l==="preserveStartEnd"):h=jie(v,g,y,a,o),h.filter(function(b){return b.isShow}))}var Oie=["viewBox"],Nie=["viewBox"],Pie=["ticks"];function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){pb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function im(e,t){if(e==null)return{};var r=Eie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nC(n.key),n)}}function kie(e,t,r){return t&&cS(e.prototype,t),r&&cS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tie(e,t,r){return t=Af(t),Cie(e,rC()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function Cie(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ie(e)}function $ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function Iie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qy(e,t)}function pb(e,t,r){return t=nC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=Die(e,"string");return es(t)=="symbol"?t:t+""}function Die(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Es=function(e){function t(r){var n;return Aie(this,t),n=Tie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Iie(t,e),kie(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=im(n,Oie),s=this.props,l=s.viewBox,c=im(s,Nie);return!bo(i,l)||!bo(o,c)||!bo(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,c=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,y,v,g,b,x=f?-1:1,j=n.tickSize||d,w=K(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,v=o+ +!f*l,y=v-x*j,b=y-x*h,g=w;break;case"left":y=v=n.coordinate,m=i+ +!f*s,p=m-x*j,g=p-x*h,b=w;break;case"right":y=v=n.coordinate,m=i+ +f*s,p=m+x*j,g=p+x*h,b=w;break;default:p=m=n.coordinate,v=o+ +f*l,y=v+x*j,b=y+x*h,g=w;break}return{line:{x1:p,y1:y,x2:m,y2:v},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=ct(ct(ct({},ue(this.props,!1)),ue(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ct(ct({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ct(ct({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+s})}return D.createElement("line",so({},f,{className:me("recharts-cartesian-axis-line",dr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=hb(ct(ct({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=ue(this.props,!1),g=ue(d,!1),b=ct(ct({},v),{},{fill:"none"},ue(l,!1)),x=p.map(function(j,w){var _=o.getTickLineCoord(j),S=_.line,P=_.tick,k=ct(ct(ct(ct({textAnchor:m,verticalAnchor:y},v),{},{stroke:"none",fill:c},g),P),{},{index:w,payload:j,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(Ee,so({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},_i(o.props,j,w)),l&&D.createElement("line",so({},b,S,{className:me("recharts-cartesian-axis-tick-line",dr(l,"className"))})),d&&t.renderTickItem(d,k,"".concat(ce(f)?f(j.value,w):j.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,c=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=im(f,Pie),m=h;return ce(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:D.createElement(Ee,{className:me("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,s=me(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,ct(ct({},a),{},{className:s})):ce(n)?o=n(ct(ct({},a),{},{className:s})):o=D.createElement(ji,so({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);pb(Es,"displayName","CartesianAxis");pb(Es,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rie=["x1","y1","x2","y2","key"],Mie=["offset"];function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return t=Uie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uie(e){var t=Bie(e,"string");return Ni(t)=="symbol"?t:t+""}function Bie(e,t){if(Ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function fS(e,t){if(e==null)return{};var r=Fie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qie=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return D.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aC(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(ce(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=fS(t,Rie),c=ue(l,!1);c.offset;var d=fS(c,Mie);r=D.createElement("line",ci({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function zie(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=It(It({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return aC(a,c)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Wie(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=It(It({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return aC(a,c)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Vie(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],y=m?a+o-h:d[p+1]-h;if(y<=0)return null;var v=p%t.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Hie(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],y=m?i+s-h:d[p+1]-h;if(y<=0)return null;var v=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Gie=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return tT(hb(It(It(It({},Es.defaultProps),n),{},{ticks:_n(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Kie=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return tT(hb(It(It(It({},Es.defaultProps),n),{},{ticks:_n(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},zi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iC(e){var t,r,n,a,i,o,s=ub(),l=cb(),c=Dae(),d=It(It({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:zi.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:zi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:zi.verticalFill,x:K(e.x)?e.x:c.left,y:K(e.y)?e.y:c.top,width:K(e.width)?e.width:c.width,height:K(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,y=d.syncWithTicks,v=d.horizontalValues,g=d.verticalValues,b=Cae(),x=$ae();if(!K(p)||p<=0||!K(m)||m<=0||!K(f)||f!==+f||!K(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Gie,w=d.horizontalCoordinatesGenerator||Kie,_=d.horizontalPoints,S=d.verticalPoints;if((!_||!_.length)&&ce(w)){var P=v&&v.length,k=w({yAxis:x?It(It({},x),{},{ticks:P?v:x.ticks}):void 0,width:s,height:l,offset:c},P?!0:y);zr(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ni(k),"]")),Array.isArray(k)&&(_=k)}if((!S||!S.length)&&ce(j)){var $=g&&g.length,E=j({xAxis:b?It(It({},b),{},{ticks:$?g:b.ticks}):void 0,width:s,height:l,offset:c},$?!0:y);zr(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ni(E),"]")),Array.isArray(E)&&(S=E)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(qie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(zie,ci({},d,{offset:c,horizontalPoints:_,xAxis:b,yAxis:x})),D.createElement(Wie,ci({},d,{offset:c,verticalPoints:S,xAxis:b,yAxis:x})),D.createElement(Vie,ci({},d,{horizontalPoints:_})),D.createElement(Hie,ci({},d,{verticalPoints:S})))}iC.displayName="CartesianGrid";function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function Yie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lC(n.key),n)}}function Jie(e,t,r){return t&&Xie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qie(e,t,r){return t=kf(t),Zie(e,oC()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function Zie(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eoe(e)}function eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oC=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function toe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zy(e,t)}function sC(e,t,r){return t=lC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lC(e){var t=roe(e,"string");return ts(t)=="symbol"?t:t+""}function roe(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function noe(e){var t=e.xAxisId,r=ub(),n=cb(),a=GT(t);return a==null?null:N.createElement(Es,Wy({},a,{className:me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _n(o,!0)}}))}var Yh=function(e){function t(){return Yie(this,t),Qie(this,t,arguments)}return toe(t,e),Jie(t,[{key:"render",value:function(){return N.createElement(noe,this.props)}}])}(N.Component);sC(Yh,"displayName","XAxis");sC(Yh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ioe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dC(n.key),n)}}function ooe(e,t,r){return t&&ioe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function soe(e,t,r){return t=Tf(t),loe(e,uC()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function loe(e,t){if(t&&(rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uoe(e)}function uoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uC=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function coe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vy(e,t)}function cC(e,t,r){return t=dC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dC(e){var t=doe(e,"string");return rs(t)=="symbol"?t:t+""}function doe(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}var foe=function(t){var r=t.yAxisId,n=ub(),a=cb(),i=KT(r);return i==null?null:N.createElement(Es,Hy({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return _n(s,!0)}}))},Xh=function(e){function t(){return aoe(this,t),soe(this,t,arguments)}return coe(t,e),ooe(t,[{key:"render",value:function(){return N.createElement(foe,this.props)}}])}(N.Component);cC(Xh,"displayName","YAxis");cC(Xh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hS(e){return goe(e)||moe(e)||poe(e)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(e,t){if(e){if(typeof e=="string")return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}}function moe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function goe(e){if(Array.isArray(e))return Gy(e)}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ky=function(t,r,n,a,i){var o=Or(t,fb),s=Or(t,Hh),l=[].concat(hS(o),hS(s)),c=Or(t,Kh),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(y,v){if(v.props[d]===n&&nn(v.props,"extendDomain")&&K(v.props[f])){var g=v.props[f];return[Math.min(y[0],g),Math.max(y[1],g)]}return y},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(y,v){if(v.props[d]===n&&nn(v.props,"extendDomain")&&K(v.props[p])&&K(v.props[m])){var g=v.props[p],b=v.props[m];return[Math.min(y[0],g,b),Math.max(y[1],g,b)]}return y},h)}return i&&i.length&&(h=i.reduce(function(y,v){return K(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},fC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var v=this._events[y],g=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(x=1,b=new Array(g-1);x<g;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var j=v.length,w;for(x=0;x<j;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),g){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,f);break;case 4:v[x].fn.call(v[x].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];v[x].fn.apply(v[x].context,b)}}return!0},s.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var y=0,v=[],g=m.length;y<g;y++)(m[y].fn!==d||h&&!m[y].once||f&&m[y].context!==f)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(fC);var yoe=fC.exports;const voe=Ne(yoe);var om=new voe,sm="recharts.syncMouseEvents";function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hC(n.key),n)}}function woe(e,t,r){return t&&xoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lm(e,t,r){return t=hC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hC(e){var t=_oe(e,"string");return ju(t)=="symbol"?t:t+""}function _oe(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var joe=function(){function e(){boe(this,e),lm(this,"activeIndex",0),lm(this,"coordinateList",[]),lm(this,"layout","horizontal")}return woe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Soe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&K(n)&&K(a))return!0}return!1}function Ooe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function pC(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Le(t,r,n,a),s=Le(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Noe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=Le(s,l,c,f),p=Le(s,l,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return pC(t);return[{x:n,y:a},{x:i,y:o}]}function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return t=Eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=Aoe(e,"string");return Su(t)=="symbol"?t:t+""}function Aoe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function koe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,y=yy;if(h==="ScatterChart")m=o,y=ste;else if(h==="BarChart")m=Ooe(f,o,l,d),y=ab;else if(f==="radial"){var v=pC(o),g=v.cx,b=v.cy,x=v.radius,j=v.startAngle,w=v.endAngle;m={cx:g,cy:b,startAngle:j,endAngle:w,innerRadius:x,outerRadius:x},y=fT}else m={points:Noe(f,o,l)},y=yy;var _=Nc(Nc(Nc(Nc({stroke:"#ccc",pointerEvents:"none"},l),m),ue(p,!1)),{},{payload:s,payloadIndex:c,className:me("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,_):N.createElement(y,_)}var Toe=["item"],Coe=["children","className","width","height","style","compact","title","desc"];function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(this,arguments)}function mS(e,t){return Doe(e)||Ioe(e,t)||gC(e,t)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Doe(e){if(Array.isArray(e))return e}function gS(e,t){if(e==null)return{};var r=Roe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Roe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Moe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Loe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yC(n.key),n)}}function Uoe(e,t,r){return t&&Loe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Boe(e,t,r){return t=Cf(t),Foe(e,mC()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function Foe(e,t){if(t&&(ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qoe(e)}function qoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mC=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yy(e,t)}function as(e){return Hoe(e)||Voe(e)||gC(e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gC(e,t){if(e){if(typeof e=="string")return Xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(e,t)}}function Voe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hoe(e){if(Array.isArray(e))return Xy(e)}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t,r){return t=yC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yC(e){var t=Goe(e,"string");return ns(t)=="symbol"?t:t+""}function Goe(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Koe={xAxis:["bottom","top"],yAxis:["left","right"]},Yoe={width:"100%",height:"100%"},vC={x:0,y:0};function Pc(e){return e}var Xoe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Joe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return F(F(F({},a),Le(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,c=a.angle;return F(F(F({},a),Le(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return vC},Jh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(as(s),as(c)):s},[]);return o.length>0?o:t&&t.length&&K(a)&&K(i)?t.slice(a,i+1):[]};function bC(e){return e==="number"?[0,"auto"]:void 0}var Jy=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=Jh(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Og(p,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(as(l),[oT(c,h)]):l},[])},vS=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Xoe(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=kJ(o,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=Jy(t,r,d,f),p=Joe(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Qoe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=eT(d,i);return n.reduce(function(m,y){var v,g=y.type.defaultProps!==void 0?F(F({},y.type.defaultProps),y.props):y.props,b=g.type,x=g.dataKey,j=g.allowDataOverflow,w=g.allowDuplicatedCategory,_=g.scale,S=g.ticks,P=g.includeHidden,k=g[o];if(m[k])return m;var $=Jh(t.data,{graphicalItems:a.filter(function(q){var Z,fe=o in q.props?q.props[o]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[o];return fe===k}),dataStartIndex:l,dataEndIndex:c}),E=$.length,T,M,C;Soe(g.domain,j,b)&&(T=fy(g.domain,null,j),p&&(b==="number"||_!=="auto")&&(C=vl($,x,"category")));var A=bC(b);if(!T||T.length===0){var O,R=(O=g.domain)!==null&&O!==void 0?O:A;if(x){if(T=vl($,x,b),b==="category"&&p){var I=xB(T);w&&I?(M=T,T=xf(0,E)):w||(T=z_(R,T,y).reduce(function(q,Z){return q.indexOf(Z)>=0?q:[].concat(as(q),[Z])},[]))}else if(b==="category")w?T=T.filter(function(q){return q!==""&&!ye(q)}):T=z_(R,T,y).reduce(function(q,Z){return q.indexOf(Z)>=0||Z===""||ye(Z)?q:[].concat(as(q),[Z])},[]);else if(b==="number"){var L=DJ($,a.filter(function(q){var Z,fe,te=o in q.props?q.props[o]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[o],ge="hide"in q.props?q.props.hide:(fe=q.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return te===k&&(P||!ge)}),x,i,d);L&&(T=L)}p&&(b==="number"||_!=="auto")&&(C=vl($,x,"category"))}else p?T=xf(0,E):s&&s[k]&&s[k].hasStack&&b==="number"?T=h==="expand"?[0,1]:iT(s[k].stackGroups,l,c):T=Zk($,a.filter(function(q){var Z=o in q.props?q.props[o]:q.type.defaultProps[o],fe="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Z===k&&(P||!fe)}),b,d,!0);if(b==="number")T=Ky(f,T,k,i,S),R&&(T=fy(R,T,j));else if(b==="category"&&R){var V=R,z=T.every(function(q){return V.indexOf(q)>=0});z&&(T=V)}}return F(F({},m),{},oe({},k,F(F({},g),{},{axisType:i,domain:T,categoricalDomain:C,duplicateDomain:M,originalDomain:(v=g.domain)!==null&&v!==void 0?v:A,isCategorical:p,layout:d})))},{})},Zoe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=Jh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=eT(d,i),y=-1;return n.reduce(function(v,g){var b=g.type.defaultProps!==void 0?F(F({},g.type.defaultProps),g.props):g.props,x=b[o],j=bC("number");if(!v[x]){y++;var w;return m?w=xf(0,p):s&&s[x]&&s[x].hasStack?(w=iT(s[x].stackGroups,l,c),w=Ky(f,w,x,i)):(w=fy(j,Zk(h,n.filter(function(_){var S,P,k=o in _.props?_.props[o]:(S=_.type.defaultProps)===null||S===void 0?void 0:S[o],$="hide"in _.props?_.props.hide:(P=_.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===x&&!$}),"number",d),a.defaultProps.allowDataOverflow),w=Ky(f,w,x,i)),F(F({},v),{},oe({},x,F(F({axisType:i},a.defaultProps),{},{hide:!0,orientation:dr(Koe,"".concat(i,".").concat(y%2),null),domain:w,originalDomain:j,isCategorical:m,layout:d})))}return v},{})},ese=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Or(d,i),p={};return h&&h.length?p=Qoe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=Zoe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},tse=function(t){var r=na(t),n=_n(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:T0(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:lf(r,n)}},bS=function(t){var r=t.children,n=t.defaultShowTooltip,a=or(r,Yo),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rse=function(t){return!t||!t.length?!1:t.some(function(r){var n=Nn(r&&r.type);return n&&n.indexOf("Bar")>=0})},xS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nse=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=or(f,Yo),m=or(f,hi),y=Object.keys(l).reduce(function(w,_){var S=l[_],P=S.orientation;return!S.mirror&&!S.hide?F(F({},w),{},oe({},P,w[P]+S.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,_){var S=o[_],P=S.orientation;return!S.mirror&&!S.hide?F(F({},w),{},oe({},P,dr(w,"".concat(P))+S.height)):w},{top:h.top||0,bottom:h.bottom||0}),g=F(F({},v),y),b=g.bottom;p&&(g.bottom+=p.props.height||Yo.defaultProps.height),m&&r&&(g=$J(g,a,n,r));var x=c-g.left-g.right,j=d-g.top-g.bottom;return F(F({brushBottom:b},g),{},{width:Math.max(x,0),height:Math.max(j,0)})},ase=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},xC=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,b){var x=b.graphicalItems,j=b.stackGroups,w=b.offset,_=b.updateId,S=b.dataStartIndex,P=b.dataEndIndex,k=g.barSize,$=g.layout,E=g.barGap,T=g.barCategoryGap,M=g.maxBarSize,C=xS($),A=C.numericAxisName,O=C.cateAxisName,R=rse(x),I=[];return x.forEach(function(L,V){var z=Jh(g.data,{graphicalItems:[L],dataStartIndex:S,dataEndIndex:P}),q=L.type.defaultProps!==void 0?F(F({},L.type.defaultProps),L.props):L.props,Z=q.dataKey,fe=q.maxBarSize,te=q["".concat(A,"Id")],ge=q["".concat(O,"Id")],Ue={},we=l.reduce(function(un,cn){var $i=b["".concat(cn.axisType,"Map")],U=q["".concat(cn.axisType,"Id")];$i&&$i[U]||cn.axisType==="zAxis"||Oi();var ne=$i[U];return F(F({},un),{},oe(oe({},cn.axisType,ne),"".concat(cn.axisType,"Ticks"),_n(ne)))},Ue),Y=we[O],B=we["".concat(O,"Ticks")],H=j&&j[te]&&j[te].hasStack&&WJ(L,j[te].stackGroups),W=Nn(L.type).indexOf("Bar")>=0,ie=lf(Y,B),ae=[],de=R&&TJ({barSize:k,stackGroups:j,totalSize:ase(we,O)});if(W){var be,Qe,Lt=ye(fe)?M:fe,ln=(be=(Qe=lf(Y,B,!0))!==null&&Qe!==void 0?Qe:Lt)!==null&&be!==void 0?be:0;ae=CJ({barGap:E,barCategoryGap:T,bandSize:ln!==ie?ln:ie,sizeList:de[ge],maxBarSize:Lt}),ln!==ie&&(ae=ae.map(function(un){return F(F({},un),{},{position:F(F({},un.position),{},{offset:un.position.offset-ln/2})})}))}var Da=L&&L.type&&L.type.getComposedData;Da&&I.push({props:F(F({},Da(F(F({},we),{},{displayedData:z,props:g,dataKey:Z,item:L,bandSize:ie,barPosition:ae,offset:w,stackedData:H,layout:$,dataStartIndex:S,dataEndIndex:P}))),{},oe(oe(oe({key:L.key||"item-".concat(V)},A,we[A]),O,we[O]),"animationId",_)),childIndex:CB(L,g.children),item:L})}),I},p=function(g,b){var x=g.props,j=g.dataStartIndex,w=g.dataEndIndex,_=g.updateId;if(!Rw({props:x}))return null;var S=x.children,P=x.layout,k=x.stackOffset,$=x.data,E=x.reverseStackOrder,T=xS(P),M=T.numericAxisName,C=T.cateAxisName,A=Or(S,n),O=qJ($,A,"".concat(M,"Id"),"".concat(C,"Id"),k,E),R=l.reduce(function(q,Z){var fe="".concat(Z.axisType,"Map");return F(F({},q),{},oe({},fe,ese(x,F(F({},Z),{},{graphicalItems:A,stackGroups:Z.axisType===M&&O,dataStartIndex:j,dataEndIndex:w}))))},{}),I=nse(F(F({},R),{},{props:x,graphicalItems:A}),b==null?void 0:b.legendBBox);Object.keys(R).forEach(function(q){R[q]=d(x,R[q],I,q.replace("Map",""),r)});var L=R["".concat(C,"Map")],V=tse(L),z=h(x,F(F({},R),{},{dataStartIndex:j,dataEndIndex:w,updateId:_,graphicalItems:A,stackGroups:O,offset:I}));return F(F({formattedGraphicalItems:z,graphicalItems:A,offset:I,stackGroups:O},V),R)},m=function(v){function g(b){var x,j,w;return Moe(this,g),w=Boe(this,g,[b]),oe(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oe(w,"accessibilityManager",new joe),oe(w,"handleLegendBBoxUpdate",function(_){if(_){var S=w.state,P=S.dataStartIndex,k=S.dataEndIndex,$=S.updateId;w.setState(F({legendBBox:_},p({props:w.props,dataStartIndex:P,dataEndIndex:k,updateId:$},F(F({},w.state),{},{legendBBox:_}))))}}),oe(w,"handleReceiveSyncEvent",function(_,S,P){if(w.props.syncId===_){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(S)}}),oe(w,"handleBrushChange",function(_){var S=_.startIndex,P=_.endIndex;if(S!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return F({dataStartIndex:S,dataEndIndex:P},p({props:w.props,dataStartIndex:S,dataEndIndex:P,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:S,dataEndIndex:P})}}),oe(w,"handleMouseEnter",function(_){var S=w.getMouseInfo(_);if(S){var P=F(F({},S),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var k=w.props.onMouseEnter;ce(k)&&k(P,_)}}),oe(w,"triggeredAfterMouseMove",function(_){var S=w.getMouseInfo(_),P=S?F(F({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var k=w.props.onMouseMove;ce(k)&&k(P,_)}),oe(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),oe(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),oe(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),oe(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var P=w.props.onMouseLeave;ce(P)&&P(S,_)}),oe(w,"handleOuterEvent",function(_){var S=TB(_),P=dr(w.props,"".concat(S));if(S&&ce(P)){var k,$;/.*touch.*/i.test(S)?$=w.getMouseInfo(_.changedTouches[0]):$=w.getMouseInfo(_),P((k=$)!==null&&k!==void 0?k:{},_)}}),oe(w,"handleClick",function(_){var S=w.getMouseInfo(_);if(S){var P=F(F({},S),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var k=w.props.onClick;ce(k)&&k(P,_)}}),oe(w,"handleMouseDown",function(_){var S=w.props.onMouseDown;if(ce(S)){var P=w.getMouseInfo(_);S(P,_)}}),oe(w,"handleMouseUp",function(_){var S=w.props.onMouseUp;if(ce(S)){var P=w.getMouseInfo(_);S(P,_)}}),oe(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),oe(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),oe(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),oe(w,"handleDoubleClick",function(_){var S=w.props.onDoubleClick;if(ce(S)){var P=w.getMouseInfo(_);S(P,_)}}),oe(w,"handleContextMenu",function(_){var S=w.props.onContextMenu;if(ce(S)){var P=w.getMouseInfo(_);S(P,_)}}),oe(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&om.emit(sm,w.props.syncId,_,w.eventEmitterSymbol)}),oe(w,"applySyncEvent",function(_){var S=w.props,P=S.layout,k=S.syncMethod,$=w.state.updateId,E=_.dataStartIndex,T=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(F({dataStartIndex:E,dataEndIndex:T},p({props:w.props,dataStartIndex:E,dataEndIndex:T,updateId:$},w.state)));else if(_.activeTooltipIndex!==void 0){var M=_.chartX,C=_.chartY,A=_.activeTooltipIndex,O=w.state,R=O.offset,I=O.tooltipTicks;if(!R)return;if(typeof k=="function")A=k(I,_);else if(k==="value"){A=-1;for(var L=0;L<I.length;L++)if(I[L].value===_.activeLabel){A=L;break}}var V=F(F({},R),{},{x:R.left,y:R.top}),z=Math.min(M,V.x+V.width),q=Math.min(C,V.y+V.height),Z=I[A]&&I[A].value,fe=Jy(w.state,w.props.data,A),te=I[A]?{x:P==="horizontal"?I[A].coordinate:z,y:P==="horizontal"?q:I[A].coordinate}:vC;w.setState(F(F({},_),{},{activeLabel:Z,activeCoordinate:te,activePayload:fe,activeTooltipIndex:A}))}else w.setState(_)}),oe(w,"renderCursor",function(_){var S,P=w.state,k=P.isTooltipActive,$=P.activeCoordinate,E=P.activePayload,T=P.offset,M=P.activeTooltipIndex,C=P.tooltipAxisBandSize,A=w.getTooltipEventType(),O=(S=_.props.active)!==null&&S!==void 0?S:k,R=w.props.layout,I=_.key||"_recharts-cursor";return D.createElement(koe,{key:I,activeCoordinate:$,activePayload:E,activeTooltipIndex:M,chartName:r,element:_,isActive:O,layout:R,offset:T,tooltipAxisBandSize:C,tooltipEventType:A})}),oe(w,"renderPolarAxis",function(_,S,P){var k=dr(_,"type.axisType"),$=dr(w.state,"".concat(k,"Map")),E=_.type.defaultProps,T=E!==void 0?F(F({},E),_.props):_.props,M=$&&$[T["".concat(k,"Id")]];return N.cloneElement(_,F(F({},M),{},{className:me(k,M.className),key:_.key||"".concat(S,"-").concat(P),ticks:_n(M,!0)}))}),oe(w,"renderPolarGrid",function(_){var S=_.props,P=S.radialLines,k=S.polarAngles,$=S.polarRadius,E=w.state,T=E.radiusAxisMap,M=E.angleAxisMap,C=na(T),A=na(M),O=A.cx,R=A.cy,I=A.innerRadius,L=A.outerRadius;return N.cloneElement(_,{polarAngles:Array.isArray(k)?k:_n(A,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray($)?$:_n(C,!0).map(function(V){return V.coordinate}),cx:O,cy:R,innerRadius:I,outerRadius:L,key:_.key||"polar-grid",radialLines:P})}),oe(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,S=w.props,P=S.children,k=S.width,$=S.height,E=w.props.margin||{},T=k-(E.left||0)-(E.right||0),M=Jk({children:P,formattedGraphicalItems:_,legendWidth:T,legendContent:c});if(!M)return null;var C=M.item,A=gS(M,Toe);return N.cloneElement(C,F(F({},A),{},{chartWidth:k,chartHeight:$,margin:E,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),oe(w,"renderTooltip",function(){var _,S=w.props,P=S.children,k=S.accessibilityLayer,$=or(P,Xr);if(!$)return null;var E=w.state,T=E.isTooltipActive,M=E.activeCoordinate,C=E.activePayload,A=E.activeLabel,O=E.offset,R=(_=$.props.active)!==null&&_!==void 0?_:T;return N.cloneElement($,{viewBox:F(F({},O),{},{x:O.left,y:O.top}),active:R,label:A,payload:R?C:[],coordinate:M,accessibilityLayer:k})}),oe(w,"renderBrush",function(_){var S=w.props,P=S.margin,k=S.data,$=w.state,E=$.offset,T=$.dataStartIndex,M=$.dataEndIndex,C=$.updateId;return N.cloneElement(_,{key:_.key||"_recharts-brush",onChange:_c(w.handleBrushChange,_.props.onChange),data:k,x:K(_.props.x)?_.props.x:E.left,y:K(_.props.y)?_.props.y:E.top+E.height+E.brushBottom-(P.bottom||0),width:K(_.props.width)?_.props.width:E.width,startIndex:T,endIndex:M,updateId:"brush-".concat(C)})}),oe(w,"renderReferenceElement",function(_,S,P){if(!_)return null;var k=w,$=k.clipPathId,E=w.state,T=E.xAxisMap,M=E.yAxisMap,C=E.offset,A=_.type.defaultProps||{},O=_.props,R=O.xAxisId,I=R===void 0?A.xAxisId:R,L=O.yAxisId,V=L===void 0?A.yAxisId:L;return N.cloneElement(_,{key:_.key||"".concat(S,"-").concat(P),xAxis:T[I],yAxis:M[V],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:$})}),oe(w,"renderActivePoints",function(_){var S=_.item,P=_.activePoint,k=_.basePoint,$=_.childIndex,E=_.isRange,T=[],M=S.props.key,C=S.item.type.defaultProps!==void 0?F(F({},S.item.type.defaultProps),S.item.props):S.item.props,A=C.activeDot,O=C.dataKey,R=F(F({index:$,dataKey:O,cx:P.x,cy:P.y,r:4,fill:nb(S.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ue(A,!1)),Id(A));return T.push(g.renderActiveDot(A,R,"".concat(M,"-activePoint-").concat($))),k?T.push(g.renderActiveDot(A,F(F({},R),{},{cx:k.x,cy:k.y}),"".concat(M,"-basePoint-").concat($))):E&&T.push(null),T}),oe(w,"renderGraphicChild",function(_,S,P){var k=w.filterFormatItem(_,S,P);if(!k)return null;var $=w.getTooltipEventType(),E=w.state,T=E.isTooltipActive,M=E.tooltipAxis,C=E.activeTooltipIndex,A=E.activeLabel,O=w.props.children,R=or(O,Xr),I=k.props,L=I.points,V=I.isRange,z=I.baseLine,q=k.item.type.defaultProps!==void 0?F(F({},k.item.type.defaultProps),k.item.props):k.item.props,Z=q.activeDot,fe=q.hide,te=q.activeBar,ge=q.activeShape,Ue=!!(!fe&&T&&R&&(Z||te||ge)),we={};$!=="axis"&&R&&R.props.trigger==="click"?we={onClick:_c(w.handleItemMouseEnter,_.props.onClick)}:$!=="axis"&&(we={onMouseLeave:_c(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:_c(w.handleItemMouseEnter,_.props.onMouseEnter)});var Y=N.cloneElement(_,F(F({},k.props),we));function B(cn){return typeof M.dataKey=="function"?M.dataKey(cn.payload):null}if(Ue)if(C>=0){var H,W;if(M.dataKey&&!M.allowDuplicatedCategory){var ie=typeof M.dataKey=="function"?B:"payload.".concat(M.dataKey.toString());H=Og(L,ie,A),W=V&&z&&Og(z,ie,A)}else H=L==null?void 0:L[C],W=V&&z&&z[C];if(ge||te){var ae=_.props.activeIndex!==void 0?_.props.activeIndex:C;return[N.cloneElement(_,F(F(F({},k.props),we),{},{activeIndex:ae})),null,null]}if(!ye(H))return[Y].concat(as(w.renderActivePoints({item:k,activePoint:H,basePoint:W,childIndex:C,isRange:V})))}else{var de,be=(de=w.getItemByXY(w.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:Y},Qe=be.graphicalItem,Lt=Qe.item,ln=Lt===void 0?_:Lt,Da=Qe.childIndex,un=F(F(F({},k.props),we),{},{activeIndex:Da});return[N.cloneElement(ln,un),null,null]}return V?[Y,null,null]:[Y,null]}),oe(w,"renderCustomized",function(_,S,P){return N.cloneElement(_,F(F({key:"recharts-customized-".concat(P)},w.props),w.state))}),oe(w,"renderMap",{CartesianGrid:{handler:Pc,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Pc},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Pc},YAxis:{handler:Pc},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Ru("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=XA(w.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return zoe(g,v),Uoe(g,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,w=x.data,_=x.height,S=x.layout,P=or(j,Xr);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,E=Jy(this.state,w,k,$),T=this.state.tooltipTicks[k].coordinate,M=(this.state.offset.top+_)/2,C=S==="horizontal",A=C?{x:T,y:M}:{y:T,x:M},O=this.state.formattedGraphicalItems.find(function(I){var L=I.item;return L.type.name==="Scatter"});O&&(A=F(F({},A),O.props.points[k].tooltipPosition),E=O.props.points[k].tooltipPayload);var R={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:$,activePayload:E,activeCoordinate:A};this.setState(R),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(x){Pg([or(x.children,Xr)],[or(this.props.children,Xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=or(this.props.children,Xr);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return s.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),_=aG(w),S={chartX:Math.round(x.pageX-_.left),chartY:Math.round(x.pageY-_.top)},P=w.width/j.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,P);if(!k)return null;var $=this.state,E=$.xAxisMap,T=$.yAxisMap,M=this.getTooltipEventType(),C=vS(this.state,this.props.data,this.props.layout,k);if(M!=="axis"&&E&&T){var A=na(E).scale,O=na(T).scale,R=A&&A.invert?A.invert(S.chartX):null,I=O&&O.invert?O.invert(S.chartY):null;return F(F({},S),{},{xValue:R,yValue:I},C)}return C?F(F({},S),C):null}},{key:"inRange",value:function(x,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=x/w,P=j/w;if(_==="horizontal"||_==="vertical"){var k=this.state.offset,$=S>=k.left&&S<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return $?{x:S,y:P}:null}var E=this.state,T=E.angleAxisMap,M=E.radiusAxisMap;if(T&&M){var C=na(T);return H_({x:S,y:P},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),w=or(x,Xr),_={};w&&j==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Id(this.props,this.handleOuterEvent);return F(F({},S),_)}},{key:"addListener",value:function(){om.on(sm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){om.removeListener(sm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,w){for(var _=this.state.formattedGraphicalItems,S=0,P=_.length;S<P;S++){var k=_[S];if(k.item===x||k.props.key===x.key||j===Nn(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,w=j.left,_=j.top,S=j.height,P=j.width;return D.createElement("defs",null,D.createElement("clipPath",{id:x},D.createElement("rect",{x:w,y:_,height:S,width:P})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,w){var _=mS(w,2),S=_[0],P=_[1];return F(F({},j),{},oe({},S,P.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,w){var _=mS(w,2),S=_[0],P=_[1];return F(F({},j),{},oe({},S,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,w=j.formattedGraphicalItems,_=j.activeItem;if(w&&w.length)for(var S=0,P=w.length;S<P;S++){var k=w[S],$=k.props,E=k.item,T=E.type.defaultProps!==void 0?F(F({},E.type.defaultProps),E.props):E.props,M=Nn(E.type);if(M==="Bar"){var C=($.data||[]).find(function(I){return Fee(x,I)});if(C)return{graphicalItem:k,payload:C}}else if(M==="RadialBar"){var A=($.data||[]).find(function(I){return H_(x,I)});if(A)return{graphicalItem:k,payload:A}}else if(qh(k,_)||zh(k,_)||vu(k,_)){var O=Are({graphicalItem:k,activeTooltipItem:_,itemData:T.data}),R=T.activeIndex===void 0?O:T.activeIndex;return{graphicalItem:F(F({},k),{},{childIndex:R}),payload:vu(k,_)?T.data[O]:k.props.data[O]}}}return null}},{key:"render",value:function(){var x=this;if(!Rw(this))return null;var j=this.props,w=j.children,_=j.className,S=j.width,P=j.height,k=j.style,$=j.compact,E=j.title,T=j.desc,M=gS(j,Coe),C=ue(M,!1);if($)return D.createElement(eS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(Ag,lo({},C,{width:S,height:P,title:E,desc:T}),this.renderClipPath(),Lw(w,this.renderMap)));if(this.props.accessibilityLayer){var A,O;C.tabIndex=(A=this.props.tabIndex)!==null&&A!==void 0?A:0,C.role=(O=this.props.role)!==null&&O!==void 0?O:"application",C.onKeyDown=function(I){x.accessibilityManager.keyboardEvent(I)},C.onFocus=function(){x.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return D.createElement(eS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",lo({className:me("recharts-wrapper",_),style:F({position:"relative",cursor:"default",width:S,height:P},k)},R,{ref:function(L){x.container=L}}),D.createElement(Ag,lo({},C,{width:S,height:P,title:E,desc:T,style:Yoe}),this.renderClipPath(),Lw(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);oe(m,"displayName",r),oe(m,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),oe(m,"getDerivedStateFromProps",function(v,g){var b=v.dataKey,x=v.data,j=v.children,w=v.width,_=v.height,S=v.layout,P=v.stackOffset,k=v.margin,$=g.dataStartIndex,E=g.dataEndIndex;if(g.updateId===void 0){var T=bS(v);return F(F(F({},T),{},{updateId:0},p(F(F({props:v},T),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:_,prevLayout:S,prevStackOffset:P,prevMargin:k,prevChildren:j})}if(b!==g.prevDataKey||x!==g.prevData||w!==g.prevWidth||_!==g.prevHeight||S!==g.prevLayout||P!==g.prevStackOffset||!bo(k,g.prevMargin)){var M=bS(v),C={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},A=F(F({},vS(g,x,S)),{},{updateId:g.updateId+1}),O=F(F(F({},M),C),A);return F(F(F({},O),p(F({props:v},O),g)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:_,prevLayout:S,prevStackOffset:P,prevMargin:k,prevChildren:j})}if(!Pg(j,g.prevChildren)){var R,I,L,V,z=or(j,Yo),q=z&&(R=(I=z.props)===null||I===void 0?void 0:I.startIndex)!==null&&R!==void 0?R:$,Z=z&&(L=(V=z.props)===null||V===void 0?void 0:V.endIndex)!==null&&L!==void 0?L:E,fe=q!==$||Z!==E,te=!ye(x),ge=te&&!fe?g.updateId:g.updateId+1;return F(F({updateId:ge},p(F(F({props:v},g),{},{updateId:ge,dataStartIndex:q,dataEndIndex:Z}),g)),{},{prevChildren:j,dataStartIndex:q,dataEndIndex:Z})}return null}),oe(m,"renderActiveDot",function(v,g,b){var x;return N.isValidElement(v)?x=N.cloneElement(v,g):ce(v)?x=v(g):x=D.createElement(ib,g),D.createElement(Ee,{className:"recharts-active-dot",key:b},x)});var y=N.forwardRef(function(g,b){return D.createElement(m,lo({},g,{ref:b}))});return y.displayName=m.displayName,y},ise=xC({chartName:"BarChart",GraphicalChild:Sa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yh},{axisType:"yAxis",AxisComp:Xh}],formatAxisMap:sae}),ose=xC({chartName:"PieChart",GraphicalChild:zn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fh},{axisType:"radiusAxis",AxisComp:Uh}],formatAxisMap:eQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function sse(){const[e,t]=N.useState(null),[r,n]=N.useState([]),[a,i]=N.useState([]),[o,s]=N.useState([]),[l,c]=N.useState([]),[d,f]=N.useState("last_month"),[h,p]=N.useState(""),[m,y]=N.useState("");N.useEffect(()=>{g()},[]);const v=()=>{const E=new Date;let T,M=E;switch(d){case"last_month":T=Xn(fn(E,1)),M=ml(fn(E,1));break;case"last_3_months":T=Xn(fn(E,3)),M=E;break;case"last_6_months":T=Xn(fn(E,6)),M=E;break;case"past_year":T=Xn(fn(E,12)),M=E;break;case"custom":h&&m?(T=new Date(h),M=new Date(m),M.setHours(23,59,59,999)):(T=Xn(fn(E,1)),M=ml(fn(E,1)));break;default:T=Xn(fn(E,1)),M=ml(fn(E,1))}return{startDate:T,endDate:M}},g=async()=>{try{const E=await le.getDashboardStats(),T=await le.getOverdueInvoices(),M=await le.getInvoices(),C=await le.getProperties(),A=await le.getUnits();t(E),n(T),i(M),s(C),c(A)}catch(E){console.error("Error loading dashboard data:",E)}};if(!e)return u.jsx("div",{className:"p-6",children:"Loading..."});const{startDate:b,endDate:x}=v(),j=a.filter(E=>{const T=new Date(E.dueDate);return _w(T,{start:b,end:x})}),w=r.filter(E=>{const T=new Date(E.dueDate);return _w(T,{start:b,end:x})}),S=(()=>{const E=[],T=new Date(b);for(;T<=x;){const M=oi(T,"MMM");E.push({month:M,billed:0,collected:0}),T.setMonth(T.getMonth()+1)}return j.forEach(M=>{const C=new Date(M.dueDate),A=oi(C,"MMM"),O=E.findIndex(R=>R.month===A);O!==-1&&(E[O].billed+=M.amount,E[O].collected+=M.paidAmount)}),E})(),P=j.filter(E=>E.status==="paid").length,k=w.length,$=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});return u.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),u.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Welcome back! Here's your portfolio overview."})]}),u.jsx("div",{className:"text-gray-500 text-sm",children:$})]}),u.jsx("div",{className:"mb-5 bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($M,{className:"w-4 h-4 text-gray-500"}),u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date Range:"})]}),u.jsxs("select",{value:d,onChange:E=>{f(E.target.value),E.target.value!=="custom"&&(p(""),y(""))},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"last_month",children:"Last Month"}),u.jsx("option",{value:"last_3_months",children:"Last 3 Months"}),u.jsx("option",{value:"last_6_months",children:"Last 6 Months"}),u.jsx("option",{value:"past_year",children:"Past Year"}),u.jsx("option",{value:"custom",children:"Custom Range"})]}),d==="custom"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm text-gray-600",children:"From:"}),u.jsx("input",{type:"date",value:h,onChange:E=>p(E.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm text-gray-600",children:"To:"}),u.jsx("input",{type:"date",value:m,onChange:E=>y(E.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),u.jsxs("div",{className:"text-xs text-gray-500 ml-auto",children:["Showing: ",oi(b,"MMM d, yyyy")," - ",oi(x,"MMM d, yyyy")]})]})}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-5",children:[u.jsxs(mn,{to:"/properties",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[u.jsx(Sn,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Add Property"})]}),u.jsxs(mn,{to:"/tenants",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[u.jsx(Io,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Add Tenant"})]}),u.jsxs(mn,{to:"/contracts",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[u.jsx(sa,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"New Contract"})]}),u.jsxs(mn,{to:"/payments",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[u.jsx(Ad,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Record Payment"})]}),u.jsxs(mn,{to:"/calendar",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[u.jsx(On,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Calendar"})]})]}),w.length>0&&u.jsx("div",{className:"bg-pink-50 border border-red-200 rounded-lg p-5 mb-5",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx(hr,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5"}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-red-900 text-base mb-1",children:[w.length," Overdue Payments Require Attention"]}),u.jsxs("p",{className:"text-red-800 text-sm mb-3",children:["Total overdue: ",u.jsxs("span",{className:"font-bold",children:["AED ",w.reduce((E,T)=>E+T.remainingAmount,0).toLocaleString()]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.slice(0,3).map(E=>u.jsxs("div",{className:"bg-white px-3 py-1.5 rounded border border-red-100",children:[u.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:E.invoiceNumber}),u.jsxs("span",{className:"text-red-600 ml-2 text-sm font-medium",children:["AED ",E.remainingAmount.toLocaleString()]})]},E.id)),w.length>3&&u.jsx("div",{className:"bg-white px-3 py-1.5 rounded border border-red-100",children:u.jsxs("span",{className:"text-gray-700 text-sm",children:["+",w.length-3," more"]})})]})]})]}),u.jsx(mn,{to:"/invoices?status=overdue",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm whitespace-nowrap ml-4",children:"View All Overdue"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:[u.jsxs("div",{className:"bg-green-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:u.jsx(Ad,{className:"w-16 h-16"})}),u.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Total Collected"}),u.jsxs("p",{className:"text-3xl font-bold mb-1",children:["AED ",j.reduce((E,T)=>E+T.paidAmount,0).toLocaleString()]}),u.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[u.jsx(_g,{className:"w-4 h-4 mr-1"}),u.jsxs("span",{children:[j.length>0?(j.reduce((E,T)=>E+T.paidAmount,0)/j.reduce((E,T)=>E+T.amount,0)*100).toFixed(0):0,"% collection rate"]})]})]}),u.jsxs("div",{className:"bg-orange-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:u.jsx(Ed,{className:"w-16 h-16"})}),u.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Outstanding"}),u.jsxs("p",{className:"text-3xl font-bold mb-1",children:["AED ",j.filter(E=>E.status==="pending"||E.status==="partial"||E.status==="overdue").reduce((E,T)=>E+T.remainingAmount,0).toLocaleString()]}),u.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[u.jsx(Ed,{className:"w-4 h-4 mr-1"}),u.jsxs("span",{children:[j.filter(E=>E.status==="pending"||E.status==="partial"||E.status==="overdue").length," pending invoices"]})]})]}),u.jsxs("div",{className:"bg-blue-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:u.jsx(To,{className:"w-16 h-16"})}),u.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Occupancy Rate"}),u.jsxs("p",{className:"text-3xl font-bold mb-1",children:[e.occupancyRate.toFixed(0),"%"]}),u.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[u.jsx(To,{className:"w-4 h-4 mr-1"}),u.jsxs("span",{children:[e.occupiedUnits,"/",e.totalUnits," units occupied"]})]})]}),u.jsxs("div",{className:"bg-purple-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:u.jsx(sa,{className:"w-16 h-16"})}),u.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Active Contracts"}),u.jsx("p",{className:"text-3xl font-bold mb-1",children:e.activeContracts}),u.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[u.jsx(Io,{className:"w-4 h-4 mr-1"}),u.jsxs("span",{children:[e.activeTenants," tenants"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-5",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Revenue Overview"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Billed vs Collected (Last 6 months)"})]}),u.jsx(NM,{className:"w-5 h-5 text-gray-400"})]}),u.jsx(D1,{width:"100%",height:250,children:u.jsxs(ise,{data:S,children:[u.jsx(iC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(Yh,{dataKey:"month",tick:{fontSize:12}}),u.jsx(Xh,{tick:{fontSize:12},tickFormatter:E=>`${E/1e3}k`}),u.jsx(Xr,{formatter:E=>Ge(E)}),u.jsx(hi,{wrapperStyle:{fontSize:"12px"}}),u.jsx(Sa,{dataKey:"billed",fill:"#94a3b8",name:"Billed"}),u.jsx(Sa,{dataKey:"collected",fill:"#14b8a6",name:"Collected"})]})})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Invoice Status"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Distribution breakdown"})]}),u.jsx(MM,{className:"w-5 h-5 text-gray-400"})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(D1,{width:"100%",height:250,children:u.jsx(ose,{children:u.jsx(zn,{data:[{name:"Paid",value:P,color:"#14b8a6"},{name:"Overdue",value:k,color:"#ef4444"}],cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:2,dataKey:"value",children:[{name:"Paid",value:P,color:"#14b8a6"},{name:"Overdue",value:k,color:"#ef4444"}].map((E,T)=>u.jsx(Sh,{fill:E.color},`cell-${T}`))})})})}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:"#14b8a6"}}),u.jsxs("span",{className:"text-sm text-gray-600",children:["Paid (",P,")"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),u.jsxs("span",{className:"text-sm text-gray-600",children:["Overdue (",k,")"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Recent Invoices"}),u.jsxs(mn,{to:"/invoices",className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center",children:["View All",u.jsx(_g,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"space-y-4",children:w.slice(0,5).map(E=>u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:E.invoiceNumber}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Due ",Xt(E.dueDate)]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-semibold text-gray-900",children:["AED ",E.remainingAmount.toLocaleString()]}),u.jsx("span",{className:"inline-block px-3 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full",children:"Overdue"})]})]},E.id))})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-6",children:"Property Occupancy"}),u.jsx("div",{className:"space-y-6",children:o.map(E=>{const T=l.filter(O=>O.propertyId===E.id),M=T.filter(O=>O.isOccupied).length,C=T.length,A=C>0?M/C*100:0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Sn,{className:"w-5 h-5 text-green-600 mr-2"}),u.jsx("span",{className:"font-medium text-gray-900",children:E.name})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-sm text-gray-600",children:[M,"/",C]}),u.jsxs("span",{className:"font-semibold text-gray-900",children:[A.toFixed(0),"%"]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${A}%`,backgroundColor:"#14b8a6"}})})]},E.id)})})]})]})]})}function lse(){var Y;const[e,t]=N.useState([]),[r,n]=N.useState(""),[a,i]=N.useState("all"),[o,s]=N.useState(null),[l,c]=N.useState(""),[d,f]=N.useState(!1),[h,p]=N.useState(null),[m,y]=N.useState(null),[v,g]=N.useState([]),[b,x]=N.useState(!0),j=N.useRef(null),[w,_]=N.useState(null),[S,P]=N.useState([]),k=N.useRef(null),[$,E]=N.useState(null),[T,M]=N.useState(!1),[C,A]=N.useState([]);N.useEffect(()=>{O()},[]);const O=async()=>{try{const[B,H]=await Promise.all([le.getProperties(),le.getUnits()]);t(B),A(H)}catch(B){console.error("Error loading properties:",B),t([]),A([])}},R=e.filter(B=>{var ae;const H=r.toLowerCase(),W=!r||B.name.toLowerCase().includes(H)||B.address.toLowerCase().includes(H)||B.city.toLowerCase().includes(H)||((ae=B.shortCode)==null?void 0:ae.toLowerCase().includes(H)),ie=a==="all"?!0:a==="active"?B.isActive??!0:!(B.isActive??!0);return W&&ie}),I=(B,H)=>{const ie=B.split(" ").map(de=>{var be;return((be=de[0])==null?void 0:be.toUpperCase())||""}).join("");return`${ie.length>=3?ie.substring(0,3):ie.padEnd(3,"X")}-${String(H+1).padStart(3,"0")}`},L=async B=>{B.preventDefault();try{const H=new FormData(B.currentTarget),W={name:H.get("name"),address:H.get("address"),addressLine2:H.get("addressLine2")||void 0,city:H.get("city"),country:H.get("country"),images:v,shortCode:H.get("shortCode")||void 0,state:H.get("state")||void 0,postalCode:H.get("postalCode")||void 0,notes:H.get("notes")||void 0,isActive:b};h?await le.updateProperty(h.id,W):await le.createProperty(W),await O(),f(!1),p(null),g([]),x(!0)}catch(H){console.error("Error saving property:",H),alert("Failed to save property. Please try again.")}},V=B=>{p(B),g(B.images||[]),x(B.isActive??!0),f(!0)},z=async B=>{if(confirm("Are you sure you want to delete this property?"))try{await le.deleteProperty(B)?await O():alert("Cannot delete property with associated units")}catch(H){console.error("Error deleting property:",H),alert("Failed to delete property. Please try again.")}},q=()=>{f(!1),p(null),g([]),x(!0)},Z=B=>{const H=B.target.files;H&&(Array.from(H).forEach(W=>{if(v.length>=5){alert("Maximum 5 images allowed");return}if(W.type.startsWith("image/")){const ie=new FileReader;ie.onloadend=()=>{g(ae=>[...ae,ie.result])},ie.readAsDataURL(W)}}),j.current&&(j.current.value=""))},fe=B=>{g(H=>H.filter((W,ie)=>ie!==B))},te=B=>{_(B),P(B.images||[]),E(B.propertyId),M(!1)},ge=()=>{_(null),P([]),E(null),M(!1),k.current&&(k.current.value="")},Ue=B=>{const H=B.target.files;H&&(Array.from(H).forEach(W=>{if(S.length>=5){alert("Maximum 5 images allowed for a unit");return}if(W.type.startsWith("image/")){const ie=new FileReader;ie.onloadend=()=>{P(ae=>[...ae,ie.result])},ie.readAsDataURL(W)}}),k.current&&(k.current.value=""))},we=B=>{P(H=>H.filter((W,ie)=>ie!==B))};return u.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Properties"}),u.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.length," registered ",e.length===1?"property":"properties"]})]}),u.jsxs("button",{onClick:()=>{p(null),g([]),x(!0),f(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[u.jsx(va,{className:"w-4 h-4 mr-2"}),"Add Property"]})]}),u.jsxs("div",{className:"mb-5 flex gap-3",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search properties...",value:r,onChange:B=>n(B.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("select",{value:a,onChange:B=>i(B.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Not Active"})]})]}),u.jsx("div",{className:"space-y-3",children:R.map((B,H)=>{const W=C.filter(de=>de.propertyId===B.id),ie=W.filter(de=>de.isOccupied).length,ae=I(B.name,H);return u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[B.images.length>0?u.jsx("img",{src:B.images[0],alt:B.name,className:"w-12 h-12 rounded-lg object-cover mr-4 flex-shrink-0"}):u.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mr-4 flex-shrink-0",children:u.jsx(Sn,{className:"w-6 h-6 text-green-600"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center mb-1 flex-wrap gap-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.name}),u.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:ae}),u.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${B.isActive??!0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:B.isActive??!0?"Active":"Not Active"})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[u.jsx(sw,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),u.jsxs("span",{className:"truncate",children:[B.address,", ",B.city]})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(To,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),u.jsxs("span",{children:[W.length," units ",ie," occupied"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[u.jsx("button",{onClick:()=>V(B),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:u.jsx(Pd,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>z(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:u.jsx($o,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>s(o===B.id?null:B.id),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:o===B.id?"Hide Units":"Show Units",children:u.jsx(EM,{className:`w-5 h-5 transition-transform ${o===B.id?"rotate-180":""}`})})]})]}),o===B.id&&u.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg border border-gray-100 px-4 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{children:u.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:["Apartments (",W.length,")"]})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search units...",value:l,onChange:de=>c(de.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent w-56"})]}),u.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",onClick:()=>{M(!0),_(null),P([]),E(B.id)},children:[u.jsx(va,{className:"w-4 h-4 mr-1"}),"Add Unit"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:W.filter(de=>{if(!l)return!0;const be=l.toLowerCase();return de.unitNumber.toLowerCase().includes(be)||de.type.toLowerCase().includes(be)}).map(de=>{const be=de.unitNumber.match(/\d+/),Qe=be?be[0]:"",Lt=Qe.length>=2?`Floor ${Qe[0]}`:"Floor 1";return u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 flex flex-col justify-between",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-green-50 border border-green-100 flex items-center justify-center mr-2",children:u.jsx(To,{className:"w-4 h-4 text-green-600"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Unit ",de.unitNumber]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[Lt,"  ",de.type]})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{type:"button",className:"p-1 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit unit",onClick:()=>te(de),children:u.jsx(Pd,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",className:"p-1 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete unit",onClick:()=>alert("Delete this unit from the Units page for now."),children:u.jsx($o,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex items-center justify-between mt-2",children:u.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${de.isOccupied?"bg-blue-50 text-blue-700":"bg-green-50 text-green-700"}`,children:de.isOccupied?"Occupied":"Vacant"})})]},de.id)})})]})]},B.id)})}),R.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),u.jsx("p",{className:"text-gray-600",children:r?"Try a different search term":"Get started by adding your first property"})]}),d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:h?"Edit Property":"Add New Property"}),u.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:L,className:"p-5 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Name *"}),u.jsx("input",{type:"text",name:"name",defaultValue:h==null?void 0:h.name,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Marina Heights Tower"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Code *"}),u.jsx("input",{type:"text",name:"shortCode",defaultValue:h==null?void 0:h.shortCode,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"MHT-001"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),u.jsx("input",{type:"text",name:"address",defaultValue:h==null?void 0:h.address,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"45 Marina Walk"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),u.jsx("input",{type:"text",name:"addressLine2",defaultValue:h==null?void 0:h.addressLine2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Suite 101"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),u.jsx("input",{type:"text",name:"city",defaultValue:h==null?void 0:h.city,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Dubai"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),u.jsx("input",{type:"text",name:"state",defaultValue:h==null?void 0:h.state,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Dubai"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),u.jsx("input",{type:"text",name:"postalCode",defaultValue:h==null?void 0:h.postalCode,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"00000"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),u.jsx("input",{type:"text",name:"country",defaultValue:h==null?void 0:h.country,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"UAE"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"notes",defaultValue:h==null?void 0:h.notes,rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any notes about this property..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Images"}),v.length>0&&u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:v[0],alt:"Property",className:"w-24 h-24 object-cover rounded-lg border border-gray-300"}),u.jsx("button",{type:"button",onClick:()=>fe(0),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",children:u.jsx(Dt,{className:"w-2.5 h-2.5"})})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.length,"/5 images"]})]}),u.jsx("input",{ref:j,type:"file",accept:"image/*",multiple:!0,onChange:Z,className:"hidden",id:"image-upload"}),u.jsxs("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors",children:[u.jsx(uw,{className:"w-4 h-4 mr-2"}),"Add"]}),v.length===0&&u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No images uploaded yet"})]}),u.jsxs("div",{className:"flex items-center gap-3 pt-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Active"}),u.jsx("button",{type:"button",onClick:()=>x(!b),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ${b?"bg-green-600":"bg-gray-300"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${b?"translate-x-6":"translate-x-1"}`})})]}),u.jsxs("div",{className:"flex gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:q,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:h?"Update":"Add Property"})]})]})]})}),m&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Property Details"}),u.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"mb-6",children:m.images.length>0?u.jsx("img",{src:m.images[0],alt:m.name,className:"w-full h-64 object-cover rounded-lg mb-4"}):u.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:u.jsx(Sn,{className:"w-16 h-16 text-gray-400"})})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:m.name}),u.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[u.jsx(sw,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:[m.address,", ",m.city,", ",m.country]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Units"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.filter(B=>B.propertyId===m.id).length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Occupied Units"}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.filter(B=>B.propertyId===m.id&&B.isOccupied).length})]})]}),u.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Units"}),u.jsx("div",{className:"space-y-2",children:C.filter(B=>B.propertyId===m.id).map(B=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-gray-900",children:["Unit ",B.unitNumber]}),u.jsxs("p",{className:"text-sm text-gray-600",children:[B.type,"  ",B.squareFeet," sq ft"]})]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${B.isOccupied?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:B.isOccupied?"Occupied":"Vacant"})]},B.id))})]})]})]})]})}),(w||$)&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Apartment"}),u.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("form",{className:"p-5 space-y-3",onSubmit:async B=>{B.preventDefault();try{const H=new FormData(B.currentTarget),W=H.get("unitNumber").trim(),ie=H.get("floor").trim(),ae=H.get("type"),de=H.get("status"),be=H.get("unitNotes")||void 0,Qe=de==="occupied";w&&!T?await le.updateUnit(w.id,{unitNumber:W,floor:ie,type:ae,isOccupied:Qe,images:S,notes:be}):$&&W&&await le.createUnit({propertyId:$,unitNumber:W,type:ae,floor:ie,bedrooms:1,bathrooms:1,squareFeet:0,monthlyRent:0,isOccupied:Qe,images:S,notes:be}),await O(),ge()}catch(H){console.error("Error saving unit:",H),alert("Failed to save unit. Please try again.")}},children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number *"}),u.jsx("input",{type:"text",name:"unitNumber",defaultValue:(w==null?void 0:w.unitNumber)||"",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),u.jsx("input",{type:"text",name:"floor",defaultValue:((Y=w==null?void 0:w.floor)==null?void 0:Y.toString())||"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),u.jsxs("select",{name:"type",defaultValue:(w==null?void 0:w.type)||"1BR",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[u.jsx("option",{value:"studio",children:"Studio"}),u.jsx("option",{value:"1BR",children:"1BR"}),u.jsx("option",{value:"2BR",children:"2BR"}),u.jsx("option",{value:"3BR",children:"3BR"}),u.jsx("option",{value:"4BR",children:"4BR"}),u.jsx("option",{value:"penthouse",children:"Penthouse"}),u.jsx("option",{value:"villa",children:"Villa"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{name:"status",defaultValue:w!=null&&w.isOccupied?"occupied":"vacant",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[u.jsx("option",{value:"vacant",children:"Vacant"}),u.jsx("option",{value:"occupied",children:"Occupied"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Images"}),S.length>0&&u.jsx("div",{className:"mb-2 flex gap-2 flex-wrap",children:S.map((B,H)=>u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:B,alt:w?`Unit ${w.unitNumber}`:"Unit image",className:"w-20 h-20 object-cover rounded-lg border border-gray-300"}),u.jsx("button",{type:"button",onClick:()=>we(H),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",children:u.jsx(Dt,{className:"w-2.5 h-2.5"})})]},H))}),u.jsx("input",{ref:k,type:"file",accept:"image/*",multiple:!0,onChange:Ue,className:"hidden",id:"unit-image-upload"}),u.jsxs("label",{htmlFor:"unit-image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors text-sm",children:[u.jsx(uw,{className:"w-4 h-4 mr-2"}),"Add"]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S.length,"/5 images"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"unitNotes",defaultValue:w==null?void 0:w.notes,rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-3",children:[u.jsx("button",{type:"button",onClick:ge,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Update"})]})]})]})})]})}function use(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(""),[o,s]=N.useState(!1),[l,c]=N.useState(null),[d,f]=N.useState("all"),[h,p]=N.useState("all");N.useEffect(()=>{m()},[]);const m=async()=>{try{const w=await le.getUnits(),_=await le.getProperties();t(w),n(_)}catch(w){console.error("Error loading units data:",w),t([]),n([])}},y=e.filter(w=>{const _=a?w.unitNumber.toLowerCase().includes(a.toLowerCase())||w.type.toLowerCase().includes(a.toLowerCase()):!0,S=d==="all"||w.propertyId===d,P=h==="all"||h==="occupied"&&w.isOccupied||h==="vacant"&&!w.isOccupied;return _&&S&&P}),v=async w=>{w.preventDefault();try{const _=new FormData(w.currentTarget),S={propertyId:_.get("propertyId"),unitNumber:_.get("unitNumber"),type:_.get("type"),bedrooms:parseInt(_.get("bedrooms")),bathrooms:parseInt(_.get("bathrooms")),squareFeet:parseInt(_.get("squareFeet")),monthlyRent:parseFloat(_.get("monthlyRent")),isOccupied:!1,images:_.get("images").split(`
`).filter(Boolean)};l?await le.updateUnit(l.id,S):await le.createUnit(S),await m(),s(!1),c(null)}catch(_){console.error("Error saving unit:",_),alert("Failed to save unit. Please try again.")}},g=w=>{c(w),s(!0)},b=async w=>{if(confirm("Are you sure you want to delete this unit?"))try{await le.deleteUnit(w)?await m():alert("Cannot delete unit with associated contracts")}catch(_){console.error("Error deleting unit:",_),alert("Failed to delete unit. Please try again.")}},x=()=>{s(!1),c(null)},j=w=>{var _;return((_=r.find(S=>S.id===w))==null?void 0:_.name)||"Unknown"};return u.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Units"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Manage rental units across properties"})]}),u.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors shadow-md",children:[u.jsx(va,{className:"w-5 h-5 mr-2"}),"Add Unit"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search units...",value:a,onChange:w=>i(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.jsxs("select",{value:d,onChange:w=>f(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All Properties"}),r.map(w=>u.jsx("option",{value:w.id,children:w.name},w.id))]}),u.jsxs("select",{value:h,onChange:w=>p(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"occupied",children:"Occupied"}),u.jsx("option",{value:"vacant",children:"Vacant"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(w=>u.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"h-40 bg-gradient-to-br from-primary-400 to-primary-600 relative",children:[w.images.length>0?u.jsx("img",{src:w.images[0],alt:w.unitNumber,className:"w-full h-full object-cover"}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx(To,{className:"w-12 h-12 text-white opacity-50"})}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx("span",{className:bt("px-3 py-1 rounded-full text-xs font-semibold flex items-center",w.isOccupied?"bg-danger-100 text-danger-700":"bg-success-100 text-success-700"),children:w.isOccupied?u.jsxs(u.Fragment,{children:[u.jsx(UM,{className:"w-3 h-3 mr-1"}),"Occupied"]}):u.jsxs(u.Fragment,{children:[u.jsx(ja,{className:"w-3 h-3 mr-1"}),"Vacant"]})})})]}),u.jsxs("div",{className:"p-5",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Unit ",w.unitNumber]}),u.jsx("p",{className:"text-sm text-gray-600",children:j(w.propertyId)})]}),u.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-semibold rounded",children:w.type.toUpperCase()})]}),u.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Bedrooms:"}),u.jsx("span",{className:"font-medium text-gray-900",children:w.bedrooms})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Bathrooms:"}),u.jsx("span",{className:"font-medium text-gray-900",children:w.bathrooms})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Size:"}),u.jsxs("span",{className:"font-medium text-gray-900",children:[w.squareFeet," sq ft"]})]})]}),u.jsxs("div",{className:"pt-4 border-t border-gray-200 mb-4",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Monthly Rent"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge(w.monthlyRent)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>g(w),className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[u.jsx(Pd,{className:"w-4 h-4 mr-1"}),"Edit"]}),u.jsxs("button",{onClick:()=>b(w.id),className:"flex-1 flex items-center justify-center px-3 py-2 border border-danger-300 text-danger-600 rounded-lg hover:bg-danger-50 transition-colors text-sm",children:[u.jsx($o,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]},w.id))}),y.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(To,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No units found"}),u.jsx("p",{className:"text-gray-600",children:a?"Try a different search term":"Get started by adding your first unit"})]}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l?"Edit Unit":"Add New Unit"}),u.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property *"}),u.jsxs("select",{name:"propertyId",defaultValue:l==null?void 0:l.propertyId,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Select Property"}),r.map(w=>u.jsx("option",{value:w.id,children:w.name},w.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number *"}),u.jsx("input",{type:"text",name:"unitNumber",defaultValue:l==null?void 0:l.unitNumber,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"101"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),u.jsxs("select",{name:"type",defaultValue:l==null?void 0:l.type,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[u.jsx("option",{value:"studio",children:"Studio"}),u.jsx("option",{value:"1BR",children:"1 Bedroom"}),u.jsx("option",{value:"2BR",children:"2 Bedrooms"}),u.jsx("option",{value:"3BR",children:"3 Bedrooms"}),u.jsx("option",{value:"4BR",children:"4 Bedrooms"}),u.jsx("option",{value:"penthouse",children:"Penthouse"}),u.jsx("option",{value:"villa",children:"Villa"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms *"}),u.jsx("input",{type:"number",name:"bedrooms",defaultValue:l==null?void 0:l.bedrooms,required:!0,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),u.jsx("input",{type:"number",name:"bathrooms",defaultValue:l==null?void 0:l.bathrooms,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Square Feet *"}),u.jsx("input",{type:"number",name:"squareFeet",defaultValue:l==null?void 0:l.squareFeet,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rent (AED) *"}),u.jsx("input",{type:"number",name:"monthlyRent",defaultValue:l==null?void 0:l.monthlyRent,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"5000"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URLs (one per line)"}),u.jsx("textarea",{name:"images",defaultValue:l==null?void 0:l.images.join(`
`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com/image1.jpg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter image URLs, one per line"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:l?"Update Unit":"Add Unit"}),u.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}function cse(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState([]),[o,s]=N.useState([]),[l,c]=N.useState(""),[d,f]=N.useState(!0),[h,p]=N.useState(!1),[m,y]=N.useState(null),[v,g]=N.useState(null),[b,x]=N.useState("");N.useEffect(()=>{j()},[]);const j=async()=>{f(!0);try{const A=await le.getTenants();t(A),f(!1)}catch(A){console.error("Error loading tenants:",A),t([]),f(!1)}try{const[A,O,R]=await Promise.all([le.getContracts(),le.getInvoices(),le.getPayments()]);n(A),i(O),s(R)}catch(A){console.error("Error loading related data:",A),n([]),i([]),s([])}},w=async()=>{try{const A=await le.getTenants();t(A)}catch(A){console.error("Error loading tenants:",A),t([])}},_=l?e.filter(A=>{var O,R,I;return`${A.firstName} ${A.lastName}`.toLowerCase().includes(l.toLowerCase())||A.email.toLowerCase().includes(l.toLowerCase())||A.phone.includes(l)||((O=A.secondaryPhone)==null?void 0:O.includes(l))||((R=A.whatsappNumber)==null?void 0:R.includes(l))||((I=A.secondaryWhatsappNumber)==null?void 0:I.includes(l))}):e,S=async A=>{A.preventDefault();try{const O=new FormData(A.currentTarget),R=O.get("idType"),I=O.get("idNumber");if(R&&R.trim()!==""&&(!I||!I.trim())){alert("ID Number is required when ID Type is selected");const q=A.currentTarget.querySelector('[name="idNumber"]');q&&q.focus();return}const L=O.get("idExpiryDate"),V=L?new Date(L):void 0,z={firstName:O.get("firstName"),lastName:O.get("lastName"),email:O.get("email"),phone:O.get("phone"),secondaryPhone:O.get("secondaryPhone")||void 0,whatsappNumber:O.get("whatsappNumber"),secondaryWhatsappNumber:O.get("secondaryWhatsappNumber")||void 0,nationalId:I||O.get("nationalId")||(m==null?void 0:m.nationalId)||"",emergencyContact:O.get("emergencyContact"),emergencyPhone:O.get("emergencyPhone"),idType:O.get("idType"),idNumber:I||void 0,idExpiryDate:V,billingAddress:O.get("billingAddress"),paymentMethod:O.get("paymentMethod"),notificationPreference:O.get("notificationPreference"),notes:O.get("notes")};m?await le.updateTenant(m.id,z):await le.createTenant(z),await w(),p(!1),y(null),x("")}catch(O){console.error("Error saving tenant:",O),alert("Failed to save tenant. Please try again.")}},P=(A,O)=>{O.value=A},k=A=>{y(A),x(A.idType||""),p(!0)},$=A=>{g(A)},E=async A=>{if(confirm("Are you sure you want to delete this tenant?"))try{await le.deleteTenant(A)?await j():alert("Cannot delete tenant with associated contracts")}catch(O){console.error("Error deleting tenant:",O),alert("Error deleting tenant")}},T=()=>{p(!1),y(null),x("")},M=A=>r.filter(I=>I.tenantId===A).some(I=>I.status==="active")?"Active":"Inactive",C=A=>{const O=r.filter(q=>q.tenantId===A);if(O.length===0)return"";const R=O.map(q=>q.id),L=a.filter(q=>R.includes(q.contract.id)).map(q=>q.id),V=o.filter(q=>L.includes(q.invoiceId));if(V.length===0)return"";switch(V.reduce((q,Z)=>!q||new Date(Z.paymentDate)>new Date(q.paymentDate)?Z:q,V[0]).paymentMethod){case"cash":return"Cash";case"bank_transfer":return"Bank Transfer";case"cheque":return"Cheque";case"card":return"Card";case"online":return"Online Payment";default:return""}};return u.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenants"}),u.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.length," registered ",e.length===1?"tenant":"tenants"]})]}),u.jsxs("button",{onClick:()=>{p(!0),x("")},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[u.jsx(va,{className:"w-4 h-4 mr-2"}),"Add Tenant"]})]}),u.jsx("div",{className:"mb-5",children:u.jsxs("div",{className:"relative",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search tenants...",value:l,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[d&&_.length===0&&u.jsx(u.Fragment,{children:Array.from({length:6}).map((A,O)=>u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 mr-3"}),u.jsxs("div",{children:[u.jsx("div",{className:"h-4 w-32 bg-gray-100 rounded mb-2"}),u.jsx("div",{className:"h-3 w-24 bg-gray-100 rounded"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg"}),u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg"})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsx("div",{className:"h-3 w-40 bg-gray-100 rounded"}),u.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"}),u.jsx("div",{className:"h-3 w-32 bg-gray-100 rounded"})]}),u.jsx("div",{className:"h-3 w-44 bg-gray-100 rounded"})]},`tenant-skeleton-${O}`))}),!d&&_.map(A=>{const O=M(A.id),R=A.paymentMethod?A.paymentMethod==="bank_transfer"?"Bank Transfer":A.paymentMethod.charAt(0).toUpperCase()+A.paymentMethod.slice(1):C(A.id);return u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"w-12 h-12 rounded-full bg-green-50 border border-green-200 flex items-center justify-center text-green-700 font-bold text-lg mr-3",children:[A.firstName[0],A.lastName[0]]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[A.firstName," ",A.lastName]}),u.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs font-semibold ${O==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:O==="Active"?"Active Contract":"No Active Contract"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsxs("button",{onClick:()=>$(A),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-1",title:"View",children:[u.jsx(CM,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"View"})]}),u.jsx("button",{onClick:()=>k(A),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:u.jsx(Pd,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>E(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:u.jsx($o,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(RM,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("a",{href:`tel:${A.phone}`,className:"hover:text-green-600",children:A.phone})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(Co,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("a",{href:`mailto:${A.email}`,className:"hover:text-green-600 truncate",children:A.email})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(TM,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("span",{children:R})]})]}),u.jsx("div",{className:"pt-4 border-top border-t border-gray-200 mt-2",children:u.jsxs("p",{className:"text-xs text-gray-500",children:[A.idType?`${A.idType==="emirates_id"?"Emirates ID":A.idType==="driver_license"?"Driver License":A.idType==="passport"?"Passport":"ID"}: `:"National ID: ",u.jsx("span",{className:"font-medium text-gray-900",children:A.idNumber||A.nationalId})]})})]},A.id)})]}),_.length===0&&!d&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Io,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tenants found"}),u.jsx("p",{className:"text-gray-600",children:l?"Try a different search term":"Get started by adding your first tenant"})]}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:m?"Edit Tenant":"Add New Tenant"}),u.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:S,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),u.jsx("input",{type:"text",name:"firstName",defaultValue:m==null?void 0:m.firstName,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),u.jsx("input",{type:"text",name:"lastName",defaultValue:m==null?void 0:m.lastName,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Type"}),u.jsxs("select",{name:"idType",value:b||(m==null?void 0:m.idType)||"",onChange:A=>x(A.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"",children:"Select ID Type"}),u.jsx("option",{value:"passport",children:"Passport"}),u.jsx("option",{value:"emirates_id",children:"Emirates ID"}),u.jsx("option",{value:"driver_license",children:"Driver License"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID Number ",(b||(m==null?void 0:m.idType))&&" *"]}),u.jsx("input",{type:"text",name:"idNumber",defaultValue:(m==null?void 0:m.idNumber)||(m==null?void 0:m.nationalId),required:!!(b||m!=null&&m.idType),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"EID-123456"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Expiry Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",name:"idExpiryDate",defaultValue:m!=null&&m.idExpiryDate?new Date(m.idExpiryDate).toISOString().split("T")[0]:"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10"}),u.jsx(On,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"tel",name:"phone",id:"phone-input",defaultValue:m==null?void 0:m.phone,required:!0,className:"w-full px-3 py-1.5 pr-9 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"}),u.jsx("button",{type:"button",onClick:A=>{var I;const O=(I=A.currentTarget.parentElement)==null?void 0:I.querySelector("#phone-input"),R=document.getElementById("whatsapp-input");O&&R&&P(O.value,R)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Copy to WhatsApp",children:u.jsx(yE,{className:"w-3.5 h-3.5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number *"}),u.jsx("input",{type:"tel",name:"whatsappNumber",id:"whatsapp-input",defaultValue:m==null?void 0:m.whatsappNumber,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Phone"}),u.jsx("input",{type:"tel",name:"secondaryPhone",defaultValue:m==null?void 0:m.secondaryPhone,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Optional secondary phone"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary WhatsApp"}),u.jsx("input",{type:"tel",name:"secondaryWhatsappNumber",defaultValue:m==null?void 0:m.secondaryWhatsappNumber,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Optional secondary WhatsApp"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",defaultValue:m==null?void 0:m.email,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Address"}),u.jsx("textarea",{name:"billingAddress",rows:2,defaultValue:m==null?void 0:m.billingAddress,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Enter billing address..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),u.jsxs("select",{name:"paymentMethod",defaultValue:(m==null?void 0:m.paymentMethod)||"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),u.jsx("option",{value:"card",children:"Card"}),u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"cheque",children:"Cheque"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification"}),u.jsxs("select",{name:"notificationPreference",defaultValue:(m==null?void 0:m.notificationPreference)||"whatsapp",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"whatsapp",children:"WhatsApp"}),u.jsx("option",{value:"email",children:"Email"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"notes",rows:2,defaultValue:m==null?void 0:m.notes,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any additional notes..."})]}),u.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Emergency Contact"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),u.jsx("input",{type:"text",name:"emergencyContact",defaultValue:m==null?void 0:m.emergencyContact,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),u.jsx("input",{type:"tel",name:"emergencyPhone",defaultValue:m==null?void 0:m.emergencyPhone,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]})]}),u.jsx("input",{type:"hidden",name:"nationalId",value:(m==null?void 0:m.idNumber)||(m==null?void 0:m.nationalId)||""}),u.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:T,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:m?"Update":"Add Tenant"})]})]})]})}),v&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[v.firstName," ",v.lastName]}),u.jsx("p",{className:"text-sm text-gray-600",children:M(v.id)==="Active"?"Active Contract":"No Active Contract"})]}),u.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Contact"}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Phone:"})," ",v.phone]}),v.secondaryPhone&&u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Secondary Phone:"})," ",v.secondaryPhone]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"WhatsApp:"})," ",v.whatsappNumber]}),v.secondaryWhatsappNumber&&u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Secondary WhatsApp:"})," ",v.secondaryWhatsappNumber]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Email:"})," ",v.email]})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Identification"}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"ID Type:"})," ",v.idType||""]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"ID Number:"})," ",v.idNumber||v.nationalId||""]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"ID Expiry:"})," ",v.idExpiryDate?new Date(v.idExpiryDate).toLocaleDateString():""]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Preferences"}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",v.paymentMethod||C(v.id)||""]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Notification:"})," ",v.notificationPreference||""]})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Emergency"}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Contact:"})," ",v.emergencyContact]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium",children:"Phone:"})," ",v.emergencyPhone]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Billing & Notes"}),u.jsxs("p",{className:"text-sm text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"Billing Address:"})," ",v.billingAddress||""]}),u.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[u.jsx("span",{className:"font-medium",children:"Notes:"})," ",v.notes||""]})]})]})]})})]})}const wS=e=>{switch(e){case"1_payment":return"1 Payment";case"2_payment":return"2 Payments";case"3_payment":return"3 Payments";case"4_payment":return"4 Payments";default:return e}};function dse(){const{user:e}=ka(),[t,r]=N.useState([]),[n,a]=N.useState([]),[i,o]=N.useState([]),[s,l]=N.useState([]),[c,d]=N.useState(""),[f,h]=N.useState(!1),[p,m]=N.useState("all"),[y,v]=N.useState(""),[g,b]=N.useState(null),[x,j]=N.useState(""),[w,_]=N.useState(""),[S,P]=N.useState(""),[k,$]=N.useState(""),[E,T]=N.useState(""),[M,C]=N.useState("monthly"),[A,O]=N.useState(0),[R,I]=N.useState(""),[L,V]=N.useState(!1),[z,q]=N.useState(1),[Z,fe]=N.useState([]),[te,ge]=N.useState(null),[Ue,we]=N.useState([]),[Y,B]=N.useState("");N.useEffect(()=>{H()},[]),N.useEffect(()=>{q(1)},[c,p]);const H=async()=>{try{const[U,ne,Se,gt,_e]=await Promise.all([le.getContracts(),le.getTenants(),le.getUnits(),le.getProperties(),le.getInvoices()]);r(U),a(ne),o(Se),l(gt),fe(_e)}catch(U){console.error("Error loading contracts data:",U),v("Failed to load contracts. Please refresh the page."),r([]),a([]),o([]),l([]),fe([])}},ie=[...t].sort((U,ne)=>{const Se=new Date(U.createdAt||U.startDate).getTime();return new Date(ne.createdAt||ne.startDate).getTime()-Se}).filter(U=>{var mb,gb,yb,vb,bb;const ne=p==="all"||U.status===p;if(!c)return ne;const Se=c.toLowerCase(),gt=`${U.tenant.firstName} ${U.tenant.lastName}`.toLowerCase(),_e=U.property.name.toLowerCase(),Ze=U.unit.unitNumber.toLowerCase(),Hr=((mb=U.contractNumber)==null?void 0:mb.toLowerCase())||"",Qh=((gb=U.tenant.email)==null?void 0:gb.toLowerCase())||"",wC=((yb=U.tenant.phone)==null?void 0:yb.toLowerCase())||"",_C=((vb=U.tenant.whatsappNumber)==null?void 0:vb.toLowerCase())||"",jC=((bb=U.tenant.nationalId)==null?void 0:bb.toLowerCase())||"";return(gt.includes(Se)||_e.includes(Se)||Ze.includes(Se)||Hr.includes(Se)||Qh.includes(Se)||wC.includes(Se)||_C.includes(Se)||jC.includes(Se))&&ne}),ae=100,de=Math.ceil(ie.length/ae),be=ie.slice((z-1)*ae,z*ae);N.useEffect(()=>{if(k&&R==="1_year"){const U=new Date(k),ne=R3(U,1),Se=FL(ne,1);T(Se.toISOString().split("T")[0])}},[k,R]),N.useEffect(()=>{O(k&&E&&M?M==="1_payment"?1:M==="2_payment"?2:M==="3_payment"?3:M==="4_payment"?4:0:0)},[k,E,M]),N.useEffect(()=>{te?(P(te.tenantId),_(`${te.tenant.firstName} ${te.tenant.lastName}`),j(te.unit.propertyId),$(te.startDate.toISOString().split("T")[0]),T(te.endDate.toISOString().split("T")[0]),C(te.paymentFrequency),O(te.numberOfInstallments),we(te.attachments||[]),B((te.monthlyRent*12).toString())):B("")},[te]);const Qe=async U=>{U.preventDefault(),v("");const ne=new FormData(U.currentTarget),gt=parseFloat(ne.get("yearlyRent"))/12,_e={tenantId:S||ne.get("tenantId"),unitId:ne.get("unitId"),startDate:new Date(ne.get("startDate")),endDate:new Date(ne.get("endDate")),monthlyRent:gt,securityDeposit:parseFloat(ne.get("securityDeposit")),paymentFrequency:ne.get("paymentFrequency"),numberOfInstallments:A||parseInt(ne.get("numberOfInstallments")),status:ne.get("status")||"draft",reminderPeriod:ne.get("reminderPeriod")||void 0,notes:ne.get("notes")||void 0,contractNumber:ne.get("contractNumber"),dueDateDay:ne.get("dueDateDay")?parseInt(ne.get("dueDateDay")):void 0,attachments:Ue};try{if(te)if(_e.status==="active"&&te.status==="draft"&&(e==null?void 0:e.role)!=="admin")try{const{supabaseService:Hr}=await wE(async()=>{const{supabaseService:Qh}=await Promise.resolve().then(()=>YM);return{supabaseService:Qh}},void 0);await Hr.createApprovalRequest("contract_create","contract",{..._e,id:te.id,isUpdate:!0},e.id),alert("Contract activation request submitted for approval"),await H(),h(!1),ge(null),Lt();return}catch(Hr){console.error("Error creating approval request:",Hr),v(Hr.message||"Failed to submit approval request");return}else await le.updateContract(te.id,_e,e==null?void 0:e.id,e==null?void 0:e.role)?(alert("Contract updated successfully"),await H(),h(!1),ge(null),Lt()):v("Failed to update contract");else{const Ze=await le.createContract(_e,e==null?void 0:e.id,e==null?void 0:e.role);Ze.success?(Ze.requiresApproval&&alert(Ze.message||"Contract creation request submitted for approval"),await H(),h(!1),Lt()):v(Ze.message||"Failed to create contract")}}catch(Ze){console.error("Error saving contract:",Ze),v(Ze.message||"Failed to save contract. Please try again.")}},Lt=()=>{j(""),_(""),P(""),$(""),T(""),C("monthly"),O(0),I(""),we([]),B("")},ln=async U=>{if(confirm("Are you sure you want to terminate this contract? This will mark the unit as vacant and cancel unpaid invoices."))try{const ne=await le.terminateContract(U,e==null?void 0:e.id,e==null?void 0:e.role);typeof ne=="object"&&"requiresApproval"in ne&&alert(ne.message||"Contract termination request submitted for approval"),await H()}catch(ne){console.error("Error terminating contract:",ne),alert("Failed to terminate contract. Please try again.")}},Da=()=>{h(!1),v(""),ge(null),Lt()},un=()=>s.filter(U=>i.filter(Se=>Se.propertyId===U.id).some(Se=>!Se.isOccupied)),cn=U=>i.filter(ne=>ne.propertyId===U&&!ne.isOccupied),$i=w?n.filter(U=>`${U.firstName} ${U.lastName}`.toLowerCase().includes(w.toLowerCase())||U.email.toLowerCase().includes(w.toLowerCase())):[];return u.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contracts"}),u.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage rental agreements and leases"})]}),u.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[u.jsx(va,{className:"w-4 h-4 mr-2"}),"New Contract"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:(()=>{const U=t.filter(_e=>_e.status==="active").length,ne=t.filter(_e=>_e.status==="expired").length,Se=t.filter(_e=>_e.status==="draft").length,gt=t.filter(_e=>_e.status==="terminated").length;return[{label:"Active",count:U,color:"bg-success-100 text-success-700",icon:ja},{label:"Expired",count:ne,color:"bg-warning-100 text-warning-700",icon:gE},{label:"Draft",count:Se,color:"bg-primary-100 text-primary-700",icon:sa},{label:"Terminated",count:gt,color:"bg-danger-100 text-danger-700",icon:ow}].map(_e=>u.jsxs("div",{className:bt("rounded-xl p-4",_e.color),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(_e.icon,{className:"w-6 h-6"}),u.jsx("span",{className:"text-3xl font-bold",children:_e.count})]}),u.jsx("p",{className:"mt-2 font-medium",children:_e.label})]},_e.label))})()}),u.jsxs("div",{className:"flex gap-3 mb-5",children:[u.jsxs("div",{className:"relative flex-1 max-w-sm",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search by tenant name, property, unit, contract number, phone, email...",value:c,onChange:U=>d(U.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("button",{onClick:()=>V(!0),className:"flex items-center px-3 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm whitespace-nowrap",children:[u.jsx(va,{className:"w-4 h-4 mr-1.5"}),"Add New Tenant"]}),u.jsxs("select",{value:p,onChange:U=>m(U.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"expired",children:"Expired"}),u.jsx("option",{value:"terminated",children:"Terminated"})]})]}),u.jsx("div",{className:"space-y-3",children:be.length>0?be.map(U=>{if(!U||!U.tenant||!U.unit||!U.property)return null;const ne=Z.filter(_e=>_e.contractId===U.id),Se=ne.filter(_e=>_e.status==="paid").length,gt=ne.filter(_e=>_e.status==="overdue").length;return u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsxs("div",{className:"w-10 h-10 bg-green-50 border border-green-200 rounded-full flex items-center justify-center text-green-700 font-bold text-base mr-3",children:[U.tenant.firstName[0],U.tenant.lastName[0]]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[U.tenant.firstName," ",U.tenant.lastName]}),u.jsxs("p",{className:"text-sm text-gray-600",children:[U.property.name," - Unit ",U.unit.unitNumber]}),U.contractNumber&&u.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Contract: ",U.contractNumber]})]}),u.jsx("span",{className:bt("ml-3 px-2 py-0.5 rounded-full text-xs font-semibold",zl(U.status)),children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-3 text-sm",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Start Date"}),u.jsx("p",{className:"font-medium text-gray-900",children:Xt(U.startDate)})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"End Date"}),u.jsx("p",{className:"font-medium text-gray-900",children:Xt(U.endDate)})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Monthly Rent"}),u.jsx("p",{className:"font-medium text-gray-900",children:Ge(U.monthlyRent)})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Security Deposit"}),u.jsx("p",{className:"font-medium text-gray-900",children:Ge(U.securityDeposit)})]})]}),u.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-xs mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(sa,{className:"w-3.5 h-3.5 mr-1.5 text-primary-600"}),u.jsxs("span",{className:"text-gray-600",children:["Payment: ",u.jsx("span",{className:"font-medium text-gray-900",children:wS(U.paymentFrequency)})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(vE,{className:"w-3.5 h-3.5 mr-1.5 text-success-600"}),u.jsxs("span",{className:"text-gray-600",children:["Invoices: ",u.jsxs("span",{className:"font-medium text-gray-900",children:[Se,"/",U.numberOfInstallments," paid"]})]})]}),gt>0&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(hr,{className:"w-3.5 h-3.5 mr-1.5 text-danger-600"}),u.jsxs("span",{className:"text-danger-600 font-medium",children:[gt," overdue"]})]}),U.reminderPeriod&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(On,{className:"w-3.5 h-3.5 mr-1.5 text-warning-600"}),u.jsxs("span",{className:"text-gray-600",children:["Reminder: ",u.jsx("span",{className:"font-medium text-gray-900",children:U.reminderPeriod.replace("_"," ")})]})]})]}),U.notes&&u.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700",children:U.notes})]}),u.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[u.jsx("button",{onClick:()=>{b(U),we(U.attachments||[])},className:"px-3 py-1.5 border border-primary-300 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors text-xs font-medium",children:"View"}),U.status==="active"&&u.jsx("button",{onClick:()=>ln(U.id),className:"px-3 py-1.5 border border-danger-300 text-danger-600 rounded-lg hover:bg-danger-50 transition-colors text-xs font-medium",children:"Terminate"})]})]})},U.id)}).filter(Boolean):null}),be.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(sa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No contracts found"}),u.jsx("p",{className:"text-gray-600",children:c?"Try a different search term":"Get started by creating your first contract"})]}),de>1&&u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(z-1)*ae+1," to ",Math.min(z*ae,ie.length)," of ",ie.length," contracts"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>q(U=>Math.max(1,U-1)),disabled:z===1,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),u.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-700",children:["Page ",z," of ",de]}),u.jsx("button",{onClick:()=>q(U=>Math.min(de,U+1)),disabled:z===de,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:te?"Edit Contract":"Create New Contract"}),u.jsx("button",{onClick:Da,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:Qe,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[y&&u.jsx("div",{className:"bg-danger-50 border-l-4 border-danger-500 p-3 rounded text-sm",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(hr,{className:"w-4 h-4 text-danger-600 mr-2"}),u.jsx("p",{className:"text-danger-700",children:y})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search tenant...",value:w,onChange:U=>{_(U.target.value),P("")},className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),w&&$i.length>0&&u.jsx("div",{className:"mt-1 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:$i.map(U=>u.jsxs("button",{type:"button",onClick:()=>{P(U.id),_(`${U.firstName} ${U.lastName}`)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${S===U.id?"bg-green-50":""}`,children:[U.firstName," ",U.lastName," - ",U.email]},U.id))}),u.jsx("input",{type:"hidden",name:"tenantId",value:S,required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property"}),u.jsxs("select",{value:x,onChange:U=>{j(U.target.value)},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"",children:"Select Property"}),un().map(U=>u.jsx("option",{value:U.id,children:U.name},U.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit *"}),u.jsxs("select",{name:"unitId",required:!0,disabled:!x,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white disabled:bg-gray-50 disabled:text-gray-500",children:[u.jsx("option",{value:"",children:x?"Select Unit":"Select Property First"}),x&&cn(x).map(U=>u.jsxs("option",{value:U.id,children:["Unit ",U.unitNumber," (",U.type,")"]},U.id))]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Number *"}),u.jsx("input",{type:"text",name:"contractNumber",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"CT-001"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yearly Rent (AED) *"}),u.jsx("input",{type:"number",name:"yearlyRent",id:"yearlyRent",required:!0,min:"0",step:"0.01",value:Y,onChange:U=>B(U.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Duration"}),u.jsxs("select",{value:R,onChange:U=>{I(U.target.value),U.target.value==="custom"&&T("")},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"",children:"Select Duration"}),u.jsx("option",{value:"1_year",children:"1 Year (Auto: End date = 1 day before anniversary)"}),u.jsx("option",{value:"custom",children:"Custom (Manual dates)"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),u.jsx("input",{type:"date",name:"startDate",required:!0,value:k,onChange:U=>$(U.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),u.jsx("input",{type:"date",name:"endDate",required:!0,value:E,onChange:U=>{T(U.target.value),R==="1_year"&&I("custom")},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),u.jsxs("select",{name:"paymentFrequency",value:M,onChange:U=>C(U.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"1_payment",children:"1 Payment"}),u.jsx("option",{value:"2_payment",children:"2 Payments"}),u.jsx("option",{value:"3_payment",children:"3 Payments"}),u.jsx("option",{value:"4_payment",children:"4 Payments"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installments"}),u.jsx("input",{type:"number",name:"numberOfInstallments",value:A||"",readOnly:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),u.jsx("input",{type:"number",name:"dueDateDay",min:"1",max:"31",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Day (1-31)"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{name:"status",defaultValue:(te==null?void 0:te.status)||"draft",disabled:(te==null?void 0:te.status)==="active",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"expired",children:"Expired"}),u.jsx("option",{value:"terminated",disabled:!te||te.status!=="active",children:"Terminated"})]}),(te==null?void 0:te.status)==="active"&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active contracts cannot be edited. Use Terminate button instead."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Reminder"}),u.jsxs("select",{name:"reminderPeriod",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"",children:"No Reminders"}),u.jsx("option",{value:"3_days",children:"3 Days Before"}),u.jsx("option",{value:"1_week",children:"1 Week Before"}),u.jsx("option",{value:"2_weeks",children:"2 Weeks Before"}),u.jsx("option",{value:"1_month",children:"1 Month Before"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Deposit (AED) *"}),u.jsx("input",{type:"number",name:"securityDeposit",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this contract..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:Da,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Create Contract"})]})]})]})}),g&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contract Details"}),u.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Tenant Information"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Name:"})," ",u.jsxs("span",{className:"font-medium",children:[g.tenant.firstName," ",g.tenant.lastName]})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Email:"})," ",u.jsx("span",{className:"font-medium",children:g.tenant.email})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",u.jsx("span",{className:"font-medium",children:g.tenant.phone})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"National ID:"})," ",u.jsx("span",{className:"font-medium",children:g.tenant.nationalId})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Unit Information"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Property:"})," ",u.jsx("span",{className:"font-medium",children:g.property.name})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Unit:"})," ",u.jsx("span",{className:"font-medium",children:g.unit.unitNumber})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Type:"})," ",u.jsx("span",{className:"font-medium",children:g.unit.type})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Size:"})," ",u.jsxs("span",{className:"font-medium",children:[g.unit.squareFeet," sq ft"]})]})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contract Details"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Status:"})," ",u.jsx("span",{className:bt("ml-2 px-2 py-1 rounded-full text-xs font-semibold",zl(g.status)),children:g.status})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Start Date:"})," ",u.jsx("span",{className:"font-medium",children:Xt(g.startDate)})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"End Date:"})," ",u.jsx("span",{className:"font-medium",children:Xt(g.endDate)})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Monthly Rent:"})," ",u.jsx("span",{className:"font-medium",children:Ge(g.monthlyRent)})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Security Deposit:"})," ",u.jsx("span",{className:"font-medium",children:Ge(g.securityDeposit)})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Payment Frequency:"})," ",u.jsx("span",{className:"font-medium",children:wS(g.paymentFrequency)})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Installments:"})," ",u.jsx("span",{className:"font-medium",children:g.numberOfInstallments})]}),g.reminderPeriod&&u.jsxs("p",{children:[u.jsx("span",{className:"text-gray-600",children:"Reminder:"})," ",u.jsx("span",{className:"font-medium",children:g.reminderPeriod.replace("_"," ")})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Invoices Summary"}),(()=>{const U=Z.filter(Ze=>Ze.contractId===g.id),ne=U.filter(Ze=>Ze.status==="paid").length,Se=U.filter(Ze=>Ze.status==="pending").length,gt=U.filter(Ze=>Ze.status==="overdue").length,_e=U.filter(Ze=>Ze.status==="partial").length;return u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-success-50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-3xl font-bold text-success-700",children:ne}),u.jsx("p",{className:"text-sm text-success-600 mt-1",children:"Paid"})]}),u.jsxs("div",{className:"bg-warning-50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-3xl font-bold text-warning-700",children:Se}),u.jsx("p",{className:"text-sm text-warning-600 mt-1",children:"Pending"})]}),u.jsxs("div",{className:"bg-primary-50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-3xl font-bold text-primary-700",children:_e}),u.jsx("p",{className:"text-sm text-primary-600 mt-1",children:"Partial"})]}),u.jsxs("div",{className:"bg-danger-50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-3xl font-bold text-danger-700",children:gt}),u.jsx("p",{className:"text-sm text-danger-600 mt-1",children:"Overdue"})]})]})})()]}),g.notes&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),u.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:g.notes})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[g.status==="draft"&&u.jsxs("button",{type:"button",onClick:()=>{ge(g),h(!0),b(null)},className:"flex items-center px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(sa,{className:"w-4 h-4 mr-2"}),"Edit Contract"]}),g.status==="active"&&u.jsxs("button",{type:"button",onClick:()=>{b(null),ln(g.id)},className:"flex items-center px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[u.jsx(ow,{className:"w-4 h-4 mr-2"}),"Terminate Contract"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:"Attachments"}),u.jsxs("button",{onClick:()=>{ge(g),we(g.attachments||[])},className:"flex items-center px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(va,{className:"w-4 h-4 mr-1.5"}),"Add Attachment"]})]}),g.attachments&&g.attachments.length>0?u.jsx("div",{className:"space-y-2",children:g.attachments.map((U,ne)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(lw,{className:"w-4 h-4 text-gray-600 mr-2"}),u.jsx("span",{className:"text-sm text-gray-700",children:U.startsWith("data:")?`Attachment ${ne+1}`:U.split("/").pop()||`Attachment ${ne+1}`})]}),u.jsx("div",{className:"flex gap-2",children:U.startsWith("data:")||U.startsWith("http")?u.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:text-green-700",children:"View"}):null})]},ne))}):u.jsx("p",{className:"text-sm text-gray-500 italic",children:"No attachments yet"})]})]})]})}),te&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Attachments"}),u.jsx("button",{onClick:()=>{ge(null),we([])},className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto flex-1",children:[Ue.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Current Attachments"}),Ue.map((U,ne)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[u.jsx(lw,{className:"w-4 h-4 text-gray-600 mr-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-gray-700 truncate",children:U.startsWith("data:")?`Attachment ${ne+1}`:U.split("/").pop()||`Attachment ${ne+1}`})]}),u.jsx("button",{onClick:()=>{we(Ue.filter((Se,gt)=>gt!==ne))},className:"ml-2 p-1 text-red-600 hover:text-red-700 transition-colors",children:u.jsx($o,{className:"w-4 h-4"})})]},ne))]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Attachment"}),u.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:async U=>{var Se;const ne=(Se=U.target.files)==null?void 0:Se[0];if(ne){const gt=new FileReader;gt.onload=_e=>{var Hr;const Ze=(Hr=_e.target)==null?void 0:Hr.result;we([...Ue,Ze])},gt.readAsDataURL(ne)}},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported: PDF, DOC, DOCX, JPG, PNG, TXT"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:()=>{ge(null),we([])},className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"button",onClick:async()=>{try{await le.updateContract(te.id,{attachments:Ue}),await H();const ne=(await le.getContracts()).find(Se=>Se.id===te.id);ne&&b(ne),ge(null),we([])}catch(U){console.error("Error updating attachments:",U),alert("Failed to update attachments. Please try again.")}},className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Save Attachments"})]})]})]})}),L&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Tenant"}),u.jsx("button",{onClick:()=>{V(!1)},className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsx(fse,{onSuccess:U=>{H(),V(!1),f&&(P(U.id),_(`${U.firstName} ${U.lastName}`))},onCancel:()=>V(!1)})]})})]})}function fse({onSuccess:e,onCancel:t}){const[r,n]=N.useState(""),a=async o=>{o.preventDefault(),n("");const s=new FormData(o.currentTarget),l=s.get("idExpiryDate"),c=l?new Date(l):void 0,d=s.get("idNumber"),f={firstName:s.get("firstName"),lastName:s.get("lastName"),email:s.get("email"),phone:s.get("phone"),whatsappNumber:s.get("whatsappNumber"),nationalId:d||s.get("nationalId")||"",emergencyContact:s.get("emergencyContact"),emergencyPhone:s.get("emergencyPhone"),idType:s.get("idType"),idNumber:d||void 0,idExpiryDate:c,billingAddress:s.get("billingAddress"),paymentMethod:s.get("paymentMethod"),notificationPreference:s.get("notificationPreference"),notes:s.get("notes")};try{const h=await le.createTenant(f);e(h)}catch(h){console.error("Error creating tenant:",h),n("Failed to create tenant. Please try again.")}},i=(o,s)=>{s.value=o};return u.jsxs("form",{onSubmit:a,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[r&&u.jsx("div",{className:"bg-danger-50 border-l-4 border-danger-500 p-3 rounded text-sm",children:u.jsx("p",{className:"text-danger-700",children:r})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),u.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),u.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Type"}),u.jsxs("select",{name:"idType",defaultValue:"emirates_id",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"passport",children:"Passport"}),u.jsx("option",{value:"emirates_id",children:"Emirates ID"}),u.jsx("option",{value:"driver_license",children:"Driver License"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Number"}),u.jsx("input",{type:"text",name:"idNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"EID-123456"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Expiry Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",name:"idExpiryDate",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10"}),u.jsx(On,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"tel",name:"phone",id:"tenant-phone-input",required:!0,className:"w-full px-3 py-1.5 pr-9 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"}),u.jsx("button",{type:"button",onClick:o=>{var c;const s=(c=o.currentTarget.parentElement)==null?void 0:c.querySelector("#tenant-phone-input"),l=document.getElementById("tenant-whatsapp-input");s&&l&&i(s.value,l)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Copy to WhatsApp",children:u.jsx(yE,{className:"w-3.5 h-3.5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number *"}),u.jsx("input",{type:"tel",name:"whatsappNumber",id:"tenant-whatsapp-input",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Address"}),u.jsx("textarea",{name:"billingAddress",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Enter billing address..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),u.jsxs("select",{name:"paymentMethod",defaultValue:"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),u.jsx("option",{value:"card",children:"Card"}),u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"cheque",children:"Cheque"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification"}),u.jsxs("select",{name:"notificationPreference",defaultValue:"whatsapp",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"whatsapp",children:"WhatsApp"}),u.jsx("option",{value:"email",children:"Email"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any additional notes..."})]}),u.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Emergency Contact"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),u.jsx("input",{type:"text",name:"emergencyContact",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),u.jsx("input",{type:"tel",name:"emergencyPhone",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]})]}),u.jsx("input",{type:"hidden",name:"nationalId",value:""}),u.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Add Tenant"})]})]})}function hse(){const{user:e}=ka(),[t,r]=N.useState([]),[n,a]=N.useState(""),[i,o]=N.useState("all"),[s,l]=N.useState(null),[c,d]=N.useState(null),f=N.useRef(null),[h,p]=N.useState(1),[m,y]=N.useState(!1),[v,g]=N.useState(null);N.useEffect(()=>{new URLSearchParams(window.location.search).get("status")==="overdue"&&o("overdue")},[]),N.useEffect(()=>{p(1)},[n,i]),N.useEffect(()=>{b()},[]);const b=async()=>{try{const O=await le.getInvoices();r(O)}catch(O){console.error("Error loading invoices:",O),r([])}},j=[...t].sort((O,R)=>{const I=new Date(O.createdAt||O.dueDate).getTime();return new Date(R.createdAt||R.dueDate).getTime()-I}).filter(O=>{var we,Y,B,H;let R=!0;if(i==="issued"?R=O.status==="pending"||O.status==="partial":i==="overdue"?R=O.status==="overdue":i==="paid"?R=O.status==="paid":i==="partial"&&(R=O.status==="partial"),!n)return R;const I=n.toLowerCase(),L=`${O.tenant.firstName} ${O.tenant.lastName}`.toLowerCase(),V=O.property.name.toLowerCase(),z=O.unit.unitNumber.toLowerCase(),q=O.invoiceNumber.toLowerCase(),Z=((we=O.tenant.email)==null?void 0:we.toLowerCase())||"",fe=((Y=O.tenant.phone)==null?void 0:Y.toLowerCase())||"",te=((B=O.tenant.whatsappNumber)==null?void 0:B.toLowerCase())||"",ge=((H=O.tenant.nationalId)==null?void 0:H.toLowerCase())||"";return(q.includes(I)||L.includes(I)||V.includes(I)||z.includes(I)||Z.includes(I)||fe.includes(I)||te.includes(I)||ge.includes(I))&&R}),w=100,_=Math.ceil(j.length/w),S=j.slice((h-1)*w,h*w),P=O=>`Dear ${O.tenant.firstName} ${O.tenant.lastName},

This is a payment reminder for your rental unit.

Property: ${O.property.name}
Unit: ${O.unit.unitNumber}
Invoice Number: ${O.invoiceNumber}
Installment: ${O.installmentNumber}/${O.contract.numberOfInstallments}

Amount Due: ${Ge(O.remainingAmount)}
Due Date: ${Xt(O.dueDate)}

Remaining Balance: ${Ge(O.remainingAmount)}
Total Invoice Amount: ${Ge(O.amount)}
Amount Paid: ${Ge(O.paidAmount)}

Please make the payment at your earliest convenience.

Thank you!`,k=O=>{if(!O.tenant.whatsappNumber){alert("WhatsApp number not available for this tenant"),d(null);return}try{const R=P(O),I=kE(O.tenant.whatsappNumber,R);window.open(I,"_blank","noopener,noreferrer")||(window.location.href=I)}catch(R){console.error("Error opening WhatsApp:",R),alert("Failed to open WhatsApp. Please check the phone number format.")}d(null)},$=O=>{const R=`Payment Reminder - Invoice ${O.invoiceNumber}`,I=P(O),L=TE(O.tenant.email,R,I);window.location.href=L,d(null)},E=async O=>{if(O.preventDefault(),!s)return;const R=new FormData(O.currentTarget),I={status:R.get("paymentStatus"),adminStatus:R.get("adminStatus"),paymentType:R.get("paymentType"),notes:R.get("notes")||void 0};try{await le.updateInvoice(s.id,I),await b(),l(null)}catch(L){console.error("Error updating invoice:",L),alert("Failed to update invoice. Please try again.")}},T=()=>{l(null)},M=O=>{O.remainingAmount<=0||(g(O),y(!0))},C=async O=>{if(O.preventDefault(),!!v)try{const R=new FormData(O.currentTarget),I=parseFloat(R.get("amount")),L=Math.round(I*100)/100,V={invoiceId:v.id,amount:L,paymentDate:new Date(R.get("paymentDate")),paymentMethod:R.get("paymentMethod"),referenceNumber:R.get("referenceNumber")||void 0,notes:R.get("notes")||void 0},z=await le.createPayment(V,e==null?void 0:e.id,e==null?void 0:e.role);"requiresApproval"in z&&alert(z.message||"Payment request submitted for approval"),await b(),y(!1),g(null)}catch(R){console.error("Error creating payment:",R),alert("Failed to create payment. Please try again.")}},A=()=>{y(!1),g(null)};return N.useEffect(()=>{const O=R=>{f.current&&!f.current.contains(R.target)&&d(null)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),u.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage payment invoices"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{label:"Paid",count:t.filter(O=>O.status==="paid").length,color:"bg-success-100 text-success-700",icon:ja},{label:"Pending",count:t.filter(O=>O.status==="pending").length,color:"bg-warning-100 text-warning-700",icon:gE},{label:"Partial",count:t.filter(O=>O.status==="partial").length,color:"bg-primary-100 text-primary-700",icon:Ed},{label:"Overdue",count:t.filter(O=>O.status==="overdue").length,color:"bg-danger-100 text-danger-700",icon:hr}].map(O=>u.jsxs("div",{className:bt("rounded-xl p-4",O.color),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(O.icon,{className:"w-6 h-6"}),u.jsx("span",{className:"text-3xl font-bold",children:O.count})]}),u.jsx("p",{className:"mt-2 font-medium",children:O.label})]},O.label))}),u.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, property, unit, phone, email...",value:n,onChange:O=>a(O.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1 text-sm",children:["all","issued","overdue","paid","partial"].map(O=>{const R=O==="all"?"All":O==="issued"?"Issued":O==="overdue"?"Overdue":O==="paid"?"Paid":"Partial",I=i===O;return u.jsx("button",{type:"button",onClick:()=>o(O),className:bt("px-3 py-1.5 rounded-md font-medium",I?"bg-white text-primary-700 shadow-sm":"text-gray-600 hover:text-gray-900"),children:R},O)})})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[1.5fr_2fr_2fr_1.2fr_1.2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm font-semibold text-gray-500 bg-gray-50 border-b border-gray-200",children:[u.jsx("div",{children:"Invoice"}),u.jsx("div",{children:"Tenant"}),u.jsx("div",{children:"Property"}),u.jsx("div",{children:"Due Date"}),u.jsx("div",{children:"Amount"}),u.jsx("div",{children:"Balance"}),u.jsx("div",{children:"Status"}),u.jsx("div",{children:"Payment"}),u.jsx("div",{className:"text-right",children:"Actions"})]}),S.length>0?S.map(O=>{if(!O||!O.tenant||!O.unit||!O.property||!O.contract)return null;const R=O.status==="overdue",I=O.status==="paid"||O.remainingAmount<=0;return u.jsxs("div",{className:"grid grid-cols-[1.5fr_2fr_2fr_1.2fr_1.2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm items-center border-b border-gray-100 hover:bg-gray-50",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-gray-900",children:O.invoiceNumber}),u.jsxs("div",{className:"text-xs text-gray-500",children:[O.installmentNumber,"/",O.contract.numberOfInstallments]})]}),u.jsx("div",{children:u.jsxs("div",{className:"text-gray-900",children:[O.tenant.firstName," ",O.tenant.lastName]})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-900",children:O.property.name}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Unit ",O.unit.unitNumber]})]}),u.jsx("div",{children:u.jsx("div",{className:bt("font-medium",R?"text-danger-600":"text-gray-900"),children:Xt(O.dueDate)})}),u.jsx("div",{children:u.jsx("div",{className:"font-medium text-gray-900",children:Ge(O.amount)})}),u.jsx("div",{children:u.jsx("div",{className:bt("font-medium",O.remainingAmount>0?"text-danger-600":"text-success-600"),children:Ge(O.remainingAmount)})}),u.jsx("div",{children:u.jsx("span",{className:bt("inline-flex px-2 py-1 rounded-full text-xs font-semibold",zl(O.status)),children:O.status.charAt(0).toUpperCase()+O.status.slice(1)})}),u.jsx("div",{children:u.jsx("button",{type:"button",onClick:()=>!I&&M(O),disabled:I,className:bt("px-3 py-1.5 text-sm font-medium rounded-lg transition-colors whitespace-nowrap",I?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:I?"Paid":"Create Payment"})}),u.jsxs("div",{className:"flex items-center justify-end gap-3 text-gray-600",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("button",{type:"button",onClick:()=>d(c===O.id?null:O.id),className:"hover:text-gray-900",title:"Share invoice",children:u.jsx(xE,{className:"w-4 h-4"})}),c===O.id&&u.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",onClick:L=>L.stopPropagation(),children:[u.jsxs("button",{type:"button",onClick:L=>{L.stopPropagation(),k(O)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(bE,{className:"w-4 h-4 text-success-600"}),"WhatsApp"]}),u.jsxs("button",{type:"button",onClick:L=>{L.stopPropagation(),$(O)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Co,{className:"w-4 h-4 text-primary-600"}),"Email"]})]})]}),u.jsx("div",{className:"w-4 h-4"})]})]},O.id)}).filter(Boolean):u.jsx("div",{className:"py-10 text-center text-sm text-gray-600",children:n?"No invoices match your search.":"Invoices will appear here once contracts are created."})]}),_>1&&u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(h-1)*w+1," to ",Math.min(h*w,j.length)," of ",j.length," invoices"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>p(O=>Math.max(1,O-1)),disabled:h===1,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),u.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-700",children:["Page ",h," of ",_]}),u.jsx("button",{onClick:()=>p(O=>Math.min(_,O+1)),disabled:h===_,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Invoice"}),u.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:E,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),u.jsxs("select",{name:"paymentStatus",defaultValue:s.status,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"paid",children:"Paid"}),u.jsx("option",{value:"partial",children:"Partial"}),u.jsx("option",{value:"overdue",children:"Overdue"}),u.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Status"}),u.jsxs("select",{name:"adminStatus",defaultValue:s.adminStatus||"pending",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"reviewed",children:"Reviewed"}),u.jsx("option",{value:"approved",children:"Approved"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),u.jsxs("select",{name:"paymentType",defaultValue:s.paymentType||"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),u.jsx("option",{value:"card",children:"Card"}),u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"cheque",children:"Cheque"}),u.jsx("option",{value:"online",children:"Online"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"notes",rows:3,defaultValue:s.notes||"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this invoice..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:T,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Save"})]})]})]})}),m&&v&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),u.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:C,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice"}),u.jsxs("div",{className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:[v.invoiceNumber," - ",v.tenant.firstName," ",v.tenant.lastName," - Unit ",v.unit.unitNumber]}),u.jsx("input",{type:"hidden",name:"invoiceId",value:v.id})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (AED) *"}),u.jsx("input",{type:"number",name:"amount",required:!0,min:"0.01",step:"0.01",defaultValue:Math.round(v.remainingAmount*100)/100,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),u.jsx("input",{type:"date",name:"paymentDate",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),u.jsxs("select",{name:"paymentMethod",required:!0,defaultValue:"cash",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),u.jsx("option",{value:"cheque",children:"Cheque"}),u.jsx("option",{value:"card",children:"Card"}),u.jsx("option",{value:"online",children:"Online Payment"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),u.jsx("input",{type:"text",name:"referenceNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"REF-12345"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this payment..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Record Payment"})]})]})]})})]})}function pse(){const{user:e}=ka(),[t,r]=N.useState([]),[n,a]=N.useState([]),[i,o]=N.useState(""),[s,l]=N.useState(!1),[c,d]=N.useState(""),[f,h]=N.useState(""),[p,m]=N.useState(null),y=N.useRef(null);N.useEffect(()=>{v()},[]),N.useEffect(()=>{const C=A=>{y.current&&!y.current.contains(A.target)&&m(null)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const v=async()=>{try{const C=await le.getPayments(),A=await le.getInvoices();r(C),a(A)}catch(C){console.error("Error loading payments data:",C),r([]),a([])}},g=C=>n.find(A=>A.id===C),x=[...t].sort((C,A)=>{const O=new Date(C.paymentDate).getTime();return new Date(A.paymentDate).getTime()-O}).filter(C=>{var ge,Ue,we,Y;const A=g(C.invoiceId);if(!A)return!1;if(!i)return!0;const O=i.toLowerCase(),R=`${A.tenant.firstName} ${A.tenant.lastName}`.toLowerCase(),I=A.property.name.toLowerCase(),L=A.unit.unitNumber.toLowerCase(),V=A.invoiceNumber.toLowerCase(),z=((ge=A.tenant.email)==null?void 0:ge.toLowerCase())||"",q=((Ue=A.tenant.phone)==null?void 0:Ue.toLowerCase())||"",Z=((we=A.tenant.whatsappNumber)==null?void 0:we.toLowerCase())||"",fe=((Y=C.referenceNumber)==null?void 0:Y.toLowerCase())||"",te=C.paymentMethod.toLowerCase();return V.includes(O)||R.includes(O)||I.includes(O)||L.includes(O)||z.includes(O)||q.includes(O)||Z.includes(O)||fe.includes(O)||te.includes(O)}),j=()=>n.filter(C=>C.remainingAmount>0&&C.status!=="cancelled"),w=()=>{const C=j();if(!f)return C;const A=f.toLowerCase();return C.filter(O=>{var R,I;return O.invoiceNumber.toLowerCase().includes(A)||`${O.tenant.firstName} ${O.tenant.lastName}`.toLowerCase().includes(A)||O.unit.unitNumber.toLowerCase().includes(A)||((R=O.tenant.phone)==null?void 0:R.toLowerCase().includes(A))||((I=O.tenant.whatsappNumber)==null?void 0:I.toLowerCase().includes(A))})},_=async C=>{C.preventDefault();const A=new FormData(C.currentTarget),O=parseFloat(A.get("amount")),R=Math.round(O*100)/100,I={invoiceId:c||A.get("invoiceId"),amount:R,paymentDate:new Date(A.get("paymentDate")),paymentMethod:A.get("paymentMethod"),referenceNumber:A.get("referenceNumber")||void 0,notes:A.get("notes")||void 0};try{const L=await le.createPayment(I,e==null?void 0:e.id,e==null?void 0:e.role);"requiresApproval"in L&&alert(L.message||"Payment request submitted for approval"),await v(),l(!1),d(""),h("")}catch(L){console.error("Error creating payment:",L),alert("Failed to create payment. Please try again.")}},S=()=>{l(!1),d(""),h("")},P=async C=>{if(confirm("Are you sure you want to delete this payment?"))try{const A=await le.deletePayment(C,e==null?void 0:e.id,e==null?void 0:e.role);typeof A=="object"&&"requiresApproval"in A?alert(A.message||"Payment deletion request submitted for approval"):A===!0||alert("Failed to delete payment. Please try again."),await v()}catch(A){console.error("Error deleting payment:",A),alert("Failed to delete payment. Please try again.")}},k=(C,A)=>`Dear ${A.tenant.firstName} ${A.tenant.lastName},

This is a confirmation of your payment received.

Invoice Number: ${A.invoiceNumber}
Payment Date: ${Xt(C.paymentDate)}
Payment Amount: ${Ge(C.amount)}
Payment Method: ${C.paymentMethod.replace("_"," ")}
${C.referenceNumber?`Reference Number: ${C.referenceNumber}`:""}

Thank you for your payment!

Property: ${A.property.name}
Unit: ${A.unit.unitNumber}`,$=C=>{const A=g(C.invoiceId);if(!A||!A.tenant.whatsappNumber){alert("WhatsApp number not available for this tenant"),m(null);return}try{const O=k(C,A),R=kE(A.tenant.whatsappNumber,O);window.open(R,"_blank","noopener,noreferrer")||(window.location.href=R)}catch(O){console.error("Error opening WhatsApp:",O),alert("Failed to open WhatsApp. Please check the phone number format.")}m(null)},E=C=>{const A=g(C.invoiceId);if(!A||!A.tenant.email){alert("Email not available for this tenant"),m(null);return}const O=`Payment Confirmation - Invoice ${A.invoiceNumber}`,R=k(C,A),I=TE(A.tenant.email,O,R);window.location.href=I,m(null)},T=t.reduce((C,A)=>C+A.amount,0),M=c?j().find(C=>C.id===c):null;return u.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Track all payment transactions"})]}),u.jsxs("button",{onClick:()=>l(!0),className:"flex items-center px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-md",children:[u.jsx(va,{className:"w-5 h-5 mr-2"}),"Record Payment"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:(()=>{const C=new Date;C.setDate(1),C.setHours(0,0,0,0);const A=t.filter(z=>new Date(z.paymentDate)>=C),O=A.reduce((z,q)=>z+q.amount,0),R=new Date;R.setDate(R.getDate()-30);const I=t.filter(z=>new Date(z.paymentDate)>=R).length,L=t.filter(z=>new Date(z.paymentDate)>=R).reduce((z,q)=>z+q.amount,0),V=j().reduce((z,q)=>z+q.remainingAmount,0);return[{label:"Total Payments",count:t.length,amount:T,color:"bg-success-100 text-success-700",icon:Ad},{label:"This Month",count:A.length,amount:O,color:"bg-primary-100 text-primary-700",icon:On},{label:"Last 30 Days",count:I,amount:L,color:"bg-warning-100 text-warning-700",icon:_g},{label:"Unpaid Invoices",count:j().length,amount:V,color:"bg-danger-100 text-danger-700",icon:hr}].map(z=>u.jsxs("div",{className:bt("rounded-xl p-4",z.color),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(z.icon,{className:"w-6 h-6"}),u.jsx("span",{className:"text-3xl font-bold",children:z.count})]}),u.jsx("p",{className:"mt-2 font-medium",children:z.label})]},z.label))})()}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, property, unit, phone, email, reference...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[1.2fr_1.5fr_2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm font-semibold text-gray-500 bg-gray-50 border-b border-gray-200",children:[u.jsx("div",{children:"Date"}),u.jsx("div",{children:"Tenants"}),u.jsx("div",{children:"Invoice"}),u.jsx("div",{children:"Amount"}),u.jsx("div",{children:"Method"}),u.jsx("div",{children:"Reference"}),u.jsx("div",{className:"text-right",children:"Actions"})]}),x.length>0?x.map(C=>{const A=g(C.invoiceId);return A?u.jsxs("div",{className:"grid grid-cols-[1.2fr_1.5fr_2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm items-center border-b border-gray-100 hover:bg-gray-50",children:[u.jsx("div",{children:u.jsx("div",{className:"font-medium text-gray-900",children:Xt(C.paymentDate)})}),u.jsx("div",{children:u.jsxs("div",{className:"text-gray-900",children:[A.tenant.firstName," ",A.tenant.lastName]})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-gray-900",children:A.invoiceNumber}),u.jsxs("div",{className:"text-xs text-gray-500",children:[A.property.name," - Unit ",A.unit.unitNumber]})]}),u.jsx("div",{children:u.jsx("div",{className:"font-medium text-success-600",children:Ge(C.amount)})}),u.jsx("div",{children:u.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:C.paymentMethod.replace("_"," ")})}),u.jsx("div",{children:u.jsx("div",{className:"text-gray-600",children:C.referenceNumber||"-"})}),u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsxs("div",{className:"relative",ref:y,children:[u.jsx("button",{type:"button",onClick:()=>m(p===C.id?null:C.id),className:"hover:text-gray-900",title:"Share payment confirmation",children:u.jsx(xE,{className:"w-4 h-4"})}),p===C.id&&u.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",onClick:O=>O.stopPropagation(),children:[u.jsxs("button",{type:"button",onClick:O=>{O.stopPropagation(),$(C)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(bE,{className:"w-4 h-4 text-success-600"}),"WhatsApp"]}),u.jsxs("button",{type:"button",onClick:O=>{O.stopPropagation(),E(C)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Co,{className:"w-4 h-4 text-primary-600"}),"Email"]})]})]}),u.jsx("button",{type:"button",onClick:()=>P(C.id),className:"hover:text-danger-600",title:"Delete payment",children:u.jsx($o,{className:"w-4 h-4"})})]})]},C.id):null}):u.jsx("div",{className:"py-10 text-center text-sm text-gray-600",children:i?"No payments match your search.":"Payment records will appear here"})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),u.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Dt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:_,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice * (Only due invoices)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, or phone number...",value:f,onChange:C=>{h(C.target.value),d("")},className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),f&&w().length>0&&u.jsx("div",{className:"mt-1 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:w().map(C=>u.jsxs("button",{type:"button",onClick:()=>{d(C.id),h(`${C.invoiceNumber} - ${C.tenant.firstName} ${C.tenant.lastName} - Unit ${C.unit.unitNumber}`)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${c===C.id?"bg-green-50":""}`,children:[C.invoiceNumber," - ",C.tenant.firstName," ",C.tenant.lastName," - Unit ",C.unit.unitNumber," - ",Ge(C.remainingAmount)," due"]},C.id))}),u.jsx("input",{type:"hidden",name:"invoiceId",value:c,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (AED) *"}),u.jsx("input",{type:"number",name:"amount",required:!0,min:"0.01",step:"0.01",defaultValue:M?Math.round(M.remainingAmount*100)/100:"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),u.jsx("input",{type:"date",name:"paymentDate",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),u.jsxs("select",{name:"paymentMethod",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),u.jsx("option",{value:"cheque",children:"Cheque"}),u.jsx("option",{value:"card",children:"Card"}),u.jsx("option",{value:"online",children:"Online Payment"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),u.jsx("input",{type:"text",name:"referenceNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"REF-12345"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this payment..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[u.jsx("button",{type:"button",onClick:S,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Record Payment"})]})]})]})})]})}function mse(){const[e,t]=N.useState(new Date),[r,n]=N.useState([]),[a,i]=N.useState(null),[o,s]=N.useState([]);N.useEffect(()=>{l()},[e]);const l=async()=>{const g=Xn(e),b=ml(e),x=pw(g),j=gw(b);try{const w=await le.getInvoicesByDateRange(x,j);n(w)}catch(w){console.error("Error loading invoices:",w),n([])}},c=()=>{t(Td(e,1))},d=()=>{t(Td(e,-1))},f=()=>{t(new Date)},h=()=>u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendar"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"View invoice due dates by calendar"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:f,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Today"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:d,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:u.jsx(AM,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 min-w-[200px] text-center",children:oi(e,"MMMM yyyy")}),u.jsx("button",{onClick:c,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:u.jsx(kM,{className:"w-5 h-5"})})]})]})]}),p=()=>{const g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return u.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:g.map(b=>u.jsx("div",{className:"text-center font-semibold text-gray-600 text-sm py-2",children:b},b))})},m=g=>r.filter(b=>Sg(b.dueDate,g)),y=g=>{i(g),s(m(g))},v=()=>{const g=Xn(e),b=ml(e),x=pw(g),j=gw(b),w=[];let _=[],S=x;for(;S<=j;){for(let P=0;P<7;P++){const k=S,$=m(k),E=ww(k,g),T=BL(k),M=a&&Sg(k,a);_.push(u.jsxs("div",{onClick:()=>y(k),className:bt("min-h-[120px] border border-gray-200 rounded-lg p-2 cursor-pointer transition-all",E?"bg-white hover:bg-gray-50":"bg-gray-50",T&&"ring-2 ring-primary-500",M&&"bg-primary-50"),children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("span",{className:bt("text-sm font-medium",E?"text-gray-900":"text-gray-400",T&&"bg-primary-600 text-white w-7 h-7 rounded-full flex items-center justify-center"),children:oi(k,"d")}),$.length>0&&u.jsx("span",{className:"text-xs font-semibold text-gray-500",children:$.length})]}),u.jsxs("div",{className:"space-y-1",children:[$.slice(0,3).map(C=>u.jsxs("div",{className:bt("text-xs p-1 rounded truncate",zl(C.status)),title:`${C.tenant.firstName} ${C.tenant.lastName} - ${C.invoiceNumber}`,children:[C.tenant.firstName," ",C.tenant.lastName[0],"."]},C.id)),$.length>3&&u.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",$.length-3," more"]})]})]},k.toString())),S=CE(S,1)}w.push(u.jsx("div",{className:"grid grid-cols-7 gap-2",children:_},S.toString())),_=[]}return u.jsx("div",{className:"space-y-2",children:w})};return u.jsxs("div",{className:"p-8 max-w-[1800px] mx-auto",children:[h(),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md p-6",children:[p(),v()]}),u.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:a?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx(On,{className:"w-6 h-6 text-primary-600 mr-3"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:oi(a,"MMMM d, yyyy")}),u.jsxs("p",{className:"text-sm text-gray-600",children:[o.length," invoice",o.length!==1?"s":""," due"]})]})]}),o.length>0?u.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:o.map(g=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-gray-900",children:[g.tenant.firstName," ",g.tenant.lastName]}),u.jsxs("p",{className:"text-sm text-gray-600",children:[g.property.name," - Unit ",g.unit.unitNumber]})]}),u.jsx("span",{className:bt("px-2 py-1 rounded-full text-xs font-semibold",zl(g.status)),children:g.status})]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Invoice:"}),u.jsx("span",{className:"font-medium text-gray-900",children:g.invoiceNumber})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Amount:"}),u.jsx("span",{className:"font-medium text-gray-900",children:Ge(g.amount)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Remaining:"}),u.jsx("span",{className:bt("font-medium",g.remainingAmount>0?"text-danger-600":"text-success-600"),children:Ge(g.remainingAmount)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Installment:"}),u.jsxs("span",{className:"font-medium text-gray-900",children:[g.installmentNumber,"/",g.contract.numberOfInstallments]})]})]})]},g.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(On,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-600",children:"No invoices due on this date"})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(On,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Date"}),u.jsx("p",{className:"text-gray-600",children:"Click on a date to view invoices"})]})})]}),u.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:(()=>{const g=r.filter(_=>ww(_.dueDate,e)),b=g.filter(_=>_.status==="paid"),x=g.filter(_=>_.status==="pending"),j=g.filter(_=>_.status==="overdue"),w=g.filter(_=>_.status==="partial");return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-success-50 rounded-xl p-6",children:[u.jsx("p",{className:"text-success-700 font-medium mb-2",children:"Paid"}),u.jsx("p",{className:"text-3xl font-bold text-success-700",children:b.length}),u.jsx("p",{className:"text-sm text-success-600 mt-1",children:Ge(b.reduce((_,S)=>_+S.amount,0))})]}),u.jsxs("div",{className:"bg-warning-50 rounded-xl p-6",children:[u.jsx("p",{className:"text-warning-700 font-medium mb-2",children:"Pending"}),u.jsx("p",{className:"text-3xl font-bold text-warning-700",children:x.length}),u.jsx("p",{className:"text-sm text-warning-600 mt-1",children:Ge(x.reduce((_,S)=>_+S.remainingAmount,0))})]}),u.jsxs("div",{className:"bg-primary-50 rounded-xl p-6",children:[u.jsx("p",{className:"text-primary-700 font-medium mb-2",children:"Partial"}),u.jsx("p",{className:"text-3xl font-bold text-primary-700",children:w.length}),u.jsx("p",{className:"text-sm text-primary-600 mt-1",children:Ge(w.reduce((_,S)=>_+S.remainingAmount,0))})]}),u.jsxs("div",{className:"bg-danger-50 rounded-xl p-6",children:[u.jsx("p",{className:"text-danger-700 font-medium mb-2",children:"Overdue"}),u.jsx("p",{className:"text-3xl font-bold text-danger-700",children:j.length}),u.jsx("p",{className:"text-sm text-danger-600 mt-1",children:Ge(j.reduce((_,S)=>_+S.remainingAmount,0))})]})]})})()})]})}function gse(){var g,b;const{user:e}=ka(),[t,r]=N.useState([]),[n,a]=N.useState("pending"),[i,o]=N.useState(null),[s,l]=N.useState(""),[c,d]=N.useState(!1),f=((g=e==null?void 0:e.role)==null?void 0:g.trim())==="admin";N.useEffect(()=>{f&&h()},[e,n,f]);const h=async()=>{try{console.log("=== APPROVALS PAGE: Loading requests ==="),console.log("Current filter:",n),console.log("User role:",e==null?void 0:e.role);const x=await le.getApprovalRequests(n==="all"?void 0:n,void 0);console.log("Approvals page - received data:",x),console.log("Number of requests:",x.length),console.log("========================================"),r(x)}catch(x){console.error("Error loading approval requests:",x)}},p=async x=>{if(e){d(!0);try{const j=await le.approveRequest(x,e.id);j.success?(await h(),o(null),alert("Request approved and processed successfully")):alert(j.message||"Failed to approve request")}catch(j){console.error("Error approving request:",j),alert("Failed to approve request")}finally{d(!1)}}},m=async x=>{if(!e||!s.trim()){alert("Please provide a rejection reason");return}d(!0);try{const j=await le.rejectRequest(x,e.id,s);j.success?(await h(),o(null),l(""),alert("Request rejected")):alert(j.message||"Failed to reject request")}catch(j){console.error("Error rejecting request:",j),alert("Failed to reject request")}finally{d(!1)}},y=x=>{switch(x){case"contract_create":case"contract_terminate":case"contract_cancel":return u.jsx(sa,{className:"w-5 h-5"});case"payment_create":case"payment_delete":return u.jsx(vE,{className:"w-5 h-5"});default:return u.jsx(hr,{className:"w-5 h-5"})}},v=x=>{switch(x){case"contract_create":return"Create Contract";case"contract_terminate":return"Terminate Contract";case"contract_cancel":return"Cancel Contract";case"payment_create":return"Create Payment";case"payment_delete":return"Delete Payment";default:return x}};return f?u.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Approval Requests"}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve pending requests"})]}),u.jsx("div",{className:"flex gap-2 mb-6",children:["all","pending","approved","rejected"].map(x=>u.jsx("button",{onClick:()=>a(x),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===x?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),u.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t.length===0?u.jsxs("div",{className:"py-10 text-center text-gray-600",children:["No ",n==="all"?"":n," requests found"]}):t.map(x=>u.jsx("div",{className:"border-b border-gray-100 p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>o(x),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[y(x.requestType),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-gray-900",children:v(x.requestType)}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Requested by ",x.requesterName||"Unknown","  ",Xt(x.createdAt)]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[x.status==="pending"&&u.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Pending"}),x.status==="approved"&&u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Approved"}),x.status==="rejected"&&u.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Rejected"})]})]})},x.id))}),i&&i.status==="pending"&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:v(i.requestType)}),u.jsxs("div",{className:"mb-6 space-y-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Requested by:"}),u.jsx("p",{className:"text-gray-900",children:i.requesterName||"Unknown"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Request Date:"}),u.jsx("p",{className:"text-gray-900",children:Xt(i.createdAt)})]}),i.requestType==="contract_create"&&u.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Contract Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Monthly Rent:"})," ",Ge(i.requestData.monthlyRent)]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Security Deposit:"})," ",Ge(i.requestData.securityDeposit)]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Start Date:"})," ",Xt(new Date(i.requestData.startDate))]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"End Date:"})," ",Xt(new Date(i.requestData.endDate))]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Status:"})," ",i.requestData.status]})]})]}),i.requestType==="contract_terminate"&&u.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Termination Request"}),u.jsxs("p",{className:"text-sm text-gray-700",children:["Contract ID: ",i.requestData.contractId]})]}),i.requestType==="payment_create"&&u.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Payment Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Amount:"})," ",Ge(i.requestData.amount)]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Payment Method:"})," ",((b=i.requestData.paymentMethod)==null?void 0:b.replace("_"," "))||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Payment Date:"})," ",Xt(new Date(i.requestData.paymentDate))]}),i.requestData.referenceNumber&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600",children:"Reference:"})," ",i.requestData.referenceNumber]})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (if rejecting)"}),u.jsx("textarea",{value:s,onChange:x=>l(x.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter reason for rejection..."})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>{o(null),l("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),u.jsx("button",{onClick:()=>m(i.id),disabled:c||!s.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Reject"}),u.jsx("button",{onClick:()=>p(i.id),disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Approve"})]})]})})})]}):u.jsx("div",{className:"p-8",children:u.jsxs("div",{className:"text-center text-gray-600",children:[u.jsx(hr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),u.jsx("p",{children:"You don't have permission to access this page."})]})})}function yse(){const{user:e}=ka(),[t,r]=N.useState("change"),[n,a]=N.useState(""),[i,o]=N.useState(""),[s,l]=N.useState(""),[c,d]=N.useState(""),[f,h]=N.useState(""),[p,m]=N.useState(!1),[y,v]=N.useState([]),[g,b]=N.useState(!1),[x,j]=N.useState(""),[w,_]=N.useState(""),S=async $=>{if($.preventDefault(),d(""),h(""),!n||!i||!s){d("All fields are required");return}if(i.length<6){d("New password must be at least 6 characters");return}if(i!==s){d("New passwords do not match");return}if(n===i){d("New password must be different from current password");return}m(!0);try{if(!X){d("Supabase is not configured");return}const{error:E}=await X.auth.signInWithPassword({email:e.email,password:n});if(E){d("Current password is incorrect");return}const{error:T}=await X.auth.updateUser({password:i});if(T){d(T.message||"Failed to update password");return}h("Password changed successfully!"),a(""),o(""),l("")}catch(E){d(E.message||"An error occurred")}finally{m(!1)}},P=async()=>{if((e==null?void 0:e.role)==="admin"){b(!0);try{if(!X){j("Supabase is not configured");return}const{data:$,error:E}=await X.from("users").select("id, email, name, role, created_at").order("created_at",{ascending:!1});if(E){j(E.message||"Failed to load users");return}v($||[])}catch($){j($.message||"An error occurred")}finally{b(!1)}}},k=async $=>{j(""),_("");try{if(!X){j("Supabase is not configured");return}const{error:E}=await X.auth.resetPasswordForEmail($,{redirectTo:`${window.location.origin}/login`});if(E){j(`Failed to send reset email: ${E.message}`);return}_(`Password reset email sent to ${$}`),setTimeout(()=>_(""),5e3)}catch(E){j(E.message||"An error occurred")}};return N.useEffect(()=>{t==="users"&&(e==null?void 0:e.role)==="admin"&&P()},[t,e==null?void 0:e.role]),u.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Password Management"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your password and user accounts"})]}),u.jsx("div",{className:"border-b border-gray-200 mb-6",children:u.jsxs("nav",{className:"flex space-x-8",children:[u.jsx("button",{onClick:()=>r("change"),className:`
              py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${t==="change"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pl,{className:"w-4 h-4"}),"Change My Password"]})}),(e==null?void 0:e.role)==="admin"&&u.jsx("button",{onClick:()=>{r("users"),P()},className:`
                py-4 px-1 border-b-2 font-medium text-sm transition-colors
                ${t==="users"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Io,{className:"w-4 h-4"}),"Manage Users"]})})]})}),t==="change"&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:u.jsx(Nd,{className:"w-6 h-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Update your account password"})]})]}),c&&u.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-red-700",children:c})]}),f&&u.jsxs("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(ja,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-green-700",children:f})]}),u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",value:n,onChange:$=>a($.target.value),required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter current password"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",value:i,onChange:$=>o($.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",value:s,onChange:$=>l($.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Confirm new password"})]})]}),u.jsx("button",{type:"submit",disabled:p,className:"w-full bg-green-600 text-white py-2.5 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Changing Password...":"Change Password"})]})]}),t==="users"&&(e==null?void 0:e.role)==="admin"&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:u.jsx(LM,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Management"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Reset passwords for other users"})]})]}),x&&u.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-red-700",children:x})]}),w&&u.jsxs("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(ja,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-green-700",children:w})]}),g?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):u.jsx("div",{className:"space-y-3",children:y.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(Io,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),u.jsx("p",{children:"No users found"})]}):y.map($=>u.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx(Co,{className:"w-5 h-5 text-gray-600"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"font-medium text-gray-900",children:$.name}),$.role==="admin"&&u.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:"Admin"})]}),u.jsx("p",{className:"text-sm text-gray-600",children:$.email})]})]})}),u.jsx("button",{onClick:()=>k($.email),className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Send Reset Email"})]},$.id))})]})]})}function vse(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(""),[o,s]=N.useState(!1),[l,c]=N.useState(!1),d=Tu();N.useEffect(()=>{const h=new URLSearchParams(window.location.hash.substring(1)),p=h.get("access_token"),m=h.get("type");(!p||m!=="recovery")&&i("Invalid or expired reset link. Please request a new password reset.")},[]);const f=async h=>{if(h.preventDefault(),i(""),s(!1),!e||!r){i("Please fill in all fields");return}if(e.length<6){i("Password must be at least 6 characters");return}if(e!==r){i("Passwords do not match");return}c(!0);try{if(!X){i("Supabase is not configured");return}const{error:p}=await X.auth.updateUser({password:e});if(p){i(p.message||"Failed to update password");return}s(!0),setTimeout(()=>{d("/login")},2e3)}catch(p){i(p.message||"An error occurred")}finally{c(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[u.jsxs("div",{className:"flex items-center justify-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center mr-4",children:u.jsx(Sn,{className:"w-10 h-10 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"PropTrack"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Reset Your Password"})]})]}),o?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ja,{className:"w-10 h-10 text-green-600"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been updated. Redirecting to login..."})]}):u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-red-700",children:a})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",value:e,onChange:h=>t(h.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"password",value:r,onChange:h=>n(h.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Confirm new password"})]})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Updating Password...":"Reset Password"})]})]})})}function bse(){return u.jsx(wM,{children:u.jsxs(VI,{children:[u.jsx(Ut,{path:"/login",element:u.jsx(C3,{})}),u.jsx(Ut,{path:"/reset-password",element:u.jsx(vse,{})}),u.jsxs(Ut,{path:"/",element:u.jsx(_M,{children:u.jsx(T3,{})}),children:[u.jsx(Ut,{index:!0,element:u.jsx(WN,{to:"/dashboard",replace:!0})}),u.jsx(Ut,{path:"dashboard",element:u.jsx(sse,{})}),u.jsx(Ut,{path:"properties",element:u.jsx(lse,{})}),u.jsx(Ut,{path:"units",element:u.jsx(use,{})}),u.jsx(Ut,{path:"tenants",element:u.jsx(cse,{})}),u.jsx(Ut,{path:"contracts",element:u.jsx(dse,{})}),u.jsx(Ut,{path:"invoices",element:u.jsx(hse,{})}),u.jsx(Ut,{path:"payments",element:u.jsx(pse,{})}),u.jsx(Ut,{path:"calendar",element:u.jsx(mse,{})}),u.jsx(Ut,{path:"approvals",element:u.jsx(gse,{})}),u.jsx(Ut,{path:"password",element:u.jsx(yse,{})})]})]})})}typeof window<"u"&&window.addEventListener("error",e=>{(e.filename||"").includes("share-modal.js")&&e.preventDefault()});um.createRoot(document.getElementById("root")).render(u.jsx(D.StrictMode,{children:u.jsx(QI,{children:u.jsx(bse,{})})}));export{CE as a,$3 as b,Td as c,R3 as d,ml as e,gw as f,oi as g,Sg as h,M3 as i,ww as j,BL as k,L3 as l,_w as m,Xn as n,pw as o,FL as p,U3 as q,ke as r,mw as s,rt as t,fn as u};
