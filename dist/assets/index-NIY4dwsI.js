function _j(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _u(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Sj={exports:{}},kf={},jj={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),IC=Symbol.for("react.portal"),DC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),MC=Symbol.for("react.profiler"),LC=Symbol.for("react.provider"),UC=Symbol.for("react.context"),BC=Symbol.for("react.forward_ref"),FC=Symbol.for("react.suspense"),qC=Symbol.for("react.memo"),zC=Symbol.for("react.lazy"),Ob=Symbol.iterator;function WC(e){return e===null||typeof e!="object"?null:(e=Ob&&e[Ob]||e["@@iterator"],typeof e=="function"?e:null)}var Oj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ej=Object.assign,Pj={};function ns(e,t,r){this.props=e,this.context=t,this.refs=Pj,this.updater=r||Oj}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nj(){}Nj.prototype=ns.prototype;function rv(e,t,r){this.props=e,this.context=t,this.refs=Pj,this.updater=r||Oj}var nv=rv.prototype=new Nj;nv.constructor=rv;Ej(nv,ns.prototype);nv.isPureReactComponent=!0;var Eb=Array.isArray,Aj=Object.prototype.hasOwnProperty,av={current:null},kj={key:!0,ref:!0,__self:!0,__source:!0};function Tj(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Aj.call(t,n)&&!kj.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Su,type:e,key:i,ref:o,props:a,_owner:av.current}}function VC(e,t){return{$$typeof:Su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Su}function HC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pb=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HC(""+e.key):t.toString(36)}function jc(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Su:case IC:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Zh(o,0):n,Eb(a)?(r="",e!=null&&(r=e.replace(Pb,"$&/")+"/"),jc(a,t,r,"",function(u){return u})):a!=null&&(iv(a)&&(a=VC(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Pb,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Eb(e))for(var s=0;s<e.length;s++){i=e[s];var l=n+Zh(i,s);o+=jc(i,t,r,l,a)}else if(l=WC(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=n+Zh(i,s++),o+=jc(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lu(e,t,r){if(e==null)return e;var n=[],a=0;return jc(e,n,"","",function(i){return t.call(r,i,a++)}),n}function GC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},Oc={transition:null},KC={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:av};function Cj(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Lu,forEach:function(e,t,r){Lu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Lu(e,function(){t++}),t},toArray:function(e){return Lu(e,function(t){return t})||[]},only:function(e){if(!iv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ns;ve.Fragment=DC;ve.Profiler=MC;ve.PureComponent=rv;ve.StrictMode=RC;ve.Suspense=FC;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC;ve.act=Cj;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ej({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=av.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Aj.call(t,l)&&!kj.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Su,type:e.type,key:a,ref:i,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:UC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LC,_context:e},e.Consumer=e};ve.createElement=Tj;ve.createFactory=function(e){var t=Tj.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:BC,render:e}};ve.isValidElement=iv;ve.lazy=function(e){return{$$typeof:zC,_payload:{_status:-1,_result:e},_init:GC}};ve.memo=function(e,t){return{$$typeof:qC,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Oc.transition;Oc.transition={};try{e()}finally{Oc.transition=t}};ve.unstable_act=Cj;ve.useCallback=function(e,t){return Wt.current.useCallback(e,t)};ve.useContext=function(e){return Wt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Wt.current.useEffect(e,t)};ve.useId=function(){return Wt.current.useId()};ve.useImperativeHandle=function(e,t,r){return Wt.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Wt.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return Wt.current.useReducer(e,t,r)};ve.useRef=function(e){return Wt.current.useRef(e)};ve.useState=function(e){return Wt.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return Wt.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return Wt.current.useTransition()};ve.version="18.3.1";jj.exports=ve;var N=jj.exports;const I=Ne(N),YC=_j({__proto__:null,default:I},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=N,JC=Symbol.for("react.element"),QC=Symbol.for("react.fragment"),ZC=Object.prototype.hasOwnProperty,e2=XC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t2={key:!0,ref:!0,__self:!0,__source:!0};function $j(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ZC.call(t,n)&&!t2.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:JC,type:e,key:i,ref:o,props:a,_owner:e2.current}}kf.Fragment=QC;kf.jsx=$j;kf.jsxs=$j;Sj.exports=kf;var c=Sj.exports,um={},Ij={exports:{}},hr={},Dj={exports:{}},Rj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,L){var V=$.length;$.push(L);e:for(;0<V;){var z=V-1>>>1,q=$[z];if(0<a(q,L))$[z]=L,$[V]=q,V=z;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var L=$[0],V=$.pop();if(V!==L){$[0]=V;e:for(var z=0,q=$.length,Q=q>>>1;z<Q;){var fe=2*(z+1)-1,te=$[fe],me=fe+1,Be=$[me];if(0>a(te,V))me<q&&0>a(Be,te)?($[z]=Be,$[me]=V,z=me):($[z]=te,$[fe]=V,z=fe);else if(me<q&&0>a(Be,V))$[z]=Be,$[me]=V,z=me;else break e}}return L}function a($,L){var V=$.sortIndex-L.sortIndex;return V!==0?V:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=$)n(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(u)}}function S($){if(y=!1,x($),!g)if(r(l)!==null)g=!0,O(w);else{var L=r(u);L!==null&&R(S,L.startTime-$)}}function w($,L){g=!1,y&&(y=!1,m(E),E=-1),p=!0;var V=h;try{for(x(L),f=r(l);f!==null&&(!(f.expirationTime>L)||$&&!P());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var q=z(f.expirationTime<=L);L=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(l)&&n(l),x(L)}else n(l);f=r(l)}if(f!==null)var Q=!0;else{var fe=r(u);fe!==null&&R(S,fe.startTime-L),Q=!1}return Q}finally{f=null,h=V,p=!1}}var _=!1,j=null,E=-1,k=5,D=-1;function P(){return!(e.unstable_now()-D<k)}function T(){if(j!==null){var $=e.unstable_now();D=$;var L=!0;try{L=j(!0,$)}finally{L?M():(_=!1,j=null)}}else _=!1}var M;if(typeof b=="function")M=function(){b(T)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,A=C.port2;C.port1.onmessage=T,M=function(){A.postMessage(null)}}else M=function(){v(T,0)};function O($){j=$,_||(_=!0,M())}function R($,L){E=v(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,O(w))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var V=h;h=L;try{return $()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=h;h=$;try{return L()}finally{h=V}},e.unstable_scheduleCallback=function($,L,V){var z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=V+q,$={id:d++,callback:L,priorityLevel:$,startTime:V,expirationTime:q,sortIndex:-1},V>z?($.sortIndex=V,t(u,$),r(l)===null&&$===r(u)&&(y?(m(E),E=-1):y=!0,R(S,V-z))):($.sortIndex=q,t(l,$),g||p||(g=!0,O(w))),$},e.unstable_shouldYield=P,e.unstable_wrapCallback=function($){var L=h;return function(){var V=h;h=L;try{return $.apply(this,arguments)}finally{h=V}}}})(Rj);Dj.exports=Rj;var r2=Dj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=N,fr=r2;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mj=new Set,vl={};function Ei(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(vl[e]=t,e=0;e<t.length;e++)Mj.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cm=Object.prototype.hasOwnProperty,a2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nb={},Ab={};function i2(e){return cm.call(Ab,e)?!0:cm.call(Nb,e)?!1:a2.test(e)?Ab[e]=!0:(Nb[e]=!0,!1)}function o2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s2(e,t,r,n){if(t===null||typeof t>"u"||o2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function sv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ov,sv);Nt[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ov,sv);Nt[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ov,sv);Nt[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lv(e,t,r,n){var a=Nt.hasOwnProperty(t)?Nt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s2(t,r,a,n)&&(r=null),n||a===null?i2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rn=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uu=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),Lj=Symbol.for("react.provider"),Uj=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),dv=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),Bj=Symbol.for("react.offscreen"),kb=Symbol.iterator;function Ps(e){return e===null||typeof e!="object"?null:(e=kb&&e[kb]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,ep;function Xs(e){if(ep===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ep=t&&t[1]||""}return`
`+ep+e}var tp=!1;function rp(e,t){if(!e||tp)return"";tp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{tp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xs(e):""}function l2(e){switch(e.tag){case 5:return Xs(e.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return e=rp(e.type,!1),e;case 11:return e=rp(e.type.render,!1),e;case 1:return e=rp(e.type,!0),e;default:return""}}function pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Hi:return"Portal";case dm:return"Profiler";case uv:return"StrictMode";case fm:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uj:return(e.displayName||"Context")+".Consumer";case Lj:return(e._context.displayName||"Context")+".Provider";case cv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dv:return t=e.displayName||null,t!==null?t:pm(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return pm(e(t))}catch{}}return null}function u2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pm(t);case 8:return t===uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c2(e){var t=Fj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bu(e){e._valueTracker||(e._valueTracker=c2(e))}function qj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mm(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_a(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zj(e,t){t=t.checked,t!=null&&lv(e,"checked",t,!1)}function gm(e,t){zj(e,t);var r=_a(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ym(e,t.type,r):t.hasOwnProperty("defaultValue")&&ym(e,t.type,_a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ym(e,t,r){(t!=="number"||qc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Js=Array.isArray;function uo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_a(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $b(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Js(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_a(r)}}function Wj(e,t){var r=_a(t.value),n=_a(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ib(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fu,Hj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fu=Fu||document.createElement("div"),Fu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d2=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(e){d2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nl[t]=nl[e]})});function Gj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nl.hasOwnProperty(e)&&nl[e]?(""+t).trim():t+"px"}function Kj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Gj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var f2=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(e,t){if(t){if(f2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function wm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function fv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sm=null,co=null,fo=null;function Db(e){if(e=Eu(e)){if(typeof Sm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Df(t),Sm(e.stateNode,e.type,t))}}function Yj(e){co?fo?fo.push(e):fo=[e]:co=e}function Xj(){if(co){var e=co,t=fo;if(fo=co=null,Db(e),t)for(e=0;e<t.length;e++)Db(t[e])}}function Jj(e,t){return e(t)}function Qj(){}var np=!1;function Zj(e,t,r){if(np)return e(t,r);np=!0;try{return Jj(e,t,r)}finally{np=!1,(co!==null||fo!==null)&&(Qj(),Xj())}}function xl(e,t){var r=e.stateNode;if(r===null)return null;var n=Df(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var jm=!1;if(En)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){jm=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{jm=!1}function h2(e,t,r,n,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var al=!1,zc=null,Wc=!1,Om=null,p2={onError:function(e){al=!0,zc=e}};function m2(e,t,r,n,a,i,o,s,l){al=!1,zc=null,h2.apply(p2,arguments)}function g2(e,t,r,n,a,i,o,s,l){if(m2.apply(this,arguments),al){if(al){var u=zc;al=!1,zc=null}else throw Error(G(198));Wc||(Wc=!0,Om=u)}}function Pi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rb(e){if(Pi(e)!==e)throw Error(G(188))}function y2(e){var t=e.alternate;if(!t){if(t=Pi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Rb(a),e;if(i===n)return Rb(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function tO(e){return e=y2(e),e!==null?rO(e):null}function rO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rO(e);if(t!==null)return t;e=e.sibling}return null}var nO=fr.unstable_scheduleCallback,Mb=fr.unstable_cancelCallback,v2=fr.unstable_shouldYield,b2=fr.unstable_requestPaint,nt=fr.unstable_now,x2=fr.unstable_getCurrentPriorityLevel,hv=fr.unstable_ImmediatePriority,aO=fr.unstable_UserBlockingPriority,Vc=fr.unstable_NormalPriority,w2=fr.unstable_LowPriority,iO=fr.unstable_IdlePriority,Tf=null,en=null;function _2(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Tf,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:O2,S2=Math.log,j2=Math.LN2;function O2(e){return e>>>=0,e===0?32:31-(S2(e)/j2|0)|0}var qu=64,zu=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~a;s!==0?n=Qs(s):(i&=o,i!==0&&(n=Qs(i)))}else o=r&~a,o!==0?n=Qs(o):i!==0&&(n=Qs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Br(t),a=1<<r,n|=e[r],t&=~a;return n}function E2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Br(i),s=1<<o,l=a[o];l===-1?(!(s&r)||s&n)&&(a[o]=E2(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Em(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oO(){var e=qu;return qu<<=1,!(qu&4194240)&&(qu=64),e}function ap(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ju(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function N2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Br(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function pv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Br(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Te=0;function sO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lO,mv,uO,cO,dO,Pm=!1,Wu=[],ua=null,ca=null,da=null,wl=new Map,_l=new Map,Qn=[],A2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lb(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function As(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Eu(t),t!==null&&mv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function k2(e,t,r,n,a){switch(t){case"focusin":return ua=As(ua,e,t,r,n,a),!0;case"dragenter":return ca=As(ca,e,t,r,n,a),!0;case"mouseover":return da=As(da,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return wl.set(i,As(wl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,_l.set(i,As(_l.get(i)||null,e,t,r,n,a)),!0}return!1}function fO(e){var t=ti(e.target);if(t!==null){var r=Pi(t);if(r!==null){if(t=r.tag,t===13){if(t=eO(r),t!==null){e.blockedOn=t,dO(e.priority,function(){uO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_m=n,r.target.dispatchEvent(n),_m=null}else return t=Eu(r),t!==null&&mv(t),e.blockedOn=r,!1;t.shift()}return!0}function Ub(e,t,r){Ec(e)&&r.delete(t)}function T2(){Pm=!1,ua!==null&&Ec(ua)&&(ua=null),ca!==null&&Ec(ca)&&(ca=null),da!==null&&Ec(da)&&(da=null),wl.forEach(Ub),_l.forEach(Ub)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Pm||(Pm=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,T2)))}function Sl(e){function t(a){return ks(a,e)}if(0<Wu.length){ks(Wu[0],e);for(var r=1;r<Wu.length;r++){var n=Wu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ua!==null&&ks(ua,e),ca!==null&&ks(ca,e),da!==null&&ks(da,e),wl.forEach(t),_l.forEach(t),r=0;r<Qn.length;r++)n=Qn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qn.length&&(r=Qn[0],r.blockedOn===null);)fO(r),r.blockedOn===null&&Qn.shift()}var ho=Rn.ReactCurrentBatchConfig,Gc=!0;function C2(e,t,r,n){var a=Te,i=ho.transition;ho.transition=null;try{Te=1,gv(e,t,r,n)}finally{Te=a,ho.transition=i}}function $2(e,t,r,n){var a=Te,i=ho.transition;ho.transition=null;try{Te=4,gv(e,t,r,n)}finally{Te=a,ho.transition=i}}function gv(e,t,r,n){if(Gc){var a=Nm(e,t,r,n);if(a===null)pp(e,t,n,Kc,r),Lb(e,n);else if(k2(a,e,t,r,n))n.stopPropagation();else if(Lb(e,n),t&4&&-1<A2.indexOf(e)){for(;a!==null;){var i=Eu(a);if(i!==null&&lO(i),i=Nm(e,t,r,n),i===null&&pp(e,t,n,Kc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else pp(e,t,n,null,r)}}var Kc=null;function Nm(e,t,r,n){if(Kc=null,e=fv(n),e=ti(e),e!==null)if(t=Pi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kc=e,null}function hO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x2()){case hv:return 1;case aO:return 4;case Vc:case w2:return 16;case iO:return 536870912;default:return 16}default:return 16}}var na=null,yv=null,Pc=null;function pO(){if(Pc)return Pc;var e,t=yv,r=t.length,n,a="value"in na?na.value:na.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Pc=a.slice(e,1<n?1-n:void 0)}function Nc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vu(){return!0}function Bb(){return!1}function pr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vu:Bb,this.isPropagationStopped=Bb,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=pr(as),Ou=Qe({},as,{view:0,detail:0}),I2=pr(Ou),ip,op,Ts,Cf=Qe({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(ip=e.screenX-Ts.screenX,op=e.screenY-Ts.screenY):op=ip=0,Ts=e),ip)},movementY:function(e){return"movementY"in e?e.movementY:op}}),Fb=pr(Cf),D2=Qe({},Cf,{dataTransfer:0}),R2=pr(D2),M2=Qe({},Ou,{relatedTarget:0}),sp=pr(M2),L2=Qe({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=pr(L2),B2=Qe({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F2=pr(B2),q2=Qe({},as,{data:0}),qb=pr(q2),z2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V2[e])?!!t[e]:!1}function bv(){return H2}var G2=Qe({},Ou,{key:function(e){if(e.key){var t=z2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bv,charCode:function(e){return e.type==="keypress"?Nc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K2=pr(G2),Y2=Qe({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zb=pr(Y2),X2=Qe({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bv}),J2=pr(X2),Q2=Qe({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z2=pr(Q2),e$=Qe({},Cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t$=pr(e$),r$=[9,13,27,32],xv=En&&"CompositionEvent"in window,il=null;En&&"documentMode"in document&&(il=document.documentMode);var n$=En&&"TextEvent"in window&&!il,mO=En&&(!xv||il&&8<il&&11>=il),Wb=" ",Vb=!1;function gO(e,t){switch(e){case"keyup":return r$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function a$(e,t){switch(e){case"compositionend":return yO(t);case"keypress":return t.which!==32?null:(Vb=!0,Wb);case"textInput":return e=t.data,e===Wb&&Vb?null:e;default:return null}}function i$(e,t){if(Ki)return e==="compositionend"||!xv&&gO(e,t)?(e=pO(),Pc=yv=na=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mO&&t.locale!=="ko"?null:t.data;default:return null}}var o$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o$[e.type]:t==="textarea"}function vO(e,t,r,n){Yj(n),t=Yc(t,"onChange"),0<t.length&&(r=new vv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ol=null,jl=null;function s$(e){AO(e,0)}function $f(e){var t=Ji(e);if(qj(t))return e}function l$(e,t){if(e==="change")return t}var bO=!1;if(En){var lp;if(En){var up="oninput"in document;if(!up){var Gb=document.createElement("div");Gb.setAttribute("oninput","return;"),up=typeof Gb.oninput=="function"}lp=up}else lp=!1;bO=lp&&(!document.documentMode||9<document.documentMode)}function Kb(){ol&&(ol.detachEvent("onpropertychange",xO),jl=ol=null)}function xO(e){if(e.propertyName==="value"&&$f(jl)){var t=[];vO(t,jl,e,fv(e)),Zj(s$,t)}}function u$(e,t,r){e==="focusin"?(Kb(),ol=t,jl=r,ol.attachEvent("onpropertychange",xO)):e==="focusout"&&Kb()}function c$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $f(jl)}function d$(e,t){if(e==="click")return $f(t)}function f$(e,t){if(e==="input"||e==="change")return $f(t)}function h$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zr=typeof Object.is=="function"?Object.is:h$;function Ol(e,t){if(zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!cm.call(t,a)||!zr(e[a],t[a]))return!1}return!0}function Yb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xb(e,t){var r=Yb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yb(r)}}function wO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _O(){for(var e=window,t=qc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qc(e.document)}return t}function wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p$(e){var t=_O(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wO(r.ownerDocument.documentElement,r)){if(n!==null&&wv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Xb(r,i);var o=Xb(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m$=En&&"documentMode"in document&&11>=document.documentMode,Yi=null,Am=null,sl=null,km=!1;function Jb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;km||Yi==null||Yi!==qc(n)||(n=Yi,"selectionStart"in n&&wv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sl&&Ol(sl,n)||(sl=n,n=Yc(Am,"onSelect"),0<n.length&&(t=new vv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yi)))}function Hu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xi={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},cp={},SO={};En&&(SO=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function If(e){if(cp[e])return cp[e];if(!Xi[e])return e;var t=Xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in SO)return cp[e]=t[r];return e}var jO=If("animationend"),OO=If("animationiteration"),EO=If("animationstart"),PO=If("transitionend"),NO=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){NO.set(e,t),Ei(t,[e])}for(var dp=0;dp<Qb.length;dp++){var fp=Qb[dp],g$=fp.toLowerCase(),y$=fp[0].toUpperCase()+fp.slice(1);Oa(g$,"on"+y$)}Oa(jO,"onAnimationEnd");Oa(OO,"onAnimationIteration");Oa(EO,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(PO,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function Zb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,g2(n,t,void 0,e),e.currentTarget=null}function AO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Zb(a,s,u),i=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Zb(a,s,u),i=l}}}if(Wc)throw e=Om,Wc=!1,Om=null,e}function qe(e,t){var r=t[Dm];r===void 0&&(r=t[Dm]=new Set);var n=e+"__bubble";r.has(n)||(kO(t,e,2,!1),r.add(n))}function hp(e,t,r){var n=0;t&&(n|=4),kO(r,e,n,t)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function El(e){if(!e[Gu]){e[Gu]=!0,Mj.forEach(function(r){r!=="selectionchange"&&(v$.has(r)||hp(r,!1,e),hp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gu]||(t[Gu]=!0,hp("selectionchange",!1,t))}}function kO(e,t,r,n){switch(hO(t)){case 1:var a=C2;break;case 4:a=$2;break;default:a=gv}r=a.bind(null,t,r,e),a=void 0,!jm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function pp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=ti(s),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}s=s.parentNode}}n=n.return}Zj(function(){var u=i,d=fv(r),f=[];e:{var h=NO.get(e);if(h!==void 0){var p=vv,g=e;switch(e){case"keypress":if(Nc(r)===0)break e;case"keydown":case"keyup":p=K2;break;case"focusin":g="focus",p=sp;break;case"focusout":g="blur",p=sp;break;case"beforeblur":case"afterblur":p=sp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=R2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=J2;break;case jO:case OO:case EO:p=U2;break;case PO:p=Z2;break;case"scroll":p=I2;break;case"wheel":p=t$;break;case"copy":case"cut":case"paste":p=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zb}var y=(t&4)!==0,v=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,x;b!==null;){x=b;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,m!==null&&(S=xl(b,m),S!=null&&y.push(Pl(b,S,x)))),v)break;b=b.return}0<y.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==_m&&(g=r.relatedTarget||r.fromElement)&&(ti(g)||g[Pn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?ti(g):null,g!==null&&(v=Pi(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Fb,S="onMouseLeave",m="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=zb,S="onPointerLeave",m="onPointerEnter",b="pointer"),v=p==null?h:Ji(p),x=g==null?h:Ji(g),h=new y(S,b+"leave",p,r,d),h.target=v,h.relatedTarget=x,S=null,ti(d)===u&&(y=new y(m,b+"enter",g,r,d),y.target=x,y.relatedTarget=v,S=y),v=S,p&&g)t:{for(y=p,m=g,b=0,x=y;x;x=Ii(x))b++;for(x=0,S=m;S;S=Ii(S))x++;for(;0<b-x;)y=Ii(y),b--;for(;0<x-b;)m=Ii(m),x--;for(;b--;){if(y===m||m!==null&&y===m.alternate)break t;y=Ii(y),m=Ii(m)}y=null}else y=null;p!==null&&ex(f,h,p,y,!1),g!==null&&v!==null&&ex(f,v,g,y,!0)}}e:{if(h=u?Ji(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=l$;else if(Hb(h))if(bO)w=f$;else{w=c$;var _=u$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=d$);if(w&&(w=w(e,u))){vO(f,w,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&ym(h,"number",h.value)}switch(_=u?Ji(u):window,e){case"focusin":(Hb(_)||_.contentEditable==="true")&&(Yi=_,Am=u,sl=null);break;case"focusout":sl=Am=Yi=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,Jb(f,r,d);break;case"selectionchange":if(m$)break;case"keydown":case"keyup":Jb(f,r,d)}var j;if(xv)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ki?gO(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(mO&&r.locale!=="ko"&&(Ki||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ki&&(j=pO()):(na=d,yv="value"in na?na.value:na.textContent,Ki=!0)),_=Yc(u,E),0<_.length&&(E=new qb(E,e,null,r,d),f.push({event:E,listeners:_}),j?E.data=j:(j=yO(r),j!==null&&(E.data=j)))),(j=n$?a$(e,r):i$(e,r))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(d=new qb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}AO(f,t)})}function Pl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yc(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=xl(e,r),i!=null&&n.unshift(Pl(e,i,a)),i=xl(e,t),i!=null&&n.push(Pl(e,i,a))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ex(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=xl(r,i),l!=null&&o.unshift(Pl(r,l,s))):a||(l=xl(r,i),l!=null&&o.push(Pl(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var b$=/\r\n?/g,x$=/\u0000|\uFFFD/g;function tx(e){return(typeof e=="string"?e:""+e).replace(b$,`
`).replace(x$,"")}function Ku(e,t,r){if(t=tx(t),tx(e)!==t&&r)throw Error(G(425))}function Xc(){}var Tm=null,Cm=null;function $m(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,w$=typeof clearTimeout=="function"?clearTimeout:void 0,rx=typeof Promise=="function"?Promise:void 0,_$=typeof queueMicrotask=="function"?queueMicrotask:typeof rx<"u"?function(e){return rx.resolve(null).then(e).catch(S$)}:Im;function S$(e){setTimeout(function(){throw e})}function mp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Sl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sl(t)}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var is=Math.random().toString(36).slice(2),Qr="__reactFiber$"+is,Nl="__reactProps$"+is,Pn="__reactContainer$"+is,Dm="__reactEvents$"+is,j$="__reactListeners$"+is,O$="__reactHandles$"+is;function ti(e){var t=e[Qr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pn]||r[Qr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nx(e);e!==null;){if(r=e[Qr])return r;e=nx(e)}return t}e=r,r=e.parentNode}return null}function Eu(e){return e=e[Qr]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Df(e){return e[Nl]||null}var Rm=[],Qi=-1;function Ea(e){return{current:e}}function Ve(e){0>Qi||(e.current=Rm[Qi],Rm[Qi]=null,Qi--)}function Le(e,t){Qi++,Rm[Qi]=e.current,e.current=t}var Sa={},Mt=Ea(Sa),Qt=Ea(!1),mi=Sa;function So(e,t){var r=e.type.contextTypes;if(!r)return Sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zt(e){return e=e.childContextTypes,e!=null}function Jc(){Ve(Qt),Ve(Mt)}function ax(e,t,r){if(Mt.current!==Sa)throw Error(G(168));Le(Mt,t),Le(Qt,r)}function TO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,u2(e)||"Unknown",a));return Qe({},r,n)}function Qc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,mi=Mt.current,Le(Mt,e),Le(Qt,Qt.current),!0}function ix(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=TO(e,t,mi),n.__reactInternalMemoizedMergedChildContext=e,Ve(Qt),Ve(Mt),Le(Mt,e)):Ve(Qt),Le(Qt,r)}var mn=null,Rf=!1,gp=!1;function CO(e){mn===null?mn=[e]:mn.push(e)}function E$(e){Rf=!0,CO(e)}function Pa(){if(!gp&&mn!==null){gp=!0;var e=0,t=Te;try{var r=mn;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mn=null,Rf=!1}catch(a){throw mn!==null&&(mn=mn.slice(e+1)),nO(hv,Pa),a}finally{Te=t,gp=!1}}return null}var Zi=[],eo=0,Zc=null,ed=0,vr=[],br=0,gi=null,yn=1,vn="";function za(e,t){Zi[eo++]=ed,Zi[eo++]=Zc,Zc=e,ed=t}function $O(e,t,r){vr[br++]=yn,vr[br++]=vn,vr[br++]=gi,gi=e;var n=yn;e=vn;var a=32-Br(n)-1;n&=~(1<<a),r+=1;var i=32-Br(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,yn=1<<32-Br(t)+a|r<<a|n,vn=i+e}else yn=1<<i|r<<a|n,vn=e}function _v(e){e.return!==null&&(za(e,1),$O(e,1,0))}function Sv(e){for(;e===Zc;)Zc=Zi[--eo],Zi[eo]=null,ed=Zi[--eo],Zi[eo]=null;for(;e===gi;)gi=vr[--br],vr[br]=null,vn=vr[--br],vr[br]=null,yn=vr[--br],vr[br]=null}var cr=null,ur=null,Ge=!1,Lr=null;function IO(e,t){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ox(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,ur=fa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gi!==null?{id:yn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,ur=null,!0):!1;default:return!1}}function Mm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lm(e){if(Ge){var t=ur;if(t){var r=t;if(!ox(e,t)){if(Mm(e))throw Error(G(418));t=fa(r.nextSibling);var n=cr;t&&ox(e,t)?IO(n,r):(e.flags=e.flags&-4097|2,Ge=!1,cr=e)}}else{if(Mm(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ge=!1,cr=e}}}function sx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Yu(e){if(e!==cr)return!1;if(!Ge)return sx(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$m(e.type,e.memoizedProps)),t&&(t=ur)){if(Mm(e))throw DO(),Error(G(418));for(;t;)IO(e,t),t=fa(t.nextSibling)}if(sx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ur=fa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ur=null}}else ur=cr?fa(e.stateNode.nextSibling):null;return!0}function DO(){for(var e=ur;e;)e=fa(e.nextSibling)}function jo(){ur=cr=null,Ge=!1}function jv(e){Lr===null?Lr=[e]:Lr.push(e)}var P$=Rn.ReactCurrentBatchConfig;function Cs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Xu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lx(e){var t=e._init;return t(e._payload)}function RO(e){function t(m,b){if(e){var x=m.deletions;x===null?(m.deletions=[b],m.flags|=16):x.push(b)}}function r(m,b){if(!e)return null;for(;b!==null;)t(m,b),b=b.sibling;return null}function n(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function a(m,b){return m=ga(m,b),m.index=0,m.sibling=null,m}function i(m,b,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<b?(m.flags|=2,b):x):(m.flags|=2,b)):(m.flags|=1048576,b)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,b,x,S){return b===null||b.tag!==6?(b=Sp(x,m.mode,S),b.return=m,b):(b=a(b,x),b.return=m,b)}function l(m,b,x,S){var w=x.type;return w===Gi?d(m,b,x.props.children,S,x.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Kn&&lx(w)===b.type)?(S=a(b,x.props),S.ref=Cs(m,b,x),S.return=m,S):(S=Dc(x.type,x.key,x.props,null,m.mode,S),S.ref=Cs(m,b,x),S.return=m,S)}function u(m,b,x,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=jp(x,m.mode,S),b.return=m,b):(b=a(b,x.children||[]),b.return=m,b)}function d(m,b,x,S,w){return b===null||b.tag!==7?(b=ci(x,m.mode,S,w),b.return=m,b):(b=a(b,x),b.return=m,b)}function f(m,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Sp(""+b,m.mode,x),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uu:return x=Dc(b.type,b.key,b.props,null,m.mode,x),x.ref=Cs(m,null,b),x.return=m,x;case Hi:return b=jp(b,m.mode,x),b.return=m,b;case Kn:var S=b._init;return f(m,S(b._payload),x)}if(Js(b)||Ps(b))return b=ci(b,m.mode,x,null),b.return=m,b;Xu(m,b)}return null}function h(m,b,x,S){var w=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(m,b,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uu:return x.key===w?l(m,b,x,S):null;case Hi:return x.key===w?u(m,b,x,S):null;case Kn:return w=x._init,h(m,b,w(x._payload),S)}if(Js(x)||Ps(x))return w!==null?null:d(m,b,x,S,null);Xu(m,x)}return null}function p(m,b,x,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(x)||null,s(b,m,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uu:return m=m.get(S.key===null?x:S.key)||null,l(b,m,S,w);case Hi:return m=m.get(S.key===null?x:S.key)||null,u(b,m,S,w);case Kn:var _=S._init;return p(m,b,x,_(S._payload),w)}if(Js(S)||Ps(S))return m=m.get(x)||null,d(b,m,S,w,null);Xu(b,S)}return null}function g(m,b,x,S){for(var w=null,_=null,j=b,E=b=0,k=null;j!==null&&E<x.length;E++){j.index>E?(k=j,j=null):k=j.sibling;var D=h(m,j,x[E],S);if(D===null){j===null&&(j=k);break}e&&j&&D.alternate===null&&t(m,j),b=i(D,b,E),_===null?w=D:_.sibling=D,_=D,j=k}if(E===x.length)return r(m,j),Ge&&za(m,E),w;if(j===null){for(;E<x.length;E++)j=f(m,x[E],S),j!==null&&(b=i(j,b,E),_===null?w=j:_.sibling=j,_=j);return Ge&&za(m,E),w}for(j=n(m,j);E<x.length;E++)k=p(j,m,E,x[E],S),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?E:k.key),b=i(k,b,E),_===null?w=k:_.sibling=k,_=k);return e&&j.forEach(function(P){return t(m,P)}),Ge&&za(m,E),w}function y(m,b,x,S){var w=Ps(x);if(typeof w!="function")throw Error(G(150));if(x=w.call(x),x==null)throw Error(G(151));for(var _=w=null,j=b,E=b=0,k=null,D=x.next();j!==null&&!D.done;E++,D=x.next()){j.index>E?(k=j,j=null):k=j.sibling;var P=h(m,j,D.value,S);if(P===null){j===null&&(j=k);break}e&&j&&P.alternate===null&&t(m,j),b=i(P,b,E),_===null?w=P:_.sibling=P,_=P,j=k}if(D.done)return r(m,j),Ge&&za(m,E),w;if(j===null){for(;!D.done;E++,D=x.next())D=f(m,D.value,S),D!==null&&(b=i(D,b,E),_===null?w=D:_.sibling=D,_=D);return Ge&&za(m,E),w}for(j=n(m,j);!D.done;E++,D=x.next())D=p(j,m,E,D.value,S),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?E:D.key),b=i(D,b,E),_===null?w=D:_.sibling=D,_=D);return e&&j.forEach(function(T){return t(m,T)}),Ge&&za(m,E),w}function v(m,b,x,S){if(typeof x=="object"&&x!==null&&x.type===Gi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Uu:e:{for(var w=x.key,_=b;_!==null;){if(_.key===w){if(w=x.type,w===Gi){if(_.tag===7){r(m,_.sibling),b=a(_,x.props.children),b.return=m,m=b;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Kn&&lx(w)===_.type){r(m,_.sibling),b=a(_,x.props),b.ref=Cs(m,_,x),b.return=m,m=b;break e}r(m,_);break}else t(m,_);_=_.sibling}x.type===Gi?(b=ci(x.props.children,m.mode,S,x.key),b.return=m,m=b):(S=Dc(x.type,x.key,x.props,null,m.mode,S),S.ref=Cs(m,b,x),S.return=m,m=S)}return o(m);case Hi:e:{for(_=x.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(m,b.sibling),b=a(b,x.children||[]),b.return=m,m=b;break e}else{r(m,b);break}else t(m,b);b=b.sibling}b=jp(x,m.mode,S),b.return=m,m=b}return o(m);case Kn:return _=x._init,v(m,b,_(x._payload),S)}if(Js(x))return g(m,b,x,S);if(Ps(x))return y(m,b,x,S);Xu(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(m,b.sibling),b=a(b,x),b.return=m,m=b):(r(m,b),b=Sp(x,m.mode,S),b.return=m,m=b),o(m)):r(m,b)}return v}var Oo=RO(!0),MO=RO(!1),td=Ea(null),rd=null,to=null,Ov=null;function Ev(){Ov=to=rd=null}function Pv(e){var t=td.current;Ve(td),e._currentValue=t}function Um(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function po(e,t){rd=e,Ov=to=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function Or(e){var t=e._currentValue;if(Ov!==e)if(e={context:e,memoizedValue:t,next:null},to===null){if(rd===null)throw Error(G(308));to=e,rd.dependencies={lanes:0,firstContext:e}}else to=to.next=e;return t}var ri=null;function Nv(e){ri===null?ri=[e]:ri.push(e)}function LO(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Nv(t)):(r.next=a.next,a.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function Av(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Nn(e,r)}return a=n.interleaved,a===null?(t.next=t,Nv(n)):(t.next=a.next,a.next=t),n.interleaved=t,Nn(e,r)}function Ac(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pv(e,r)}}function ux(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nd(e,t,r,n){var a=e.updateQueue;Yn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(h=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Qe({},f,h);break e;case 2:Yn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);vi|=o,e.lanes=o,e.memoizedState=f}}function cx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var Pu={},tn=Ea(Pu),Al=Ea(Pu),kl=Ea(Pu);function ni(e){if(e===Pu)throw Error(G(174));return e}function kv(e,t){switch(Le(kl,t),Le(Al,e),Le(tn,Pu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}Ve(tn),Le(tn,t)}function Eo(){Ve(tn),Ve(Al),Ve(kl)}function BO(e){ni(kl.current);var t=ni(tn.current),r=bm(t,e.type);t!==r&&(Le(Al,e),Le(tn,r))}function Tv(e){Al.current===e&&(Ve(tn),Ve(Al))}var Xe=Ea(0);function ad(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yp=[];function Cv(){for(var e=0;e<yp.length;e++)yp[e]._workInProgressVersionPrimary=null;yp.length=0}var kc=Rn.ReactCurrentDispatcher,vp=Rn.ReactCurrentBatchConfig,yi=0,Je=null,ht=null,vt=null,id=!1,ll=!1,Tl=0,N$=0;function At(){throw Error(G(321))}function $v(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zr(e[r],t[r]))return!1;return!0}function Iv(e,t,r,n,a,i){if(yi=i,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kc.current=e===null||e.memoizedState===null?C$:$$,e=r(n,a),ll){i=0;do{if(ll=!1,Tl=0,25<=i)throw Error(G(301));i+=1,vt=ht=null,t.updateQueue=null,kc.current=I$,e=r(n,a)}while(ll)}if(kc.current=od,t=ht!==null&&ht.next!==null,yi=0,vt=ht=Je=null,id=!1,t)throw Error(G(300));return e}function Dv(){var e=Tl!==0;return Tl=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Je.memoizedState=vt=e:vt=vt.next=e,vt}function Er(){if(ht===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=vt===null?Je.memoizedState:vt.next;if(t!==null)vt=t,ht=e;else{if(e===null)throw Error(G(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Je.memoizedState=vt=e:vt=vt.next=e}return vt}function Cl(e,t){return typeof t=="function"?t(e):t}function bp(e){var t=Er(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=ht,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((yi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Je.lanes|=d,vi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=s,zr(n,t.memoizedState)||(Xt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Je.lanes|=i,vi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xp(e){var t=Er(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);zr(i,t.memoizedState)||(Xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function FO(){}function qO(e,t){var r=Je,n=Er(),a=t(),i=!zr(n.memoizedState,a);if(i&&(n.memoizedState=a,Xt=!0),n=n.queue,Rv(VO.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,$l(9,WO.bind(null,r,n,a,t),void 0,null),xt===null)throw Error(G(349));yi&30||zO(r,t,a)}return a}function zO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function WO(e,t,r,n){t.value=r,t.getSnapshot=n,HO(t)&&GO(e)}function VO(e,t,r){return r(function(){HO(t)&&GO(e)})}function HO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zr(e,r)}catch{return!0}}function GO(e){var t=Nn(e,1);t!==null&&Fr(t,e,1,-1)}function dx(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:e},t.queue=e,e=e.dispatch=T$.bind(null,Je,e),[t.memoizedState,e]}function $l(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function KO(){return Er().memoizedState}function Tc(e,t,r,n){var a=Kr();Je.flags|=e,a.memoizedState=$l(1|t,r,void 0,n===void 0?null:n)}function Mf(e,t,r,n){var a=Er();n=n===void 0?null:n;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,n!==null&&$v(n,o.deps)){a.memoizedState=$l(t,r,i,n);return}}Je.flags|=e,a.memoizedState=$l(1|t,r,i,n)}function fx(e,t){return Tc(8390656,8,e,t)}function Rv(e,t){return Mf(2048,8,e,t)}function YO(e,t){return Mf(4,2,e,t)}function XO(e,t){return Mf(4,4,e,t)}function JO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QO(e,t,r){return r=r!=null?r.concat([e]):null,Mf(4,4,JO.bind(null,t,e),r)}function Mv(){}function ZO(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$v(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eE(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$v(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tE(e,t,r){return yi&21?(zr(r,t)||(r=oO(),Je.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=r)}function A$(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=vp.transition;vp.transition={};try{e(!1),t()}finally{Te=r,vp.transition=n}}function rE(){return Er().memoizedState}function k$(e,t,r){var n=ma(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nE(e))aE(t,r);else if(r=LO(e,t,r,n),r!==null){var a=zt();Fr(r,e,n,a),iE(r,t,n)}}function T$(e,t,r){var n=ma(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nE(e))aE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,zr(s,o)){var l=t.interleaved;l===null?(a.next=a,Nv(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=LO(e,t,a,n),r!==null&&(a=zt(),Fr(r,e,n,a),iE(r,t,n))}}function nE(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function aE(e,t){ll=id=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function iE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pv(e,r)}}var od={readContext:Or,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},C$={readContext:Or,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:Or,useEffect:fx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Tc(4194308,4,JO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tc(4,2,e,t)},useMemo:function(e,t){var r=Kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=k$.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:dx,useDebugValue:Mv,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=dx(!1),t=e[0];return e=A$.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Je,a=Kr();if(Ge){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),xt===null)throw Error(G(349));yi&30||zO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,fx(VO.bind(null,n,i,e),[e]),n.flags|=2048,$l(9,WO.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Kr(),t=xt.identifierPrefix;if(Ge){var r=vn,n=yn;r=(n&~(1<<32-Br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Tl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=N$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$$={readContext:Or,useCallback:ZO,useContext:Or,useEffect:Rv,useImperativeHandle:QO,useInsertionEffect:YO,useLayoutEffect:XO,useMemo:eE,useReducer:bp,useRef:KO,useState:function(){return bp(Cl)},useDebugValue:Mv,useDeferredValue:function(e){var t=Er();return tE(t,ht.memoizedState,e)},useTransition:function(){var e=bp(Cl)[0],t=Er().memoizedState;return[e,t]},useMutableSource:FO,useSyncExternalStore:qO,useId:rE,unstable_isNewReconciler:!1},I$={readContext:Or,useCallback:ZO,useContext:Or,useEffect:Rv,useImperativeHandle:QO,useInsertionEffect:YO,useLayoutEffect:XO,useMemo:eE,useReducer:xp,useRef:KO,useState:function(){return xp(Cl)},useDebugValue:Mv,useDeferredValue:function(e){var t=Er();return ht===null?t.memoizedState=e:tE(t,ht.memoizedState,e)},useTransition:function(){var e=xp(Cl)[0],t=Er().memoizedState;return[e,t]},useMutableSource:FO,useSyncExternalStore:qO,useId:rE,unstable_isNewReconciler:!1};function $r(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lf={isMounted:function(e){return(e=e._reactInternals)?Pi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),a=ma(e),i=_n(n,a);i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(Fr(t,e,a,n),Ac(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),a=ma(e),i=_n(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(Fr(t,e,a,n),Ac(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=ma(e),a=_n(r,n);a.tag=2,t!=null&&(a.callback=t),t=ha(e,a,n),t!==null&&(Fr(t,e,n,r),Ac(t,e,n))}};function hx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ol(r,n)||!Ol(a,i):!0}function oE(e,t,r){var n=!1,a=Sa,i=t.contextType;return typeof i=="object"&&i!==null?i=Or(i):(a=Zt(t)?mi:Mt.current,n=t.contextTypes,i=(n=n!=null)?So(e,a):Sa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function px(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lf.enqueueReplaceState(t,t.state,null)}function Fm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Av(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Or(i):(i=Zt(t)?mi:Mt.current,a.context=So(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Lf.enqueueReplaceState(a,a.state,null),nd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var r="",n=t;do r+=l2(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function wp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var D$=typeof WeakMap=="function"?WeakMap:Map;function sE(e,t,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ld||(ld=!0,Qm=n),qm(e,t)},r}function lE(e,t,r){r=_n(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){qm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qm(e,t),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function mx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new D$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Y$.bind(null,e,t,r),t.then(e,e))}function gx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_n(-1,1),t.tag=2,ha(r,t,1))),r.lanes|=1),e)}var R$=Rn.ReactCurrentOwner,Xt=!1;function Ut(e,t,r,n){t.child=e===null?MO(t,null,r,n):Oo(t,e.child,r,n)}function vx(e,t,r,n,a){r=r.render;var i=t.ref;return po(t,a),n=Iv(e,t,r,n,i,a),r=Dv(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,An(e,t,a)):(Ge&&r&&_v(t),t.flags|=1,Ut(e,t,n,a),t.child)}function bx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Vv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,uE(e,t,i,n,a)):(e=Dc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ol,r(o,n)&&e.ref===t.ref)return An(e,t,a)}return t.flags|=1,e=ga(i,n),e.ref=t.ref,e.return=t,t.child=e}function uE(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ol(i,n)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,An(e,t,a)}return zm(e,t,r,n,a)}function cE(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(no,ir),ir|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(no,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Le(no,ir),ir|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Le(no,ir),ir|=n;return Ut(e,t,a,r),t.child}function dE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zm(e,t,r,n,a){var i=Zt(r)?mi:Mt.current;return i=So(t,i),po(t,a),r=Iv(e,t,r,n,i,a),n=Dv(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,An(e,t,a)):(Ge&&n&&_v(t),t.flags|=1,Ut(e,t,r,a),t.child)}function xx(e,t,r,n,a){if(Zt(r)){var i=!0;Qc(t)}else i=!1;if(po(t,a),t.stateNode===null)Cc(e,t),oE(t,r,n),Fm(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=Zt(r)?mi:Mt.current,u=So(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&px(t,o,n,u),Yn=!1;var h=t.memoizedState;o.state=h,nd(t,n,o,a),l=t.memoizedState,s!==n||h!==l||Qt.current||Yn?(typeof d=="function"&&(Bm(t,r,d,n),l=t.memoizedState),(s=Yn||hx(t,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,UO(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:$r(t.type,s),o.props=u,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Or(l):(l=Zt(r)?mi:Mt.current,l=So(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&px(t,o,n,l),Yn=!1,h=t.memoizedState,o.state=h,nd(t,n,o,a);var g=t.memoizedState;s!==f||h!==g||Qt.current||Yn?(typeof p=="function"&&(Bm(t,r,p,n),g=t.memoizedState),(u=Yn||hx(t,r,u,n,h,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Wm(e,t,r,n,i,a)}function Wm(e,t,r,n,a,i){dE(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&ix(t,r,!1),An(e,t,i);n=t.stateNode,R$.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Oo(t,e.child,null,i),t.child=Oo(t,null,s,i)):Ut(e,t,s,i),t.memoizedState=n.state,a&&ix(t,r,!0),t.child}function fE(e){var t=e.stateNode;t.pendingContext?ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ax(e,t.context,!1),kv(e,t.containerInfo)}function wx(e,t,r,n,a){return jo(),jv(a),t.flags|=256,Ut(e,t,r,n),t.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function hE(e,t,r){var n=t.pendingProps,a=Xe.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Le(Xe,a&1),e===null)return Lm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ff(o,n,0,null),e=ci(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hm(r),t.memoizedState=Vm,e):Lv(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return M$(e,t,o,n,s,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ga(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=ga(s,i):(i=ci(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Hm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Vm,n}return i=e.child,e=i.sibling,n=ga(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Lv(e,t){return t=Ff({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ju(e,t,r,n){return n!==null&&jv(n),Oo(t,e.child,null,r),e=Lv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M$(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=wp(Error(G(422))),Ju(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Ff({mode:"visible",children:n.children},a,0,null),i=ci(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Oo(t,e.child,null,o),t.child.memoizedState=Hm(o),t.memoizedState=Vm,i);if(!(t.mode&1))return Ju(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(G(419)),n=wp(i,n,void 0),Ju(e,t,o,n)}if(s=(o&e.childLanes)!==0,Xt||s){if(n=xt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Nn(e,a),Fr(n,e,a,-1))}return Wv(),n=wp(Error(G(421))),Ju(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=X$.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ur=fa(a.nextSibling),cr=t,Ge=!0,Lr=null,e!==null&&(vr[br++]=yn,vr[br++]=vn,vr[br++]=gi,yn=e.id,vn=e.overflow,gi=t),t=Lv(t,n.children),t.flags|=4096,t)}function _x(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Um(e.return,t,r)}function _p(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function pE(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ut(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_x(e,r,t);else if(e.tag===19)_x(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ad(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),_p(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ad(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}_p(t,!0,r,null,i);break;case"together":_p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ga(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ga(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function L$(e,t,r){switch(t.tag){case 3:fE(t),jo();break;case 5:BO(t);break;case 1:Zt(t.type)&&Qc(t);break;case 4:kv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Le(td,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?hE(e,t,r):(Le(Xe,Xe.current&1),e=An(e,t,r),e!==null?e.sibling:null);Le(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pE(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Le(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,cE(e,t,r)}return An(e,t,r)}var mE,Gm,gE,yE;mE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gm=function(){};gE=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ni(tn.current);var i=null;switch(r){case"input":a=mm(e,a),n=mm(e,n),i=[];break;case"select":a=Qe({},a,{value:void 0}),n=Qe({},n,{value:void 0}),i=[];break;case"textarea":a=vm(e,a),n=vm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xc)}xm(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};yE=function(e,t,r,n){r!==n&&(t.flags|=4)};function $s(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function U$(e,t,r){var n=t.pendingProps;switch(Sv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Zt(t.type)&&Jc(),kt(t),null;case 3:return n=t.stateNode,Eo(),Ve(Qt),Ve(Mt),Cv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lr!==null&&(tg(Lr),Lr=null))),Gm(e,t),kt(t),null;case 5:Tv(t);var a=ni(kl.current);if(r=t.type,e!==null&&t.stateNode!=null)gE(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return kt(t),null}if(e=ni(tn.current),Yu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Qr]=t,n[Nl]=i,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(a=0;a<Zs.length;a++)qe(Zs[a],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":Tb(n,i),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qe("invalid",n);break;case"textarea":$b(n,i),qe("invalid",n)}xm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&Ku(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Ku(n.textContent,s,e),a=["children",""+s]):vl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qe("scroll",n)}switch(r){case"input":Bu(n),Cb(n,i,!0);break;case"textarea":Bu(n),Ib(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xc)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qr]=t,e[Nl]=n,mE(e,t,!1,!1),t.stateNode=e;e:{switch(o=wm(r,n),r){case"dialog":qe("cancel",e),qe("close",e),a=n;break;case"iframe":case"object":case"embed":qe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Zs.length;a++)qe(Zs[a],e);a=n;break;case"source":qe("error",e),a=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),a=n;break;case"details":qe("toggle",e),a=n;break;case"input":Tb(e,n),a=mm(e,n),qe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Qe({},n,{value:void 0}),qe("invalid",e);break;case"textarea":$b(e,n),a=vm(e,n),qe("invalid",e);break;default:a=n}xm(r,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?Kj(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hj(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&bl(e,l):typeof l=="number"&&bl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",e):l!=null&&lv(e,i,l,o))}switch(r){case"input":Bu(e),Cb(e,n,!1);break;case"textarea":Bu(e),Ib(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_a(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?uo(e,!!n.multiple,i,!1):n.defaultValue!=null&&uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)yE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=ni(kl.current),ni(tn.current),Yu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qr]=t,(i=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:Ku(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ku(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qr]=t,t.stateNode=n}return kt(t),null;case 13:if(Ve(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&ur!==null&&t.mode&1&&!(t.flags&128))DO(),jo(),t.flags|=98560,i=!1;else if(i=Yu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Qr]=t}else jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),i=!1}else Lr!==null&&(tg(Lr),Lr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?pt===0&&(pt=3):Wv())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return Eo(),Gm(e,t),e===null&&El(t.stateNode.containerInfo),kt(t),null;case 10:return Pv(t.type._context),kt(t),null;case 17:return Zt(t.type)&&Jc(),kt(t),null;case 19:if(Ve(Xe),i=t.memoizedState,i===null)return kt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)$s(i,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ad(e),o!==null){for(t.flags|=128,$s(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&nt()>No&&(t.flags|=128,n=!0,$s(i,!1),t.lanes=4194304)}else{if(!n)if(e=ad(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$s(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return kt(t),null}else 2*nt()-i.renderingStartTime>No&&r!==1073741824&&(t.flags|=128,n=!0,$s(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nt(),t.sibling=null,r=Xe.current,Le(Xe,n?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return zv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ir&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function B$(e,t){switch(Sv(t),t.tag){case 1:return Zt(t.type)&&Jc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Eo(),Ve(Qt),Ve(Mt),Cv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tv(t),null;case 13:if(Ve(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Xe),null;case 4:return Eo(),null;case 10:return Pv(t.type._context),null;case 22:case 23:return zv(),null;case 24:return null;default:return null}}var Qu=!1,Ct=!1,F$=typeof WeakSet=="function"?WeakSet:Set,X=null;function ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tt(e,t,n)}else r.current=null}function Km(e,t,r){try{r()}catch(n){tt(e,t,n)}}var Sx=!1;function q$(e,t){if(Tm=Gc,e=_O(),wv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=o),h===i&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cm={focusedElem:e,selectionRange:r},Gc=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:$r(t.type,y),v);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){tt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return g=Sx,Sx=!1,g}function ul(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Km(t,r,i)}a=a.next}while(a!==n)}}function Uf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ym(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vE(e){var t=e.alternate;t!==null&&(e.alternate=null,vE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qr],delete t[Nl],delete t[Dm],delete t[j$],delete t[O$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bE(e){return e.tag===5||e.tag===3||e.tag===4}function jx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xc));else if(n!==4&&(e=e.child,e!==null))for(Xm(e,t,r),e=e.sibling;e!==null;)Xm(e,t,r),e=e.sibling}function Jm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jm(e,t,r),e=e.sibling;e!==null;)Jm(e,t,r),e=e.sibling}var Ot=null,Dr=!1;function zn(e,t,r){for(r=r.child;r!==null;)xE(e,t,r),r=r.sibling}function xE(e,t,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Tf,r)}catch{}switch(r.tag){case 5:Ct||ro(r,t);case 6:var n=Ot,a=Dr;Ot=null,zn(e,t,r),Ot=n,Dr=a,Ot!==null&&(Dr?(e=Ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(Dr?(e=Ot,r=r.stateNode,e.nodeType===8?mp(e.parentNode,r):e.nodeType===1&&mp(e,r),Sl(e)):mp(Ot,r.stateNode));break;case 4:n=Ot,a=Dr,Ot=r.stateNode.containerInfo,Dr=!0,zn(e,t,r),Ot=n,Dr=a;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Km(r,t,o),a=a.next}while(a!==n)}zn(e,t,r);break;case 1:if(!Ct&&(ro(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){tt(r,t,s)}zn(e,t,r);break;case 21:zn(e,t,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,zn(e,t,r),Ct=n):zn(e,t,r);break;default:zn(e,t,r)}}function Ox(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new F$),t.forEach(function(n){var a=J$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function kr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ot=s.stateNode,Dr=!1;break e;case 3:Ot=s.stateNode.containerInfo,Dr=!0;break e;case 4:Ot=s.stateNode.containerInfo,Dr=!0;break e}s=s.return}if(Ot===null)throw Error(G(160));xE(i,o,a),Ot=null,Dr=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){tt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wE(t,e),t=t.sibling}function wE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kr(t,e),Hr(e),n&4){try{ul(3,e,e.return),Uf(3,e)}catch(y){tt(e,e.return,y)}try{ul(5,e,e.return)}catch(y){tt(e,e.return,y)}}break;case 1:kr(t,e),Hr(e),n&512&&r!==null&&ro(r,r.return);break;case 5:if(kr(t,e),Hr(e),n&512&&r!==null&&ro(r,r.return),e.flags&32){var a=e.stateNode;try{bl(a,"")}catch(y){tt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&zj(a,i),wm(s,o);var u=wm(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Kj(a,f):d==="dangerouslySetInnerHTML"?Hj(a,f):d==="children"?bl(a,f):lv(a,d,f,u)}switch(s){case"input":gm(a,i);break;case"textarea":Wj(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?uo(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?uo(a,!!i.multiple,i.defaultValue,!0):uo(a,!!i.multiple,i.multiple?[]:"",!1))}a[Nl]=i}catch(y){tt(e,e.return,y)}}break;case 6:if(kr(t,e),Hr(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){tt(e,e.return,y)}}break;case 3:if(kr(t,e),Hr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(y){tt(e,e.return,y)}break;case 4:kr(t,e),Hr(e);break;case 13:kr(t,e),Hr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Fv=nt())),n&4&&Ox(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||d,kr(t,e),Ct=u):kr(t,e),Hr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:ul(4,h,h.return);break;case 1:ro(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){tt(n,r,y)}}break;case 5:ro(h,h.return);break;case 22:if(h.memoizedState!==null){Px(f);continue}}p!==null?(p.return=h,X=p):Px(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Gj("display",o))}catch(y){tt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){tt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kr(t,e),Hr(e),n&4&&Ox(e);break;case 21:break;default:kr(t,e),Hr(e)}}function Hr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bE(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(bl(a,""),n.flags&=-33);var i=jx(e);Jm(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,s=jx(e);Xm(e,s,o);break;default:throw Error(G(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z$(e,t,r){X=e,_E(e)}function _E(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var a=X,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Qu;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Ct;s=Qu;var u=Ct;if(Qu=o,(Ct=l)&&!u)for(X=a;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Nx(a):l!==null?(l.return=o,X=l):Nx(a);for(;i!==null;)X=i,_E(i),i=i.sibling;X=a,Qu=s,Ct=u}Ex(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,X=i):Ex(e)}}function Ex(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Uf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:$r(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cx(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ct||t.flags&512&&Ym(t)}catch(h){tt(t,t.return,h)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function Px(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function Nx(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uf(4,t)}catch(l){tt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){tt(t,a,l)}}var i=t.return;try{Ym(t)}catch(l){tt(t,i,l)}break;case 5:var o=t.return;try{Ym(t)}catch(l){tt(t,o,l)}}}catch(l){tt(t,t.return,l)}if(t===e){X=null;break}var s=t.sibling;if(s!==null){s.return=t.return,X=s;break}X=t.return}}var W$=Math.ceil,sd=Rn.ReactCurrentDispatcher,Uv=Rn.ReactCurrentOwner,Sr=Rn.ReactCurrentBatchConfig,_e=0,xt=null,ut=null,Pt=0,ir=0,no=Ea(0),pt=0,Il=null,vi=0,Bf=0,Bv=0,cl=null,Gt=null,Fv=0,No=1/0,hn=null,ld=!1,Qm=null,pa=null,Zu=!1,aa=null,ud=0,dl=0,Zm=null,$c=-1,Ic=0;function zt(){return _e&6?nt():$c!==-1?$c:$c=nt()}function ma(e){return e.mode&1?_e&2&&Pt!==0?Pt&-Pt:P$.transition!==null?(Ic===0&&(Ic=oO()),Ic):(e=Te,e!==0||(e=window.event,e=e===void 0?16:hO(e.type)),e):1}function Fr(e,t,r,n){if(50<dl)throw dl=0,Zm=null,Error(G(185));ju(e,r,n),(!(_e&2)||e!==xt)&&(e===xt&&(!(_e&2)&&(Bf|=r),pt===4&&Zn(e,Pt)),er(e,n),r===1&&_e===0&&!(t.mode&1)&&(No=nt()+500,Rf&&Pa()))}function er(e,t){var r=e.callbackNode;P2(e,t);var n=Hc(e,e===xt?Pt:0);if(n===0)r!==null&&Mb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mb(r),t===1)e.tag===0?E$(Ax.bind(null,e)):CO(Ax.bind(null,e)),_$(function(){!(_e&6)&&Pa()}),r=null;else{switch(sO(n)){case 1:r=hv;break;case 4:r=aO;break;case 16:r=Vc;break;case 536870912:r=iO;break;default:r=Vc}r=kE(r,SE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SE(e,t){if($c=-1,Ic=0,_e&6)throw Error(G(327));var r=e.callbackNode;if(mo()&&e.callbackNode!==r)return null;var n=Hc(e,e===xt?Pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cd(e,n);else{t=n;var a=_e;_e|=2;var i=OE();(xt!==e||Pt!==t)&&(hn=null,No=nt()+500,ui(e,t));do try{G$();break}catch(s){jE(e,s)}while(!0);Ev(),sd.current=i,_e=a,ut!==null?t=0:(xt=null,Pt=0,t=pt)}if(t!==0){if(t===2&&(a=Em(e),a!==0&&(n=a,t=eg(e,a))),t===1)throw r=Il,ui(e,0),Zn(e,n),er(e,nt()),r;if(t===6)Zn(e,n);else{if(a=e.current.alternate,!(n&30)&&!V$(a)&&(t=cd(e,n),t===2&&(i=Em(e),i!==0&&(n=i,t=eg(e,i))),t===1))throw r=Il,ui(e,0),Zn(e,n),er(e,nt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Wa(e,Gt,hn);break;case 3:if(Zn(e,n),(n&130023424)===n&&(t=Fv+500-nt(),10<t)){if(Hc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){zt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Im(Wa.bind(null,e,Gt,hn),t);break}Wa(e,Gt,hn);break;case 4:if(Zn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Br(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W$(n/1960))-n,10<n){e.timeoutHandle=Im(Wa.bind(null,e,Gt,hn),n);break}Wa(e,Gt,hn);break;case 5:Wa(e,Gt,hn);break;default:throw Error(G(329))}}}return er(e,nt()),e.callbackNode===r?SE.bind(null,e):null}function eg(e,t){var r=cl;return e.current.memoizedState.isDehydrated&&(ui(e,t).flags|=256),e=cd(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&tg(t)),e}function tg(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function V$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!zr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~Bv,t&=~Bf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),n=1<<r;e[r]=-1,t&=~n}}function Ax(e){if(_e&6)throw Error(G(327));mo();var t=Hc(e,0);if(!(t&1))return er(e,nt()),null;var r=cd(e,t);if(e.tag!==0&&r===2){var n=Em(e);n!==0&&(t=n,r=eg(e,n))}if(r===1)throw r=Il,ui(e,0),Zn(e,t),er(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wa(e,Gt,hn),er(e,nt()),null}function qv(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(No=nt()+500,Rf&&Pa())}}function bi(e){aa!==null&&aa.tag===0&&!(_e&6)&&mo();var t=_e;_e|=1;var r=Sr.transition,n=Te;try{if(Sr.transition=null,Te=1,e)return e()}finally{Te=n,Sr.transition=r,_e=t,!(_e&6)&&Pa()}}function zv(){ir=no.current,Ve(no)}function ui(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,w$(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(Sv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jc();break;case 3:Eo(),Ve(Qt),Ve(Mt),Cv();break;case 5:Tv(n);break;case 4:Eo();break;case 13:Ve(Xe);break;case 19:Ve(Xe);break;case 10:Pv(n.type._context);break;case 22:case 23:zv()}r=r.return}if(xt=e,ut=e=ga(e.current,null),Pt=ir=t,pt=0,Il=null,Bv=Bf=vi=0,Gt=cl=null,ri!==null){for(t=0;t<ri.length;t++)if(r=ri[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ri=null}return e}function jE(e,t){do{var r=ut;try{if(Ev(),kc.current=od,id){for(var n=Je.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}id=!1}if(yi=0,vt=ht=Je=null,ll=!1,Tl=0,Uv.current=null,r===null||r.return===null){pt=1,Il=t,ut=null;break}e:{var i=e,o=r.return,s=r,l=t;if(t=Pt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gx(o);if(p!==null){p.flags&=-257,yx(p,o,s,i,t),p.mode&1&&mx(i,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){mx(i,u,t),Wv();break e}l=Error(G(426))}}else if(Ge&&s.mode&1){var v=gx(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),yx(v,o,s,i,t),jv(Po(l,s));break e}}i=l=Po(l,s),pt!==4&&(pt=2),cl===null?cl=[i]:cl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=sE(i,l,t);ux(i,m);break e;case 1:s=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pa===null||!pa.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=lE(i,s,t);ux(i,S);break e}}i=i.return}while(i!==null)}PE(r)}catch(w){t=w,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function OE(){var e=sd.current;return sd.current=od,e===null?od:e}function Wv(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||!(vi&268435455)&&!(Bf&268435455)||Zn(xt,Pt)}function cd(e,t){var r=_e;_e|=2;var n=OE();(xt!==e||Pt!==t)&&(hn=null,ui(e,t));do try{H$();break}catch(a){jE(e,a)}while(!0);if(Ev(),_e=r,sd.current=n,ut!==null)throw Error(G(261));return xt=null,Pt=0,pt}function H$(){for(;ut!==null;)EE(ut)}function G$(){for(;ut!==null&&!v2();)EE(ut)}function EE(e){var t=AE(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?PE(e):ut=t,Uv.current=null}function PE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B$(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ut=null;return}}else if(r=U$(r,t,ir),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);pt===0&&(pt=5)}function Wa(e,t,r){var n=Te,a=Sr.transition;try{Sr.transition=null,Te=1,K$(e,t,r,n)}finally{Sr.transition=a,Te=n}return null}function K$(e,t,r,n){do mo();while(aa!==null);if(_e&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(N2(e,i),e===xt&&(ut=xt=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zu||(Zu=!0,kE(Vc,function(){return mo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var o=Te;Te=1;var s=_e;_e|=4,Uv.current=null,q$(e,r),wE(r,e),p$(Cm),Gc=!!Tm,Cm=Tm=null,e.current=r,z$(r),b2(),_e=s,Te=o,Sr.transition=i}else e.current=r;if(Zu&&(Zu=!1,aa=e,ud=a),i=e.pendingLanes,i===0&&(pa=null),_2(r.stateNode),er(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ld)throw ld=!1,e=Qm,Qm=null,e;return ud&1&&e.tag!==0&&mo(),i=e.pendingLanes,i&1?e===Zm?dl++:(dl=0,Zm=e):dl=0,Pa(),null}function mo(){if(aa!==null){var e=sO(ud),t=Sr.transition,r=Te;try{if(Sr.transition=null,Te=16>e?16:e,aa===null)var n=!1;else{if(e=aa,aa=null,ud=0,_e&6)throw Error(G(331));var a=_e;for(_e|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ul(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,p=d.return;if(vE(d),d===u){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ul(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,X=m;break e}X=i.return}}var b=e.current;for(X=b;X!==null;){o=X;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,X=x;else e:for(o=b;X!==null;){if(s=X,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uf(9,s)}}catch(w){tt(s,s.return,w)}if(s===o){X=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,X=S;break e}X=s.return}}if(_e=a,Pa(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Tf,e)}catch{}n=!0}return n}finally{Te=r,Sr.transition=t}}return!1}function kx(e,t,r){t=Po(r,t),t=sE(e,t,1),e=ha(e,t,1),t=zt(),e!==null&&(ju(e,1,t),er(e,t))}function tt(e,t,r){if(e.tag===3)kx(e,e,r);else for(;t!==null;){if(t.tag===3){kx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){e=Po(r,e),e=lE(t,e,1),t=ha(t,e,1),e=zt(),t!==null&&(ju(t,1,e),er(t,e));break}}t=t.return}}function Y$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,xt===e&&(Pt&r)===r&&(pt===4||pt===3&&(Pt&130023424)===Pt&&500>nt()-Fv?ui(e,0):Bv|=r),er(e,t)}function NE(e,t){t===0&&(e.mode&1?(t=zu,zu<<=1,!(zu&130023424)&&(zu=4194304)):t=1);var r=zt();e=Nn(e,t),e!==null&&(ju(e,t,r),er(e,r))}function X$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),NE(e,r)}function J$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),NE(e,r)}var AE;AE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qt.current)Xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xt=!1,L$(e,t,r);Xt=!!(e.flags&131072)}else Xt=!1,Ge&&t.flags&1048576&&$O(t,ed,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cc(e,t),e=t.pendingProps;var a=So(t,Mt.current);po(t,r),a=Iv(null,t,n,e,a,r);var i=Dv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(n)?(i=!0,Qc(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Av(t),a.updater=Lf,t.stateNode=a,a._reactInternals=t,Fm(t,n,e,r),t=Wm(null,t,n,!0,i,r)):(t.tag=0,Ge&&i&&_v(t),Ut(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Z$(n),e=$r(n,e),a){case 0:t=zm(null,t,n,e,r);break e;case 1:t=xx(null,t,n,e,r);break e;case 11:t=vx(null,t,n,e,r);break e;case 14:t=bx(null,t,n,$r(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),zm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),xx(e,t,n,a,r);case 3:e:{if(fE(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,UO(e,t),nd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Po(Error(G(423)),t),t=wx(e,t,n,r,a);break e}else if(n!==a){a=Po(Error(G(424)),t),t=wx(e,t,n,r,a);break e}else for(ur=fa(t.stateNode.containerInfo.firstChild),cr=t,Ge=!0,Lr=null,r=MO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jo(),n===a){t=An(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return BO(t),e===null&&Lm(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,$m(n,a)?o=null:i!==null&&$m(n,i)&&(t.flags|=32),dE(e,t),Ut(e,t,o,r),t.child;case 6:return e===null&&Lm(t),null;case 13:return hE(e,t,r);case 4:return kv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),vx(e,t,n,a,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Le(td,n._currentValue),n._currentValue=o,i!==null)if(zr(i.value,o)){if(i.children===a.children&&!Qt.current){t=An(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=_n(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Um(i.return,r,t),s.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Um(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,po(t,r),a=Or(a),n=n(a),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,a=$r(n,t.pendingProps),a=$r(n.type,a),bx(e,t,n,a,r);case 15:return uE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),Cc(e,t),t.tag=1,Zt(n)?(e=!0,Qc(t)):e=!1,po(t,r),oE(t,n,a),Fm(t,n,a,r),Wm(null,t,n,!0,e,r);case 19:return pE(e,t,r);case 22:return cE(e,t,r)}throw Error(G(156,t.tag))};function kE(e,t){return nO(e,t)}function Q$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,t,r,n){return new Q$(e,t,r,n)}function Vv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z$(e){if(typeof e=="function")return Vv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cv)return 11;if(e===dv)return 14}return 2}function ga(e,t){var r=e.alternate;return r===null?(r=wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Vv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gi:return ci(r.children,a,i,t);case uv:o=8,a|=8;break;case dm:return e=wr(12,r,t,a|2),e.elementType=dm,e.lanes=i,e;case fm:return e=wr(13,r,t,a),e.elementType=fm,e.lanes=i,e;case hm:return e=wr(19,r,t,a),e.elementType=hm,e.lanes=i,e;case Bj:return Ff(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lj:o=10;break e;case Uj:o=9;break e;case cv:o=11;break e;case dv:o=14;break e;case Kn:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=wr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ci(e,t,r,n){return e=wr(7,e,n,t),e.lanes=r,e}function Ff(e,t,r,n){return e=wr(22,e,n,t),e.elementType=Bj,e.lanes=r,e.stateNode={isHidden:!1},e}function Sp(e,t,r){return e=wr(6,e,null,t),e.lanes=r,e}function jp(e,t,r){return t=wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hv(e,t,r,n,a,i,o,s,l){return e=new eI(e,t,r,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=wr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(i),e}function tI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function TE(e){if(!e)return Sa;e=e._reactInternals;e:{if(Pi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Zt(r))return TO(e,r,t)}return t}function CE(e,t,r,n,a,i,o,s,l){return e=Hv(r,n,!0,e,a,i,o,s,l),e.context=TE(null),r=e.current,n=zt(),a=ma(r),i=_n(n,a),i.callback=t??null,ha(r,i,a),e.current.lanes=a,ju(e,a,n),er(e,n),e}function qf(e,t,r,n){var a=t.current,i=zt(),o=ma(a);return r=TE(r),t.context===null?t.context=r:t.pendingContext=r,t=_n(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ha(a,t,o),e!==null&&(Fr(e,a,o,i),Ac(e,a,o)),o}function dd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gv(e,t){Tx(e,t),(e=e.alternate)&&Tx(e,t)}function rI(){return null}var $E=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kv(e){this._internalRoot=e}zf.prototype.render=Kv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));qf(e,t,null,null)};zf.prototype.unmount=Kv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){qf(null,e,null,null)}),t[Pn]=null}};function zf(e){this._internalRoot=e}zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=cO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qn.length&&t!==0&&t<Qn[r].priority;r++);Qn.splice(r,0,e),r===0&&fO(e)}};function Yv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cx(){}function nI(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=dd(o);i.call(u)}}var o=CE(t,n,e,0,null,!1,!1,"",Cx);return e._reactRootContainer=o,e[Pn]=o.current,El(e.nodeType===8?e.parentNode:e),bi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=dd(l);s.call(u)}}var l=Hv(e,0,!1,null,null,!1,!1,"",Cx);return e._reactRootContainer=l,e[Pn]=l.current,El(e.nodeType===8?e.parentNode:e),bi(function(){qf(t,l,r,n)}),l}function Vf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=dd(o);s.call(l)}}qf(t,o,e,a)}else o=nI(r,t,e,a,n);return dd(o)}lO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qs(t.pendingLanes);r!==0&&(pv(t,r|1),er(t,nt()),!(_e&6)&&(No=nt()+500,Pa()))}break;case 13:bi(function(){var n=Nn(e,1);if(n!==null){var a=zt();Fr(n,e,1,a)}}),Gv(e,1)}};mv=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=zt();Fr(t,e,134217728,r)}Gv(e,134217728)}};uO=function(e){if(e.tag===13){var t=ma(e),r=Nn(e,t);if(r!==null){var n=zt();Fr(r,e,t,n)}Gv(e,t)}};cO=function(){return Te};dO=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};Sm=function(e,t,r){switch(t){case"input":if(gm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Df(n);if(!a)throw Error(G(90));qj(n),gm(n,a)}}}break;case"textarea":Wj(e,r);break;case"select":t=r.value,t!=null&&uo(e,!!r.multiple,t,!1)}};Jj=qv;Qj=bi;var aI={usingClientEntryPoint:!1,Events:[Eu,Ji,Df,Yj,Xj,qv]},Is={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iI={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tO(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||rI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Tf=ec.inject(iI),en=ec}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aI;hr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yv(t))throw Error(G(200));return tI(e,t,null,r)};hr.createRoot=function(e,t){if(!Yv(e))throw Error(G(299));var r=!1,n="",a=$E;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Hv(e,1,!1,null,null,r,!1,n,a),e[Pn]=t.current,El(e.nodeType===8?e.parentNode:e),new Kv(t)};hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=tO(t),e=e===null?null:e.stateNode,e};hr.flushSync=function(e){return bi(e)};hr.hydrate=function(e,t,r){if(!Wf(t))throw Error(G(200));return Vf(null,e,t,!0,r)};hr.hydrateRoot=function(e,t,r){if(!Yv(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=$E;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=CE(t,null,e,1,r??null,a,!1,i,o),e[Pn]=t.current,El(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new zf(t)};hr.render=function(e,t,r){if(!Wf(t))throw Error(G(200));return Vf(null,e,t,!1,r)};hr.unmountComponentAtNode=function(e){if(!Wf(e))throw Error(G(40));return e._reactRootContainer?(bi(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};hr.unstable_batchedUpdates=qv;hr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Wf(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Vf(e,t,r,!1,n)};hr.version="18.3.1-next-f1338f8080-20240426";function IE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IE)}catch(e){console.error(e)}}IE(),Ij.exports=hr;var oI=Ij.exports,$x=oI;um.createRoot=$x.createRoot,um.hydrateRoot=$x.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}var ia;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ia||(ia={}));const Ix="popstate";function sI(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return rg("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:fd(a)}return uI(t,r,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lI(){return Math.random().toString(36).substr(2,8)}function Dx(e,t){return{usr:e.state,key:e.key,idx:t}}function rg(e,t,r,n){return r===void 0&&(r=null),Dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?os(t):t,{state:r,key:t&&t.key||n||lI()})}function fd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function os(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function uI(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=ia.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Dl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=ia.Pop;let v=d(),m=v==null?null:v-u;u=v,l&&l({action:s,location:y.location,delta:m})}function h(v,m){s=ia.Push;let b=rg(y.location,v,m);u=d()+1;let x=Dx(b,u),S=y.createHref(b);try{o.pushState(x,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(S)}i&&l&&l({action:s,location:y.location,delta:1})}function p(v,m){s=ia.Replace;let b=rg(y.location,v,m);u=d();let x=Dx(b,u),S=y.createHref(b);o.replaceState(x,"",S),i&&l&&l({action:s,location:y.location,delta:0})}function g(v){let m=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:fd(v);return b=b.replace(/ $/,"%20"),at(m,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,m)}let y={get action(){return s},get location(){return e(a,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Ix,f),l=v,()=>{a.removeEventListener(Ix,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let m=g(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var Rx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rx||(Rx={}));function cI(e,t,r){return r===void 0&&(r="/"),dI(e,t,r)}function dI(e,t,r,n){let a=typeof t=="string"?os(t):t,i=Jv(a.pathname||"/",r);if(i==null)return null;let o=DE(e);fI(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=jI(i);s=wI(o[l],u)}return s}function DE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ya([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),DE(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:bI(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of RE(i.path))a(i,o,l)}),t}function RE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=RE(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function fI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hI=/^:[\w-]+$/,pI=3,mI=2,gI=1,yI=10,vI=-2,Mx=e=>e==="*";function bI(e,t){let r=e.split("/"),n=r.length;return r.some(Mx)&&(n+=vI),t&&(n+=mI),r.filter(a=>!Mx(a)).reduce((a,i)=>a+(hI.test(i)?pI:i===""?gI:yI),n)}function xI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wI(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=_I({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ya([i,f.pathname]),pathnameBase:AI(ya([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ya([i,f.pathnameBase]))}return o}function _I(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=SI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=s[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function SI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Xv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function jI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const OI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EI=e=>OI.test(e);function PI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?os(e):e,i;if(r)if(EI(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Xv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Lx(r.substring(1),"/"):i=Lx(r,t)}else i=t;return{pathname:i,search:kI(n),hash:TI(a)}}function Lx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Op(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qv(e,t){let r=NI(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=os(e):(a=Dl({},e),at(!a.pathname||!a.pathname.includes("?"),Op("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Op("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Op("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=PI(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ya=e=>e.join("/").replace(/\/\/+/g,"/"),AI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ME=["post","put","patch","delete"];new Set(ME);const $I=["get",...ME];new Set($I);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}const e0=N.createContext(null),II=N.createContext(null),Na=N.createContext(null),Hf=N.createContext(null),Mn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),LE=N.createContext(null);function DI(e,t){let{relative:r}=t===void 0?{}:t;ss()||at(!1);let{basename:n,navigator:a}=N.useContext(Na),{hash:i,pathname:o,search:s}=BE(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ya([n,o])),a.createHref({pathname:l,search:s,hash:i})}function ss(){return N.useContext(Hf)!=null}function ls(){return ss()||at(!1),N.useContext(Hf).location}function UE(e){N.useContext(Na).static||N.useLayoutEffect(e)}function Gf(){let{isDataRoute:e}=N.useContext(Mn);return e?XI():RI()}function RI(){ss()||at(!1);let e=N.useContext(e0),{basename:t,future:r,navigator:n}=N.useContext(Na),{matches:a}=N.useContext(Mn),{pathname:i}=ls(),o=JSON.stringify(Qv(a,r.v7_relativeSplatPath)),s=N.useRef(!1);return UE(()=>{s.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=Zv(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ya([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const MI=N.createContext(null);function LI(e){let t=N.useContext(Mn).outlet;return t&&N.createElement(MI.Provider,{value:e},t)}function BE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Na),{matches:a}=N.useContext(Mn),{pathname:i}=ls(),o=JSON.stringify(Qv(a,n.v7_relativeSplatPath));return N.useMemo(()=>Zv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function UI(e,t){return BI(e,t)}function BI(e,t,r,n){ss()||at(!1);let{navigator:a}=N.useContext(Na),{matches:i}=N.useContext(Mn),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ls(),d;if(t){var f;let v=typeof t=="string"?os(t):t;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||at(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=cI(e,{pathname:p}),y=VI(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ya([l,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ya([l,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?N.createElement(Hf.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ia.Pop}},y):y}function FI(){let e=YI(),t=CI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const qI=N.createElement(FI,null);class zI extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(Mn.Provider,{value:this.props.routeContext},N.createElement(LE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WI(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext(e0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Mn.Provider,{value:t},n)}function VI(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,y=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||qI,l&&(u<0&&h===0?(JI("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),b=()=>{let x;return p?x=y:g?x=v:f.route.Component?x=N.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,N.createElement(WI,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(zI,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):b()},null)}var FE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(FE||{}),qE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qE||{});function HI(e){let t=N.useContext(e0);return t||at(!1),t}function GI(e){let t=N.useContext(II);return t||at(!1),t}function KI(e){let t=N.useContext(Mn);return t||at(!1),t}function zE(e){let t=KI(),r=t.matches[t.matches.length-1];return r.route.id||at(!1),r.route.id}function YI(){var e;let t=N.useContext(LE),r=GI(),n=zE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function XI(){let{router:e}=HI(FE.UseNavigateStable),t=zE(qE.UseNavigateStable),r=N.useRef(!1);return UE(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Rl({fromRouteId:t},i)))},[e,t])}const Ux={};function JI(e,t,r){Ux[e]||(Ux[e]=!0)}function QI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function WE(e){let{to:t,replace:r,state:n,relative:a}=e;ss()||at(!1);let{future:i,static:o}=N.useContext(Na),{matches:s}=N.useContext(Mn),{pathname:l}=ls(),u=Gf(),d=Zv(t,Qv(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ZI(e){return LI(e.context)}function nr(e){at(!1)}function eD(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ia.Pop,navigator:i,static:o=!1,future:s}=e;ss()&&at(!1);let l=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:i,static:o,future:Rl({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=os(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,y=N.useMemo(()=>{let v=Jv(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[l,d,f,h,p,g,a]);return y==null?null:N.createElement(Na.Provider,{value:u},N.createElement(Hf.Provider,{children:r,value:y}))}function tD(e){let{children:t,location:r}=e;return UI(ng(t),r)}new Promise(()=>{});function ng(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let i=[...t,a];if(n.type===N.Fragment){r.push.apply(r,ng(n.props.children,i));return}n.type!==nr&&at(!1),!n.props.index||!n.props.children||at(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ng(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function rD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function nD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aD(e,t){return e.button===0&&(!t||t==="_self")&&!nD(e)}const iD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oD="6";try{window.__reactRouterVersion=oD}catch{}const sD="startTransition",Bx=YC[sD];function lD(e){let{basename:t,children:r,future:n,window:a}=e,i=N.useRef();i.current==null&&(i.current=sI({window:a,v5Compat:!0}));let o=i.current,[s,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=N.useCallback(f=>{u&&Bx?Bx(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>QI(n),[n]),N.createElement(eD,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const uD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=rD(t,iD),{basename:p}=N.useContext(Na),g,y=!1;if(typeof u=="string"&&cD.test(u)&&(g=u,uD))try{let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),w=Jv(S.pathname,p);S.origin===x.origin&&w!=null?u=w+S.search+S.hash:y=!0}catch{}let v=DI(u,{relative:a}),m=dD(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(x){n&&n(x),x.defaultPrevented||m(x)}return N.createElement("a",ag({},h,{href:g||v,onClick:y||i?n:b,ref:r,target:l}))});var Fx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fx||(Fx={}));var qx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qx||(qx={}));function dD(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=Gf(),u=ls(),d=BE(e,{relative:o});return N.useCallback(f=>{if(aD(f,r)){f.preventDefault();let h=n!==void 0?n:fd(u)===fd(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,d,n,a,r,e,i,o,s])}var t0={},hd={},ig=function(e,t){return ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ig(e,t)};function VE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ig(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var pd=function(){return pd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pd.apply(this,arguments)};function us(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function HE(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function GE(e,t){return function(r,n){t(r,n,e)}}function KE(e,t,r,n,a,i){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(m||null))};var v=(0,r[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],g);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(d.get=f),(f=o(v.set))&&(d.set=f),(f=o(v.init))&&a.unshift(f)}else(f=o(v))&&(s==="field"?a.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function YE(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function XE(e){return typeof e=="symbol"?e:"".concat(e)}function JE(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function QE(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Z(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}function ZE(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Kf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function eP(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Kf(t,e,r)}function md(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function r0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function tP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r0(arguments[t]));return e}function rP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function nP(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ao(e){return this instanceof Ao?(this.v=e,this):new Ao(e)}function aP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(p){return function(g){return Promise.resolve(g).then(p,f)}}function s(p,g){n[p]&&(a[p]=function(y){return new Promise(function(v,m){i.push([p,y,v,m])>1||l(p,y)})},g&&(a[p]=g(a[p])))}function l(p,g){try{u(n[p](g))}catch(y){h(i[0][3],y)}}function u(p){p.value instanceof Ao?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,g){p(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function iP(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ao(e[a](o)),done:!1}:i?i(o):o}:i}}function oP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof md=="function"?md(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,l){o=e[i](o),a(s,l,o.done,o.value)})}}function a(i,o,s,l){Promise.resolve(l).then(function(u){i({value:u,done:s})},o)}}function sP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var fD=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},og=function(e){return og=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},og(e)};function lP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=og(e),n=0;n<r.length;n++)r[n]!=="default"&&Kf(t,e,r[n]);return fD(t,e),t}function uP(e){return e&&e.__esModule?e:{default:e}}function cP(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function dP(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function fP(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function hP(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var hD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function pP(e){function t(i){e.error=e.hasError?new hD(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function mP(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const pD={__extends:VE,__assign:pd,__rest:us,__decorate:HE,__param:GE,__esDecorate:KE,__runInitializers:YE,__propKey:XE,__setFunctionName:JE,__metadata:QE,__awaiter:Z,__generator:ZE,__createBinding:Kf,__exportStar:eP,__values:md,__read:r0,__spread:tP,__spreadArrays:rP,__spreadArray:nP,__await:Ao,__asyncGenerator:aP,__asyncDelegator:iP,__asyncValues:oP,__makeTemplateObject:sP,__importStar:lP,__importDefault:uP,__classPrivateFieldGet:cP,__classPrivateFieldSet:dP,__classPrivateFieldIn:fP,__addDisposableResource:hP,__disposeResources:pP,__rewriteRelativeImportExtension:mP},mD=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:hP,get __assign(){return pd},__asyncDelegator:iP,__asyncGenerator:aP,__asyncValues:oP,__await:Ao,__awaiter:Z,__classPrivateFieldGet:cP,__classPrivateFieldIn:fP,__classPrivateFieldSet:dP,__createBinding:Kf,__decorate:HE,__disposeResources:pP,__esDecorate:KE,__exportStar:eP,__extends:VE,__generator:ZE,__importDefault:uP,__importStar:lP,__makeTemplateObject:sP,__metadata:QE,__param:GE,__propKey:XE,__read:r0,__rest:us,__rewriteRelativeImportExtension:mP,__runInitializers:YE,__setFunctionName:JE,__spread:tP,__spreadArray:nP,__spreadArrays:rP,__values:md,default:pD},Symbol.toStringTag,{value:"Module"})),gD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Yf=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},gP=class extends Yf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},sg=class extends Yf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},lg=class extends Yf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var gd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gd||(gd={}));class yD{constructor(t,{headers:r={},customFetch:n,region:a=gd.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=gD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Z(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:s,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const m=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:v}).catch(w=>{throw new gP(w)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new sg(m);if(!m.ok)throw new lg(m);let x=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield m.json():x==="application/octet-stream"||x==="application/pdf"?S=yield m.blob():x==="text/event-stream"?S=m:x==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof lg||s instanceof sg?s.context:void 0}}finally{i&&clearTimeout(i)}})}}const vD=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return gd},FunctionsClient:yD,FunctionsError:Yf,FunctionsFetchError:gP,FunctionsHttpError:lg,FunctionsRelayError:sg},Symbol.toStringTag,{value:"Module"})),yP=_u(vD);var $t={};const cs=_u(mD);var tc={},rc={},nc={},ac={},ic={},oc={},zx;function vP(){if(zx)return oc;zx=1,Object.defineProperty(oc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return oc.default=e,oc}var Wx;function bP(){if(Wx)return ic;Wx=1,Object.defineProperty(ic,"__esModule",{value:!0});const t=cs.__importDefault(vP());let r=class{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,h;let p=null,g=null,y=null,v=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=w:g=JSON.parse(w))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,m="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(g=[],p=null,v=200,m="OK")}catch{l.status===404&&x===""?(v=204,m="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,m="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:y,status:v,statusText:m}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,d,f,h,p,g;let y="";const v=l==null?void 0:l.cause;if(v){const m=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",b=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";y=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${m}`,b&&(y+=` (${b})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(a,i)}returns(){return this}overrideTypes(){return this}};return ic.default=r,ic}var Vx;function xP(){if(Vx)return ac;Vx=1,Object.defineProperty(ac,"__esModule",{value:!0});const t=cs.__importDefault(bP());let r=class extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return ac.default=r,ac}var Hx;function n0(){if(Hx)return nc;Hx=1,Object.defineProperty(nc,"__esModule",{value:!0});const t=cs.__importDefault(xP()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}};return nc.default=n,nc}var Gx;function wP(){if(Gx)return rc;Gx=1,Object.defineProperty(rc,"__esModule",{value:!0});const t=cs.__importDefault(n0());let r=class{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return rc.default=r,rc}var Kx;function bD(){if(Kx)return tc;Kx=1,Object.defineProperty(tc,"__esModule",{value:!0});const e=cs,t=e.__importDefault(wP()),r=e.__importDefault(n0());let n=class _P{constructor(i,{headers:o={},schema:s,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new _P(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(f="POST",p=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return tc.default=n,tc}Object.defineProperty($t,"__esModule",{value:!0});$t.PostgrestError=$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const ds=cs,SP=ds.__importDefault(bD());$t.PostgrestClient=SP.default;const jP=ds.__importDefault(wP());$t.PostgrestQueryBuilder=jP.default;const OP=ds.__importDefault(n0());$t.PostgrestFilterBuilder=OP.default;const EP=ds.__importDefault(xP());$t.PostgrestTransformBuilder=EP.default;const PP=ds.__importDefault(bP());$t.PostgrestBuilder=PP.default;const NP=ds.__importDefault(vP());$t.PostgrestError=NP.default;$t.default={PostgrestClient:SP.default,PostgrestQueryBuilder:jP.default,PostgrestFilterBuilder:OP.default,PostgrestTransformBuilder:EP.default,PostgrestBuilder:PP.default,PostgrestError:NP.default};class AP{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xD="2.86.2",wD=`realtime-js/${xD}`,kP="1.0.0",_D="2.0.0",Yx=kP,ug=1e4,SD=1e3,jD=100;var Qa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qa||(Qa={}));var ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ot||(ot={}));var Rr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rr||(Rr={}));var cg;(function(e){e.websocket="websocket"})(cg||(cg={}));var Za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Za||(Za={}));class OD{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,s=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,s.length),g.setUint8(y++,o.length),g.setUint8(y++,u.length),g.setUint8(y++,f.length),g.setUint8(y++,r),Array.from(l,m=>g.setUint8(y++,m.charCodeAt(0))),Array.from(s,m=>g.setUint8(y++,m.charCodeAt(0))),Array.from(o,m=>g.setUint8(y++,m.charCodeAt(0))),Array.from(u,m=>g.setUint8(y++,m.charCodeAt(0))),Array.from(f,m=>g.setUint8(y++,m.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,s,l]=n;return r({join_ref:a,ref:i,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class TP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const Xx=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=ED(o,e,t,a),i),{}):{}},ED=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?CP(i,o):dg(o)},CP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return kD(t,r)}switch(e){case De.bool:return PD(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return ND(t);case De.json:case De.jsonb:return AD(t);case De.timestamp:return TD(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return dg(t);default:return dg(t)}},dg=e=>e,PD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ND=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},kD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>CP(t,s))}return e},TD=e=>typeof e=="string"?e.replace(" ","T"):e,$P=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ep{constructor(t,r,n={},a=ug){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fg||(fg={}));let IP=class Rc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rc.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=Rc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Rc.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(s[u]=g),y.length>0&&(l[u]=y)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hg||(hg={}));var go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(go||(go={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));const CD=ot;let DP=class RP{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ep(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new TP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new IP(this),this.broadcastEndpointURL=$P(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[go.PRESENCE]&&this.bindings[go.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Yr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,m=[];for(let b=0;b<v;b++){const x=y[b],{filter:{event:S,schema:w,table:_,filter:j}}=x,E=p&&p[b];if(E&&E.event===S&&E.schema===w&&E.table===_&&E.filter===j)m.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=ot.errored,t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Yr.SUBSCRIBED);return}}).receive("error",p=>{this.state=ot.errored,t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ot.joined&&t===go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Ep(this,Rr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ep(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Rr;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,y,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,y,v,m,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((y=r.ids)===null||y===void 0?void 0:y.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(b=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:v,commit_timestamp:m,type:b,errors:x}=g;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:m,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&RP.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rr.close,{},t)}_onError(t){this._on(Rr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xx(t.columns,t.old_record)),r}};const Pp=()=>{},sc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$D=[1e3,2e3,5e3,1e4],ID=1e4,DD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let RD=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ug,this.transport=null,this.heartbeatIntervalMs=sc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pp,this.ref=0,this.reconnectTimer=null,this.vsn=Yx,this.logger=Pp,this.conn=null,this.sendBuffer=[],this.serializer=new OD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${cg.websocket}`,this.httpEndpoint=$P(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qa.connecting:return Za.Connecting;case Qa.open:return Za.Open;case Qa.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new DP(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qa.open||this.conn.readyState===Qa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([DD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:wD};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Rr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,l,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ug,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:sc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Pp,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Yx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>$D[g-1]||ID,this.vsn){case kP:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,y)=>y(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,y)=>y(JSON.parse(g));break;case _D:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const MD=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:CD,get REALTIME_LISTEN_TYPES(){return go},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return hg},get REALTIME_PRESENCE_LISTEN_EVENTS(){return fg},get REALTIME_SUBSCRIBE_STATES(){return Yr},RealtimeChannel:DP,RealtimeClient:RD,RealtimePresence:IP,WebSocketFactory:AP},Symbol.toStringTag,{value:"Module"})),MP=_u(MD);class Nu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function He(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class LP extends Nu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yd extends Nu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const a0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LD=()=>Response,pg=e=>{if(Array.isArray(e))return e.map(r=>pg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=pg(n)}),t},UD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BD=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Np=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},FD=(e,t,r)=>Z(void 0,void 0,void 0,function*(){const n=yield LD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new LP(Np(a),i,o))}).catch(a=>{t(new yd(Np(a),a))}):t(new yd(Np(e),e))}),qD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(UD(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Au(e,t,r,n,a,i){return Z(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,qD(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>FD(l,s,n))})})}function Ml(e,t,r,n){return Z(this,void 0,void 0,function*(){return Au(e,"GET",t,r,n)})}function Ir(e,t,r,n,a){return Z(this,void 0,void 0,function*(){return Au(e,"POST",t,n,a,r)})}function mg(e,t,r,n,a){return Z(this,void 0,void 0,function*(){return Au(e,"PUT",t,n,a,r)})}function zD(e,t,r,n){return Z(this,void 0,void 0,function*(){return Au(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function i0(e,t,r,n,a){return Z(this,void 0,void 0,function*(){return Au(e,"DELETE",t,n,a,r)})}class WD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}var UP;class VD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[UP]="BlobDownloadBuilder",this.promise=null}asStream(){return new WD(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}UP=Symbol.toStringTag;const HD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GD{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=a0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Z(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Jx),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?mg:Ir)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Z(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Jx.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield mg(this.fetch,s.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Z(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ir(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new Nu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}update(t,r,n){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Z(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Z(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ir(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Z(this,void 0,void 0,function*(){try{const a=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),l=()=>Ml(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new VD(l,this.shouldThrowOnError)}info(t){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ml(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}exists(t){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield zD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n)&&n instanceof yd){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return Z(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}list(t,r,n){return Z(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},HD),r),{prefix:t||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listV2(t,r){return Z(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ir(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const BP="2.86.2",FP={"X-Client-Info":`storage-js/${BP}`};class KD{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FP),r),this.fetch=a0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ml(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}createBucket(t){return Z(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Z(this,void 0,void 0,function*(){try{return{data:yield mg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Ll=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YD(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function XD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const s=YD(e.baseUrl,n,a),l=await XD(e.auth),u=await t(s,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new Ll((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function lc(e){return e.join("")}var QD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:lc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lc(e.namespace)}`}),!0}catch(t){if(t instanceof Ll&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ll&&r.status===409)return;throw r}}};function Di(e){return e.join("")}var ZD=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ll&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ll&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},eR=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JD({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new QD(this.client,t),this.tableOps=new ZD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class qP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FP),r),this.fetch=a0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ml(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}from(t){if(!BD(t))throw new Nu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new eR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Z(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const o0={"X-Client-Info":`storage-js/${BP}`,"Content-Type":"application/json"};class s0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Mc extends s0{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zP extends s0{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gg||(gg={}));const Xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tR=()=>Response,WP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rR=e=>Array.from(new Float32Array(e)),nR=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Qx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aR=(e,t,r)=>Z(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Mc(Qx(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Mc(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Mc(s,a,o))}}else t(new zP(Qx(e),e))}),iR=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(WP(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function oR(e,t,r,n,a,i){return Z(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,iR(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>aR(l,s,n))})})}function sr(e,t,r,n,a){return Z(this,void 0,void 0,function*(){return oR(e,"POST",t,n,a,r)})}class VP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o0),r),this.fetch=Xf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listIndexes(t){return Z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Z(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class HP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o0),r),this.fetch=Xf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}queryVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}}class GP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o0),r),this.fetch=Xf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listBuckets(){return Z(this,arguments,void 0,function*(t={}){try{return{data:yield sr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}}class KP extends GP{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new YP(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Z(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Z(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Z(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Z(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class YP extends VP{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new XP(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class XP extends HP{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sR extends KD{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new GD(this.url,this.headers,t,this.fetch)}get vectors(){return new KP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qP(this.url+"/iceberg",this.headers,this.fetch)}}const lR=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:qP,StorageApiError:LP,StorageClient:sR,StorageError:Nu,StorageUnknownError:yd,StorageVectorsApiError:Mc,StorageVectorsClient:KP,StorageVectorsError:s0,get StorageVectorsErrorCode(){return gg},StorageVectorsUnknownError:zP,VectorBucketApi:GP,VectorBucketScope:YP,VectorDataApi:HP,VectorIndexApi:VP,VectorIndexScope:XP,isPlainObject:WP,isStorageError:He,isStorageVectorsError:Kt,normalizeToFloat32:rR,resolveFetch:Xf,resolveResponse:tR,validateVectorDimension:nR},Symbol.toStringTag,{value:"Module"})),uR=_u(lR);var JP={},Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.version=void 0;Jf.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Jf;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(JP);var QP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,i,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var f;const h=(f=await i())!==null&&f!==void 0?f:a;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(u,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=n})(QP);var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.isBrowser=void 0;Aa.uuid=cR;Aa.ensureTrailingSlash=ZP;Aa.applySettingDefaults=fR;Aa.validateSupabaseUrl=hR;function cR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function ZP(e){return e.endsWith("/")?e:e+"/"}const dR=()=>typeof window<"u";Aa.isBrowser=dR;function fR(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function hR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qf={};const eN="2.86.2",Wi=30*1e3,yg=3,Ap=yg*Wi,pR="http://localhost:9999",mR="supabase.auth.token",gR={"X-Client-Info":`gotrue-js/${eN}`},vg="X-Supabase-Api-Version",tN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vR=10*60*1e3;let ko=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let rN=class extends ko{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function nN(e){return ne(e)&&e.name==="AuthApiError"}let ea=class extends ko{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Ln=class extends ko{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Ht=class extends Ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function aN(e){return ne(e)&&e.name==="AuthSessionMissingError"}let Va=class extends Ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},el=class extends Ln{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},tl=class extends Ln{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function iN(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}let bg=class extends Ln{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vd=class extends Ln{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Lc(e){return ne(e)&&e.name==="AuthRetryableFetchError"}let xg=class extends Ln{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function bR(e){return ne(e)&&e.name==="AuthWeakPasswordError"}let bd=class extends Ln{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zx=` 	
\r=`.split(""),xR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zx.length;t+=1)e[Zx[t].charCodeAt(0)]=-2;for(let t=0;t<xd.length;t+=1)e[xd[t].charCodeAt(0)]=t;return e})();function ew(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xd[n]),t.queuedBits-=6}}function oN(e,t,r){const n=xR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{SR(o,n,r)};for(let o=0;o<e.length;o+=1)oN(e.charCodeAt(o),a,i);return t.join("")}function wR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _R(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}wR(n,t)}}function SR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)oN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function jR(e){const t=[];return _R(e,r=>t.push(r)),new Uint8Array(t)}function ai(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>ew(a,r,n)),ew(null,r,n),t.join("")}function OR(e){return Math.round(Date.now()/1e3)+e}function ER(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Da={tested:!1,writable:!1},sN=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Da.tested)return Da.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Da.tested=!0,Da.writable=!0}catch{Da.tested=!0,Da.writable=!1}return Da.writable};function PR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const lN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ra=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_t=async(e,t)=>{await e.removeItem(t)};class Zf{constructor(){this.promise=new Zf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zf.promiseConstructor=Promise;function kp(e){const t=e.split(".");if(t.length!==3)throw new bd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yR.test(t[n]))throw new bd("JWT not in base64url format");return{header:JSON.parse(tw(t[0])),payload:JSON.parse(tw(t[1])),signature:yo(t[2]),raw:{header:t[0],payload:t[1]}}}async function AR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kR(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function TR(e){return("0"+e.toString(16)).substr(-2)}function CR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,TR).join("")}async function $R(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function IR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $R(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(e,t,r=!1){const n=CR();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Vi(e,`${t}-code-verifier`,a);const i=await IR(n);return[i,n===i?"plain":"s256"]}const DR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RR(e){const t=e.headers.get(vg);if(!t||!t.match(DR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function MR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mi(e){if(!UR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BR(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function rw(e){return JSON.parse(JSON.stringify(e))}const Ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FR=[502,503,504];async function nw(e){var t;if(!NR(e))throw new vd(Ha(e),0);if(FR.includes(e.status))throw new vd(Ha(e),e.status);let r;try{r=await e.json()}catch(i){throw new ea(Ha(i),i)}let n;const a=RR(e);if(a&&a.getTime()>=tN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xg(Ha(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xg(Ha(r),e.status,r.weak_password.reasons);throw new rN(Ha(r),e.status||500,n)}const qR=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function se(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[vg]||(i[vg]=tN["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await zR(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function zR(e,t,r,n,a,i){const o=qR(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new vd(Ha(l),0)}if(s.ok||await nw(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await nw(l)}}function Cr(e){var t;let r=null;HR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function aw(e){const t=Cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WR(e){return{data:e,error:null}}function VR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=us(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function iw(e){return e}function HR(e){return e.access_token&&e.refresh_token&&e.expires_in}const Uc=["global","local","others"];let l0=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Uc[0]){if(Uc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uc.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ta})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=us(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:VR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ta})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:iw});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mi(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ta})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Mi(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ta})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Mi(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ta})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Mi(t.userId);try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Mi(t.userId),Mi(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:iw});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}};function ow(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ga={debug:!!(globalThis&&sN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let uN=class extends u0{};class GR extends u0{}async function cN(e,t,r){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ga.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const sw={};async function KR(e,t,r){var n;const a=(n=sw[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new GR(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return sw[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await a,null;throw o}),await i}function YR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function XR(e){return parseInt(e,16)}function JR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function QR(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=dN(e.address),g=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let m=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(m+=`
Expiration Time: ${a.toISOString()}`),s&&(m+=`
Not Before: ${s.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}m+=b}return`${v}
${m}`}class lt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class wd extends lt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ZR({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(fN(o)){if(i.rp.id!==o)return new lt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function eM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fN(n)){if(r.rpId!==n)return new lt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class tM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rM=new tM;function nM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=us(e,["challenge","user","excludeCredentials"]),i=yo(t).buffer,o=Object.assign(Object.assign({},r),{id:yo(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:yo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function aM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=us(e,["challenge","allowCredentials"]),a=yo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:yo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function iM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ai(new Uint8Array(e.response.attestationObject)),clientDataJSON:ai(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ai(new Uint8Array(a.authenticatorData)),clientDataJSON:ai(new Uint8Array(a.clientDataJSON)),signature:ai(new Uint8Array(a.signature)),userHandle:a.userHandle?ai(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lw(){var e,t;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function sM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wd("Browser returned unexpected credential type",t)}:{data:null,error:new wd("Empty credential response",t)}}catch(t){return{data:null,error:ZR({error:t,options:e})}}}async function lM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wd("Browser returned unexpected credential type",t)}:{data:null,error:new wd("Empty credential response",t)}}catch(t){return{data:null,error:eM({error:t,options:e})}}}const uM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _d(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=_d(s,o):n[i]=_d(o)}else n[i]=o}return n}function dM(e,t){return _d(uM,e,t||{})}function fM(e,t){return _d(cM,e,t||{})}class hM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=a??rM.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=dM(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await sM({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=fM(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await lM(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new ea("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new ko("rpId is required for WebAuthn authentication")};try{if(!lw())return{data:null,error:new ea("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new ea("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new ko("rpId is required for WebAuthn registration")};try{if(!lw())return{data:null,error:new ea("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new ea("Unexpected error in register",o)}}}}YR();const pM={url:pR,storageKey:mR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function uw(e,t,r){return await r()}const Li={};let c0=class wg{get jwks(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},pM),t);if(this.storageKey=i.storageKey,this.instanceID=(r=wg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&St()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new l0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lN(i.fetch),this.lock=i.lock||uw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:St()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cN:this.lock=uw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:sN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ow(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ow(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(St()&&(r=PR(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),St()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iN(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new ea("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Cr}),{data:o,error:s}=i;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ri(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Cr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Cr})}else throw new el("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return await _t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:aw})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:aw})}else throw new el("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Va;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,l,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:m,options:b}=t;let x;if(St())if(typeof v=="object")x=v;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")x=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=dN(w[0]);let j=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const k=await x.request({method:"eth_chainId"});j=XR(k)}const E={domain:S.host,address:_,statement:m,uri:S.href,version:"1",chainId:j,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=QR(E),g=await x.request({method:"personal_sign",params:[JR(p),_]})}try{const{data:y,error:v}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Cr});if(v)throw v;if(!y||!y.session||!y.user){const m=new Va;return this._returnResult({data:{user:null,session:null},error:m})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,o,s,l,u,d,f,h,p;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:v,wallet:m,statement:b,options:x}=t;let S;if(St())if(typeof m=="object")S=m;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=m}const w=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:v,error:m}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ai(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Cr});if(m)throw m;if(!v||!v.session||!v.user){const b=new Va;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:m})}catch(v){if(ne(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cr});if(await _t(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const s=new Va;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cr}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Va;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ri(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new el("You must provide either an email or phone number.")}catch(s){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Cr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ri(this.storage,this.storageKey));const u=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:WR});return!((i=u.data)===null||i===void 0)&&i.url&&St()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ht;const{error:a}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new el("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ap:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ra(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Tp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=BR(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ta}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ta})})}catch(r){if(ne(r))return aN(r)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ht;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Ri(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:ta});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=kp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!St())throw new tl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bg("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!i||!s||!o||!u)throw new tl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const m={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(nN(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=ER(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ri(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return St()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ne(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:l,access_token:u,nonce:d}=t,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cr}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Va}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kR(async a=>(a>0&&await AR(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Lc(i)&&Date.now()+o-n<Wi})}catch(n){if(this._debug(r,"error",n),ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),St()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ra(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Vi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Tp()}else if(a&&!a.user&&!a.user){const o=await Ra(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await _t(this.storage,this.storageKey+"-user"),await Vi(this.storage,this.storageKey,a)):a.user=Tp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ap;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ap}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Lc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),ne(i)){const o={data:null,error:i};return Lc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _t(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=rw(a);await Vi(this.storage,this.storageKey,i)}else{const a=rw(r);await Vi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wi}ms, refresh threshold is ${yg} ticks`),a<=yg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof u0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ri(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iM(t.webauthn.credential_response):oM(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:nM(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:aM(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=kp(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ht});const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&St()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ht});const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&St()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+vR>a)return n;const{data:i,error:o}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=kp(n);r!=null&&r.allowExpired||MR(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=LR(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,jR(`${s}.${l}`)))throw new bd("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}};c0.nextInstanceID={};const mM=l0,gM=c0,yM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:mM,AuthApiError:rN,AuthClient:gM,AuthError:ko,AuthImplicitGrantRedirectError:tl,AuthInvalidCredentialsError:el,AuthInvalidJwtError:bd,AuthInvalidTokenResponseError:Va,AuthPKCEGrantCodeExchangeError:bg,AuthRetryableFetchError:vd,AuthSessionMissingError:Ht,AuthUnknownError:ea,AuthWeakPasswordError:xg,CustomAuthError:Ln,GoTrueAdminApi:l0,GoTrueClient:c0,NavigatorLockAcquireTimeoutError:uN,SIGN_OUT_SCOPES:Uc,isAuthApiError:nN,isAuthError:ne,isAuthImplicitGrantRedirectError:iN,isAuthRetryableFetchError:Lc,isAuthSessionMissingError:aN,isAuthWeakPasswordError:bR,lockInternals:Ga,navigatorLock:cN,processLock:KR},Symbol.toStringTag,{value:"Module"})),hN=_u(yM);Object.defineProperty(Qf,"__esModule",{value:!0});Qf.SupabaseAuthClient=void 0;const vM=hN;class bM extends vM.AuthClient{constructor(t){super(t)}}Qf.SupabaseAuthClient=bM;Object.defineProperty(hd,"__esModule",{value:!0});const xM=yP,wM=$t,_M=MP,SM=uR,uc=JP,jM=QP,cw=Aa,OM=Qf;let EM=class{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=(0,cw.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:uc.DEFAULT_DB_OPTIONS,realtime:uc.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},uc.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:uc.DEFAULT_GLOBAL_OPTIONS},d=(0,cw.applySettingDefaults)(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,jM.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new wM.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new SM.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new xM.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:l,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OM.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:l,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new _M.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};hd.default=EM;(function(e){var t=Jr&&Jr.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var g=Object.getOwnPropertyDescriptor(f,h);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,g)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=Jr&&Jr.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},n=Jr&&Jr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(hd);r(hN,e);var i=$t;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=yP;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(MP,e);var s=hd;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(d,f,h)=>new a.default(d,f,h);e.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(t0);const pN=Ne(t0),PM=_j({__proto__:null,default:pN},[t0]),{PostgrestError:Hse,FunctionsHttpError:Gse,FunctionsFetchError:Kse,FunctionsRelayError:Yse,FunctionsError:Xse,FunctionRegion:Jse,SupabaseClient:Qse,createClient:NM,GoTrueAdminApi:Zse,GoTrueClient:ele,AuthAdminApi:tle,AuthClient:rle,navigatorLock:nle,NavigatorLockAcquireTimeoutError:ale,lockInternals:ile,processLock:ole,SIGN_OUT_SCOPES:sle,AuthError:lle,AuthApiError:ule,AuthUnknownError:cle,CustomAuthError:dle,AuthSessionMissingError:fle,AuthInvalidTokenResponseError:hle,AuthInvalidCredentialsError:ple,AuthImplicitGrantRedirectError:mle,AuthPKCEGrantCodeExchangeError:gle,AuthRetryableFetchError:yle,AuthWeakPasswordError:vle,AuthInvalidJwtError:ble,isAuthError:xle,isAuthApiError:wle,isAuthSessionMissingError:_le,isAuthImplicitGrantRedirectError:Sle,isAuthRetryableFetchError:jle,isAuthWeakPasswordError:Ole,RealtimePresence:Ele,RealtimeChannel:Ple,RealtimeClient:Nle,REALTIME_LISTEN_TYPES:Ale,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:kle,REALTIME_PRESENCE_LISTEN_EVENTS:Tle,REALTIME_SUBSCRIBE_STATES:Cle,REALTIME_CHANNEL_STATES:$le}=pN||PM,AM="https://weyymipalqdphlgydvnh.supabase.co",kM="sb_publishable_-Hx0pIaiyHa8qSlhl1lksw_zd5C4iNA";let ee=null;try{ee=NM(AM,kM),console.log(" Supabase connected successfully")}catch(e){console.error(" Error initializing Supabase:",e)}const mN=N.createContext(void 0);function TM({children:e}){const[t,r]=N.useState(null),[n,a]=N.useState(!0);N.useEffect(()=>{i()},[]);const i=async()=>{try{if(ee){const{data:{session:l}}=await ee.auth.getSession();if(l!=null&&l.user){const{data:u,error:d}=await ee.from("users").select("*").eq("id",l.user.id).single();u&&!d&&r({id:u.id,email:u.email,name:u.name,role:u.role})}}else{const l=localStorage.getItem("auth_user");l&&r(JSON.parse(l))}}catch(l){console.error("Error checking auth:",l)}finally{a(!1)}},o=async(l,u)=>{try{if(ee){const{data:d,error:f}=await ee.auth.signInWithPassword({email:l,password:u});if(f)return{success:!1,error:f.message};if(d.user){const{data:h,error:p}=await ee.from("users").select("*").eq("id",d.user.id).single();if(h&&!p){const g={id:h.id,email:h.email,name:h.name,role:h.role};return r(g),{success:!0}}else return{success:!1,error:"User not found in database"}}}else{const f=JSON.parse(localStorage.getItem("auth_users")||"[]").find(h=>h.email===l&&h.password===u);if(f){const h={id:f.id,email:f.email,name:f.name,role:f.role};return r(h),localStorage.setItem("auth_user",JSON.stringify(h)),{success:!0}}else return{success:!1,error:"Invalid email or password"}}return{success:!1,error:"Login failed"}}catch(d){return console.error("Login error:",d),{success:!1,error:d.message||"Login failed"}}},s=async()=>{try{ee&&await ee.auth.signOut(),localStorage.removeItem("auth_user"),r(null)}catch(l){console.error("Logout error:",l)}};return c.jsx(mN.Provider,{value:{user:t,loading:n,login:o,logout:s},children:e})}function Ni(){const e=N.useContext(mN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function CM({children:e}){const{user:t,loading:r}=Ni();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-gray-600",children:"Loading..."})}):t?c.jsx(c.Fragment,{children:e}):c.jsx(WE,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>N.createElement("svg",{ref:d,...$M,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${IM(e)}`,s].join(" "),...u},[...t.map(([f,h])=>N.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ge("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=ge("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ge("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ge("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=ge("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=ge("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ge("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),YM="modulepreload",XM=function(e){return"/"+e},mw={},wN=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=XM(l),l in mw)return;mw[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":YM,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};ee||console.error(" Supabase is not configured. Please set up your .env file with Supabase credentials.");const Ma=e=>({id:e.id,name:e.name,address:e.address,addressLine2:e.address_line_2,city:e.city,country:e.country,images:e.images||[],createdAt:new Date(e.created_at),shortCode:e.short_code,state:e.state,postalCode:e.postal_code,notes:e.notes,isActive:e.is_active??!0}),La=e=>({id:e.id,propertyId:e.property_id,unitNumber:e.unit_number,type:e.type,floor:e.floor,bedrooms:e.bedrooms,bathrooms:e.bathrooms,squareFeet:e.square_feet,monthlyRent:parseFloat(e.monthly_rent)||0,isOccupied:e.is_occupied,images:e.images||[],notes:e.notes,createdAt:new Date(e.created_at)}),Ua=e=>({id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,secondaryPhone:e.secondary_phone,whatsappNumber:e.whatsapp_number,secondaryWhatsappNumber:e.secondary_whatsapp_number,nationalId:e.national_id,emergencyContact:e.emergency_contact,emergencyPhone:e.emergency_phone,createdAt:new Date(e.created_at),idType:e.id_type,idNumber:e.id_number,idExpiryDate:e.id_expiry_date?new Date(e.id_expiry_date):void 0,billingAddress:e.billing_address,paymentMethod:e.payment_method,notificationPreference:e.notification_preference,notes:e.notes}),Ds=e=>({id:e.id,tenantId:e.tenant_id,unitId:e.unit_id,startDate:new Date(e.start_date),endDate:new Date(e.end_date),monthlyRent:parseFloat(e.monthly_rent)||0,securityDeposit:parseFloat(e.security_deposit)||0,paymentFrequency:e.payment_frequency,numberOfInstallments:e.number_of_installments,status:e.status,reminderPeriod:e.reminder_period,notes:e.notes,createdAt:new Date(e.created_at),contractNumber:e.contract_number,dueDateDay:e.due_date_day,attachments:e.attachments||[]}),Cp=e=>({id:e.id,contractId:e.contract_id,invoiceNumber:e.invoice_number,installmentNumber:e.installment_number,dueDate:new Date(e.due_date),amount:parseFloat(e.amount)||0,paidAmount:parseFloat(e.paid_amount)||0,remainingAmount:parseFloat(e.remaining_amount)||0,status:e.status,sentDate:e.sent_date?new Date(e.sent_date):void 0,createdAt:new Date(e.created_at),notes:e.notes,adminStatus:e.admin_status,paymentType:e.payment_type}),Ui=e=>({id:e.id,invoiceId:e.invoice_id,amount:parseFloat(e.amount)||0,paymentDate:new Date(e.payment_date),paymentMethod:e.payment_method,referenceNumber:e.reference_number,notes:e.notes,createdAt:new Date(e.created_at)}),JM=e=>({id:e.id,contractId:e.contract_id,invoiceId:e.invoice_id,reminderDate:new Date(e.reminder_date),message:e.message,isDismissed:e.is_dismissed,createdAt:new Date(e.created_at)}),QM=e=>({name:e.name,address:e.address,address_line_2:e.addressLine2,city:e.city,country:e.country,images:e.images||[],short_code:e.shortCode,state:e.state,postal_code:e.postalCode,notes:e.notes,is_active:e.isActive??!0}),ZM=e=>({property_id:e.propertyId,unit_number:e.unitNumber,type:e.type,floor:e.floor,bedrooms:e.bedrooms,bathrooms:e.bathrooms,square_feet:e.squareFeet,monthly_rent:e.monthlyRent,is_occupied:e.isOccupied,images:e.images||[],notes:e.notes}),e3=e=>{var t;return{first_name:e.firstName,last_name:e.lastName,email:e.email,phone:e.phone,secondary_phone:e.secondaryPhone,whatsapp_number:e.whatsappNumber,secondary_whatsapp_number:e.secondaryWhatsappNumber,national_id:e.nationalId,emergency_contact:e.emergencyContact,emergency_phone:e.emergencyPhone,id_type:e.idType,id_number:e.idNumber,id_expiry_date:(t=e.idExpiryDate)==null?void 0:t.toISOString().split("T")[0],billing_address:e.billingAddress,payment_method:e.paymentMethod,notification_preference:e.notificationPreference,notes:e.notes}},t3=e=>({tenant_id:e.tenantId,unit_id:e.unitId,contract_number:e.contractNumber,start_date:e.startDate.toISOString().split("T")[0],end_date:e.endDate.toISOString().split("T")[0],monthly_rent:e.monthlyRent,security_deposit:e.securityDeposit,payment_frequency:e.paymentFrequency,number_of_installments:e.numberOfInstallments,status:e.status,reminder_period:e.reminderPeriod,due_date_day:e.dueDateDay,notes:e.notes,attachments:e.attachments||[]}),r3=e=>({invoice_id:e.invoiceId,amount:Math.round(e.amount*100)/100,payment_date:e.paymentDate.toISOString().split("T")[0],payment_method:e.paymentMethod,reference_number:e.referenceNumber,notes:e.notes}),gw=e=>({id:e.id,requestType:e.request_type,requestedBy:e.requested_by,approvedBy:e.approved_by,status:e.status,entityType:e.entity_type,entityId:e.entity_id,requestData:e.request_data,rejectionReason:e.rejection_reason,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),approvedAt:e.approved_at?new Date(e.approved_at):void 0});class n3{checkSupabase(){return ee?!0:(console.warn(" Supabase is not configured. Please set up your .env file."),!1)}async getProperties(){if(!this.checkSupabase())return[];const{data:t,error:r}=await ee.from("properties").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching properties:",r),[]):t?t.map(Ma):[]}async getPropertyById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await ee.from("properties").select("*").eq("id",t).single();return n?(console.error("Error fetching property:",n),null):Ma(r)}async createProperty(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await ee.from("properties").insert(QM(t)).select().single();if(n)throw console.error("Error creating property:",n),n;return Ma(r)}async updateProperty(t,r){const n={};if(r.name!==void 0&&(n.name=r.name),r.address!==void 0&&(n.address=r.address),r.addressLine2!==void 0&&(n.address_line_2=r.addressLine2),r.city!==void 0&&(n.city=r.city),r.country!==void 0&&(n.country=r.country),r.images!==void 0&&(n.images=r.images),r.shortCode!==void 0&&(n.short_code=r.shortCode),r.state!==void 0&&(n.state=r.state),r.postalCode!==void 0&&(n.postal_code=r.postalCode),r.notes!==void 0&&(n.notes=r.notes),r.isActive!==void 0&&(n.is_active=r.isActive),!this.checkSupabase())return null;const{data:a,error:i}=await ee.from("properties").update(n).eq("id",t).select().single();return i?(console.error("Error updating property:",i),null):Ma(a)}async deleteProperty(t){if(!this.checkSupabase())return!1;const{error:r}=await ee.from("properties").delete().eq("id",t);return r?(console.error("Error deleting property:",r),!1):!0}async getUnits(t){if(!this.checkSupabase())return[];let r=ee.from("units").select("*").order("created_at",{ascending:!1});t&&(r=r.eq("property_id",t));const{data:n,error:a}=await r;return a?(console.error("Error fetching units:",a),[]):n.map(La)}async getUnitById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await ee.from("units").select("*").eq("id",t).single();return n?(console.error("Error fetching unit:",n),null):La(r)}async createUnit(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await ee.from("units").insert(ZM(t)).select().single();if(n)throw console.error("Error creating unit:",n),n;return La(r)}async updateUnit(t,r){const n={};if(r.propertyId!==void 0&&(n.property_id=r.propertyId),r.unitNumber!==void 0&&(n.unit_number=r.unitNumber),r.type!==void 0&&(n.type=r.type),r.floor!==void 0&&(n.floor=r.floor),r.bedrooms!==void 0&&(n.bedrooms=r.bedrooms),r.bathrooms!==void 0&&(n.bathrooms=r.bathrooms),r.squareFeet!==void 0&&(n.square_feet=r.squareFeet),r.monthlyRent!==void 0&&(n.monthly_rent=r.monthlyRent),r.isOccupied!==void 0&&(n.is_occupied=r.isOccupied),r.images!==void 0&&(n.images=r.images),r.notes!==void 0&&(n.notes=r.notes),!this.checkSupabase())return null;const{data:a,error:i}=await ee.from("units").update(n).eq("id",t).select().single();return i?(console.error("Error updating unit:",i),null):La(a)}async deleteUnit(t){if(!this.checkSupabase())return!1;const{error:r}=await ee.from("units").delete().eq("id",t);return r?(console.error("Error deleting unit:",r),!1):!0}async getTenants(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await ee.from("tenants").select(`
        id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
        national_id, emergency_contact, emergency_phone, created_at,
        id_type, id_number, id_expiry_date, billing_address, payment_method, notification_preference, notes
      `).order("created_at",{ascending:!1}).range(t.from,t.to);return n?(console.error("Error fetching tenants:",n),[]):r.map(Ua)}async getTenantById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await ee.from("tenants").select("*").eq("id",t).single();return n?(console.error("Error fetching tenant:",n),null):Ua(r)}async createTenant(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await ee.from("tenants").insert(e3(t)).select().single();if(n)throw console.error("Error creating tenant:",n),n;return Ua(r)}async updateTenant(t,r){var o;const n={};if(r.firstName!==void 0&&(n.first_name=r.firstName),r.lastName!==void 0&&(n.last_name=r.lastName),r.email!==void 0&&(n.email=r.email),r.phone!==void 0&&(n.phone=r.phone),r.secondaryPhone!==void 0&&(n.secondary_phone=r.secondaryPhone),r.whatsappNumber!==void 0&&(n.whatsapp_number=r.whatsappNumber),r.secondaryWhatsappNumber!==void 0&&(n.secondary_whatsapp_number=r.secondaryWhatsappNumber),r.nationalId!==void 0&&(n.national_id=r.nationalId),r.emergencyContact!==void 0&&(n.emergency_contact=r.emergencyContact),r.emergencyPhone!==void 0&&(n.emergency_phone=r.emergencyPhone),r.idType!==void 0&&(n.id_type=r.idType),r.idNumber!==void 0&&(n.id_number=r.idNumber),r.idExpiryDate!==void 0&&(n.id_expiry_date=(o=r.idExpiryDate)==null?void 0:o.toISOString().split("T")[0]),r.billingAddress!==void 0&&(n.billing_address=r.billingAddress),r.paymentMethod!==void 0&&(n.payment_method=r.paymentMethod),r.notificationPreference!==void 0&&(n.notification_preference=r.notificationPreference),r.notes!==void 0&&(n.notes=r.notes),!this.checkSupabase())return null;const{data:a,error:i}=await ee.from("tenants").update(n).eq("id",t).select().single();return i?(console.error("Error updating tenant:",i),null):Ua(a)}async deleteTenant(t){if(!this.checkSupabase())return!1;const{data:r}=await ee.from("contracts").select("id").eq("tenant_id",t).limit(1);if(r&&r.length>0)return!1;const{error:n}=await ee.from("tenants").delete().eq("id",t);return n?(console.error("Error deleting tenant:",n),!1):!0}async getContracts(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await ee.from("contracts").select(`
        *,
        tenant:tenants(
          id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
          payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date, billing_address
        ),
        unit:units(
          id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
          property:properties(
            id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
          )
        )
      `).order("created_at",{ascending:!1}).range(t.from,t.to);return n?(console.error("Error fetching contracts:",n),[]):r.map(a=>{const i=Ds(a),o=Ua(a.tenant),s=La(a.unit),l=Ma(a.unit.property);return{...i,tenant:o,unit:s,property:l}}).filter(a=>a.tenant&&a.unit&&a.property)}async createContract(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");if(n!=="admin"&&r)try{return{success:!0,requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("contract_create","contract",t,r)).id,message:"Contract creation request submitted for approval"}}catch(s){return console.error("Error creating approval request:",s),{success:!1,message:s.message||"Failed to create approval request"}}if(t.status==="active"){const{data:s}=await ee.from("contracts").select("id").eq("unit_id",t.unitId).eq("status","active").or(`and(start_date.lte.${t.endDate.toISOString().split("T")[0]},end_date.gte.${t.startDate.toISOString().split("T")[0]})`);if(s&&s.length>0)return{success:!1,message:"This unit already has an active contract for the selected dates."};const{data:l}=await ee.from("contracts").select("id").eq("tenant_id",t.tenantId).eq("status","active").limit(1);if(l&&l.length>0)return{success:!1,message:"This tenant already has an active contract."}}const{data:a,error:i}=await ee.from("contracts").insert(t3(t)).select().single();if(i)return console.error("Error creating contract:",i),{success:!1,message:i.message};const o=Ds(a);return t.status==="active"&&await this.generateInvoicesForContract(o),{success:!0,contract:o}}async terminateContract(t,r,n){if(!this.checkSupabase())return!1;if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("contract_terminate","contract",{contractId:t},r)).id,message:"Contract termination request submitted for approval"}}catch(o){return console.error("Error creating approval request:",o),!1}const{error:a}=await ee.from("contracts").update({status:"terminated"}).eq("id",t);if(a)return console.error("Error terminating contract:",a),!1;const{data:i}=await ee.from("contracts").select("unit_id").eq("id",t).single();return i&&(await ee.from("units").update({is_occupied:!1}).eq("id",i.unit_id),await ee.from("invoices").update({status:"cancelled"}).eq("contract_id",t).in("status",["pending","partial","overdue"])),!0}async updateContract(t,r,n,a){if(!this.checkSupabase())return null;const{data:i,error:o}=await ee.from("contracts").select("status").eq("id",t).single();if(o||!i)return console.error("Error fetching contract:",o),null;if(i.status==="active"){if(r.status&&r.status!=="terminated")throw new Error("Active contracts cannot be edited. Only termination is allowed.");const f=["status"];if(Object.keys(r).some(g=>!f.includes(g))&&r.status!=="terminated")throw new Error("Active contracts cannot be edited. Only termination is allowed.")}if(i.status==="draft"&&r.status==="active"&&a!=="admin"&&n)throw new Error("Changing contract status to active requires admin approval");const s={};r.tenantId!==void 0&&(s.tenant_id=r.tenantId),r.unitId!==void 0&&(s.unit_id=r.unitId),r.contractNumber!==void 0&&(s.contract_number=r.contractNumber),r.startDate!==void 0&&(s.start_date=r.startDate.toISOString().split("T")[0]),r.endDate!==void 0&&(s.end_date=r.endDate.toISOString().split("T")[0]),r.monthlyRent!==void 0&&(s.monthly_rent=r.monthlyRent),r.securityDeposit!==void 0&&(s.security_deposit=r.securityDeposit),r.paymentFrequency!==void 0&&(s.payment_frequency=r.paymentFrequency),r.numberOfInstallments!==void 0&&(s.number_of_installments=r.numberOfInstallments),r.status!==void 0&&(s.status=r.status),r.reminderPeriod!==void 0&&(s.reminder_period=r.reminderPeriod),r.dueDateDay!==void 0&&(s.due_date_day=r.dueDateDay),r.notes!==void 0&&(s.notes=r.notes),r.attachments!==void 0&&(s.attachments=r.attachments||[]);const{data:l,error:u}=await ee.from("contracts").update(s).eq("id",t).select().single();if(u)return console.error("Error updating contract:",u),null;const d=Ds(l);return i.status!=="active"&&r.status==="active"&&await this.generateInvoicesForContract(d),d}async generateInvoicesForContract(t){const{addMonths:r,differenceInMonths:n}=await wN(async()=>{const{addMonths:u,differenceInMonths:d}=await Promise.resolve().then(()=>WL);return{addMonths:u,differenceInMonths:d}},void 0),a=n(t.endDate,t.startDate),i=t.monthlyRent*a;let o=1,s=t.monthlyRent;t.paymentFrequency==="monthly"?(o=1,s=t.monthlyRent):t.paymentFrequency==="1_payment"?(o=a,s=i):t.paymentFrequency==="2_payment"?(o=Math.floor(a/2),s=i/2):t.paymentFrequency==="3_payment"?(o=Math.floor(a/3),s=i/3):t.paymentFrequency==="4_payment"&&(o=Math.floor(a/4),s=i/4);const l=[];for(let u=0;u<t.numberOfInstallments;u++){const d=r(t.startDate,u*o);t.dueDateDay&&d.setDate(t.dueDateDay);const f=`INV-${t.id.slice(-4).toUpperCase()}-${String(u+1).padStart(3,"0")}`;l.push({contract_id:t.id,invoice_number:f,installment_number:u+1,due_date:d.toISOString().split("T")[0],amount:s,paid_amount:0,remaining_amount:s,status:"pending"})}if(l.length>0){if(!this.checkSupabase())return;const{error:u}=await ee.from("invoices").insert(l);u&&console.error("Error generating invoices:",u)}}async getInvoices(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await ee.from("invoices").select(`
        *,
        contract:contracts!inner(
          *,
          tenant:tenants(
            id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
            payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date
          ),
          unit:units(
            id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
            property:properties(
              id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
            )
          )
        )
      `).order("created_at",{ascending:!1}).range(t.from,t.to);if(n)return console.error("Error fetching invoices:",n),[];const a=r.map(s=>s.id),{data:i}=await ee.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").in("invoice_id",a),o=new Map;return i&&i.forEach(s=>{o.has(s.invoice_id)||o.set(s.invoice_id,[]),o.get(s.invoice_id).push(Ui(s))}),r.map(s=>{if(!s.contract||!s.contract.tenant||!s.contract.unit||!s.contract.unit.property)return null;const l=Cp(s),u=Ds(s.contract),d=Ua(s.contract.tenant),f=La(s.contract.unit),h=Ma(s.contract.unit.property),p=o.get(l.id)||[];return{...l,contract:u,tenant:d,unit:f,property:h,payments:p}}).filter(s=>s!==null)}async getInvoicesByDateRange(t,r,n={from:0,to:199}){if(!this.checkSupabase())return[];const{data:a,error:i}=await ee.from("invoices").select(`
        *,
        contract:contracts!inner(
          *,
          tenant:tenants(
            id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
            payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date
          ),
          unit:units(
            id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
            property:properties(
              id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
            )
          )
        )
      `).gte("due_date",t.toISOString().split("T")[0]).lte("due_date",r.toISOString().split("T")[0]).order("due_date",{ascending:!0}).range(n.from,n.to);if(i)return console.error("Error fetching invoices by date range:",i),[];const o=a.map(u=>u.id),{data:s}=await ee.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").in("invoice_id",o),l=new Map;return s&&s.forEach(u=>{l.has(u.invoice_id)||l.set(u.invoice_id,[]),l.get(u.invoice_id).push(Ui(u))}),a.map(u=>{if(!u.contract||!u.contract.tenant||!u.contract.unit||!u.contract.unit.property)return null;const d=Cp(u),f=Ds(u.contract),h=Ua(u.contract.tenant),p=La(u.contract.unit),g=Ma(u.contract.unit.property),y=l.get(d.id)||[];return{...d,contract:f,tenant:h,unit:p,property:g,payments:y}}).filter(u=>u!==null)}async updateInvoice(t,r){var o;if(!this.checkSupabase())return null;const n={};r.paidAmount!==void 0&&(n.paid_amount=r.paidAmount),r.remainingAmount!==void 0&&(n.remaining_amount=r.remainingAmount),r.status!==void 0&&(n.status=r.status),r.adminStatus!==void 0&&(n.admin_status=r.adminStatus),r.paymentType!==void 0&&(n.payment_type=r.paymentType),r.sentDate!==void 0&&(n.sent_date=(o=r.sentDate)==null?void 0:o.toISOString().split("T")[0]),r.notes!==void 0&&(n.notes=r.notes);const{data:a,error:i}=await ee.from("invoices").update(n).eq("id",t).select().single();return i?(console.error("Error updating invoice:",i),null):Cp(a)}async getPayments(t,r={from:0,to:199}){if(!this.checkSupabase())return[];let n=ee.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").order("payment_date",{ascending:!1}).range(r.from,r.to);t&&(n=n.eq("invoice_id",t));const{data:a,error:i}=await n;return i?(console.error("Error fetching payments:",i),[]):a.map(Ui)}async createPayment(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("payment_create","payment",t,r)).id,message:"Payment request submitted for approval"}}catch(s){throw console.error("Error creating approval request:",s),s}const{data:a,error:i}=await ee.from("payments").insert(r3(t)).select().single();if(i)throw console.error("Error creating payment:",i),i;const{data:o}=await ee.from("invoices").select("paid_amount, remaining_amount, amount").eq("id",t.invoiceId).single();if(o){const s=Math.round(((o.paid_amount||0)+t.amount)*100)/100,l=Math.round((o.amount-s)*100)/100;let u="pending";if(l<=.01){u="paid";const d=0,f=o.amount;await ee.from("invoices").update({paid_amount:f,remaining_amount:d,status:u}).eq("id",t.invoiceId)}else s>0&&(u="partial",await ee.from("invoices").update({paid_amount:s,remaining_amount:l,status:u}).eq("id",t.invoiceId))}return Ui(a)}async deletePayment(t,r,n){if(!this.checkSupabase())return!1;const{data:a,error:i}=await ee.from("payments").select("*").eq("id",t).single();if(i||!a)return console.error("Error fetching payment:",i),!1;if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("payment_delete","payment",{paymentId:t,payment:Ui(a)},r)).id,message:"Payment deletion request submitted for approval"}}catch(u){return console.error("Error creating approval request:",u),!1}const{error:o}=await ee.from("payments").delete().eq("id",t);if(o)return console.error("Error deleting payment:",o),!1;const s=Ui(a),{data:l}=await ee.from("invoices").select("paid_amount, remaining_amount, amount").eq("id",s.invoiceId).single();if(l){const u=Math.round(Math.max(0,(l.paid_amount||0)-s.amount)*100)/100,d=Math.round((l.amount-u)*100)/100;let f="pending";if(d<=.01){f="paid";const h=0,p=l.amount;await ee.from("invoices").update({paid_amount:p,remaining_amount:h,status:f}).eq("id",s.invoiceId)}else u>0?(f="partial",await ee.from("invoices").update({paid_amount:u,remaining_amount:d,status:f}).eq("id",s.invoiceId)):(f="pending",await ee.from("invoices").update({paid_amount:u,remaining_amount:d,status:f}).eq("id",s.invoiceId))}return!0}async createApprovalRequest(t,r,n,a){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:i,error:o}=await ee.from("approval_requests").insert({request_type:t,requested_by:a,status:"pending",entity_type:r,request_data:n}).select().single();if(o)throw console.error("Error creating approval request:",o),o;return gw(i)}async getApprovalRequests(t,r){if(!this.checkSupabase())return[];let n=ee.from("approval_requests").select(`
        *,
        requester:users!approval_requests_requested_by_fkey(id, name, email),
        approver:users!approval_requests_approved_by_fkey(id, name, email)
      `).order("created_at",{ascending:!1});t&&(n=n.eq("status",t)),r&&(n=n.eq("requested_by",r));const{data:a,error:i}=await n;return i?(console.error("Error fetching approval requests:",i),[]):a.map(o=>{var s,l;return{...gw(o),requesterName:(s=o.requester)==null?void 0:s.name,approverName:(l=o.approver)==null?void 0:l.name}})}async approveRequest(t,r){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:n,error:a}=await ee.from("approval_requests").select("*").eq("id",t).single();if(a||!n)return{success:!1,message:"Request not found"};if(n.status!=="pending")return{success:!1,message:"Request already processed"};let i=null;try{switch(n.request_type){case"contract_create":const s=await this.createContract(n.request_data,r,"admin");if(s.success&&s.contract)i=s.contract.id;else return{success:!1,message:s.message||"Failed to create contract"};break;case"contract_terminate":if(await this.terminateContract(n.request_data.contractId,r,"admin")===!0)i=n.request_data.contractId;else return{success:!1,message:"Failed to terminate contract"};break;case"payment_create":const u=await this.createPayment(n.request_data,r,"admin");if("id"in u)i=u.id;else return{success:!1,message:"Failed to create payment"};break;case"payment_delete":if(await this.deletePayment(n.request_data.paymentId,r,"admin")===!0)i=n.request_data.paymentId;else return{success:!1,message:"Failed to delete payment"};break;default:return{success:!1,message:"Unknown request type"}}const{error:o}=await ee.from("approval_requests").update({status:"approved",approved_by:r,approved_at:new Date().toISOString(),entity_id:i}).eq("id",t);return o?(console.error("Error updating approval request:",o),{success:!1,message:"Failed to update approval status"}):{success:!0}}catch(o){return console.error("Error processing approval:",o),{success:!1,message:o.message||"Failed to process approval"}}}async rejectRequest(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{error:a}=await ee.from("approval_requests").update({status:"rejected",approved_by:r,rejection_reason:n,updated_at:new Date().toISOString()}).eq("id",t);return a?(console.error("Error rejecting request:",a),{success:!1,message:a.message}):{success:!0}}async getReminders(){if(!this.checkSupabase())return[];const{data:t,error:r}=await ee.from("reminders").select("*").eq("is_dismissed",!1).order("reminder_date",{ascending:!0});return r?(console.error("Error fetching reminders:",r),[]):t.map(JM)}async getActiveReminders(){const t=await this.getReminders(),r=new Date;return t.filter(n=>n.reminderDate?new Date(n.reminderDate)<=r:!1)}async dismissReminder(t){if(!this.checkSupabase())return!1;const{error:r}=await ee.from("reminders").update({is_dismissed:!0}).eq("id",t);return r?(console.error("Error dismissing reminder:",r),!1):!0}async getDashboardStats(){const[t,r,n,a,i]=await Promise.all([this.getProperties(),this.getUnits(),this.getTenants(),this.getContracts(),this.getInvoices()]),o=a.filter(m=>m.status==="active"),s=new Set(o.map(m=>m.tenantId)).size,l=i.reduce((m,b)=>m+b.amount,0),u=i.reduce((m,b)=>m+b.paidAmount,0),d=i.filter(m=>m.status==="pending"||m.status==="partial").reduce((m,b)=>m+b.remainingAmount,0),f=i.filter(m=>m.status==="overdue").reduce((m,b)=>m+b.remainingAmount,0),h=i.filter(m=>{const b=new Date(m.dueDate);return m.status!=="paid"&&m.status!=="cancelled"&&b<new Date}),p=i.filter(m=>{const b=new Date(m.dueDate),x=new Date,S=new Date(x);return S.setDate(x.getDate()+7),m.status==="pending"&&b>=x&&b<=S}),g=r.filter(m=>m.isOccupied).length,y=r.length>0?g/r.length*100:0,v=l>0?u/l*100:0;return{totalProperties:t.length,totalUnits:r.length,occupiedUnits:g,vacantUnits:r.length-g,totalTenants:n.length,activeTenants:s,activeContracts:o.length,totalRevenue:l,collectedRevenue:u,pendingRevenue:d,overdueRevenue:f,overdueInvoices:h.length,upcomingInvoices:p.length,occupancyRate:y,collectionRate:v}}async getOverdueInvoices(){const t=await this.getInvoices(),r=new Date;return t.filter(n=>{const a=new Date(n.dueDate);return n.status!=="paid"&&n.status!=="cancelled"&&a<r})}async searchProperties(t){const r=await this.getProperties(),n=t.toLowerCase();return r.filter(a=>{var i;return a.name.toLowerCase().includes(n)||a.address.toLowerCase().includes(n)||a.city.toLowerCase().includes(n)||((i=a.shortCode)==null?void 0:i.toLowerCase().includes(n))})}async searchUnits(t){const r=await this.getUnits(),n=t.toLowerCase();return r.filter(a=>a.unitNumber.toLowerCase().includes(n)||a.type.toLowerCase().includes(n))}async searchTenants(t){const r=await this.getTenants(),n=t.toLowerCase();return r.filter(a=>{var i,o,s,l,u;return a.firstName.toLowerCase().includes(n)||a.lastName.toLowerCase().includes(n)||a.email.toLowerCase().includes(n)||a.phone.includes(t)||((i=a.whatsappNumber)==null?void 0:i.includes(t))||a.nationalId.toLowerCase().includes(n)||((o=a.idNumber)==null?void 0:o.toLowerCase().includes(n))||((s=a.emergencyContact)==null?void 0:s.toLowerCase().includes(n))||((l=a.emergencyPhone)==null?void 0:l.includes(t))||((u=a.billingAddress)==null?void 0:u.toLowerCase().includes(n))})}async searchContracts(t){const r=await this.getContracts(),n=t.toLowerCase();return r.filter(a=>{var l,u;const i=a.tenant,o=a.property,s=a.unit;return`${i.firstName} ${i.lastName}`.toLowerCase().includes(n)||o.name.toLowerCase().includes(n)||s.unitNumber.toLowerCase().includes(n)||((l=a.contractNumber)==null?void 0:l.toLowerCase().includes(n))||i.email.toLowerCase().includes(n)||i.phone.includes(t)||((u=i.whatsappNumber)==null?void 0:u.includes(t))||i.nationalId.toLowerCase().includes(n)})}async searchInvoices(t){const r=await this.getInvoices(),n=t.toLowerCase();return r.filter(a=>{var i;return a.invoiceNumber.toLowerCase().includes(n)||`${a.tenant.firstName} ${a.tenant.lastName}`.toLowerCase().includes(n)||a.unit.unitNumber.toLowerCase().includes(n)||a.property.name.toLowerCase().includes(n)||a.tenant.email.toLowerCase().includes(n)||a.tenant.phone.includes(t)||((i=a.tenant.whatsappNumber)==null?void 0:i.includes(t))})}async searchPayments(t){const r=await this.getPayments(),n=t.toLowerCase();return r.filter(a=>{var i;return((i=a.referenceNumber)==null?void 0:i.toLowerCase().includes(n))||a.paymentMethod.toLowerCase().includes(n)})}}const _N=new n3,a3=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:_N},Symbol.toStringTag,{value:"Module"})),SN=ee!==null;SN?console.log(" Using Supabase for data storage"):console.warn(" Supabase not configured, using localStorage fallback");class i3{getStorageKey(t){return`tenant_tracking_${t}`}loadFromStorage(t){try{const r=localStorage.getItem(this.getStorageKey(t));return r?JSON.parse(r).map(n=>(["createdAt","startDate","endDate","dueDate","paymentDate","reminderDate","sentDate","idExpiryDate"].forEach(i=>{n[i]&&(n[i]=new Date(n[i]))}),n)):[]}catch{return[]}}saveToStorage(t,r){localStorage.setItem(this.getStorageKey(t),JSON.stringify(r))}async getProperties(){return this.loadFromStorage("properties")}async getUnits(){return this.loadFromStorage("units")}async getTenants(){return this.loadFromStorage("tenants")}async getContracts(){const t=this.loadFromStorage("contracts"),r=this.loadFromStorage("tenants"),n=this.loadFromStorage("units"),a=this.loadFromStorage("properties");return t.map(i=>{const o=r.find(u=>u.id===i.tenantId),s=n.find(u=>u.id===i.unitId),l=a.find(u=>u.id===(s==null?void 0:s.propertyId));return!o||!s||!l?null:{...i,tenant:o,unit:s,property:l}}).filter(i=>i!==null)}async getInvoices(){const t=this.loadFromStorage("invoices"),r=this.loadFromStorage("contracts"),n=this.loadFromStorage("tenants"),a=this.loadFromStorage("units"),i=this.loadFromStorage("properties"),o=this.loadFromStorage("payments");return t.map(s=>{const l=r.find(p=>p.id===s.contractId);if(!l)return null;const u=n.find(p=>p.id===l.tenantId),d=a.find(p=>p.id===l.unitId),f=i.find(p=>p.id===(d==null?void 0:d.propertyId)),h=o.filter(p=>p.invoiceId===s.id);return!u||!d||!f?null:{...s,contract:l,tenant:u,unit:d,property:f,payments:h}}).filter(s=>s!==null)}async getPayments(){return this.loadFromStorage("payments")}async getInvoicesByDateRange(t,r){return(await this.getInvoices()).filter(a=>{const i=new Date(a.dueDate);return i>=t&&i<=r})}async getDashboardStats(){const t=await this.getProperties(),r=await this.getUnits(),n=await this.getTenants(),a=await this.getContracts(),i=await this.getInvoices(),o=a.filter(m=>m.status==="active"),s=new Set(o.map(m=>m.tenantId)).size,l=i.reduce((m,b)=>m+b.amount,0),u=i.reduce((m,b)=>m+b.paidAmount,0),d=i.filter(m=>m.status==="pending"||m.status==="partial").reduce((m,b)=>m+b.remainingAmount,0),f=i.filter(m=>m.status==="overdue").reduce((m,b)=>m+b.remainingAmount,0),h=i.filter(m=>{const b=new Date(m.dueDate);return m.status!=="paid"&&m.status!=="cancelled"&&b<new Date}),p=i.filter(m=>{const b=new Date(m.dueDate),x=new Date,S=new Date(x);return S.setDate(x.getDate()+7),m.status==="pending"&&b>=x&&b<=S}),g=r.filter(m=>m.isOccupied).length,y=r.length>0?g/r.length*100:0,v=l>0?u/l*100:0;return{totalProperties:t.length,totalUnits:r.length,occupiedUnits:g,vacantUnits:r.length-g,totalTenants:n.length,activeTenants:s,activeContracts:o.length,totalRevenue:l,collectedRevenue:u,pendingRevenue:d,overdueRevenue:f,overdueInvoices:h.length,upcomingInvoices:p.length,occupancyRate:y,collectionRate:v}}async getOverdueInvoices(){const t=await this.getInvoices(),r=new Date;return t.filter(n=>{const a=new Date(n.dueDate);return n.status!=="paid"&&n.status!=="cancelled"&&a<r})}getActiveReminders(){const t=this.loadFromStorage("reminders"),r=new Date;return t.filter(n=>n.isDismissed||!n.reminderDate?!1:new Date(n.reminderDate)<=r)}async dismissReminder(t){const n=this.loadFromStorage("reminders").map(a=>a.id===t?{...a,dismissed:!0}:a);return this.saveToStorage("reminders",n),!0}async createContract(t,r,n){const a=this.loadFromStorage("contracts"),i={...t,id:crypto.randomUUID(),createdAt:new Date};return a.push(i),this.saveToStorage("contracts",a),{success:!0,contract:i}}async terminateContract(t,r,n){const a=this.loadFromStorage("contracts"),i=a.find(u=>u.id===t);if(!i)return!1;i.status="terminated",this.saveToStorage("contracts",a);const o=this.loadFromStorage("units"),s=o.find(u=>u.id===i.unitId);s&&(s.isOccupied=!1,this.saveToStorage("units",o));const l=this.loadFromStorage("invoices");return l.forEach(u=>{u.contractId===t&&["pending","partial","overdue"].includes(u.status)&&(u.status="cancelled")}),this.saveToStorage("invoices",l),!0}async updateContract(t,r,n,a){const i=this.loadFromStorage("contracts"),o=i.find(s=>s.id===t);if(!o)return null;if(o.status==="active"&&r.status!=="terminated"){const s=["status"];if(Object.keys(r).some(d=>!s.includes(d)))throw new Error("Active contracts cannot be edited. Only termination is allowed.")}return Object.assign(o,r),this.saveToStorage("contracts",i),o}async createPayment(t,r,n){const a=this.loadFromStorage("payments"),i={...t,id:crypto.randomUUID(),createdAt:new Date};a.push(i),this.saveToStorage("payments",a);const o=this.loadFromStorage("invoices"),s=o.find(l=>l.id===t.invoiceId);if(s){const l=Math.round(((s.paidAmount||0)+t.amount)*100)/100,u=Math.round((s.amount-l)*100)/100;s.paidAmount=l,s.remainingAmount=u,u<=.01?(s.status="paid",s.remainingAmount=0,s.paidAmount=s.amount):l>0&&(s.status=s.status==="pending"?"partial":s.status),this.saveToStorage("invoices",o)}return i}async deletePayment(t,r,n){const a=this.loadFromStorage("payments"),i=a.find(u=>u.id===t);if(!i)return!1;const o=a.filter(u=>u.id!==t);this.saveToStorage("payments",o);const s=this.loadFromStorage("invoices"),l=s.find(u=>u.id===i.invoiceId);return l&&(l.paidAmount=Math.max(0,(l.paidAmount||0)-i.amount),l.remainingAmount=l.amount-l.paidAmount,l.remainingAmount<=0?l.status="paid":l.paidAmount>0?l.status="partial":l.status="pending",this.saveToStorage("invoices",s)),!0}async updateInvoice(t,r){const n=this.loadFromStorage("invoices"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("invoices",n),a):null}async createTenant(t){const r=this.loadFromStorage("tenants"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("tenants",r),n}async createProperty(t){const r=this.loadFromStorage("properties"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("properties",r),n}async updateProperty(t,r){const n=this.loadFromStorage("properties"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("properties",n),a):null}async deleteProperty(t){if(this.loadFromStorage("units").some(o=>o.propertyId===t))return!1;const i=this.loadFromStorage("properties").filter(o=>o.id!==t);return this.saveToStorage("properties",i),!0}async createUnit(t){const r=this.loadFromStorage("units"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("units",r),n}async updateUnit(t,r){const n=this.loadFromStorage("units"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("units",n),a):null}async deleteUnit(t){if(this.loadFromStorage("contracts").some(o=>o.unitId===t))return!1;const i=this.loadFromStorage("units").filter(o=>o.id!==t);return this.saveToStorage("units",i),!0}async updateTenant(t,r){const n=this.loadFromStorage("tenants"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("tenants",n),a):null}async deleteTenant(t){if(this.loadFromStorage("contracts").some(o=>o.tenantId===t))return!1;const i=this.loadFromStorage("tenants").filter(o=>o.id!==t);return this.saveToStorage("tenants",i),!0}async getApprovalRequests(t,r){return[]}async approveRequest(t,r){return{success:!1,message:"Approval system requires Supabase"}}async rejectRequest(t,r,n){return{success:!1,message:"Approval system requires Supabase"}}}const le=SN?_N:new i3;function jN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jN(e))&&(n&&(n+=" "),n+=t);return n}const d0="-",o3=e=>{const t=l3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(d0);return s[0]===""&&s.length!==1&&s.shift(),ON(s,t)||s3(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},ON=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?ON(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(d0);return(o=t.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},yw=/^\[(.+)\]$/,s3=e=>{if(yw.test(e)){const t=yw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},l3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return c3(Object.entries(e.classGroups),r).forEach(([i,o])=>{Sg(o,n,i,t)}),n},Sg=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:vw(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(u3(a)){Sg(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Sg(o,vw(t,i),r,n)})})},vw=(e,t)=>{let r=e;return t.split(d0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},u3=e=>e.isThemeGetter,c3=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[r,a]}):e,d3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},EN="!",f3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=s=>{const l=[];let u=0,d=0,f;for(let v=0;v<s.length;v++){let m=s[v];if(u===0){if(m===a&&(n||s.slice(v,v+i)===t)){l.push(s.slice(d,v)),d=v+i;continue}if(m==="/"){f=v;continue}}m==="["?u++:m==="]"&&u--}const h=l.length===0?s:s.substring(d),p=h.startsWith(EN),g=p?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}};return r?s=>r({className:s,parseClassName:o}):o},h3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},p3=e=>({cache:d3(e.cacheSize),parseClassName:f3(e),...o3(e)}),m3=/\s+/,g3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(m3);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,y=n(g?h.substring(0,p):h);if(!y){if(!g){s=u+(s.length>0?" "+s:s);continue}if(y=n(h),!y){s=u+(s.length>0?" "+s:s);continue}g=!1}const v=h3(d).join(":"),m=f?v+EN:v,b=m+y;if(i.includes(b))continue;i.push(b);const x=a(y,g);for(let S=0;S<x.length;++S){const w=x[S];i.push(m+w)}s=u+(s.length>0?" "+s:s)}return s};function y3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=PN(t))&&(n&&(n+=" "),n+=r);return n}const PN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=PN(e[n]))&&(r&&(r+=" "),r+=t);return r};function v3(e,...t){let r,n,a,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=p3(u),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=g3(l,r);return a(l,d),d}return function(){return i(y3.apply(null,arguments))}}const Fe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NN=/^\[(?:([a-z-]+):)?(.+)\]$/i,b3=/^\d+\/\d+$/,x3=new Set(["px","full","screen"]),w3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,j3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=e=>vo(e)||x3.has(e)||b3.test(e),Wn=e=>fs(e,"length",$3),vo=e=>!!e&&!Number.isNaN(Number(e)),$p=e=>fs(e,"number",vo),Rs=e=>!!e&&Number.isInteger(Number(e)),E3=e=>e.endsWith("%")&&vo(e.slice(0,-1)),he=e=>NN.test(e),Vn=e=>w3.test(e),P3=new Set(["length","size","percentage"]),N3=e=>fs(e,P3,AN),A3=e=>fs(e,"position",AN),k3=new Set(["image","url"]),T3=e=>fs(e,k3,D3),C3=e=>fs(e,"",I3),Ms=()=>!0,fs=(e,t,r)=>{const n=NN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$3=e=>_3.test(e)&&!S3.test(e),AN=()=>!1,I3=e=>j3.test(e),D3=e=>O3.test(e),R3=()=>{const e=Fe("colors"),t=Fe("spacing"),r=Fe("blur"),n=Fe("brightness"),a=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),s=Fe("borderWidth"),l=Fe("contrast"),u=Fe("grayscale"),d=Fe("hueRotate"),f=Fe("invert"),h=Fe("gap"),p=Fe("gradientColorStops"),g=Fe("gradientColorStopPositions"),y=Fe("inset"),v=Fe("margin"),m=Fe("opacity"),b=Fe("padding"),x=Fe("saturate"),S=Fe("scale"),w=Fe("sepia"),_=Fe("skew"),j=Fe("space"),E=Fe("translate"),k=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",he,t],T=()=>[he,t],M=()=>["",dn,Wn],C=()=>["auto",vo,he],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",he],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[vo,he];return{cacheSize:500,separator:":",theme:{colors:[Ms],spacing:[dn,Wn],blur:["none","",Vn,he],brightness:z(),borderColor:[e],borderRadius:["none","","full",Vn,he],borderSpacing:T(),borderWidth:M(),contrast:z(),grayscale:L(),hueRotate:z(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[E3,Wn],inset:P(),margin:P(),opacity:z(),padding:T(),saturate:z(),scale:z(),sepia:L(),skew:z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Vn]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),he]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rs,he]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Rs,he]}],"grid-cols":[{"grid-cols":[Ms]}],"col-start-end":[{col:["auto",{span:["full",Rs,he]},he]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Ms]}],"row-start-end":[{row:["auto",{span:[Rs,he]},he]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[Vn]},Vn]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vn,Wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$p]}],"font-family":[{font:[Ms]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",vo,$p]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,Wn]}],"underline-offset":[{"underline-offset":["auto",dn,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),A3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[dn,he]}],"outline-w":[{outline:[dn,Wn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[dn,Wn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vn,C3]}],"shadow-color":[{shadow:[Ms]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Vn,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Rs,he]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dn,Wn,$p]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},M3=v3(R3);function Et(...e){return M3(pe(e))}function Ke(e){return`AED ${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function Yt(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}function Ul(e){return{active:"bg-success-100 text-success-700",pending:"bg-warning-100 text-warning-700",paid:"bg-success-100 text-success-700",partial:"bg-primary-100 text-primary-700",overdue:"bg-danger-100 text-danger-700",expired:"bg-gray-100 text-gray-700",terminated:"bg-gray-100 text-gray-700",cancelled:"bg-gray-100 text-gray-700",draft:"bg-gray-100 text-gray-700"}[e]||"bg-gray-100 text-gray-700"}function kN(e,t){let r=e.replace(/[^0-9+]/g,"");r.startsWith("+")||(r=r.replace(/^0+/,""),r.startsWith("971")||(r="971"+r),r="+"+r);const n=encodeURIComponent(t);return`https://wa.me/${r.replace("+","")}?text=${n}`}function TN(e,t,r){const n=encodeURIComponent(t),a=encodeURIComponent(r);return`mailto:${e}?subject=${n}&body=${a}`}function L3(){return ee?null:c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 m-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(kn,{className:"h-5 w-5 text-yellow-400"})}),c.jsx("div",{className:"ml-3",children:c.jsxs("p",{className:"text-sm text-yellow-700",children:[c.jsx("strong",{children:"Supabase not configured."})," Please create a ",c.jsx("code",{children:".env"})," file with your Supabase credentials. See ",c.jsx("code",{children:"SUPABASE_SETUP.md"})," for instructions."]})})]})})}const U3=[{name:"Dashboard",href:"/dashboard",icon:zM},{name:"Properties",href:"/properties",icon:va},{name:"Tenants",href:"/tenants",icon:Od},{name:"Contracts",href:"/contracts",icon:oa},{name:"Invoices",href:"/invoices",icon:jd},{name:"Payments",href:"/payments",icon:Ed},{name:"Calendar",href:"/calendar",icon:Sn},{name:"Approvals",href:"/approvals",icon:eh,adminOnly:!0}];function B3(){const e=ls(),t=Gf(),{user:r,logout:n}=Ni(),[a,i]=N.useState([]);N.useEffect(()=>{o();const l=setInterval(o,6e4);return()=>clearInterval(l)},[]);const o=async()=>{try{if(typeof le.getActiveReminders=="function"){const l=le.getActiveReminders();if(l instanceof Promise){const u=await l;i(u)}else i(l)}}catch(l){console.error("Error loading reminders:",l),i([])}},s=async l=>{try{await le.dismissReminder(l),o()}catch(u){console.error("Error dismissing reminder:",u)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(L3,{}),c.jsx("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center h-16 px-6 border-b border-gray-200",children:[c.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3",children:c.jsx(va,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:"PropTrack"})]}),c.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:U3.map(l=>{if(l.adminOnly&&(r==null?void 0:r.role)!=="admin")return null;const u=e.pathname===l.href;return c.jsxs(Gn,{to:l.href,className:Et("flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors",u?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[c.jsx(l.icon,{className:"w-5 h-5 mr-3"}),l.name]},l.name)})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[r&&c.jsxs("div",{className:"px-3 py-2 text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:r.name}),c.jsx("div",{className:"text-gray-500",children:r.email})]}),c.jsxs("button",{onClick:async()=>{await n(),t("/login")},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[c.jsx(VM,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})]})}),c.jsxs("div",{className:"pl-64",children:[a.length>0&&c.jsx("div",{className:"fixed top-4 right-4 z-50 w-96 max-h-[80vh] overflow-y-auto space-y-2",children:a.map(l=>c.jsx("div",{className:"bg-warning-50 border-l-4 border-warning-500 p-4 rounded-lg shadow-lg animate-pulse",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(RM,{className:"w-5 h-5 text-warning-600 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-warning-900",children:"Payment Reminder"}),c.jsx("p",{className:"text-sm text-warning-700 mt-1",children:l.message})]}),c.jsx("button",{onClick:()=>s(l.id),className:"ml-3 flex-shrink-0 text-warning-600 hover:text-warning-900",children:c.jsx(Dt,{className:"w-5 h-5"})})]})},l.id))}),c.jsx("main",{className:"min-h-screen",children:c.jsx(ZI,{})})]})]})}function F3(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(""),[o,s]=N.useState(!1),{login:l}=Ni(),u=Gf(),d=async f=>{f.preventDefault(),i(""),s(!0);try{const h=await l(e,r);h.success?u("/dashboard"):i(h.error||"Login failed")}catch(h){i(h.message||"An error occurred during login")}finally{s(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center mr-4",children:c.jsx(va,{className:"w-10 h-10 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"PropTrack"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Property Management System"})]})]}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(kn,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-red-700",children:a})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(th,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"email",value:e,onChange:f=>t(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(WM,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",value:r,onChange:f=>n(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Logging in...":"Sign In"})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Contact your administrator for access"})})]})})}function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function tr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function xe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Oe(e){xe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Pd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function f0(e,t){xe(2,arguments);var r=Oe(e),n=tr(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Bl(e,t){xe(2,arguments);var r=Oe(e),n=tr(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function CN(e,t){xe(2,arguments);var r=Oe(e).getTime(),n=tr(t);return new Date(r+n)}var q3={};function hs(){return q3}function jg(e,t){var r,n,a,i,o,s;xe(1,arguments);var l=hs(),u=tr((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Oe(e),f=d.getDay(),h=(f<u?7:0)+f-u;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function z3(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Og(e){xe(1,arguments);var t=Oe(e);return t.setHours(0,0,0,0),t}function $N(e,t){xe(2,arguments);var r=tr(t);return Bl(e,r*12)}function Bc(e,t){xe(2,arguments);var r=Oe(e),n=Oe(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Nd(e,t){xe(2,arguments);var r=Og(e),n=Og(t);return r.getTime()===n.getTime()}function IN(e){return xe(1,arguments),e instanceof Date||Pd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DN(e){if(xe(1,arguments),!IN(e)&&typeof e!="number")return!1;var t=Oe(e);return!isNaN(Number(t))}function RN(e,t){xe(2,arguments);var r=Oe(e),n=Oe(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function MN(e){xe(1,arguments);var t=Oe(e);return t.setHours(23,59,59,999),t}function di(e){xe(1,arguments);var t=Oe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function LN(e){xe(1,arguments);var t=Oe(e);return MN(t).getTime()===di(t).getTime()}function UN(e,t){xe(2,arguments);var r=Oe(e),n=Oe(t),a=Bc(r,n),i=Math.abs(RN(r,n)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var s=Bc(r,n)===-a;LN(Oe(e))&&i===1&&Bc(e,n)===1&&(s=!1),o=a*(i-Number(s))}return o===0?0:o}function gn(e){xe(1,arguments);var t=Oe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Eg(e,t){var r,n,a,i,o,s;xe(1,arguments);var l=hs(),u=tr((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Oe(e),f=d.getDay(),h=(f<u?-7:0)+6-(f-u);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function BN(e,t){xe(2,arguments);var r=tr(t);return CN(e,-r)}var W3=864e5;function V3(e){xe(1,arguments);var t=Oe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/W3)+1}function Ad(e){xe(1,arguments);var t=1,r=Oe(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function FN(e){xe(1,arguments);var t=Oe(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Ad(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=Ad(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function H3(e){xe(1,arguments);var t=FN(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Ad(r);return n}var G3=6048e5;function K3(e){xe(1,arguments);var t=Oe(e),r=Ad(t).getTime()-H3(t).getTime();return Math.round(r/G3)+1}function kd(e,t){var r,n,a,i,o,s,l,u;xe(1,arguments);var d=hs(),f=tr((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Oe(e),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function qN(e,t){var r,n,a,i,o,s,l,u;xe(1,arguments);var d=Oe(e),f=d.getUTCFullYear(),h=hs(),p=tr((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var y=kd(g,t),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var m=kd(v,t);return d.getTime()>=y.getTime()?f+1:d.getTime()>=m.getTime()?f:f-1}function Y3(e,t){var r,n,a,i,o,s,l,u;xe(1,arguments);var d=hs(),f=tr((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=qN(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=kd(p,t);return g}var X3=6048e5;function J3(e,t){xe(1,arguments);var r=Oe(e),n=kd(r,t).getTime()-Y3(r,t).getTime();return Math.round(n/X3)+1}function Ae(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Hn={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Ae(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Ae(n+1,2)},d:function(t,r){return Ae(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Ae(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Ae(t.getUTCHours(),r.length)},m:function(t,r){return Ae(t.getUTCMinutes(),r.length)},s:function(t,r){return Ae(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Ae(i,r.length)}},Bi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q3={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Hn.y(t,r)},Y:function(t,r,n,a){var i=qN(t,a),o=i>0?i:1-i;if(r==="YY"){var s=o%100;return Ae(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ae(o,r.length)},R:function(t,r){var n=FN(t);return Ae(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Ae(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ae(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ae(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Hn.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Ae(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=J3(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Ae(i,r.length)},I:function(t,r,n){var a=K3(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Ae(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Hn.d(t,r)},D:function(t,r,n){var a=V3(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ae(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Ae(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Ae(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Ae(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Bi.noon:a===0?i=Bi.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Bi.evening:a>=12?i=Bi.afternoon:a>=4?i=Bi.morning:i=Bi.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Hn.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Hn.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ae(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ae(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Hn.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Hn.s(t,r)},S:function(t,r){return Hn.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return xw(o);case"XXXX":case"XX":return Ka(o);case"XXXXX":case"XXX":default:return Ka(o,":")}},x:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return xw(o);case"xxxx":case"xx":return Ka(o);case"xxxxx":case"xxx":default:return Ka(o,":")}},O:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+bw(o,":");case"OOOO":default:return"GMT"+Ka(o,":")}},z:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+bw(o,":");case"zzzz":default:return"GMT"+Ka(o,":")}},t:function(t,r,n,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Ae(o,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,o=i.getTime();return Ae(o,r.length)}};function bw(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var o=t;return r+String(a)+o+Ae(i,2)}function xw(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Ae(Math.abs(e)/60,2)}return Ka(e,t)}function Ka(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Ae(Math.floor(a/60),2),o=Ae(a%60,2);return n+i+r+o}var ww=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},zN=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Z3=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return ww(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",ww(a,r)).replace("{{time}}",zN(i,r))},eL={p:zN,P:Z3},tL=["D","DD"],rL=["YY","YYYY"];function nL(e){return tL.indexOf(e)!==-1}function aL(e){return rL.indexOf(e)!==-1}function _w(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oL=function(t,r,n){var a,i=iL[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Ip(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var sL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cL={date:Ip({formats:sL,defaultWidth:"full"}),time:Ip({formats:lL,defaultWidth:"full"}),dateTime:Ip({formats:uL,defaultWidth:"full"})},dL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fL=function(t,r,n,a){return dL[t]};function Ls(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var hL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bL=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xL={ordinalNumber:bL,era:Ls({values:hL,defaultWidth:"wide"}),quarter:Ls({values:pL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ls({values:mL,defaultWidth:"wide"}),day:Ls({values:gL,defaultWidth:"wide"}),dayPeriod:Ls({values:yL,defaultWidth:"wide",formattingValues:vL,defaultFormattingWidth:"wide"})};function Us(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?_L(s,function(f){return f.test(o)}):wL(s,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function wL(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function _L(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function SL(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var jL=/^(\d+)(th|st|nd|rd)?/i,OL=/\d+/i,EL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PL={any:[/^b/i,/^(a|c)/i]},NL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AL={any:[/1/i,/2/i,/3/i,/4/i]},kL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$L={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RL={ordinalNumber:SL({matchPattern:jL,parsePattern:OL,valueCallback:function(t){return parseInt(t,10)}}),era:Us({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),quarter:Us({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Us({matchPatterns:kL,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any"}),day:Us({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),dayPeriod:Us({matchPatterns:IL,defaultMatchWidth:"any",parsePatterns:DL,defaultParseWidth:"any"})},ML={code:"en-US",formatDistance:oL,formatLong:cL,formatRelative:fL,localize:xL,match:RL,options:{weekStartsOn:0,firstWeekContainsDate:1}},LL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BL=/^'([^]*?)'?$/,FL=/''/g,qL=/[a-zA-Z]/;function sa(e,t,r){var n,a,i,o,s,l,u,d,f,h,p,g,y,v;xe(2,arguments);var m=String(t),b=hs(),x=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:ML,S=tr((i=(o=(s=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&s!==void 0?s:b.firstWeekContainsDate)!==null&&o!==void 0?o:(u=b.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=tr((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(y=b.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var _=Oe(e);if(!DN(_))throw new RangeError("Invalid time value");var j=z3(_),E=BN(_,j),k={firstWeekContainsDate:S,weekStartsOn:w,locale:x,_originalDate:_},D=m.match(UL).map(function(P){var T=P[0];if(T==="p"||T==="P"){var M=eL[T];return M(P,x.formatLong)}return P}).join("").match(LL).map(function(P){if(P==="''")return"'";var T=P[0];if(T==="'")return zL(P);var M=Q3[T];if(M)return aL(P)&&_w(P,t,String(e)),nL(P)&&_w(P,t,String(e)),M(E,P,x.localize,k);if(T.match(qL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return P}).join("");return D}function zL(e){var t=e.match(BL);return t?t[1].replace(FL,"'"):e}function Pg(e,t){xe(2,arguments);var r=Oe(e),n=Oe(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function WN(e){return xe(1,arguments),Nd(e,Date.now())}function Ng(e,t){xe(2,arguments);var r=Oe(e).getTime(),n=Oe(t.start).getTime(),a=Oe(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function VN(e,t){xe(2,arguments);var r=tr(t);return f0(e,-r)}function Gr(e,t){xe(2,arguments);var r=tr(t);return Bl(e,-r)}const WL=Object.freeze(Object.defineProperty({__proto__:null,addDays:f0,addMilliseconds:CN,addMonths:Bl,addYears:$N,compareAsc:Bc,differenceInCalendarMonths:RN,differenceInMonths:UN,endOfDay:MN,endOfMonth:di,endOfWeek:Eg,format:sa,isDate:IN,isLastDayOfMonth:LN,isSameDay:Nd,isSameMonth:Pg,isToday:WN,isValid:DN,isWithinInterval:Ng,startOfDay:Og,startOfMonth:gn,startOfWeek:jg,subDays:VN,subMilliseconds:BN,subMonths:Gr,toDate:Oe},Symbol.toStringTag,{value:"Module"}));var VL=Array.isArray,rr=VL,HL=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr,HN=HL,GL=HN,KL=typeof self=="object"&&self&&self.Object===Object&&self,YL=GL||KL||Function("return this")(),on=YL,XL=on,JL=XL.Symbol,ku=JL,Sw=ku,GN=Object.prototype,QL=GN.hasOwnProperty,ZL=GN.toString,Bs=Sw?Sw.toStringTag:void 0;function e5(e){var t=QL.call(e,Bs),r=e[Bs];try{e[Bs]=void 0;var n=!0}catch{}var a=ZL.call(e);return n&&(t?e[Bs]=r:delete e[Bs]),a}var t5=e5,r5=Object.prototype,n5=r5.toString;function a5(e){return n5.call(e)}var i5=a5,jw=ku,o5=t5,s5=i5,l5="[object Null]",u5="[object Undefined]",Ow=jw?jw.toStringTag:void 0;function c5(e){return e==null?e===void 0?u5:l5:Ow&&Ow in Object(e)?o5(e):s5(e)}var Un=c5;function d5(e){return e!=null&&typeof e=="object"}var Bn=d5,f5=Un,h5=Bn,p5="[object Symbol]";function m5(e){return typeof e=="symbol"||h5(e)&&f5(e)==p5}var ps=m5,g5=rr,y5=ps,v5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b5=/^\w*$/;function x5(e,t){if(g5(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||y5(e)?!0:b5.test(e)||!v5.test(e)||t!=null&&e in Object(t)}var h0=x5;function w5(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ka=w5;const ms=Ne(ka);var _5=Un,S5=ka,j5="[object AsyncFunction]",O5="[object Function]",E5="[object GeneratorFunction]",P5="[object Proxy]";function N5(e){if(!S5(e))return!1;var t=_5(e);return t==O5||t==E5||t==j5||t==P5}var p0=N5;const ce=Ne(p0);var A5=on,k5=A5["__core-js_shared__"],T5=k5,Dp=T5,Ew=function(){var e=/[^.]+$/.exec(Dp&&Dp.keys&&Dp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function C5(e){return!!Ew&&Ew in e}var $5=C5,I5=Function.prototype,D5=I5.toString;function R5(e){if(e!=null){try{return D5.call(e)}catch{}try{return e+""}catch{}}return""}var KN=R5,M5=p0,L5=$5,U5=ka,B5=KN,F5=/[\\^$.*+?()[\]{}|]/g,q5=/^\[object .+?Constructor\]$/,z5=Function.prototype,W5=Object.prototype,V5=z5.toString,H5=W5.hasOwnProperty,G5=RegExp("^"+V5.call(H5).replace(F5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K5(e){if(!U5(e)||L5(e))return!1;var t=M5(e)?G5:q5;return t.test(B5(e))}var Y5=K5;function X5(e,t){return e==null?void 0:e[t]}var J5=X5,Q5=Y5,Z5=J5;function e4(e,t){var r=Z5(e,t);return Q5(r)?r:void 0}var Ai=e4,t4=Ai,r4=t4(Object,"create"),rh=r4,Pw=rh;function n4(){this.__data__=Pw?Pw(null):{},this.size=0}var a4=n4;function i4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var o4=i4,s4=rh,l4="__lodash_hash_undefined__",u4=Object.prototype,c4=u4.hasOwnProperty;function d4(e){var t=this.__data__;if(s4){var r=t[e];return r===l4?void 0:r}return c4.call(t,e)?t[e]:void 0}var f4=d4,h4=rh,p4=Object.prototype,m4=p4.hasOwnProperty;function g4(e){var t=this.__data__;return h4?t[e]!==void 0:m4.call(t,e)}var y4=g4,v4=rh,b4="__lodash_hash_undefined__";function x4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=v4&&t===void 0?b4:t,this}var w4=x4,_4=a4,S4=o4,j4=f4,O4=y4,E4=w4;function gs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gs.prototype.clear=_4;gs.prototype.delete=S4;gs.prototype.get=j4;gs.prototype.has=O4;gs.prototype.set=E4;var P4=gs;function N4(){this.__data__=[],this.size=0}var A4=N4;function k4(e,t){return e===t||e!==e&&t!==t}var m0=k4,T4=m0;function C4(e,t){for(var r=e.length;r--;)if(T4(e[r][0],t))return r;return-1}var nh=C4,$4=nh,I4=Array.prototype,D4=I4.splice;function R4(e){var t=this.__data__,r=$4(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():D4.call(t,r,1),--this.size,!0}var M4=R4,L4=nh;function U4(e){var t=this.__data__,r=L4(t,e);return r<0?void 0:t[r][1]}var B4=U4,F4=nh;function q4(e){return F4(this.__data__,e)>-1}var z4=q4,W4=nh;function V4(e,t){var r=this.__data__,n=W4(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var H4=V4,G4=A4,K4=M4,Y4=B4,X4=z4,J4=H4;function ys(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ys.prototype.clear=G4;ys.prototype.delete=K4;ys.prototype.get=Y4;ys.prototype.has=X4;ys.prototype.set=J4;var ah=ys,Q4=Ai,Z4=on,eU=Q4(Z4,"Map"),g0=eU,Nw=P4,tU=ah,rU=g0;function nU(){this.size=0,this.__data__={hash:new Nw,map:new(rU||tU),string:new Nw}}var aU=nU;function iU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var oU=iU,sU=oU;function lU(e,t){var r=e.__data__;return sU(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ih=lU,uU=ih;function cU(e){var t=uU(this,e).delete(e);return this.size-=t?1:0,t}var dU=cU,fU=ih;function hU(e){return fU(this,e).get(e)}var pU=hU,mU=ih;function gU(e){return mU(this,e).has(e)}var yU=gU,vU=ih;function bU(e,t){var r=vU(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var xU=bU,wU=aU,_U=dU,SU=pU,jU=yU,OU=xU;function vs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vs.prototype.clear=wU;vs.prototype.delete=_U;vs.prototype.get=SU;vs.prototype.has=jU;vs.prototype.set=OU;var y0=vs,YN=y0,EU="Expected a function";function v0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(EU);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(v0.Cache||YN),r}v0.Cache=YN;var XN=v0;const PU=Ne(XN);var NU=XN,AU=500;function kU(e){var t=NU(e,function(n){return r.size===AU&&r.clear(),n}),r=t.cache;return t}var TU=kU,CU=TU,$U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IU=/\\(\\)?/g,DU=CU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($U,function(r,n,a,i){t.push(a?i.replace(IU,"$1"):n||r)}),t}),RU=DU;function MU(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var b0=MU,Aw=ku,LU=b0,UU=rr,BU=ps,kw=Aw?Aw.prototype:void 0,Tw=kw?kw.toString:void 0;function JN(e){if(typeof e=="string")return e;if(UU(e))return LU(e,JN)+"";if(BU(e))return Tw?Tw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var FU=JN,qU=FU;function zU(e){return e==null?"":qU(e)}var QN=zU,WU=rr,VU=h0,HU=RU,GU=QN;function KU(e,t){return WU(e)?e:VU(e,t)?[e]:HU(GU(e))}var ZN=KU,YU=ps;function XU(e){if(typeof e=="string"||YU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var oh=XU,JU=ZN,QU=oh;function ZU(e,t){t=JU(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[QU(t[r++])];return r&&r==n?e:void 0}var x0=ZU,eB=x0;function tB(e,t,r){var n=e==null?void 0:eB(e,t);return n===void 0?r:n}var eA=tB;const dr=Ne(eA);function rB(e){return e==null}var nB=rB;const ye=Ne(nB);var aB=Un,iB=rr,oB=Bn,sB="[object String]";function lB(e){return typeof e=="string"||!iB(e)&&oB(e)&&aB(e)==sB}var uB=lB;const xi=Ne(uB);var tA={exports:{}},Ce={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=Symbol.for("react.element"),_0=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),ch=Symbol.for("react.provider"),dh=Symbol.for("react.context"),cB=Symbol.for("react.server_context"),fh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),mh=Symbol.for("react.memo"),gh=Symbol.for("react.lazy"),dB=Symbol.for("react.offscreen"),rA;rA=Symbol.for("react.module.reference");function Nr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case w0:switch(e=e.type,e){case sh:case uh:case lh:case hh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case cB:case dh:case fh:case gh:case mh:case ch:return e;default:return t}}case _0:return t}}}Ce.ContextConsumer=dh;Ce.ContextProvider=ch;Ce.Element=w0;Ce.ForwardRef=fh;Ce.Fragment=sh;Ce.Lazy=gh;Ce.Memo=mh;Ce.Portal=_0;Ce.Profiler=uh;Ce.StrictMode=lh;Ce.Suspense=hh;Ce.SuspenseList=ph;Ce.isAsyncMode=function(){return!1};Ce.isConcurrentMode=function(){return!1};Ce.isContextConsumer=function(e){return Nr(e)===dh};Ce.isContextProvider=function(e){return Nr(e)===ch};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===w0};Ce.isForwardRef=function(e){return Nr(e)===fh};Ce.isFragment=function(e){return Nr(e)===sh};Ce.isLazy=function(e){return Nr(e)===gh};Ce.isMemo=function(e){return Nr(e)===mh};Ce.isPortal=function(e){return Nr(e)===_0};Ce.isProfiler=function(e){return Nr(e)===uh};Ce.isStrictMode=function(e){return Nr(e)===lh};Ce.isSuspense=function(e){return Nr(e)===hh};Ce.isSuspenseList=function(e){return Nr(e)===ph};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sh||e===uh||e===lh||e===hh||e===ph||e===dB||typeof e=="object"&&e!==null&&(e.$$typeof===gh||e.$$typeof===mh||e.$$typeof===ch||e.$$typeof===dh||e.$$typeof===fh||e.$$typeof===rA||e.getModuleId!==void 0)};Ce.typeOf=Nr;tA.exports=Ce;var fB=tA.exports,hB=Un,pB=Bn,mB="[object Number]";function gB(e){return typeof e=="number"||pB(e)&&hB(e)==mB}var nA=gB;const yB=Ne(nA);var vB=nA;function bB(e){return vB(e)&&e!=+e}var xB=bB;const Tu=Ne(xB);var Bt=function(t){return t===0?0:t>0?1:-1},ii=function(t){return xi(t)&&t.indexOf("%")===t.length-1},K=function(t){return yB(t)&&!Tu(t)},wB=function(t){return ye(t)},mt=function(t){return K(t)||xi(t)},_B=0,Cu=function(t){var r=++_B;return"".concat(t||"").concat(r)},Ft=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(t)&&!xi(t))return n;var i;if(ii(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Tu(i)&&(i=n),a&&i>r&&(i=r),i},ra=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},SB=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xn=function(t,r){return K(t)&&K(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ag(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):dr(n,t))===r})}var jB=function(t,r){return K(t)&&K(r)?t-r:xi(t)&&xi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function bo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}var OB=["viewBox","children"],EB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cw=["points","pathLength"],Rp={svg:OB,polygon:Cw,polyline:Cw},S0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Td=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!ms(n))return null;var a={};return Object.keys(n).forEach(function(i){S0.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},PB=function(t,r,n){return function(a){return t(r,n,a),null}},wi=function(t,r,n){if(!ms(t)||kg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];S0.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=PB(o,r,n))}),a},NB=["children"],AB=["children"];function $w(e,t){if(e==null)return{};var r=kB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Iw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},jn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Dw=null,Mp=null,j0=function e(t){if(t===Dw&&Array.isArray(Mp))return Mp;var r=[];return N.Children.forEach(t,function(n){ye(n)||(fB.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Mp=r,Dw=t,r};function jr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return jn(a)}):n=[jn(t)],j0(e).forEach(function(a){var i=dr(a,"type.displayName")||dr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function or(e,t){var r=jr(e,t);return r&&r[0]}var Rw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!K(n)||n<=0||!K(a)||a<=0)},TB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CB=function(t){return t&&t.type&&xi(t.type)&&TB.indexOf(t.type)>=0},$B=function(t,r,n,a){var i,o=(i=Rp==null?void 0:Rp[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ce(t)&&(a&&o.includes(r)||EB.includes(r))||n&&S0.includes(r)},ue=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!ms(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;$B((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},Tg=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Mw(i,o))return!1}return!0},Mw=function(t,r){if(ye(t)&&ye(r))return!0;if(!ye(t)&&!ye(r)){var n=t.props||{},a=n.children,i=$w(n,NB),o=r.props||{},s=o.children,l=$w(o,AB);return a&&s?bo(i,l)&&Tg(a,s):!a&&!s?bo(i,l):!1}return!1},Lw=function(t,r){var n=[],a={};return j0(t).forEach(function(i,o){if(CB(i))n.push(i);else if(i){var s=jn(i.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},IB=function(t){var r=t&&t.type;return r&&Iw[r]?Iw[r]:null},DB=function(t,r){return j0(r).indexOf(t)},RB=["children","width","height","viewBox","className","style","title","desc"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function MB(e,t){if(e==null)return{};var r=LB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $g(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=MB(e,RB),d=a||{width:r,height:n,x:0,y:0},f=pe("recharts-surface",i);return I.createElement("svg",Cg({},ue(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var UB=["children","className"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function BB(e,t){if(e==null)return{};var r=FB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ke=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=BB(e,UB),i=pe("recharts-layer",n);return I.createElement("g",Ig({className:i},ue(a,!0),{ref:t}),r)}),qr=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function qB(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var zB=qB,WB=zB;function VB(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:WB(e,t,r)}var HB=VB,GB="\\ud800-\\udfff",KB="\\u0300-\\u036f",YB="\\ufe20-\\ufe2f",XB="\\u20d0-\\u20ff",JB=KB+YB+XB,QB="\\ufe0e\\ufe0f",ZB="\\u200d",eF=RegExp("["+ZB+GB+JB+QB+"]");function tF(e){return eF.test(e)}var aA=tF;function rF(e){return e.split("")}var nF=rF,iA="\\ud800-\\udfff",aF="\\u0300-\\u036f",iF="\\ufe20-\\ufe2f",oF="\\u20d0-\\u20ff",sF=aF+iF+oF,lF="\\ufe0e\\ufe0f",uF="["+iA+"]",Dg="["+sF+"]",Rg="\\ud83c[\\udffb-\\udfff]",cF="(?:"+Dg+"|"+Rg+")",oA="[^"+iA+"]",sA="(?:\\ud83c[\\udde6-\\uddff]){2}",lA="[\\ud800-\\udbff][\\udc00-\\udfff]",dF="\\u200d",uA=cF+"?",cA="["+lF+"]?",fF="(?:"+dF+"(?:"+[oA,sA,lA].join("|")+")"+cA+uA+")*",hF=cA+uA+fF,pF="(?:"+[oA+Dg+"?",Dg,sA,lA,uF].join("|")+")",mF=RegExp(Rg+"(?="+Rg+")|"+pF+hF,"g");function gF(e){return e.match(mF)||[]}var yF=gF,vF=nF,bF=aA,xF=yF;function wF(e){return bF(e)?xF(e):vF(e)}var _F=wF,SF=HB,jF=aA,OF=_F,EF=QN;function PF(e){return function(t){t=EF(t);var r=jF(t)?OF(t):void 0,n=r?r[0]:t.charAt(0),a=r?SF(r,1).join(""):t.slice(1);return n[e]()+a}}var NF=PF,AF=NF,kF=AF("toUpperCase"),TF=kF;const yh=Ne(TF);function Me(e){return function(){return e}}const dA=Math.cos,Cd=Math.sin,Wr=Math.sqrt,$d=Math.PI,vh=2*$d,Mg=Math.PI,Lg=2*Mg,Ya=1e-6,CF=Lg-Ya;function fA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $F(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class IF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fA:$F(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ya)if(!(Math.abs(f*l-u*d)>Ya)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-s,y=l*l+u*u,v=p*p+g*g,m=Math.sqrt(y),b=Math.sqrt(h),x=i*Math.tan((Mg-Math.acos((y+h-v)/(2*m*b)))/2),S=x/b,w=x/m;Math.abs(S-1)>Ya&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+w*l},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ya||Math.abs(this._y1-d)>Ya)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Lg+Lg),h>CF?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ya&&this._append`A${n},${n},0,${+(h>=Mg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function O0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new IF(t)}function E0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hA(e){this._context=e}hA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bh(e){return new hA(e)}function pA(e){return e[0]}function mA(e){return e[1]}function gA(e,t){var r=Me(!0),n=null,a=bh,i=null,o=O0(s);e=typeof e=="function"?e:e===void 0?pA:Me(e),t=typeof t=="function"?t:t===void 0?mA:Me(t);function s(l){var u,d=(l=E0(l)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Me(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function cc(e,t,r){var n=null,a=Me(!0),i=null,o=bh,s=null,l=O0(u);e=typeof e=="function"?e:e===void 0?pA:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?mA:Me(+r);function u(f){var h,p,g,y=(f=E0(f)).length,v,m=!1,b,x=new Array(y),S=new Array(y);for(i==null&&(s=o(b=l())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===m)if(m=!m)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(x[g],S[g]);s.lineEnd(),s.areaEnd()}m&&(x[h]=+e(v,h,f),S[h]=+t(v,h,f),s.point(n?+n(v,h,f):x[h],r?+r(v,h,f):S[h]))}if(b)return s=null,b+""||null}function d(){return gA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Me(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Me(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Me(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class yA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function DF(e){return new yA(e,!0)}function RF(e){return new yA(e,!1)}const P0={draw(e,t){const r=Wr(t/$d);e.moveTo(r,0),e.arc(0,0,r,0,vh)}},MF={draw(e,t){const r=Wr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},vA=Wr(1/3),LF=vA*2,UF={draw(e,t){const r=Wr(t/LF),n=r*vA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BF={draw(e,t){const r=Wr(t),n=-r/2;e.rect(n,n,r,r)}},FF=.8908130915292852,bA=Cd($d/10)/Cd(7*$d/10),qF=Cd(vh/10)*bA,zF=-dA(vh/10)*bA,WF={draw(e,t){const r=Wr(t*FF),n=qF*r,a=zF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=vh*i/5,s=dA(o),l=Cd(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Lp=Wr(3),VF={draw(e,t){const r=-Wr(t/(Lp*3));e.moveTo(0,r*2),e.lineTo(-Lp*r,-r),e.lineTo(Lp*r,-r),e.closePath()}},mr=-.5,gr=Wr(3)/2,Ug=1/Wr(12),HF=(Ug/2+1)*3,GF={draw(e,t){const r=Wr(t/HF),n=r/2,a=r*Ug,i=n,o=r*Ug+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(mr*n-gr*a,gr*n+mr*a),e.lineTo(mr*i-gr*o,gr*i+mr*o),e.lineTo(mr*s-gr*l,gr*s+mr*l),e.lineTo(mr*n+gr*a,mr*a-gr*n),e.lineTo(mr*i+gr*o,mr*o-gr*i),e.lineTo(mr*s+gr*l,mr*l-gr*s),e.closePath()}};function KF(e,t){let r=null,n=O0(a);e=typeof e=="function"?e:Me(e||P0),t=typeof t=="function"?t:Me(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Me(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Me(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Id(){}function Dd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xA(e){this._context=e}xA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YF(e){return new xA(e)}function wA(e){this._context=e}wA.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XF(e){return new wA(e)}function _A(e){this._context=e}_A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Dd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JF(e){return new _A(e)}function SA(e){this._context=e}SA.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QF(e){return new SA(e)}function Uw(e){return e<0?-1:1}function Bw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Uw(i)+Uw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Fw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Up(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Rd(e){this._context=e}Rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Up(this,this._t0,Fw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Up(this,Fw(this,r=Bw(this,e,t)),r);break;default:Up(this,this._t0,r=Bw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function jA(e){this._context=new OA(e)}(jA.prototype=Object.create(Rd.prototype)).point=function(e,t){Rd.prototype.point.call(this,t,e)};function OA(e){this._context=e}OA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ZF(e){return new Rd(e)}function e6(e){return new jA(e)}function EA(e){this._context=e}EA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qw(e),a=qw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function t6(e){return new EA(e)}function xh(e,t){this._context=e,this._t=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function r6(e){return new xh(e,.5)}function n6(e){return new xh(e,0)}function a6(e){return new xh(e,1)}function $o(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Bg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function i6(e,t){return e[t]}function o6(e){const t=[];return t.key=e,t}function s6(){var e=Me([]),t=Bg,r=$o,n=i6;function a(i){var o=Array.from(e.apply(this,arguments),o6),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=E0(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Me(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Me(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Bg:typeof i=="function"?i:Me(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??$o,a):r},a}function l6(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}$o(e,t)}}function u6(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}$o(e,t)}}function c6(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var y=e[t[g]],v=y[n][1]||0,m=y[n-1][1]||0;p+=v-m}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,$o(e,t)}}function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}var d6=["type","size","sizeType"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){f6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f6(e,t,r){return t=h6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h6(e){var t=p6(e,"string");return Fl(t)=="symbol"?t:t+""}function p6(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m6(e,t){if(e==null)return{};var r=g6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PA={symbolCircle:P0,symbolCross:MF,symbolDiamond:UF,symbolSquare:BF,symbolStar:WF,symbolTriangle:VF,symbolWye:GF},y6=Math.PI/180,v6=function(t){var r="symbol".concat(yh(t));return PA[r]||P0},b6=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*y6;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},x6=function(t,r){PA["symbol".concat(yh(t))]=r},N0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=m6(t,d6),u=Ww(Ww({},l),{},{type:n,size:i,sizeType:s}),d=function(){var v=v6(n),m=KF().type(v).size(b6(i,s,n));return m()},f=u.className,h=u.cx,p=u.cy,g=ue(u,!0);return h===+h&&p===+p&&i===+i?I.createElement("path",Fg({},g,{className:pe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};N0.registerSymbol=x6;function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AA(n.key),n)}}function j6(e,t,r){return t&&S6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O6(e,t,r){return t=Md(t),E6(e,NA()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function E6(e,t){if(t&&(Io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P6(e)}function P6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NA=function(){return!!e})()}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(e)}function N6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zg(e,t)}function ql(e,t,r){return t=AA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AA(e){var t=A6(e,"string");return Io(t)=="symbol"?t:t+""}function A6(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yr=32,A0=function(e){function t(){return _6(this,t),O6(this,t,arguments)}return N6(t,e),j6(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=yr/2,o=yr/6,s=yr/3,l=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:yr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(yr,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yr/8,"h").concat(yr,"v").concat(yr*3/4,"h").concat(-yr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=w6({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(N0,{fill:l,cx:i,cy:i,size:yr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:yr,height:yr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var y=p.formatter||l,v=pe(ql(ql({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var m=ce(p.value)?null:p.value;qr(!ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return I.createElement("li",qg({className:v,style:f,key:"legend-item-".concat(g)},wi(n.props,p,g)),I.createElement($g,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(m,p,g):m))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(N.PureComponent);ql(A0,"displayName","Legend");ql(A0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var k6=ah;function T6(){this.__data__=new k6,this.size=0}var C6=T6;function $6(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var I6=$6;function D6(e){return this.__data__.get(e)}var R6=D6;function M6(e){return this.__data__.has(e)}var L6=M6,U6=ah,B6=g0,F6=y0,q6=200;function z6(e,t){var r=this.__data__;if(r instanceof U6){var n=r.__data__;if(!B6||n.length<q6-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new F6(n)}return r.set(e,t),this.size=r.size,this}var W6=z6,V6=ah,H6=C6,G6=I6,K6=R6,Y6=L6,X6=W6;function bs(e){var t=this.__data__=new V6(e);this.size=t.size}bs.prototype.clear=H6;bs.prototype.delete=G6;bs.prototype.get=K6;bs.prototype.has=Y6;bs.prototype.set=X6;var kA=bs,J6="__lodash_hash_undefined__";function Q6(e){return this.__data__.set(e,J6),this}var Z6=Q6;function eq(e){return this.__data__.has(e)}var tq=eq,rq=y0,nq=Z6,aq=tq;function Ld(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new rq;++t<r;)this.add(e[t])}Ld.prototype.add=Ld.prototype.push=nq;Ld.prototype.has=aq;var TA=Ld;function iq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var CA=iq;function oq(e,t){return e.has(t)}var $A=oq,sq=TA,lq=CA,uq=$A,cq=1,dq=2;function fq(e,t,r,n,a,i){var o=r&cq,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&dq?new sq:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var g=e[f],y=t[f];if(n)var v=o?n(y,g,f,t,e,i):n(g,y,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!lq(t,function(m,b){if(!uq(p,b)&&(g===m||a(g,m,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===y||a(g,y,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var IA=fq,hq=on,pq=hq.Uint8Array,mq=pq;function gq(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var yq=gq;function vq(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var k0=vq,Hw=ku,Gw=mq,bq=m0,xq=IA,wq=yq,_q=k0,Sq=1,jq=2,Oq="[object Boolean]",Eq="[object Date]",Pq="[object Error]",Nq="[object Map]",Aq="[object Number]",kq="[object RegExp]",Tq="[object Set]",Cq="[object String]",$q="[object Symbol]",Iq="[object ArrayBuffer]",Dq="[object DataView]",Kw=Hw?Hw.prototype:void 0,Bp=Kw?Kw.valueOf:void 0;function Rq(e,t,r,n,a,i,o){switch(r){case Dq:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Iq:return!(e.byteLength!=t.byteLength||!i(new Gw(e),new Gw(t)));case Oq:case Eq:case Aq:return bq(+e,+t);case Pq:return e.name==t.name&&e.message==t.message;case kq:case Cq:return e==t+"";case Nq:var s=wq;case Tq:var l=n&Sq;if(s||(s=_q),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=jq,o.set(e,t);var d=xq(s(e),s(t),n,a,i,o);return o.delete(e),d;case $q:if(Bp)return Bp.call(e)==Bp.call(t)}return!1}var Mq=Rq;function Lq(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var DA=Lq,Uq=DA,Bq=rr;function Fq(e,t,r){var n=t(e);return Bq(e)?n:Uq(n,r(e))}var qq=Fq;function zq(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Wq=zq;function Vq(){return[]}var Hq=Vq,Gq=Wq,Kq=Hq,Yq=Object.prototype,Xq=Yq.propertyIsEnumerable,Yw=Object.getOwnPropertySymbols,Jq=Yw?function(e){return e==null?[]:(e=Object(e),Gq(Yw(e),function(t){return Xq.call(e,t)}))}:Kq,Qq=Jq;function Zq(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ez=Zq,tz=Un,rz=Bn,nz="[object Arguments]";function az(e){return rz(e)&&tz(e)==nz}var iz=az,Xw=iz,oz=Bn,RA=Object.prototype,sz=RA.hasOwnProperty,lz=RA.propertyIsEnumerable,uz=Xw(function(){return arguments}())?Xw:function(e){return oz(e)&&sz.call(e,"callee")&&!lz.call(e,"callee")},T0=uz,Ud={exports:{}};function cz(){return!1}var dz=cz;Ud.exports;(function(e,t){var r=on,n=dz,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(Ud,Ud.exports);var MA=Ud.exports,fz=9007199254740991,hz=/^(?:0|[1-9]\d*)$/;function pz(e,t){var r=typeof e;return t=t??fz,!!t&&(r=="number"||r!="symbol"&&hz.test(e))&&e>-1&&e%1==0&&e<t}var C0=pz,mz=9007199254740991;function gz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mz}var $0=gz,yz=Un,vz=$0,bz=Bn,xz="[object Arguments]",wz="[object Array]",_z="[object Boolean]",Sz="[object Date]",jz="[object Error]",Oz="[object Function]",Ez="[object Map]",Pz="[object Number]",Nz="[object Object]",Az="[object RegExp]",kz="[object Set]",Tz="[object String]",Cz="[object WeakMap]",$z="[object ArrayBuffer]",Iz="[object DataView]",Dz="[object Float32Array]",Rz="[object Float64Array]",Mz="[object Int8Array]",Lz="[object Int16Array]",Uz="[object Int32Array]",Bz="[object Uint8Array]",Fz="[object Uint8ClampedArray]",qz="[object Uint16Array]",zz="[object Uint32Array]",ze={};ze[Dz]=ze[Rz]=ze[Mz]=ze[Lz]=ze[Uz]=ze[Bz]=ze[Fz]=ze[qz]=ze[zz]=!0;ze[xz]=ze[wz]=ze[$z]=ze[_z]=ze[Iz]=ze[Sz]=ze[jz]=ze[Oz]=ze[Ez]=ze[Pz]=ze[Nz]=ze[Az]=ze[kz]=ze[Tz]=ze[Cz]=!1;function Wz(e){return bz(e)&&vz(e.length)&&!!ze[yz(e)]}var Vz=Wz;function Hz(e){return function(t){return e(t)}}var LA=Hz,Bd={exports:{}};Bd.exports;(function(e,t){var r=HN,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Bd,Bd.exports);var Gz=Bd.exports,Kz=Vz,Yz=LA,Jw=Gz,Qw=Jw&&Jw.isTypedArray,Xz=Qw?Yz(Qw):Kz,UA=Xz,Jz=ez,Qz=T0,Zz=rr,e8=MA,t8=C0,r8=UA,n8=Object.prototype,a8=n8.hasOwnProperty;function i8(e,t){var r=Zz(e),n=!r&&Qz(e),a=!r&&!n&&e8(e),i=!r&&!n&&!a&&r8(e),o=r||n||a||i,s=o?Jz(e.length,String):[],l=s.length;for(var u in e)(t||a8.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||t8(u,l)))&&s.push(u);return s}var o8=i8,s8=Object.prototype;function l8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||s8;return e===r}var u8=l8;function c8(e,t){return function(r){return e(t(r))}}var BA=c8,d8=BA,f8=d8(Object.keys,Object),h8=f8,p8=u8,m8=h8,g8=Object.prototype,y8=g8.hasOwnProperty;function v8(e){if(!p8(e))return m8(e);var t=[];for(var r in Object(e))y8.call(e,r)&&r!="constructor"&&t.push(r);return t}var b8=v8,x8=p0,w8=$0;function _8(e){return e!=null&&w8(e.length)&&!x8(e)}var $u=_8,S8=o8,j8=b8,O8=$u;function E8(e){return O8(e)?S8(e):j8(e)}var wh=E8,P8=qq,N8=Qq,A8=wh;function k8(e){return P8(e,A8,N8)}var T8=k8,Zw=T8,C8=1,$8=Object.prototype,I8=$8.hasOwnProperty;function D8(e,t,r,n,a,i){var o=r&C8,s=Zw(e),l=s.length,u=Zw(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in t:I8.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var y=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<l;){h=s[f];var m=e[h],b=t[h];if(n)var x=o?n(b,m,h,t,e,i):n(m,b,h,e,t,i);if(!(x===void 0?m===b||a(m,b,r,n,i):x)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(y=!1)}return i.delete(e),i.delete(t),y}var R8=D8,M8=Ai,L8=on,U8=M8(L8,"DataView"),B8=U8,F8=Ai,q8=on,z8=F8(q8,"Promise"),W8=z8,V8=Ai,H8=on,G8=V8(H8,"Set"),FA=G8,K8=Ai,Y8=on,X8=K8(Y8,"WeakMap"),J8=X8,Wg=B8,Vg=g0,Hg=W8,Gg=FA,Kg=J8,qA=Un,xs=KN,e_="[object Map]",Q8="[object Object]",t_="[object Promise]",r_="[object Set]",n_="[object WeakMap]",a_="[object DataView]",Z8=xs(Wg),eW=xs(Vg),tW=xs(Hg),rW=xs(Gg),nW=xs(Kg),Xa=qA;(Wg&&Xa(new Wg(new ArrayBuffer(1)))!=a_||Vg&&Xa(new Vg)!=e_||Hg&&Xa(Hg.resolve())!=t_||Gg&&Xa(new Gg)!=r_||Kg&&Xa(new Kg)!=n_)&&(Xa=function(e){var t=qA(e),r=t==Q8?e.constructor:void 0,n=r?xs(r):"";if(n)switch(n){case Z8:return a_;case eW:return e_;case tW:return t_;case rW:return r_;case nW:return n_}return t});var aW=Xa,Fp=kA,iW=IA,oW=Mq,sW=R8,i_=aW,o_=rr,s_=MA,lW=UA,uW=1,l_="[object Arguments]",u_="[object Array]",dc="[object Object]",cW=Object.prototype,c_=cW.hasOwnProperty;function dW(e,t,r,n,a,i){var o=o_(e),s=o_(t),l=o?u_:i_(e),u=s?u_:i_(t);l=l==l_?dc:l,u=u==l_?dc:u;var d=l==dc,f=u==dc,h=l==u;if(h&&s_(e)){if(!s_(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Fp),o||lW(e)?iW(e,t,r,n,a,i):oW(e,t,l,r,n,a,i);if(!(r&uW)){var p=d&&c_.call(e,"__wrapped__"),g=f&&c_.call(t,"__wrapped__");if(p||g){var y=p?e.value():e,v=g?t.value():t;return i||(i=new Fp),a(y,v,r,n,i)}}return h?(i||(i=new Fp),sW(e,t,r,n,a,i)):!1}var fW=dW,hW=fW,d_=Bn;function zA(e,t,r,n,a){return e===t?!0:e==null||t==null||!d_(e)&&!d_(t)?e!==e&&t!==t:hW(e,t,r,n,zA,a)}var I0=zA,pW=kA,mW=I0,gW=1,yW=2;function vW(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var l=s[0],u=e[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new pW;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?mW(d,u,gW|yW,n,f):h))return!1}}return!0}var bW=vW,xW=ka;function wW(e){return e===e&&!xW(e)}var WA=wW,_W=WA,SW=wh;function jW(e){for(var t=SW(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,_W(a)]}return t}var OW=jW;function EW(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var VA=EW,PW=bW,NW=OW,AW=VA;function kW(e){var t=NW(e);return t.length==1&&t[0][2]?AW(t[0][0],t[0][1]):function(r){return r===e||PW(r,e,t)}}var TW=kW;function CW(e,t){return e!=null&&t in Object(e)}var $W=CW,IW=ZN,DW=T0,RW=rr,MW=C0,LW=$0,UW=oh;function BW(e,t,r){t=IW(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=UW(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&LW(a)&&MW(o,a)&&(RW(e)||DW(e)))}var FW=BW,qW=$W,zW=FW;function WW(e,t){return e!=null&&zW(e,t,qW)}var VW=WW,HW=I0,GW=eA,KW=VW,YW=h0,XW=WA,JW=VA,QW=oh,ZW=1,e7=2;function t7(e,t){return YW(e)&&XW(t)?JW(QW(e),t):function(r){var n=GW(r,e);return n===void 0&&n===t?KW(r,e):HW(t,n,ZW|e7)}}var r7=t7;function n7(e){return e}var ws=n7;function a7(e){return function(t){return t==null?void 0:t[e]}}var i7=a7,o7=x0;function s7(e){return function(t){return o7(t,e)}}var l7=s7,u7=i7,c7=l7,d7=h0,f7=oh;function h7(e){return d7(e)?u7(f7(e)):c7(e)}var p7=h7,m7=TW,g7=r7,y7=ws,v7=rr,b7=p7;function x7(e){return typeof e=="function"?e:e==null?y7:typeof e=="object"?v7(e)?g7(e[0],e[1]):m7(e):b7(e)}var sn=x7;function w7(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var HA=w7;function _7(e){return e!==e}var S7=_7;function j7(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var O7=j7,E7=HA,P7=S7,N7=O7;function A7(e,t,r){return t===t?N7(e,t,r):E7(e,P7,r)}var k7=A7,T7=k7;function C7(e,t){var r=e==null?0:e.length;return!!r&&T7(e,t,0)>-1}var $7=C7;function I7(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var D7=I7;function R7(){}var M7=R7,qp=FA,L7=M7,U7=k0,B7=1/0,F7=qp&&1/U7(new qp([,-0]))[1]==B7?function(e){return new qp(e)}:L7,q7=F7,z7=TA,W7=$7,V7=D7,H7=$A,G7=q7,K7=k0,Y7=200;function X7(e,t,r){var n=-1,a=W7,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=V7;else if(i>=Y7){var u=t?null:G7(e);if(u)return K7(u);o=!1,a=H7,l=new z7}else l=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var J7=X7,Q7=sn,Z7=J7;function e9(e,t){return e&&e.length?Z7(e,Q7(t)):[]}var t9=e9;const f_=Ne(t9);function GA(e,t,r){return t===!0?f_(e,r):ce(t)?f_(e,t):e}function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}var r9=["ref"];function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YA(n.key),n)}}function a9(e,t,r){return t&&p_(e.prototype,t),r&&p_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i9(e,t,r){return t=Fd(t),o9(e,KA()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function o9(e,t){if(t&&(Do(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s9(e)}function s9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KA=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function l9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function _h(e,t,r){return t=YA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YA(e){var t=u9(e,"string");return Do(t)=="symbol"?t:t+""}function u9(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c9(e,t){if(e==null)return{};var r=d9(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f9(e){return e.value}function h9(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=c9(t,r9);return I.createElement(A0,r)}var m_=1,fi=function(e){function t(){var r;n9(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=i9(this,t,[].concat(a)),_h(r,"lastBoundingBox",{width:-1,height:-1}),r}return l9(t,e),a9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>m_||Math.abs(a.height-this.lastBoundingBox.height)>m_)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fn(fn({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=fn(fn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},h9(i,fn(fn({},this.props),{},{payload:GA(d,u,f9)})))}}],[{key:"getWithHeight",value:function(n,a){var i=fn(fn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&K(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);_h(fi,"displayName","Legend");_h(fi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var g_=ku,p9=T0,m9=rr,y_=g_?g_.isConcatSpreadable:void 0;function g9(e){return m9(e)||p9(e)||!!(y_&&e&&e[y_])}var y9=g9,v9=DA,b9=y9;function XA(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=b9),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?XA(s,t-1,r,n,a):v9(a,s):n||(a[a.length]=s)}return a}var JA=XA;function x9(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(r(i[l],l,i)===!1)break}return t}}var w9=x9,_9=w9,S9=_9(),j9=S9,O9=j9,E9=wh;function P9(e,t){return e&&O9(e,t,E9)}var QA=P9,N9=$u;function A9(e,t){return function(r,n){if(r==null)return r;if(!N9(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var k9=A9,T9=QA,C9=k9,$9=C9(T9),D0=$9,I9=D0,D9=$u;function R9(e,t){var r=-1,n=D9(e)?Array(e.length):[];return I9(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var ZA=R9;function M9(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var L9=M9,v_=ps;function U9(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=v_(e),o=t!==void 0,s=t===null,l=t===t,u=v_(t);if(!s&&!u&&!i&&e>t||i&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var B9=U9,F9=B9;function q9(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=F9(a[n],i[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var z9=q9,zp=b0,W9=x0,V9=sn,H9=ZA,G9=L9,K9=LA,Y9=z9,X9=ws,J9=rr;function Q9(e,t,r){t.length?t=zp(t,function(i){return J9(i)?function(o){return W9(o,i.length===1?i[0]:i)}:i}):t=[X9];var n=-1;t=zp(t,K9(V9));var a=H9(e,function(i,o,s){var l=zp(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return G9(a,function(i,o){return Y9(i,o,r)})}var Z9=Q9;function eV(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var tV=eV,rV=tV,b_=Math.max;function nV(e,t,r){return t=b_(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=b_(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),rV(e,this,s)}}var aV=nV;function iV(e){return function(){return e}}var oV=iV,sV=Ai,lV=function(){try{var e=sV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ek=lV,uV=oV,x_=ek,cV=ws,dV=x_?function(e,t){return x_(e,"toString",{configurable:!0,enumerable:!1,value:uV(t),writable:!0})}:cV,fV=dV,hV=800,pV=16,mV=Date.now;function gV(e){var t=0,r=0;return function(){var n=mV(),a=pV-(n-r);if(r=n,a>0){if(++t>=hV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var yV=gV,vV=fV,bV=yV,xV=bV(vV),wV=xV,_V=ws,SV=aV,jV=wV;function OV(e,t){return jV(SV(e,t,_V),e+"")}var EV=OV,PV=m0,NV=$u,AV=C0,kV=ka;function TV(e,t,r){if(!kV(r))return!1;var n=typeof t;return(n=="number"?NV(r)&&AV(t,r.length):n=="string"&&t in r)?PV(r[t],e):!1}var Sh=TV,CV=JA,$V=Z9,IV=EV,w_=Sh,DV=IV(function(e,t){if(e==null)return[];var r=t.length;return r>1&&w_(e,t[0],t[1])?t=[]:r>2&&w_(t[0],t[1],t[2])&&(t=[t[0]]),$V(e,CV(t,1),[])}),RV=DV;const R0=Ne(RV);function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function MV(e,t){return FV(e)||BV(e,t)||UV(e,t)||LV()}function LV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(e,t){if(e){if(typeof e=="string")return __(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(e,t)}}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function FV(e){if(Array.isArray(e))return e}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){qV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qV(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=WV(e,"string");return zl(t)=="symbol"?t:t+""}function WV(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VV(e){return Array.isArray(e)&&mt(e[0])&&mt(e[1])?e.join(" ~ "):e}var HV=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,y=t.label,v=t.labelFormatter,m=t.accessibilityLayer,b=m===void 0?!1:m,x=function(){if(d&&d.length){var T={padding:0,margin:0},M=(h?R0(d,h):d).map(function(C,A){if(C.type==="none")return null;var O=Wp({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},s),R=C.formatter||f||VV,$=C.value,L=C.name,V=$,z=L;if(R&&V!=null&&z!=null){var q=R($,L,C,A,d);if(Array.isArray(q)){var Q=MV(q,2);V=Q[0],z=Q[1]}else V=q}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:O},mt(z)?I.createElement("span",{className:"recharts-tooltip-item-name"},z):null,mt(z)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},V),I.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},S=Wp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Wp({margin:0},u),_=!ye(y),j=_?y:"",E=pe("recharts-default-tooltip",p),k=pe("recharts-tooltip-label",g);_&&v&&d!==void 0&&d!==null&&(j=v(y,d));var D=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Xg({className:E,style:S},D),I.createElement("p",{className:k,style:w},I.isValidElement(j)?j:"".concat(j)),x())};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function fc(e,t,r){return t=GV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=KV(e,"string");return Wl(t)=="symbol"?t:t+""}function KV(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fs="recharts-tooltip-wrapper",YV={visibility:"hidden"};function XV(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return pe(Fs,fc(fc(fc(fc({},"".concat(Fs,"-right"),K(r)&&t&&K(t.x)&&r>=t.x),"".concat(Fs,"-left"),K(r)&&t&&K(t.x)&&r<t.x),"".concat(Fs,"-bottom"),K(n)&&t&&K(t.y)&&n>=t.y),"".concat(Fs,"-top"),K(n)&&t&&K(t.y)&&n<t.y))}function j_(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&K(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var g=f+s,y=l[n]+u;return g>y?Math.max(d,l[n]):Math.max(f,l[n])}function JV(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QV(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=j_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=j_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=JV({translateX:d,translateY:f,useTranslate3d:s})):u=YV,{cssProperties:u,cssClasses:XV({translateX:d,translateY:f,coordinate:r})}}function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){Qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rk(n.key),n)}}function tH(e,t,r){return t&&eH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rH(e,t,r){return t=qd(t),nH(e,tk()?Reflect.construct(t,r||[],qd(e).constructor):t.apply(e,r))}function nH(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aH(e)}function aH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tk=function(){return!!e})()}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}function iH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function Qg(e,t,r){return t=rk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rk(e){var t=oH(e,"string");return Ro(t)=="symbol"?t:t+""}function oH(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P_=1,sH=function(e){function t(){var r;ZV(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rH(this,t,[].concat(a)),Qg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return iH(t,e),tH(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>P_||Math.abs(n.height-this.state.lastBoundingBox.height)>P_)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,y=a.reverseDirection,v=a.useTranslate3d,m=a.viewBox,b=a.wrapperStyle,x=QV({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:m}),S=x.cssClasses,w=x.cssProperties,_=E_(E_({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(E){n.wrapperNode=E}},u)}}])}(N.PureComponent),lH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_s={isSsr:lH()};function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){M0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ak(n.key),n)}}function dH(e,t,r){return t&&cH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fH(e,t,r){return t=zd(t),hH(e,nk()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function hH(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pH(e)}function pH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nk=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function mH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function M0(e,t,r){return t=ak(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ak(e){var t=gH(e,"string");return Mo(t)=="symbol"?t:t+""}function gH(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yH(e){return e.dataKey}function vH(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(HV,t)}var Xr=function(e){function t(){return uH(this,t),fH(this,t,arguments)}return mH(t,e),dH(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,y=a.payloadUniqBy,v=a.position,m=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,S=a.wrapperStyle,w=g??[];f&&w.length&&(w=GA(g.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),y,yH));var _=w.length>0;return I.createElement(sH,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:m,useTranslate3d:b,viewBox:x,wrapperStyle:S},vH(u,A_(A_({},this.props),{},{payload:w})))}}])}(N.PureComponent);M0(Xr,"displayName","Tooltip");M0(Xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_s.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bH=on,xH=function(){return bH.Date.now()},wH=xH,_H=/\s/;function SH(e){for(var t=e.length;t--&&_H.test(e.charAt(t)););return t}var jH=SH,OH=jH,EH=/^\s+/;function PH(e){return e&&e.slice(0,OH(e)+1).replace(EH,"")}var NH=PH,AH=NH,k_=ka,kH=ps,T_=NaN,TH=/^[-+]0x[0-9a-f]+$/i,CH=/^0b[01]+$/i,$H=/^0o[0-7]+$/i,IH=parseInt;function DH(e){if(typeof e=="number")return e;if(kH(e))return T_;if(k_(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=k_(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=AH(e);var r=CH.test(e);return r||$H.test(e)?IH(e.slice(2),r?2:8):TH.test(e)?T_:+e}var ik=DH,RH=ka,Vp=wH,C_=ik,MH="Expected a function",LH=Math.max,UH=Math.min;function BH(e,t,r){var n,a,i,o,s,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(MH);t=C_(t)||0,RH(r)&&(d=!!r.leading,f="maxWait"in r,i=f?LH(C_(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var j=n,E=a;return n=a=void 0,u=_,o=e.apply(E,j),o}function g(_){return u=_,s=setTimeout(m,t),d?p(_):o}function y(_){var j=_-l,E=_-u,k=t-j;return f?UH(k,i-E):k}function v(_){var j=_-l,E=_-u;return l===void 0||j>=t||j<0||f&&E>=i}function m(){var _=Vp();if(v(_))return b(_);s=setTimeout(m,y(_))}function b(_){return s=void 0,h&&n?p(_):(n=a=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function S(){return s===void 0?o:b(Vp())}function w(){var _=Vp(),j=v(_);if(n=arguments,a=this,l=_,j){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(m,t),p(l)}return s===void 0&&(s=setTimeout(m,t)),o}return w.cancel=x,w.flush=S,w}var FH=BH,qH=FH,zH=ka,WH="Expected a function";function VH(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(WH);return zH(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),qH(e,t,{leading:n,maxWait:t,trailing:a})}var HH=VH;const ok=Ne(HH);function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){GH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GH(e,t,r){return t=KH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=YH(e,"string");return Vl(t)=="symbol"?t:t+""}function YH(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XH(e,t){return eG(e)||ZH(e,t)||QH(e,t)||JH()}function JH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function eG(e){if(Array.isArray(e))return e}var D_=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,y=g===void 0?0:g,v=e.id,m=e.className,b=e.onResize,x=e.style,S=x===void 0?{}:x,w=N.useRef(null),_=N.useRef();_.current=b,N.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=N.useState({containerWidth:a.width,containerHeight:a.height}),E=XH(j,2),k=E[0],D=E[1],P=N.useCallback(function(M,C){D(function(A){var O=Math.round(M),R=Math.round(C);return A.containerWidth===O&&A.containerHeight===R?A:{containerWidth:O,containerHeight:R}})},[]);N.useEffect(function(){var M=function(L){var V,z=L[0].contentRect,q=z.width,Q=z.height;P(q,Q),(V=_.current)===null||V===void 0||V.call(_,q,Q)};y>0&&(M=ok(M,y,{trailing:!0,leading:!1}));var C=new ResizeObserver(M),A=w.current.getBoundingClientRect(),O=A.width,R=A.height;return P(O,R),C.observe(w.current),function(){C.disconnect()}},[P,y]);var T=N.useMemo(function(){var M=k.containerWidth,C=k.containerHeight;if(M<0||C<0)return null;qr(ii(o)||ii(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),qr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=ii(o)?M:o,O=ii(l)?C:l;r&&r>0&&(A?O=A/r:O&&(A=O*r),h&&O>h&&(O=h)),qr(A>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,O,o,l,d,f,r);var R=!Array.isArray(p)&&jn(p.type).endsWith("Chart");return I.Children.map(p,function($){return I.isValidElement($)?N.cloneElement($,hc({width:A,height:O},R?{style:hc({height:"100%",width:"100%",maxHeight:O,maxWidth:A},$.props.style)}:{})):$})},[r,p,l,h,f,d,k,o]);return I.createElement("div",{id:v?"".concat(v):void 0,className:pe("recharts-responsive-container",m),style:hc(hc({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},T)}),jh=function(t){return null};jh.displayName="Cell";function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return t=rG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return Hl(t)=="symbol"?t:t+""}function nG(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi={widthCache:{},cacheCount:0},aG=2e3,iG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},M_="recharts_measurement_span";function oG(e){var t=ey({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||_s.isSsr)return{width:0,height:0};var n=oG(r),a=JSON.stringify({text:t,copyStyle:n});if(Fi.widthCache[a])return Fi.widthCache[a];try{var i=document.getElementById(M_);i||(i=document.createElement("span"),i.setAttribute("id",M_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ey(ey({},iG),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return Fi.widthCache[a]=l,++Fi.cacheCount>aG&&(Fi.cacheCount=0,Fi.widthCache={}),l}catch{return{width:0,height:0}}},sG=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function Wd(e,t){return dG(e)||cG(e,t)||uG(e,t)||lG()}function lG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(e,t){if(e){if(typeof e=="string")return L_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(e,t)}}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function dG(e){if(Array.isArray(e))return e}function fG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pG(n.key),n)}}function hG(e,t,r){return t&&U_(e.prototype,t),r&&U_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pG(e){var t=mG(e,"string");return Gl(t)=="symbol"?t:t+""}function mG(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vG=Object.keys(sk),ao="NaN";function bG(e,t){return e*sk[t]}var pc=function(){function e(t,r){fG(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gG.test(r)&&(this.num=NaN,this.unit=""),vG.includes(r)&&(this.num=bG(t,r),this.unit="px")}return hG(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=yG.exec(r))!==null&&n!==void 0?n:[],i=Wd(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function lk(e){if(e.includes(ao))return ao;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=B_.exec(t))!==null&&r!==void 0?r:[],a=Wd(n,4),i=a[1],o=a[2],s=a[3],l=pc.parse(i??""),u=pc.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ao;t=t.replace(B_,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=F_.exec(t))!==null&&f!==void 0?f:[],p=Wd(h,4),g=p[1],y=p[2],v=p[3],m=pc.parse(g??""),b=pc.parse(v??""),x=y==="+"?m.add(b):m.subtract(b);if(x.isNaN())return ao;t=t.replace(F_,x.toString())}return t}var q_=/\(([^()]*)\)/;function xG(e){for(var t=e;t.includes("(");){var r=q_.exec(t),n=Wd(r,2),a=n[1];t=t.replace(q_,lk(a))}return t}function wG(e){var t=e.replace(/\s+/g,"");return t=xG(t),t=lk(t),t}function _G(e){try{return wG(e)}catch{return ao}}function Hp(e){var t=_G(e.slice(5,-1));return t===ao?"":t}var SG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jG=["dx","dy","angle","className","breakAll"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(this,arguments)}function z_(e,t){if(e==null)return{};var r=OG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W_(e,t){return AG(e)||NG(e,t)||PG(e,t)||EG()}function EG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function AG(e){if(Array.isArray(e))return e}var uk=/[ \f\n\r\t\v\u2028\u2029]+/,ck=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ye(r)||(n?i=r.toString().split(""):i=r.toString().split(uk));var o=i.map(function(l){return{word:l,width:fl(l,a).width}}),s=n?0:fl("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},kG=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=K(o),f=s,h=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce(function(O,R){var $=R.word,L=R.width,V=O[O.length-1];if(V&&(a==null||i||V.width+L+n<Number(a)))V.words.push($),V.width+=L+n;else{var z={words:[$],width:L};O.push(z)}return O},[])},p=h(r),g=function(A){return A.reduce(function(O,R){return O.width>R.width?O:R})};if(!d)return p;for(var y="",v=function(A){var O=f.slice(0,A),R=ck({breakAll:u,style:l,children:O+y}).wordsWithComputedWidth,$=h(R),L=$.length>o||g($).width>Number(a);return[L,$]},m=0,b=f.length-1,x=0,S;m<=b&&x<=f.length-1;){var w=Math.floor((m+b)/2),_=w-1,j=v(_),E=W_(j,2),k=E[0],D=E[1],P=v(w),T=W_(P,1),M=T[0];if(!k&&!M&&(m=w+1),k&&M&&(b=w-1),!k&&M){S=D;break}x++}return S||p},H_=function(t){var r=ye(t)?[]:t.toString().split(uk);return[{words:r}]},TG=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!_s.isSsr){var l,u,d=ck({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return H_(a);return kG({breakAll:o,children:a,maxLines:s,style:i},l,u,r,n)}return H_(a)},G_="#808080",_i=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,y=g===void 0?"end":g,v=t.fill,m=v===void 0?G_:v,b=z_(t,SG),x=N.useMemo(function(){return TG({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,w=b.dy,_=b.angle,j=b.className,E=b.breakAll,k=z_(b,jG);if(!mt(n)||!mt(i))return null;var D=n+(K(S)?S:0),P=i+(K(w)?w:0),T;switch(y){case"start":T=Hp("calc(".concat(u,")"));break;case"middle":T=Hp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:T=Hp("calc(".concat(x.length-1," * -").concat(s,")"));break}var M=[];if(f){var C=x[0].width,A=b.width;M.push("scale(".concat((K(A)?A/C:1)/C,")"))}return _&&M.push("rotate(".concat(_,", ").concat(D,", ").concat(P,")")),M.length&&(k.transform=M.join(" ")),I.createElement("text",ty({},ue(k,!0),{x:D,y:P,className:pe("recharts-text",j),textAnchor:p,fill:m.includes("url")?G_:m}),x.map(function(O,R){var $=O.words.join(E?"":" ");return I.createElement("tspan",{x:D,dy:R===0?T:s,key:"".concat($,"-").concat(R)},$)}))};function xa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function L0(e){let t,r,n;e.length!==2?(t=xa,r=(s,l)=>xa(e(s),l),n=(s,l)=>e(s)-l):(t=e===xa||e===CG?e:$G,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function $G(){return 0}function dk(e){return e===null?NaN:+e}function*IG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const DG=L0(xa),Iu=DG.right;L0(dk).center;class K_ extends Map{constructor(t,r=LG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Y_(this,t))}has(t){return super.has(Y_(this,t))}set(t,r){return super.set(RG(this,t),r)}delete(t){return super.delete(MG(this,t))}}function Y_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function RG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function MG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function LG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UG(e=xa){if(e===xa)return fk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BG=Math.sqrt(50),FG=Math.sqrt(10),qG=Math.sqrt(2);function Vd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=BG?10:i>=FG?5:i>=qG?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Vd(e,t,r*2):[s,l,u]}function ry(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Vd(t,e,r):Vd(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function ny(e,t,r){return t=+t,e=+e,r=+r,Vd(e,t,r)[2]}function ay(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ny(t,e,r):ny(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function X_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function J_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fk:UG(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),g=Math.min(n,Math.floor(t+(l-u)*f/l+h));hk(e,t,p,g,a)}const i=e[t];let o=r,s=n;for(qs(e,r,t),a(e[n],i)>0&&qs(e,r,n);o<s;){for(qs(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?qs(e,r,s):(++s,qs(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function qs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zG(e,t,r){if(e=Float64Array.from(IG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return J_(e);if(t>=1)return X_(e);var n,a=(n-1)*t,i=Math.floor(a),o=X_(hk(e,i).subarray(0,i+1)),s=J_(e.subarray(i+1));return o+(s-o)*(a-i)}}function WG(e,t,r=dk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function VG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iy=Symbol("implicit");function U0(){var e=new K_,t=[],r=[],n=iy;function a(i){let o=e.get(i);if(o===void 0){if(n!==iy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new K_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return U0(t,r).unknown(n)},Ar.apply(a,arguments),a}function Kl(){var e=U0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,y=p?n:a;i=(y-g)/Math.max(1,h-l+u*2),s&&(i=Math.floor(i)),g+=(y-g-i*(h-l))*d,o=i*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=VG(h).map(function(m){return g+i*m});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Kl(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},Ar.apply(f(),arguments)}function pk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pk(t())},e}function hl(){return pk(Kl.apply(null,arguments).paddingInner(1))}function B0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Du(){}var Yl=.7,Hd=1/Yl,xo="\\s*([+-]?\\d+)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HG=/^#([0-9a-f]{3,8})$/,GG=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),KG=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),YG=new RegExp(`^rgba\\(${xo},${xo},${xo},${Xl}\\)$`),XG=new RegExp(`^rgba\\(${rn},${rn},${rn},${Xl}\\)$`),JG=new RegExp(`^hsl\\(${Xl},${rn},${rn}\\)$`),QG=new RegExp(`^hsla\\(${Xl},${rn},${rn},${Xl}\\)$`),Q_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B0(Du,Jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z_,formatHex:Z_,formatHex8:ZG,formatHsl:eK,formatRgb:e1,toString:e1});function Z_(){return this.rgb().formatHex()}function ZG(){return this.rgb().formatHex8()}function eK(){return gk(this).formatHsl()}function e1(){return this.rgb().formatRgb()}function Jl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=HG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?t1(t):r===3?new Jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GG.exec(e))?new Jt(t[1],t[2],t[3],1):(t=KG.exec(e))?new Jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YG.exec(e))?mc(t[1],t[2],t[3],t[4]):(t=XG.exec(e))?mc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JG.exec(e))?a1(t[1],t[2]/100,t[3]/100,1):(t=QG.exec(e))?a1(t[1],t[2]/100,t[3]/100,t[4]):Q_.hasOwnProperty(e)?t1(Q_[e]):e==="transparent"?new Jt(NaN,NaN,NaN,0):null}function t1(e){return new Jt(e>>16&255,e>>8&255,e&255,1)}function mc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Jt(e,t,r,n)}function tK(e){return e instanceof Du||(e=Jl(e)),e?(e=e.rgb(),new Jt(e.r,e.g,e.b,e.opacity)):new Jt}function oy(e,t,r,n){return arguments.length===1?tK(e):new Jt(e,t,r,n??1)}function Jt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}B0(Jt,oy,mk(Du,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jt(hi(this.r),hi(this.g),hi(this.b),Gd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r1,formatHex:r1,formatHex8:rK,formatRgb:n1,toString:n1}));function r1(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}`}function rK(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}${oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function n1(){const e=Gd(this.opacity);return`${e===1?"rgb(":"rgba("}${hi(this.r)}, ${hi(this.g)}, ${hi(this.b)}${e===1?")":`, ${e})`}`}function Gd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oi(e){return e=hi(e),(e<16?"0":"")+e.toString(16)}function a1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ur(e,t,r,n)}function gk(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);if(e instanceof Du||(e=Jl(e)),!e)return new Ur;if(e instanceof Ur)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Ur(o,s,l,e.opacity)}function nK(e,t,r,n){return arguments.length===1?gk(e):new Ur(e,t,r,n??1)}function Ur(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}B0(Ur,nK,mk(Du,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Jt(Gp(e>=240?e-240:e+120,a,n),Gp(e,a,n),Gp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ur(i1(this.h),gc(this.s),gc(this.l),Gd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gd(this.opacity);return`${e===1?"hsl(":"hsla("}${i1(this.h)}, ${gc(this.s)*100}%, ${gc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function i1(e){return e=(e||0)%360,e<0?e+360:e}function gc(e){return Math.max(0,Math.min(1,e||0))}function Gp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const F0=e=>()=>e;function aK(e,t){return function(r){return e+r*t}}function iK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function oK(e){return(e=+e)==1?yk:function(t,r){return r-t?iK(t,r,e):F0(isNaN(t)?r:t)}}function yk(e,t){var r=t-e;return r?aK(e,r):F0(isNaN(e)?t:e)}const o1=function e(t){var r=oK(t);function n(a,i){var o=r((a=oy(a)).r,(i=oy(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=yk(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function sK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function lK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ss(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function cK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function dK(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ss(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var sy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kp=new RegExp(sy.source,"g");function fK(e){return function(){return e}}function hK(e){return function(t){return e(t)+""}}function pK(e,t){var r=sy.lastIndex=Kp.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=sy.exec(e))&&(a=Kp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Kd(n,a)})),r=Kp.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?hK(l[0].x):fK(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Ss(e,t){var r=typeof t,n;return t==null||r==="boolean"?F0(t):(r==="number"?Kd:r==="string"?(n=Jl(t))?(t=n,o1):pK:t instanceof Jl?o1:t instanceof Date?cK:lK(t)?sK:Array.isArray(t)?uK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dK:Kd)(e,t)}function q0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function mK(e,t){t===void 0&&(t=e,e=Ss);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function gK(e){return function(){return e}}function Yd(e){return+e}var s1=[0,1];function qt(e){return e}function ly(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gK(isNaN(t)?NaN:.5)}function yK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function vK(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ly(a,n),i=r(o,i)):(n=ly(n,a),i=r(i,o)),function(s){return i(n(s))}}function bK(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ly(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=Iu(e,s,1,n)-1;return i[l](a[l](s))}}function Ru(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Oh(){var e=s1,t=s1,r=Ss,n,a,i,o=qt,s,l,u;function d(){var h=Math.min(e.length,t.length);return o!==qt&&(o=yK(e[0],e[h-1])),s=h>2?bK:vK,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),Kd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=q0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:qt,d()):o!==qt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function z0(){return Oh()(qt,qt)}function xK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Lo(e){return e=Xd(Math.abs(e)),e?e[1]:NaN}function wK(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function _K(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ql(e){if(!(t=SK.exec(e)))throw new Error("invalid format: "+e);var t;return new W0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ql.prototype=W0.prototype;function W0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}W0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jK(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var vk;function OK(e,t){var r=Xd(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(vk=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xd(e,Math.max(0,t+i-1))[0]}function l1(e,t){var r=Xd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const u1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>l1(e*100,t),r:l1,s:OK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c1(e){return e}var d1=Array.prototype.map,f1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EK(e){var t=e.grouping===void 0||e.thousands===void 0?c1:wK(d1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?c1:_K(d1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ql(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,m=f.width,b=f.comma,x=f.precision,S=f.trim,w=f.type;w==="n"?(b=!0,w="g"):u1[w]||(x===void 0&&(x=12),S=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=y==="$"?n:/[%p]/.test(w)?o:"",E=u1[w],k=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D(P){var T=_,M=j,C,A,O;if(w==="c")M=E(P)+M,P="";else{P=+P;var R=P<0||1/P<0;if(P=isNaN(P)?l:E(Math.abs(P),x),S&&(P=jK(P)),R&&+P==0&&g!=="+"&&(R=!1),T=(R?g==="("?g:s:g==="-"||g==="("?"":g)+T,M=(w==="s"?f1[8+vk/3]:"")+M+(R&&g==="("?")":""),k){for(C=-1,A=P.length;++C<A;)if(O=P.charCodeAt(C),48>O||O>57){M=(O===46?a+P.slice(C+1):P.slice(C))+M,P=P.slice(0,C);break}}}b&&!v&&(P=t(P,1/0));var $=T.length+P.length+M.length,L=$<m?new Array(m-$+1).join(h):"";switch(b&&v&&(P=t(L+P,L.length?m-M.length:1/0),L=""),p){case"<":P=T+P+M+L;break;case"=":P=T+L+P+M;break;case"^":P=L.slice(0,$=L.length>>1)+T+P+M+L.slice($);break;default:P=L+T+P+M;break}return i(P)}return D.toString=function(){return f+""},D}function d(f,h){var p=u((f=Ql(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Lo(h)/3)))*3,y=Math.pow(10,-g),v=f1[8+g/3];return function(m){return p(y*m)+v}}return{format:u,formatPrefix:d}}var yc,V0,bk;PK({thousands:",",grouping:[3],currency:["$",""]});function PK(e){return yc=EK(e),V0=yc.format,bk=yc.formatPrefix,yc}function NK(e){return Math.max(0,-Lo(Math.abs(e)))}function AK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lo(t)/3)))*3-Lo(Math.abs(e)))}function kK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lo(t)-Lo(e))+1}function xk(e,t,r,n){var a=ay(e,t,r),i;switch(n=Ql(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=AK(a,o))&&(n.precision=i),bk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=kK(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=NK(a))&&(n.precision=i-(n.type==="%")*2);break}}return V0(n)}function Ta(e){var t=e.domain;return e.ticks=function(r){var n=t();return ry(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return xk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=ny(o,s,r),u===l)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Jd(){var e=z0();return e.copy=function(){return Ru(e,Jd())},Ar.apply(e,arguments),Ta(e)}function wk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return wk(e).unknown(t)},e=arguments.length?Array.from(e,Yd):[0,1],Ta(r)}function _k(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function h1(e){return Math.log(e)}function p1(e){return Math.exp(e)}function TK(e){return-Math.log(-e)}function CK(e){return-Math.exp(-e)}function $K(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IK(e){return e===10?$K:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m1(e){return(t,r)=>-e(-t,r)}function H0(e){const t=e(h1,p1),r=t.domain;let n=10,a,i;function o(){return a=DK(n),i=IK(n),r()[0]<0?(a=m1(a),i=m1(i),e(TK,CK)):e(h1,p1),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,y;const v=s==null?10:+s;let m=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;m.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;m.push(y)}m.length*2<v&&(m=ry(u,d,v))}else m=ry(h,p,Math.min(p-h,v)).map(i);return f?m.reverse():m},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ql(l)).precision==null&&(l.trim=!0),l=V0(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(_k(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function Sk(){const e=H0(Oh()).domain([1,10]);return e.copy=()=>Ru(e,Sk()).base(e.base()),Ar.apply(e,arguments),e}function g1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function y1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function G0(e){var t=1,r=e(g1(t),y1(t));return r.constant=function(n){return arguments.length?e(g1(t=+n),y1(t)):t},Ta(r)}function jk(){var e=G0(Oh());return e.copy=function(){return Ru(e,jk()).constant(e.constant())},Ar.apply(e,arguments)}function v1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MK(e){return e<0?-e*e:e*e}function K0(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(RK,MK):e(v1(r),v1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ta(t)}function Y0(){var e=K0(Oh());return e.copy=function(){return Ru(e,Y0()).exponent(e.exponent())},Ar.apply(e,arguments),e}function LK(){return Y0.apply(null,arguments).exponent(.5)}function b1(e){return Math.sign(e)*e*e}function UK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ok(){var e=z0(),t=[0,1],r=!1,n;function a(i){var o=UK(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(b1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yd)).map(b1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ok(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ar.apply(a,arguments),Ta(a)}function Ek(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=WG(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Iu(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(xa),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Ek().domain(e).range(t).unknown(n)},Ar.apply(i,arguments)}function Pk(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Iu(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Pk().domain([e,t]).range(a).unknown(i)},Ar.apply(Ta(o),arguments)}function Nk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Iu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Nk().domain(e).range(t).unknown(r)},Ar.apply(a,arguments)}const Yp=new Date,Xp=new Date;function gt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>gt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Yp.setTime(+i),Xp.setTime(+o),e(Yp),e(Xp),Math.floor(r(Yp,Xp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Qd=gt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qd);Qd.range;const bn=1e3,_r=bn*60,xn=_r*60,Cn=xn*24,X0=Cn*7,x1=Cn*30,Jp=Cn*365,si=gt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bn)},(e,t)=>(t-e)/bn,e=>e.getUTCSeconds());si.range;const J0=gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getMinutes());J0.range;const Q0=gt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getUTCMinutes());Q0.range;const Z0=gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn-e.getMinutes()*_r)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getHours());Z0.range;const eb=gt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCHours());eb.range;const Mu=gt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_r)/Cn,e=>e.getDate()-1);Mu.range;const Eh=gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cn,e=>e.getUTCDate()-1);Eh.range;const Ak=gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cn,e=>Math.floor(e/Cn));Ak.range;function ki(e){return gt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_r)/X0)}const Ph=ki(0),Zd=ki(1),BK=ki(2),FK=ki(3),Uo=ki(4),qK=ki(5),zK=ki(6);Ph.range;Zd.range;BK.range;FK.range;Uo.range;qK.range;zK.range;function Ti(e){return gt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/X0)}const Nh=Ti(0),ef=Ti(1),WK=Ti(2),VK=Ti(3),Bo=Ti(4),HK=Ti(5),GK=Ti(6);Nh.range;ef.range;WK.range;VK.range;Bo.range;HK.range;GK.range;const tb=gt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tb.range;const rb=gt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rb.range;const $n=gt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$n.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$n.range;const In=gt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});In.range;function kk(e,t,r,n,a,i){const o=[[si,1,bn],[si,5,5*bn],[si,15,15*bn],[si,30,30*bn],[i,1,_r],[i,5,5*_r],[i,15,15*_r],[i,30,30*_r],[a,1,xn],[a,3,3*xn],[a,6,6*xn],[a,12,12*xn],[n,1,Cn],[n,2,2*Cn],[r,1,X0],[t,1,x1],[t,3,3*x1],[e,1,Jp]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,p=L0(([,,v])=>v).right(o,h);if(p===o.length)return e.every(ay(u/Jp,d/Jp,f));if(p===0)return Qd.every(Math.max(ay(u,d,f),1));const[g,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[KK,YK]=kk(In,rb,Nh,Ak,eb,Q0),[XK,JK]=kk($n,tb,Ph,Mu,Z0,J0);function Qp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function QK(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Ws(a),d=Vs(a),f=Ws(i),h=Vs(i),p=Ws(o),g=Vs(o),y=Ws(s),v=Vs(s),m=Ws(l),b=Vs(l),x={a:R,A:$,b:L,B:V,c:null,d:E1,e:E1,f:wY,g:TY,G:$Y,H:vY,I:bY,j:xY,L:Tk,m:_Y,M:SY,p:z,q,Q:A1,s:k1,S:jY,u:OY,U:EY,V:PY,w:NY,W:AY,x:null,X:null,y:kY,Y:CY,Z:IY,"%":N1},S={a:Q,A:fe,b:te,B:me,c:null,d:P1,e:P1,f:LY,g:KY,G:XY,H:DY,I:RY,j:MY,L:$k,m:UY,M:BY,p:Be,q:Se,Q:A1,s:k1,S:FY,u:qY,U:zY,V:WY,w:VY,W:HY,x:null,X:null,y:GY,Y:YY,Z:JY,"%":N1},w={a:D,A:P,b:T,B:M,c:C,d:j1,e:j1,f:pY,g:S1,G:_1,H:O1,I:O1,j:cY,L:hY,m:uY,M:dY,p:k,q:lY,Q:gY,s:yY,S:fY,u:nY,U:aY,V:iY,w:rY,W:oY,x:A,X:O,y:S1,Y:_1,Z:sY,"%":mY};x.x=_(r,x),x.X=_(n,x),x.c=_(t,x),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(Y,B){return function(H){var W=[],ie=-1,ae=0,de=Y.length,be,Ze,Lt;for(H instanceof Date||(H=new Date(+H));++ie<de;)Y.charCodeAt(ie)===37&&(W.push(Y.slice(ae,ie)),(Ze=w1[be=Y.charAt(++ie)])!=null?be=Y.charAt(++ie):Ze=be==="e"?" ":"0",(Lt=B[be])&&(be=Lt(H,Ze)),W.push(be),ae=ie+1);return W.push(Y.slice(ae,ie)),W.join("")}}function j(Y,B){return function(H){var W=zs(1900,void 0,1),ie=E(W,Y,H+="",0),ae,de;if(ie!=H.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(B&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ae=Zp(zs(W.y,0,1)),de=ae.getUTCDay(),ae=de>4||de===0?ef.ceil(ae):ef(ae),ae=Eh.offset(ae,(W.V-1)*7),W.y=ae.getUTCFullYear(),W.m=ae.getUTCMonth(),W.d=ae.getUTCDate()+(W.w+6)%7):(ae=Qp(zs(W.y,0,1)),de=ae.getDay(),ae=de>4||de===0?Zd.ceil(ae):Zd(ae),ae=Mu.offset(ae,(W.V-1)*7),W.y=ae.getFullYear(),W.m=ae.getMonth(),W.d=ae.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),de="Z"in W?Zp(zs(W.y,0,1)).getUTCDay():Qp(zs(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(de+5)%7:W.w+W.U*7-(de+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Zp(W)):Qp(W)}}function E(Y,B,H,W){for(var ie=0,ae=B.length,de=H.length,be,Ze;ie<ae;){if(W>=de)return-1;if(be=B.charCodeAt(ie++),be===37){if(be=B.charAt(ie++),Ze=w[be in w1?B.charAt(ie++):be],!Ze||(W=Ze(Y,H,W))<0)return-1}else if(be!=H.charCodeAt(W++))return-1}return W}function k(Y,B,H){var W=u.exec(B.slice(H));return W?(Y.p=d.get(W[0].toLowerCase()),H+W[0].length):-1}function D(Y,B,H){var W=p.exec(B.slice(H));return W?(Y.w=g.get(W[0].toLowerCase()),H+W[0].length):-1}function P(Y,B,H){var W=f.exec(B.slice(H));return W?(Y.w=h.get(W[0].toLowerCase()),H+W[0].length):-1}function T(Y,B,H){var W=m.exec(B.slice(H));return W?(Y.m=b.get(W[0].toLowerCase()),H+W[0].length):-1}function M(Y,B,H){var W=y.exec(B.slice(H));return W?(Y.m=v.get(W[0].toLowerCase()),H+W[0].length):-1}function C(Y,B,H){return E(Y,t,B,H)}function A(Y,B,H){return E(Y,r,B,H)}function O(Y,B,H){return E(Y,n,B,H)}function R(Y){return o[Y.getDay()]}function $(Y){return i[Y.getDay()]}function L(Y){return l[Y.getMonth()]}function V(Y){return s[Y.getMonth()]}function z(Y){return a[+(Y.getHours()>=12)]}function q(Y){return 1+~~(Y.getMonth()/3)}function Q(Y){return o[Y.getUTCDay()]}function fe(Y){return i[Y.getUTCDay()]}function te(Y){return l[Y.getUTCMonth()]}function me(Y){return s[Y.getUTCMonth()]}function Be(Y){return a[+(Y.getUTCHours()>=12)]}function Se(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var B=_(Y+="",x);return B.toString=function(){return Y},B},parse:function(Y){var B=j(Y+="",!1);return B.toString=function(){return Y},B},utcFormat:function(Y){var B=_(Y+="",S);return B.toString=function(){return Y},B},utcParse:function(Y){var B=j(Y+="",!0);return B.toString=function(){return Y},B}}}var w1={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,ZK=/^%/,eY=/[\\^$*+?|[\]().{}]/g;function Ee(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function tY(e){return e.replace(eY,"\\$&")}function Ws(e){return new RegExp("^(?:"+e.map(tY).join("|")+")","i")}function Vs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rY(e,t,r){var n=wt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nY(e,t,r){var n=wt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aY(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iY(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function oY(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _1(e,t,r){var n=wt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function S1(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lY(e,t,r){var n=wt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function uY(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function j1(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function cY(e,t,r){var n=wt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function O1(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dY(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fY(e,t,r){var n=wt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hY(e,t,r){var n=wt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function pY(e,t,r){var n=wt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mY(e,t,r){var n=ZK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function gY(e,t,r){var n=wt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yY(e,t,r){var n=wt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function E1(e,t){return Ee(e.getDate(),t,2)}function vY(e,t){return Ee(e.getHours(),t,2)}function bY(e,t){return Ee(e.getHours()%12||12,t,2)}function xY(e,t){return Ee(1+Mu.count($n(e),e),t,3)}function Tk(e,t){return Ee(e.getMilliseconds(),t,3)}function wY(e,t){return Tk(e,t)+"000"}function _Y(e,t){return Ee(e.getMonth()+1,t,2)}function SY(e,t){return Ee(e.getMinutes(),t,2)}function jY(e,t){return Ee(e.getSeconds(),t,2)}function OY(e){var t=e.getDay();return t===0?7:t}function EY(e,t){return Ee(Ph.count($n(e)-1,e),t,2)}function Ck(e){var t=e.getDay();return t>=4||t===0?Uo(e):Uo.ceil(e)}function PY(e,t){return e=Ck(e),Ee(Uo.count($n(e),e)+($n(e).getDay()===4),t,2)}function NY(e){return e.getDay()}function AY(e,t){return Ee(Zd.count($n(e)-1,e),t,2)}function kY(e,t){return Ee(e.getFullYear()%100,t,2)}function TY(e,t){return e=Ck(e),Ee(e.getFullYear()%100,t,2)}function CY(e,t){return Ee(e.getFullYear()%1e4,t,4)}function $Y(e,t){var r=e.getDay();return e=r>=4||r===0?Uo(e):Uo.ceil(e),Ee(e.getFullYear()%1e4,t,4)}function IY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ee(t/60|0,"0",2)+Ee(t%60,"0",2)}function P1(e,t){return Ee(e.getUTCDate(),t,2)}function DY(e,t){return Ee(e.getUTCHours(),t,2)}function RY(e,t){return Ee(e.getUTCHours()%12||12,t,2)}function MY(e,t){return Ee(1+Eh.count(In(e),e),t,3)}function $k(e,t){return Ee(e.getUTCMilliseconds(),t,3)}function LY(e,t){return $k(e,t)+"000"}function UY(e,t){return Ee(e.getUTCMonth()+1,t,2)}function BY(e,t){return Ee(e.getUTCMinutes(),t,2)}function FY(e,t){return Ee(e.getUTCSeconds(),t,2)}function qY(e){var t=e.getUTCDay();return t===0?7:t}function zY(e,t){return Ee(Nh.count(In(e)-1,e),t,2)}function Ik(e){var t=e.getUTCDay();return t>=4||t===0?Bo(e):Bo.ceil(e)}function WY(e,t){return e=Ik(e),Ee(Bo.count(In(e),e)+(In(e).getUTCDay()===4),t,2)}function VY(e){return e.getUTCDay()}function HY(e,t){return Ee(ef.count(In(e)-1,e),t,2)}function GY(e,t){return Ee(e.getUTCFullYear()%100,t,2)}function KY(e,t){return e=Ik(e),Ee(e.getUTCFullYear()%100,t,2)}function YY(e,t){return Ee(e.getUTCFullYear()%1e4,t,4)}function XY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bo(e):Bo.ceil(e),Ee(e.getUTCFullYear()%1e4,t,4)}function JY(){return"+0000"}function N1(){return"%"}function A1(e){return+e}function k1(e){return Math.floor(+e/1e3)}var qi,Dk,Rk;QY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QY(e){return qi=QK(e),Dk=qi.format,qi.parse,Rk=qi.utcFormat,qi.utcParse,qi}function ZY(e){return new Date(e)}function eX(e){return e instanceof Date?+e:+new Date(+e)}function nb(e,t,r,n,a,i,o,s,l,u){var d=z0(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),m=u("%a %d"),b=u("%b %d"),x=u("%B"),S=u("%Y");function w(_){return(l(_)<_?p:s(_)<_?g:o(_)<_?y:i(_)<_?v:n(_)<_?a(_)<_?m:b:r(_)<_?x:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,eX)):h().map(ZY)},d.ticks=function(_){var j=h();return e(j[0],j[j.length-1],_??10)},d.tickFormat=function(_,j){return j==null?w:u(j)},d.nice=function(_){var j=h();return(!_||typeof _.range!="function")&&(_=t(j[0],j[j.length-1],_??10)),_?h(_k(j,_)):d},d.copy=function(){return Ru(d,nb(e,t,r,n,a,i,o,s,l,u))},d}function tX(){return Ar.apply(nb(XK,JK,$n,tb,Ph,Mu,Z0,J0,si,Dk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rX(){return Ar.apply(nb(KK,YK,In,rb,Nh,Eh,eb,Q0,si,Rk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ah(){var e=0,t=1,r,n,a,i,o=qt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(Ss),u.rangeRound=d(q0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ca(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Mk(){var e=Ta(Ah()(qt));return e.copy=function(){return Ca(e,Mk())},Fn.apply(e,arguments)}function Lk(){var e=H0(Ah()).domain([1,10]);return e.copy=function(){return Ca(e,Lk()).base(e.base())},Fn.apply(e,arguments)}function Uk(){var e=G0(Ah());return e.copy=function(){return Ca(e,Uk()).constant(e.constant())},Fn.apply(e,arguments)}function ab(){var e=K0(Ah());return e.copy=function(){return Ca(e,ab()).exponent(e.exponent())},Fn.apply(e,arguments)}function nX(){return ab.apply(null,arguments).exponent(.5)}function Bk(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Iu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(xa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>zG(e,i/n))},r.copy=function(){return Bk(t).domain(e)},Fn.apply(r,arguments)}function kh(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,u=qt,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(v){var m,b,x;return arguments.length?([m,b,x]=v,u=mK(y,[m,b,x]),p):[u(0),u(.5),u(1)]}}return p.range=g(Ss),p.rangeRound=g(q0),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,a=y(e),i=y(t),o=y(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function Fk(){var e=Ta(kh()(qt));return e.copy=function(){return Ca(e,Fk())},Fn.apply(e,arguments)}function qk(){var e=H0(kh()).domain([.1,1,10]);return e.copy=function(){return Ca(e,qk()).base(e.base())},Fn.apply(e,arguments)}function zk(){var e=G0(kh());return e.copy=function(){return Ca(e,zk()).constant(e.constant())},Fn.apply(e,arguments)}function ib(){var e=K0(kh());return e.copy=function(){return Ca(e,ib()).exponent(e.exponent())},Fn.apply(e,arguments)}function aX(){return ib.apply(null,arguments).exponent(.5)}const T1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kl,scaleDiverging:Fk,scaleDivergingLog:qk,scaleDivergingPow:ib,scaleDivergingSqrt:aX,scaleDivergingSymlog:zk,scaleIdentity:wk,scaleImplicit:iy,scaleLinear:Jd,scaleLog:Sk,scaleOrdinal:U0,scalePoint:hl,scalePow:Y0,scaleQuantile:Ek,scaleQuantize:Pk,scaleRadial:Ok,scaleSequential:Mk,scaleSequentialLog:Lk,scaleSequentialPow:ab,scaleSequentialQuantile:Bk,scaleSequentialSqrt:nX,scaleSequentialSymlog:Uk,scaleSqrt:LK,scaleSymlog:jk,scaleThreshold:Nk,scaleTime:tX,scaleUtc:rX,tickFormat:xk},Symbol.toStringTag,{value:"Module"}));var iX=ps;function oX(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!iX(o):r(o,s)))var s=o,l=i}return l}var Th=oX;function sX(e,t){return e>t}var Wk=sX,lX=Th,uX=Wk,cX=ws;function dX(e){return e&&e.length?lX(e,cX,uX):void 0}var fX=dX;const Ch=Ne(fX);function hX(e,t){return e<t}var Vk=hX,pX=Th,mX=Vk,gX=ws;function yX(e){return e&&e.length?pX(e,gX,mX):void 0}var vX=yX;const $h=Ne(vX);var bX=b0,xX=sn,wX=ZA,_X=rr;function SX(e,t){var r=_X(e)?bX:wX;return r(e,xX(t))}var jX=SX,OX=JA,EX=jX;function PX(e,t){return OX(EX(e,t),1)}var NX=PX;const AX=Ne(NX);var kX=I0;function TX(e,t){return kX(e,t)}var CX=TX;const Ih=Ne(CX);var js=1e9,$X={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sb,Ye=!0,Pr="[DecimalError] ",pi=Pr+"Invalid argument: ",ob=Pr+"Exponent out of range: ",Os=Math.floor,Ja=Math.pow,IX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,yt=1e7,We=7,Hk=9007199254740991,tf=Os(Hk/We),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};J.comparedTo=J.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*We;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};J.dividedBy=J.div=function(e){return On(this,new this.constructor(e))};J.dividedToIntegerBy=J.idiv=function(e){var t=this,r=t.constructor;return Ie(On(t,new r(e),0,1),r.precision)};J.equals=J.eq=function(e){return!this.cmp(e)};J.exponent=function(){return ct(this)};J.greaterThan=J.gt=function(e){return this.cmp(e)>0};J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(e){return this.cmp(e)<0};J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1};J.logarithm=J.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Pr+"NaN");if(r.s<1)throw Error(Pr+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ye=!1,t=On(Zl(r,i),Zl(e,i),i),Ye=!0,Ie(t,a))};J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yk(t,e):Gk(t,(e.s=-e.s,e))};J.modulo=J.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Pr+"NaN");return r.s?(Ye=!1,t=On(r,e,0,1).times(e),Ye=!0,r.minus(t)):Ie(new n(r),a)};J.naturalExponential=J.exp=function(){return Kk(this)};J.naturalLogarithm=J.ln=function(){return Zl(this)};J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Gk(t,e):Yk(t,(e.s=-e.s,e))};J.precision=J.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(pi+e);if(t=ct(a)+1,n=a.d.length-1,r=n*We+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};J.squareRoot=J.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Pr+"NaN")}for(e=ct(s),Ye=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Zr(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Os((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(On(s,i,o+2)).times(.5),Zr(i.d).slice(0,o)===(t=Zr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ie(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ye=!0,Ie(n,r)};J.times=J.mul=function(e){var t,r,n,a,i,o,s,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+p[n]*h[a-n-1]+t,i[a--]=s%yt|0,t=s/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ye?Ie(e,f.precision):e};J.toDecimalPlaces=J.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(an(e,0,js),t===void 0?t=n.rounding:an(t,0,8),Ie(r,e+ct(r)+1,t))};J.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Si(n,!0):(an(e,0,js),t===void 0?t=a.rounding:an(t,0,8),n=Ie(new a(n),e+1,t),r=Si(n,!0,e+1)),r};J.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Si(a):(an(e,0,js),t===void 0?t=i.rounding:an(t,0,8),n=Ie(new i(a),e+ct(a)+1,t),r=Si(n.abs(),!1,e+ct(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};J.toInteger=J.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ct(e)+1,t.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(lr);if(s=new l(s),!s.s){if(e.s<1)throw Error(Pr+"Infinity");return s}if(s.eq(lr))return s;if(n=l.precision,e.eq(lr))return Ie(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=Hk){for(a=new l(lr),t=Math.ceil(n/We+4),Ye=!1;r%2&&(a=a.times(s),$1(a.d,t)),r=Os(r/2),r!==0;)s=s.times(s),$1(s.d,t);return Ye=!0,e.s<0?new l(lr).div(a):Ie(a,n)}}else if(i<0)throw Error(Pr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ye=!1,a=e.times(Zl(s,n+u)),Ye=!0,a=Kk(a),a.s=i,a};J.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ct(a),n=Si(a,r<=i.toExpNeg||r>=i.toExpPos)):(an(e,1,js),t===void 0?t=i.rounding:an(t,0,8),a=Ie(new i(a),e,t),r=ct(a),n=Si(a,e<=r||r<=i.toExpNeg,e)),n};J.toSignificantDigits=J.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(an(e,1,js),t===void 0?t=n.rounding:an(t,0,8)),Ie(new n(r),e,t)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ct(e),r=e.constructor;return Si(e,t<=r.toExpNeg||t>=r.toExpPos)};function Gk(e,t){var r,n,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ye?Ie(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=u.length):(n=u,a=o,s=l.length),o=Math.ceil(f/We),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/yt|0,l[i]%=yt;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Ye?Ie(t,f):t}function an(e,t,r){if(e!==~~e||e<t||e>r)throw Error(pi+e)}function Zr(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=We-n.length,r&&(i+=Jn(r)),i+=n;o=e[t],n=o+"",r=We-n.length,r&&(i+=Jn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var On=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%yt|0,o=i/yt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,u,d,f,h,p,g,y,v,m,b,x,S,w,_,j,E,k=n.constructor,D=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Pr+"Division by zero");for(l=n.e-a.e,j=T.length,w=P.length,p=new k(D),g=p.d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--l,i==null?b=i=k.precision:o?b=i+(ct(n)-ct(a))+1:b=i,b<0)return new k(0);if(b=b/We+2|0,u=0,j==1)for(d=0,T=T[0],b++;(u<w||d)&&b--;u++)x=d*yt+(P[u]||0),g[u]=x/T|0,d=x%T|0;else{for(d=yt/(T[0]+1)|0,d>1&&(T=e(T,d),P=e(P,d),j=T.length,w=P.length),S=j,y=P.slice(0,j),v=y.length;v<j;)y[v++]=0;E=T.slice(),E.unshift(0),_=T[0],T[1]>=yt/2&&++_;do d=0,s=t(T,y,j,v),s<0?(m=y[0],j!=v&&(m=m*yt+(y[1]||0)),d=m/_|0,d>1?(d>=yt&&(d=yt-1),f=e(T,d),h=f.length,v=y.length,s=t(f,y,h,v),s==1&&(d--,r(f,j<h?E:T,h))):(d==0&&(s=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),s==-1&&(v=y.length,s=t(T,y,j,v),s<1&&(d++,r(y,j<v?E:T,v))),v=y.length):s===0&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=P[S]||0:(y=[P[S]],v=1);while((S++<w||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Ie(p,o?i+ct(p)+1:i)}}();function Kk(e,t){var r,n,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(ct(e)>16)throw Error(ob+ct(e));if(!e.s)return new d(lr);for(Ye=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ja(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(lr),d.precision=s;;){if(a=Ie(a.times(e),s),r=r.times(++l),o=i.plus(On(a,r,s)),Zr(o.d).slice(0,s)===Zr(i.d).slice(0,s)){for(;u--;)i=Ie(i.times(i),s);return d.precision=f,t==null?(Ye=!0,Ie(i,f)):i}i=o}}function ct(e){for(var t=e.e*We,r=e.d[0];r>=10;r/=10)t++;return t}function em(e,t,r){if(t>e.LN10.sd())throw Ye=!0,r&&(e.precision=r),Error(Pr+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function Jn(e){for(var t="";e--;)t+="0";return t}function Zl(e,t){var r,n,a,i,o,s,l,u,d,f=1,h=10,p=e,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(Pr+(p.s?"NaN":"-Infinity"));if(p.eq(lr))return new y(0);if(t==null?(Ye=!1,u=v):u=t,p.eq(10))return t==null&&(Ye=!0),em(y,u);if(u+=h,y.precision=u,r=Zr(g),n=r.charAt(0),i=ct(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Zr(p.d),n=r.charAt(0),f++;i=ct(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return l=em(y,u+2,v).times(i+""),p=Zl(new y(n+"."+r.slice(1)),u-h).plus(l),y.precision=v,t==null?(Ye=!0,Ie(p,v)):p;for(s=o=p=On(p.minus(lr),p.plus(lr),u),d=Ie(p.times(p),u),a=3;;){if(o=Ie(o.times(d),u),l=s.plus(On(o,new y(a),u)),Zr(l.d).slice(0,u)===Zr(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(em(y,u+2,v).times(i+""))),s=On(s,new y(f),u),y.precision=v,t==null?(Ye=!0,Ie(s,v)):s;s=l,a+=2}}function C1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Os(r/We),e.d=[],n=(r+1)%We,r<0&&(n+=We),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=We;n<a;)e.d.push(+t.slice(n,n+=We));t=t.slice(n),n=We-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ye&&(e.e>tf||e.e<-tf))throw Error(ob+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,r){var n,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=We,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/We),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=We,a=n-We+o}if(r!==void 0&&(i=Ja(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/Ja(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ct(e),f.length=1,t=t-i-1,f[0]=Ja(10,(We-t%We)%We),e.e=Os(-t/We)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ja(10,We-n),f[d]=a>0?(u/Ja(10,o-a)%Ja(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ye&&(e.e>tf||e.e<-tf))throw Error(ob+ct(e));return e}function Yk(e,t){var r,n,a,i,o,s,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ye?Ie(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(p/We),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=yt-1;--l[i],l[a]+=yt}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ye?Ie(t,p):t):new h(0)}function Si(e,t,r){var n,a=ct(e),i=Zr(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Jn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Jn(-a-1)+i,r&&(n=r-o)>0&&(i+=Jn(n))):a>=o?(i+=Jn(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Jn(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Jn(n))),e.s<0?"-"+i:i}function $1(e,t){if(e.length>t)return e.length=t,!0}function Xk(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(pi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return C1(o,i.toString())}else if(typeof i!="string")throw Error(pi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,IX.test(i))C1(o,i);else throw Error(pi+i)}if(a.prototype=J,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Xk,a.config=a.set=DX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function DX(e){if(!e||typeof e!="object")throw Error(Pr+"Object expected");var t,r,n,a=["precision",1,js,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Os(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(pi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(pi+r+": "+n);return this}var sb=Xk($X);lr=new sb(1);const $e=sb;function RX(e){return BX(e)||UX(e)||LX(e)||MX()}function MX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function UX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BX(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FX=function(t){return t},Jk={},Qk=function(t){return t===Jk},I1=function(t){return function r(){return arguments.length===0||arguments.length===1&&Qk(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},qX=function e(t,r){return t===1?r:I1(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==Jk}).length;return o>=t?r.apply(void 0,a):e(t-o,I1(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return Qk(f)?l.shift():f});return r.apply(void 0,RX(d).concat(l))}))})},Dh=function(t){return qX(t.length,t)},cy=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},zX=Dh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),WX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return FX;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},dy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Zk=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function VX(e){var t;return e===0?t=1:t=Math.floor(new $e(e).abs().log(10).toNumber())+1,t}function HX(e,t,r){for(var n=new $e(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var GX=Dh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),KX=Dh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),YX=Dh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rh={rangeStep:HX,getDigitCount:VX,interpolateNumber:GX,uninterpolateNumber:KX,uninterpolateTruncation:YX};function fy(e){return QX(e)||JX(e)||eT(e)||XX()}function XX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QX(e){if(Array.isArray(e))return hy(e)}function eu(e,t){return tJ(e)||eJ(e,t)||eT(e,t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eT(e,t){if(e){if(typeof e=="string")return hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hy(e,t)}}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eJ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function tJ(e){if(Array.isArray(e))return e}function tT(e){var t=eu(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function rT(e,t,r){if(e.lte(0))return new $e(0);var n=Rh.getDigitCount(e.toNumber()),a=new $e(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new $e(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new $e(Math.ceil(l))}function rJ(e,t,r){var n=1,a=new $e(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new $e(10).pow(Rh.getDigitCount(e)-1),a=new $e(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new $e(Math.floor(e)))}else e===0?a=new $e(Math.floor((t-1)/2)):r||(a=new $e(Math.floor(e)));var o=Math.floor((t-1)/2),s=WX(zX(function(l){return a.add(new $e(l-o).mul(n)).toNumber()}),cy);return s(0,t)}function nT(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var i=rT(new $e(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new $e(0):(o=new $e(e).add(t).div(2),o=o.sub(new $e(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new $e(t).sub(o).div(i).toNumber()),u=s+l+1;return u>r?nT(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new $e(s).mul(i)),tickMax:o.add(new $e(l).mul(i))})}function nJ(e){var t=eu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=tT([r,n]),l=eu(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(fy(cy(0,a-1).map(function(){return 1/0}))):[].concat(fy(cy(0,a-1).map(function(){return-1/0})),[d]);return r>n?dy(f):f}if(u===d)return rJ(u,a,i);var h=nT(u,d,o,i),p=h.step,g=h.tickMin,y=h.tickMax,v=Rh.rangeStep(g,y.add(new $e(.1).mul(p)),p);return r>n?dy(v):v}function aJ(e,t){var r=eu(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tT([n,a]),s=eu(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=rT(new $e(u).sub(l).div(d-1),i,0),h=[].concat(fy(Rh.rangeStep(new $e(l),new $e(u).sub(new $e(.99).mul(f)),f)),[u]);return n>a?dy(h):h}var iJ=Zk(nJ),oJ=Zk(aJ),sJ="Invariant failed";function ji(e,t){throw new Error(sJ)}var lJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(this,arguments)}function uJ(e,t){return hJ(e)||fJ(e,t)||dJ(e,t)||cJ()}function cJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dJ(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function hJ(e){if(Array.isArray(e))return e}function pJ(e,t){if(e==null)return{};var r=mJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oT(n.key),n)}}function vJ(e,t,r){return t&&yJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bJ(e,t,r){return t=nf(t),xJ(e,aT()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function xJ(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wJ(e)}function wJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aT=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function _J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},py(e,t)}function iT(e,t,r){return t=oT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oT(e){var t=SJ(e,"string");return Fo(t)=="symbol"?t:t+""}function SJ(e,t){if(Fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mh=function(e){function t(){return gJ(this,t),bJ(this,t,arguments)}return _J(t,e),vJ(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=pJ(n,lJ),p=ue(h,!1);this.props.direction==="x"&&d.type!=="number"&&ji();var g=l.map(function(y){var v=u(y,s),m=v.x,b=v.y,x=v.value,S=v.errorVal;if(!S)return null;var w=[],_,j;if(Array.isArray(S)){var E=uJ(S,2);_=E[0],j=E[1]}else _=j=S;if(i==="vertical"){var k=d.scale,D=b+a,P=D+o,T=D-o,M=k(x-_),C=k(x+j);w.push({x1:C,y1:P,x2:C,y2:T}),w.push({x1:M,y1:D,x2:C,y2:D}),w.push({x1:M,y1:P,x2:M,y2:T})}else if(i==="horizontal"){var A=f.scale,O=m+a,R=O-o,$=O+o,L=A(x-_),V=A(x+j);w.push({x1:R,y1:V,x2:$,y2:V}),w.push({x1:O,y1:L,x2:O,y2:V}),w.push({x1:R,y1:L,x2:$,y2:L})}return I.createElement(ke,rf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},p),w.map(function(z){return I.createElement("line",rf({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return I.createElement(ke,{className:"recharts-errorBars"},g)}}])}(I.Component);iT(Mh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iT(Mh,"displayName","ErrorBar");function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){jJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jJ(e,t,r){return t=OJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=EJ(e,"string");return tu(t)=="symbol"?t:t+""}function EJ(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sT=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=or(r,fi);if(!o)return null;var s=fi.defaultProps,l=s!==void 0?Ba(Ba({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ba(Ba({},h),f.props):{},g=p.dataKey,y=p.name,v=p.legendType,m=p.hide;return{inactive:m,dataKey:g,type:l.iconType||v||"square",color:lb(f),value:y||g,payload:p}}),Ba(Ba(Ba({},l),fi.getWithHeight(o,a)),{},{payload:u,item:o})};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function M1(e){return kJ(e)||AJ(e)||NJ(e)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NJ(e,t){if(e){if(typeof e=="string")return my(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return my(e,t)}}function AJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kJ(e){if(Array.isArray(e))return my(e)}function my(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wo(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=CJ(e,"string");return ru(t)=="symbol"?t:t+""}function CJ(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return ye(e)||ye(t)?r:mt(t)?dr(e,t,r):ce(t)?t(e):r}function pl(e,t,r,n){var a=AX(e,function(s){return Rt(s,t)});if(r==="number"){var i=a.filter(function(s){return K(s)||parseFloat(s)});return i.length?[$h(i),Ch(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!ye(s)}):a;return o.map(function(s){return mt(s)||s instanceof Date?s:""})}var $J=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Bt(f-d)!==Bt(h-f)){var g=[];if(Bt(h-f)===Bt(l[1]-l[0])){p=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{p=d;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var m=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>m[0]&&t<=m[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(t>(b+f)/2&&t<=(x+f)/2){o=a[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},lb=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},IJ=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],y=g.items,v=g.cateAxisId,m=y.filter(function(j){return jn(j.type).indexOf("Bar")>=0});if(m&&m.length){var b=m[0].type.defaultProps,x=b!==void 0?rt(rt({},b),m[0].props):m[0].props,S=x.barSize,w=x[v];o[w]||(o[w]=[]);var _=ye(S)?r:S;o[w].push({item:m[0],stackList:m.slice(1),barSize:ye(_)?void 0:Ft(_,n,0)})}}return o},DJ=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=Ft(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/l,g=o.reduce(function(S,w){return S+w.barSize||0},0);g+=(l-1)*u,g>=a&&(g-=(l-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var y=(a-g)/2>>0,v={offset:y-u,size:0};d=o.reduce(function(S,w){var _={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},j=[].concat(M1(S),[_]);return v=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var m=Ft(n,a,0,!0);a-2*m-(l-1)*u<=0&&(u=0);var b=(a-2*m-(l-1)*u)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;d=o.reduce(function(S,w,_){var j=[].concat(M1(S),[{item:w.item,position:{offset:m+(b+u)*_+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},RJ=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=sT({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&K(t[p]))return rt(rt({},t),{},wo({},p,t[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&K(t[g]))return rt(rt({},t),{},wo({},g,t[g]+(h||0)))}return t},MJ=function(t,r,n){return ye(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},lT=function(t,r,n,a,i){var o=r.props.children,s=jr(o,Mh).filter(function(u){return MJ(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Rt(d,n);if(ye(f))return u;var h=Array.isArray(f)?[$h(f),Ch(f)]:[f,f],p=l.reduce(function(g,y){var v=Rt(d,y,0),m=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(m,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},LJ=function(t,r,n,a,i){var o=r.map(function(s){return lT(t,s,n,i,a)}).filter(function(s){return!ye(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},uT=function(t,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&lT(t,l,u,a)||pl(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},cT=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},dT=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},wn=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Bt(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Tu(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},tm=new WeakMap,vc=function(t,r){if(typeof r!="function")return t;tm.has(t)||tm.set(t,new WeakMap);var n=tm.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},fT=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Kl(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Jd(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hl(),realScaleType:"point"}:i==="category"?{scale:Kl(),realScaleType:"band"}:{scale:Jd(),realScaleType:"linear"};if(xi(a)){var l="scale".concat(yh(a));return{scale:(T1[l]||hl)(),realScaleType:T1[l]?l:"point"}}return ce(a)?{scale:a}:{scale:hl(),realScaleType:"point"}},U1=1e-4,hT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-U1,o=Math.max(a[0],a[1])+U1,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},UJ=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},BJ=function(t,r){if(!r||r.length!==2||!K(r[0])||!K(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!K(t[0])||t[0]<n)&&(i[0]=n),(!K(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},FJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=Tu(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},qJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Tu(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},zJ={sign:FJ,expand:l6,none:$o,silhouette:u6,wiggle:c6,positive:qJ},WJ=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=zJ[n],o=s6().keys(a).value(function(s,l){return+Rt(s,l,0)}).order(Bg).offset(i);return o(t)},VJ=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?rt(rt({},h.type.defaultProps),h.props):h.props,y=g.stackId,v=g.hide;if(v)return f;var m=g[n],b=f[m]||{hasStack:!1,stackGroups:{}};if(mt(y)){var x=b.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[y]=x}else b.stackGroups[Cu("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return rt(rt({},f),{},wo({},m,b))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var m=p.stackGroups[v];return rt(rt({},y),{},wo({},v,{numericAxisId:n,cateAxisId:a,items:m.items,stackedData:WJ(t,m.items,i)}))},g)}return rt(rt({},f),{},wo({},h,p))},d)},pT=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=iJ(u,i,s);return t.domain([$h(d),Ch(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=oJ(f,i,s);return{niceTicks:h}}return null},B1=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Rt(o,r.dataKey,r.domain[s]);return ye(l)?null:r.scale(l)-i/2+a},HJ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},GJ=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(mt(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},KJ=function(t){return t.reduce(function(r,n){return[$h(n.concat([r[0]]).filter(K)),Ch(n.concat([r[1]]).filter(K))]},[1/0,-1/0])},mT=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(u,d){var f=KJ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},F1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gy=function(t,r,n){if(ce(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(K(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(F1.test(t[0])){var i=+F1.exec(t[0])[1];a[0]=r[0]-i}else ce(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(K(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(q1.test(t[1])){var o=+q1.exec(t[1])[1];a[1]=r[1]+o}else ce(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},af=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=R0(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},z1=function(t,r,n){return!t||!t.length||Ih(t,dr(n,"type.defaultProps.domain"))?r:t},gT=function(t,r){var n=t.type.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return rt(rt({},ue(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:lb(t),value:Rt(r,a),type:l,payload:r,chartType:u,hide:d})};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){yT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yT(e,t,r){return t=YJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YJ(e){var t=XJ(e,"string");return nu(t)=="symbol"?t:t+""}function XJ(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JJ(e,t){return tQ(e)||eQ(e,t)||ZJ(e,t)||QJ()}function QJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(e,t){if(e){if(typeof e=="string")return V1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(e,t)}}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function tQ(e){if(Array.isArray(e))return e}var of=Math.PI/180,rQ=function(t){return t*180/Math.PI},Ue=function(t,r,n,a){return{x:t+Math.cos(-of*a)*n,y:r+Math.sin(-of*a)*n}},vT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nQ=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,d=Ft(t.cx,o,o/2),f=Ft(t.cy,s,s/2),h=vT(o,s,n),p=Ft(t.innerRadius,h,0),g=Ft(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(v,m){var b=r[m],x=b.domain,S=b.reversed,w;if(ye(b.range))a==="angleAxis"?w=[l,u]:a==="radiusAxis"&&(w=[p,g]),S&&(w=[w[1],w[0]]);else{w=b.range;var _=w,j=JJ(_,2);l=j[0],u=j[1]}var E=fT(b,i),k=E.realScaleType,D=E.scale;D.domain(x).range(w),hT(D);var P=pT(D,pn(pn({},b),{},{realScaleType:k})),T=pn(pn(pn({},b),P),{},{range:w,radius:g,realScaleType:k,scale:D,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return pn(pn({},v),{},yT({},m,T))},{})},aQ=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},iQ=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=aQ({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:rQ(u),angleInRadian:u}},oQ=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},sQ=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},H1=function(t,r){var n=t.x,a=t.y,i=iQ({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=oQ(r),f=d.startAngle,h=d.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?pn(pn({},r),{},{radius:o,angle:sQ(p,r)}):null},bT=function(t){return!N.isValidElement(t)&&!ce(t)&&typeof t!="boolean"?t.className:""};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}var lQ=["offset"];function uQ(e){return hQ(e)||fQ(e)||dQ(e)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(e,t){if(e){if(typeof e=="string")return yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yy(e,t)}}function fQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hQ(e){if(Array.isArray(e))return yy(e)}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pQ(e,t){if(e==null)return{};var r=mQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return t=yQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=vQ(e,"string");return au(t)=="symbol"?t:t+""}function vQ(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}var bQ=function(t){var r=t.value,n=t.formatter,a=ye(t.children)?r:t.children;return ce(n)?n(a):a},xQ=function(t,r){var n=Bt(r-t),a=Math.min(Math.abs(r-t),360);return n*a},wQ=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,v=(f+h)/2,m=xQ(p,g),b=m>=0?1:-1,x,S;a==="insideStart"?(x=p+b*o,S=y):a==="insideEnd"?(x=g-b*o,S=!y):a==="end"&&(x=g+b*o,S=y),S=m<=0?S:!S;var w=Ue(u,d,v,x),_=Ue(u,d,v,x+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),E=ye(t.id)?Cu("recharts-radial-line-"):t.id;return I.createElement("text",iu({},n,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:E,d:j})),I.createElement("textPath",{xlinkHref:"#".concat(E)},r))},_Q=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Ue(o,s,u+n,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,m=Ue(o,s,v,h),b=m.x,x=m.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},SQ=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,v=y*a,m=y>0?"end":"start",b=y>0?"start":"end";if(i==="top"){var x={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return ft(ft({},x),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return ft(ft({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var w={x:s-v,y:l+d/2,textAnchor:m,verticalAnchor:"middle"};return ft(ft({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:s+u+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return ft(ft({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return i==="insideLeft"?ft({x:s+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},j):i==="insideRight"?ft({x:s+u-v,y:l+d/2,textAnchor:m,verticalAnchor:"middle"},j):i==="insideTop"?ft({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},j):i==="insideBottom"?ft({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},j):i==="insideTopLeft"?ft({x:s+v,y:l+h,textAnchor:b,verticalAnchor:g},j):i==="insideTopRight"?ft({x:s+u-v,y:l+h,textAnchor:m,verticalAnchor:g},j):i==="insideBottomLeft"?ft({x:s+v,y:l+d-h,textAnchor:b,verticalAnchor:p},j):i==="insideBottomRight"?ft({x:s+u-v,y:l+d-h,textAnchor:m,verticalAnchor:p},j):ms(i)&&(K(i.x)||ii(i.x))&&(K(i.y)||ii(i.y))?ft({x:s+Ft(i.x,u),y:l+Ft(i.y,d),textAnchor:"end",verticalAnchor:"end"},j):ft({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},jQ=function(t){return"cx"in t&&K(t.cx)};function bt(e){var t=e.offset,r=t===void 0?5:t,n=pQ(e,lQ),a=ft({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||ye(s)&&ye(l)&&!N.isValidElement(u)&&!ce(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var p;if(ce(u)){if(p=N.createElement(u,a),N.isValidElement(p))return p}else p=bQ(a);var g=jQ(i),y=ue(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wQ(a,p,y);var v=g?_Q(a):SQ(a);return I.createElement(_i,iu({className:pe("recharts-label",f)},y,v,{breakAll:h}),p)}bt.displayName="Label";var xT=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,y=t.width,v=t.height,m=t.clockWise,b=t.labelViewBox;if(b)return b;if(K(y)&&K(v)){if(K(f)&&K(h))return{x:f,y:h,width:y,height:v};if(K(p)&&K(g))return{x:p,y:g,width:y,height:v}}return K(f)&&K(h)?{x:f,y:h,width:0,height:0}:K(r)&&K(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:m}:t.viewBox?t.viewBox:{}},OQ=function(t,r){return t?t===!0?I.createElement(bt,{key:"label-implicit",viewBox:r}):mt(t)?I.createElement(bt,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===bt?N.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(bt,{key:"label-implicit",content:t,viewBox:r}):ce(t)?I.createElement(bt,{key:"label-implicit",content:t,viewBox:r}):ms(t)?I.createElement(bt,iu({viewBox:r},t,{key:"label-implicit"})):null:null},EQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=xT(t),o=jr(a,bt).map(function(l,u){return N.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=OQ(t.label,r||i);return[s].concat(uQ(o))};bt.parseViewBox=xT;bt.renderCallByParent=EQ;function PQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var NQ=PQ;const AQ=Ne(NQ);function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var kQ=["valueAccessor"],TQ=["data","dataKey","clockWise","id","textBreakAll"];function CQ(e){return RQ(e)||DQ(e)||IQ(e)||$Q()}function $Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQ(e,t){if(e){if(typeof e=="string")return vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vy(e,t)}}function DQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RQ(e){if(Array.isArray(e))return vy(e)}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(this,arguments)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){MQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MQ(e,t,r){return t=LQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LQ(e){var t=UQ(e,"string");return ou(t)=="symbol"?t:t+""}function UQ(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1(e,t){if(e==null)return{};var r=BQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FQ=function(t){return Array.isArray(t.value)?AQ(t.value):t.value};function wa(e){var t=e.valueAccessor,r=t===void 0?FQ:t,n=X1(e,kQ),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=X1(n,TQ);return!a||!a.length?null:I.createElement(ke,{className:"recharts-label-list"},a.map(function(d,f){var h=ye(i)?r(d,f):Rt(d&&d.payload,i),p=ye(s)?{}:{id:"".concat(s,"-").concat(f)};return I.createElement(bt,sf({},ue(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:bt.parseViewBox(ye(o)?d:Y1(Y1({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}wa.displayName="LabelList";function qQ(e,t){return e?e===!0?I.createElement(wa,{key:"labelList-implicit",data:t}):I.isValidElement(e)||ce(e)?I.createElement(wa,{key:"labelList-implicit",data:t,content:e}):ms(e)?I.createElement(wa,sf({data:t},e,{key:"labelList-implicit"})):null:null}function zQ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=jr(n,wa).map(function(o,s){return N.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=qQ(e.label,t);return[i].concat(CQ(a))}wa.renderCallByParent=zQ;function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(this,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){WQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WQ(e,t,r){return t=VQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VQ(e){var t=HQ(e,"string");return su(t)=="symbol"?t:t+""}function HQ(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GQ=function(t,r){var n=Bt(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},bc=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/of,h=u?i:i+o*f,p=Ue(r,n,d,h),g=Ue(r,n,a,h),y=u?i-o*f:i,v=Ue(r,n,d*Math.cos(f*of),y);return{center:p,circleTangency:g,lineTangency:v,theta:f}},wT=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=GQ(o,s),u=o+l,d=Ue(r,n,i,o),f=Ue(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Ue(r,n,a,o),g=Ue(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},KQ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Bt(d-u),h=bc({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,v=bc({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),m=v.circleTangency,b=v.lineTangency,x=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-y-x;if(S<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):wT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var _=bc({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=_.circleTangency,E=_.lineTangency,k=_.theta,D=bc({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=D.circleTangency,T=D.lineTangency,M=D.theta,C=l?Math.abs(u-d):Math.abs(u-d)-k-M;if(C<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},YQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_T=function(t){var r=Q1(Q1({},YQ),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=pe("recharts-sector",h),g=o-i,y=Ft(s,g,0,!0),v;return y>0&&Math.abs(d-f)<360?v=KQ({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=wT({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",by({},ue(r,!0),{className:p,d:v,role:"img"}))};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function Z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(r),!0).forEach(function(n){XQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t,r){return t=JQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=QQ(e,"string");return lu(t)=="symbol"?t:t+""}function QQ(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tS={curveBasisClosed:XF,curveBasisOpen:JF,curveBasis:YF,curveBumpX:DF,curveBumpY:RF,curveLinearClosed:QF,curveLinear:bh,curveMonotoneX:ZF,curveMonotoneY:e6,curveNatural:t6,curveStep:r6,curveStepAfter:a6,curveStepBefore:n6},xc=function(t){return t.x===+t.x&&t.y===+t.y},Hs=function(t){return t.x},Gs=function(t){return t.y},ZQ=function(t,r){if(ce(t))return t;var n="curve".concat(yh(t));return(n==="curveMonotone"||n==="curveBump")&&r?tS["".concat(n).concat(r==="vertical"?"Y":"X")]:tS[n]||bh},eZ=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=ZQ(n,s),f=u?i.filter(function(y){return xc(y)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(y){return xc(y)}):o,g=f.map(function(y,v){return eS(eS({},y),{},{base:p[v]})});return s==="vertical"?h=cc().y(Gs).x1(Hs).x0(function(y){return y.base.x}):h=cc().x(Hs).y1(Gs).y0(function(y){return y.base.y}),h.defined(xc).curve(d),h(g)}return s==="vertical"&&K(o)?h=cc().y(Gs).x1(Hs).x0(o):K(o)?h=cc().x(Hs).y1(Gs).y0(o):h=gA().x(Hs).y(Gs),h.defined(xc).curve(d),h(f)},wy=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?eZ(t):a;return N.createElement("path",xy({},ue(t,!1),Td(t),{className:pe("recharts-curve",r),d:o,ref:i}))},ST={exports:{}},tZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rZ=tZ,nZ=rZ;function jT(){}function OT(){}OT.resetWarningCache=jT;var aZ=function(){function e(n,a,i,o,s,l){if(l!==nZ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:OT,resetWarningCache:jT};return r.PropTypes=r,r};ST.exports=aZ();var iZ=ST.exports;const Pe=Ne(iZ);var oZ=Object.getOwnPropertyNames,sZ=Object.getOwnPropertySymbols,lZ=Object.prototype.hasOwnProperty;function rS(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function wc(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function uZ(e){return e!=null?e[Symbol.toStringTag]:void 0}function nS(e){return oZ(e).concat(sZ(e))}var cZ=Object.hasOwn||function(e,t){return lZ.call(e,t)};function Ci(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var dZ="__v",fZ="__o",hZ="_owner",aS=Object.getOwnPropertyDescriptor,iS=Object.keys;function pZ(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function mZ(e,t){return Ci(e.getTime(),t.getTime())}function gZ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function yZ(e,t){return e===t}function oS(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var vZ=Ci;function bZ(e,t,r){var n=iS(e),a=n.length;if(iS(t).length!==a)return!1;for(;a-- >0;)if(!ET(e,t,r,n[a]))return!1;return!0}function Ks(e,t,r){var n=nS(e),a=n.length;if(nS(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!ET(e,t,r,i)||(o=aS(e,i),s=aS(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function xZ(e,t){return Ci(e.valueOf(),t.valueOf())}function wZ(e,t){return e.source===t.source&&e.flags===t.flags}function sS(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function _Z(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function SZ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ET(e,t,r,n){return(n===hZ||n===fZ||n===dZ)&&(e.$$typeof||t.$$typeof)?!0:cZ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var jZ="[object Arguments]",OZ="[object Boolean]",EZ="[object Date]",PZ="[object Error]",NZ="[object Map]",AZ="[object Number]",kZ="[object Object]",TZ="[object RegExp]",CZ="[object Set]",$Z="[object String]",IZ="[object URL]",DZ=Array.isArray,lS=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,uS=Object.assign,RZ=Object.prototype.toString.call.bind(Object.prototype.toString);function MZ(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(y,v,m){if(y===v)return!0;if(y==null||v==null)return!1;var b=typeof y;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(y,v,m):b==="function"?a(y,v,m):!1;var x=y.constructor;if(x!==v.constructor)return!1;if(x===Object)return s(y,v,m);if(DZ(y))return t(y,v,m);if(lS!=null&&lS(y))return f(y,v,m);if(x===Date)return r(y,v,m);if(x===RegExp)return u(y,v,m);if(x===Map)return i(y,v,m);if(x===Set)return d(y,v,m);var S=RZ(y);if(S===EZ)return r(y,v,m);if(S===TZ)return u(y,v,m);if(S===NZ)return i(y,v,m);if(S===CZ)return d(y,v,m);if(S===kZ)return typeof y.then!="function"&&typeof v.then!="function"&&s(y,v,m);if(S===IZ)return h(y,v,m);if(S===PZ)return n(y,v,m);if(S===jZ)return s(y,v,m);if(S===OZ||S===AZ||S===$Z)return l(y,v,m);if(p){var w=p[S];if(!w){var _=uZ(y);_&&(w=p[_])}if(w)return w(y,v,m)}return!1}}function LZ(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ks:pZ,areDatesEqual:mZ,areErrorsEqual:gZ,areFunctionsEqual:yZ,areMapsEqual:n?rS(oS,Ks):oS,areNumbersEqual:vZ,areObjectsEqual:n?Ks:bZ,arePrimitiveWrappersEqual:xZ,areRegExpsEqual:wZ,areSetsEqual:n?rS(sS,Ks):sS,areTypedArraysEqual:n?Ks:_Z,areUrlsEqual:SZ,unknownTagComparators:void 0};if(r&&(a=uS({},a,r(a))),t){var i=wc(a.areArraysEqual),o=wc(a.areMapsEqual),s=wc(a.areObjectsEqual),l=wc(a.areSetsEqual);a=uS({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function UZ(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function BZ(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var FZ=$a();$a({strict:!0});$a({circular:!0});$a({circular:!0,strict:!0});$a({createInternalComparator:function(){return Ci}});$a({strict:!0,createInternalComparator:function(){return Ci}});$a({circular:!0,createInternalComparator:function(){return Ci}});$a({circular:!0,createInternalComparator:function(){return Ci},strict:!0});function $a(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=LZ(e),l=MZ(s),u=n?n(l):UZ(l);return BZ({circular:r,comparator:l,createState:a,equals:u,strict:o})}function qZ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):qZ(a)};requestAnimationFrame(n)}function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function zZ(e){return GZ(e)||HZ(e)||VZ(e)||WZ()}function WZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VZ(e,t){if(e){if(typeof e=="string")return dS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dS(e,t)}}function dS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GZ(e){if(Array.isArray(e))return e}function KZ(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=zZ(o),l=s[0],u=s.slice(1);if(typeof l=="number"){cS(a.bind(null,u),l);return}a(l),cS(a.bind(null,u));return}_y(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){PT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PT(e,t,r){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=XZ(e,"string");return uu(t)==="symbol"?t:String(t)}function XZ(e,t){if(uu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JZ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},QZ=function(t){return t},ZZ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ml=function(t,r){return Object.keys(r).reduce(function(n,a){return hS(hS({},n),{},PT({},a,t(a,r[a])))},{})},pS=function(t,r,n){return t.map(function(a){return"".concat(ZZ(a)," ").concat(r,"ms ").concat(n)}).join(",")};function eee(e,t){return nee(e)||ree(e,t)||NT(e,t)||tee()}function tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function nee(e){if(Array.isArray(e))return e}function aee(e){return see(e)||oee(e)||NT(e)||iee()}function iee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NT(e,t){if(e){if(typeof e=="string")return Sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sy(e,t)}}function oee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function see(e){if(Array.isArray(e))return Sy(e)}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lf=1e-4,AT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kT=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},mS=function(t,r){return function(n){var a=AT(t,r);return kT(a,n)}},lee=function(t,r){return function(n){var a=AT(t,r),i=[].concat(aee(a.map(function(o,s){return o*s}).slice(1)),[0]);return kT(i,n)}},gS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=eee(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=mS(a,o),h=mS(i,s),p=lee(a,o),g=function(m){return m>1?1:m<0?0:m},y=function(m){for(var b=m>1?1:m,x=b,S=0;S<8;++S){var w=f(x)-b,_=p(x);if(Math.abs(w-b)<lf||_<lf)return h(x);x=g(x-w/_)}return h(x)};return y.isStepper=!1,y},uee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,g=h*i,y=h+(p-g)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<lf&&Math.abs(y)<lf?[f,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},cee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gS(a);case"spring":return uee();default:if(a.split("(")[0]==="cubic-bezier")return gS(a)}return typeof a=="function"?a:null};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function yS(e){return hee(e)||fee(e)||TT(e)||dee()}function dee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hee(e){if(Array.isArray(e))return Oy(e)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){jy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jy(e,t,r){return t=pee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pee(e){var t=mee(e,"string");return cu(t)==="symbol"?t:String(t)}function mee(e,t){if(cu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gee(e,t){return bee(e)||vee(e,t)||TT(e,t)||yee()}function yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TT(e,t){if(e){if(typeof e=="string")return Oy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oy(e,t)}}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function bee(e){if(Array.isArray(e))return e}var uf=function(t,r,n){return t+(r-t)*n},Ey=function(t){var r=t.from,n=t.to;return r!==n},xee=function e(t,r,n){var a=ml(function(i,o){if(Ey(o)){var s=t(o.from,o.to,o.velocity),l=gee(s,2),u=l[0],d=l[1];return jt(jt({},o),{},{from:u,velocity:d})}return o},r);return n<1?ml(function(i,o){return Ey(o)?jt(jt({},o),{},{velocity:uf(o.velocity,a[i].velocity,n),from:uf(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const wee=function(e,t,r,n,a){var i=JZ(e,t),o=i.reduce(function(v,m){return jt(jt({},v),{},jy({},m,[e[m],t[m]]))},{}),s=i.reduce(function(v,m){return jt(jt({},v),{},jy({},m,{from:e[m],velocity:0,to:t[m]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return ml(function(m,b){return b.from},s)},p=function(){return!Object.values(s).filter(Ey).length},g=function(m){u||(u=m);var b=m-u,x=b/r.dt;s=xee(r,s,x),a(jt(jt(jt({},e),t),h())),u=m,p()||(l=requestAnimationFrame(f))},y=function(m){d||(d=m);var b=(m-d)/n,x=ml(function(w,_){return uf.apply(void 0,yS(_).concat([r(b)]))},o);if(a(jt(jt(jt({},e),t),x)),b<1)l=requestAnimationFrame(f);else{var S=ml(function(w,_){return uf.apply(void 0,yS(_).concat([r(1)]))},o);a(jt(jt(jt({},e),t),S))}};return f=r.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}var _ee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function See(e,t){if(e==null)return{};var r=jee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jee(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function rm(e){return Nee(e)||Pee(e)||Eee(e)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eee(e,t){if(e){if(typeof e=="string")return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Py(e,t)}}function Pee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nee(e){if(Array.isArray(e))return Py(e)}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){rl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rl(e,t,r){return t=CT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CT(n.key),n)}}function Tee(e,t,r){return t&&kee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CT(e){var t=Cee(e,"string");return qo(t)==="symbol"?t:String(t)}function Cee(e,t){if(qo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ny(e,t)}function Ny(e,t){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ny(e,t)}function Iee(e){var t=Dee();return function(){var n=cf(e),a;if(t){var i=cf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ay(this,a)}}function Ay(e,t){if(t&&(qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ky(e)}function ky(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cf(e)}var Dn=function(e){$ee(r,e);var t=Iee(r);function r(n,a){var i;Aee(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ky(i)),i.changeStyle=i.changeStyle.bind(ky(i)),!s||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Ay(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Ay(i);i.state={style:l?rl({},l,u):u}}else i.state={style:{}};return i}return Tee(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var p={style:l?rl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(FZ(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:a.to;if(this.state&&h){var v={style:l?rl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(Tr(Tr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=wee(o,s,cee(u),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,v,m){if(m===0)return y;var b=v.duration,x=v.easing,S=x===void 0?"ease":x,w=v.style,_=v.properties,j=v.onAnimationEnd,E=m>0?o[m-1]:v,k=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(rm(y),[i.runJSAnimation.bind(i,{from:E.style,to:w,duration:b,easing:S}),b]);var D=pS(k,b,S),P=Tr(Tr(Tr({},E.style),w),{},{transition:D});return[].concat(rm(y),[P,b,j]).filter(QZ)};return this.manager.start([l].concat(rm(o.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=KZ());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var y=s?rl({},s,l):l,v=pS(Object.keys(y),o,u);g.start([d,i,Tr(Tr({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=See(a,_ee),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(p){var g=p.props,y=g.style,v=y===void 0?{}:y,m=g.className,b=N.cloneElement(p,Tr(Tr({},l),{},{style:Tr(Tr({},v),d),className:m}));return b};return u===1?f(N.Children.only(i)):I.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),r}(N.PureComponent);Dn.displayName="Animate";Dn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Dn.propTypes={from:Pe.oneOfType([Pe.object,Pe.string]),to:Pe.oneOfType([Pe.object,Pe.string]),attributeName:Pe.string,duration:Pe.number,begin:Pe.number,easing:Pe.oneOfType([Pe.string,Pe.func]),steps:Pe.arrayOf(Pe.shape({duration:Pe.number.isRequired,style:Pe.object.isRequired,easing:Pe.oneOfType([Pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pe.func]),properties:Pe.arrayOf("string"),onAnimationEnd:Pe.func})),children:Pe.oneOfType([Pe.node,Pe.func]),isActive:Pe.bool,canBegin:Pe.bool,onAnimationEnd:Pe.func,shouldReAnimate:Pe.bool,onAnimationStart:Pe.func,onAnimationReStart:Pe.func};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function Ree(e,t){return Bee(e)||Uee(e,t)||Lee(e,t)||Mee()}function Mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(e,t){if(e){if(typeof e=="string")return xS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xS(e,t)}}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Bee(e){if(Array.isArray(e))return e}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){Fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fee(e,t,r){return t=qee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qee(e){var t=zee(e,"string");return du(t)=="symbol"?t:t+""}function zee(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SS=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*g,`
            L `).concat(t+n,",").concat(r+a-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Wee=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Vee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ub=function(t){var r=_S(_S({},Vee),t),n=N.useRef(),a=N.useState(-1),i=Ree(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,y=r.animationDuration,v=r.animationBegin,m=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=pe("recharts-rectangle",p);return b?I.createElement(Dn,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(S){var w=S.width,_=S.height,j=S.x,E=S.y;return I.createElement(Dn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:m,easing:g},I.createElement("path",df({},ue(r,!0),{className:x,d:SS(j,E,w,_,h),ref:n})))}):I.createElement("path",df({},ue(r,!0),{className:x,d:SS(l,u,d,f,h)}))},Hee=["points","className","baseLinePoints","connectNulls"];function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function Gee(e,t){if(e==null)return{};var r=Kee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jS(e){return Qee(e)||Jee(e)||Xee(e)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xee(e,t){if(e){if(typeof e=="string")return Ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ty(e,t)}}function Jee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qee(e){if(Array.isArray(e))return Ty(e)}function Ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var OS=function(t){return t&&t.x===+t.x&&t.y===+t.y},Zee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){OS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),OS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},gl=function(t,r){var n=Zee(t);r&&(n=[n.reduce(function(i,o){return[].concat(jS(i),jS(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},ete=function(t,r,n){var a=gl(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(gl(r.reverse(),n).slice(1))},tte=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Gee(t,Hee);if(!r||!r.length)return null;var s=pe("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=ete(r,a,i);return I.createElement("g",{className:s},I.createElement("path",io({},ue(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?I.createElement("path",io({},ue(o,!0),{fill:"none",d:gl(r,i)})):null,l?I.createElement("path",io({},ue(o,!0),{fill:"none",d:gl(a,i)})):null)}var d=gl(r,i);return I.createElement("path",io({},ue(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}var cb=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=pe("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",Cy({},ue(t,!1),Td(t),{className:o,cx:r,cy:n,r:a})):null};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var rte=["x","y","top","left","width","height","className"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ate(e,t,r){return t=ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=ote(e,"string");return fu(t)=="symbol"?t:t+""}function ote(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e,t){if(e==null)return{};var r=lte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ute=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},cte=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,y=ste(t,rte),v=nte({x:n,y:i,top:s,left:u,width:f,height:p},y);return!K(n)||!K(i)||!K(f)||!K(p)||!K(s)||!K(u)?null:I.createElement("path",$y({},ue(v,!0),{className:pe("recharts-cross",g),d:ute(n,i,f,p,s,u)}))},dte=Th,fte=Wk,hte=sn;function pte(e,t){return e&&e.length?dte(e,hte(t),fte):void 0}var mte=pte;const gte=Ne(mte);var yte=Th,vte=sn,bte=Vk;function xte(e,t){return e&&e.length?yte(e,vte(t),bte):void 0}var wte=xte;const _te=Ne(wte);var Ste=["cx","cy","angle","ticks","axisLine"],jte=["ticks","tick","angle","tickFormatter","stroke"];function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(this,arguments)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NS(e,t){if(e==null)return{};var r=Ote(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ote(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ete(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IT(n.key),n)}}function Pte(e,t,r){return t&&AS(e.prototype,t),r&&AS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nte(e,t,r){return t=ff(t),Ate(e,$T()?Reflect.construct(t,r||[],ff(e).constructor):t.apply(e,r))}function Ate(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kte(e)}function kte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($T=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(e)}function Tte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iy(e,t)}function Iy(e,t){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Iy(e,t)}function Lh(e,t,r){return t=IT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=Cte(e,"string");return zo(t)=="symbol"?t:t+""}function Cte(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uh=function(e){function t(){return Ete(this,t),Nte(this,t,arguments)}return Tte(t,e),Pte(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Ue(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=gte(s,function(d){return d.coordinate||0}),u=_te(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=NS(n,Ste),d=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=Ue(a,i,d[0],o),h=Ue(a,i,d[1],o),p=Fa(Fa(Fa({},ue(u,!1)),{},{fill:"none"},ue(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",yl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=NS(a,jte),f=this.getTickTextAnchor(),h=ue(d,!1),p=ue(o,!1),g=i.map(function(y,v){var m=n.getTickValueCoord(y),b=Fa(Fa(Fa(Fa({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(m.x,", ").concat(m.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},m),{},{payload:y});return I.createElement(ke,yl({className:pe("recharts-polar-radius-axis-tick",bT(o)),key:"tick-".concat(y.coordinate)},wi(n.props,y,v)),t.renderTickItem(o,b,l?l(y.value,v):y.value))});return I.createElement(ke,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:I.createElement(ke,{className:pe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):ce(n)?o=n(a):o=I.createElement(_i,yl({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(N.PureComponent);Lh(Uh,"displayName","PolarRadiusAxis");Lh(Uh,"axisType","radiusAxis");Lh(Uh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ei.apply(this,arguments)}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RT(n.key),n)}}function Ite(e,t,r){return t&&TS(e.prototype,t),r&&TS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dte(e,t,r){return t=hf(t),Rte(e,DT()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function Rte(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mte(e)}function Mte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DT=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}function Lte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dy(e,t)}function Bh(e,t,r){return t=RT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RT(e){var t=Ute(e,"string");return Wo(t)=="symbol"?t:t+""}function Ute(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bte=Math.PI/180,CS=1e-5,Fh=function(e){function t(){return $te(this,t),Dte(this,t,arguments)}return Lte(t,e),Ite(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=Ue(i,o,s,n.coordinate),h=Ue(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Bte),o;return i>CS?o=a==="outer"?"start":"end":i<-CS?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=qa(qa({},ue(this.props,!1)),{},{fill:"none"},ue(s,!1));if(l==="circle")return I.createElement(cb,ei({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ue(a,i,o,h.coordinate)});return I.createElement(tte,ei({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=ue(this.props,!1),f=ue(o,!1),h=qa(qa({},d),{},{fill:"none"},ue(s,!1)),p=i.map(function(g,y){var v=n.getTickLineCoord(g),m=n.getTickTextAnchor(g),b=qa(qa(qa({textAnchor:m},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:g,x:v.x2,y:v.y2});return I.createElement(ke,ei({className:pe("recharts-polar-angle-axis-tick",bT(o)),key:"tick-".concat(g.coordinate)},wi(n.props,g,y)),s&&I.createElement("line",ei({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,l?l(g.value,y):g.value))});return I.createElement(ke,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:I.createElement(ke,{className:pe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):ce(n)?o=n(a):o=I.createElement(_i,ei({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(N.PureComponent);Bh(Fh,"displayName","PolarAngleAxis");Bh(Fh,"axisType","angleAxis");Bh(Fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fte=BA,qte=Fte(Object.getPrototypeOf,Object),zte=qte,Wte=Un,Vte=zte,Hte=Bn,Gte="[object Object]",Kte=Function.prototype,Yte=Object.prototype,MT=Kte.toString,Xte=Yte.hasOwnProperty,Jte=MT.call(Object);function Qte(e){if(!Hte(e)||Wte(e)!=Gte)return!1;var t=Vte(e);if(t===null)return!0;var r=Xte.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MT.call(r)==Jte}var Zte=Qte;const ere=Ne(Zte);var tre=Un,rre=Bn,nre="[object Boolean]";function are(e){return e===!0||e===!1||rre(e)&&tre(e)==nre}var ire=are;const ore=Ne(ire);function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function sre(e,t){return dre(e)||cre(e,t)||ure(e,t)||lre()}function lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(e,t){if(e){if(typeof e=="string")return $S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $S(e,t)}}function $S(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function dre(e){if(Array.isArray(e))return e}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fre(e,t,r){return t=hre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hre(e){var t=pre(e,"string");return hu(t)=="symbol"?t:t+""}function pre(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RS=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},mre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gre=function(t){var r=DS(DS({},mre),t),n=N.useRef(),a=N.useState(-1),i=sre(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,y=r.animationDuration,v=r.animationBegin,m=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=pe("recharts-trapezoid",p);return m?I.createElement(Dn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:m},function(x){var S=x.upperWidth,w=x.lowerWidth,_=x.height,j=x.x,E=x.y;return I.createElement(Dn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},I.createElement("path",pf({},ue(r,!0),{className:b,d:RS(j,E,S,w,_),ref:n})))}):I.createElement("g",null,I.createElement("path",pf({},ue(r,!0),{className:b,d:RS(l,u,d,f,h)})))},yre=["option","shapeType","propTransformer","activeClassName","isActive"];function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function vre(e,t){if(e==null)return{};var r=bre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xre(e,t,r){return t=wre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wre(e){var t=_re(e,"string");return pu(t)=="symbol"?t:t+""}function _re(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sre(e,t){return mf(mf({},t),e)}function jre(e,t){return e==="symbols"}function LS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(ub,r);case"trapezoid":return I.createElement(gre,r);case"sector":return I.createElement(_T,r);case"symbols":if(jre(t))return I.createElement(N0,r);break;default:return null}}function Ore(e){return N.isValidElement(e)?e.props:e}function LT(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Sre:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=vre(e,yre),u;if(N.isValidElement(t))u=N.cloneElement(t,mf(mf({},l),Ore(t)));else if(ce(t))u=t(l);else if(ere(t)&&!ore(t)){var d=a(t,l);u=I.createElement(LS,{shapeType:r,elementProps:d})}else{var f=l;u=I.createElement(LS,{shapeType:r,elementProps:f})}return s?I.createElement(ke,{className:o},u):u}function qh(e,t){return t!=null&&"trapezoids"in e.props}function zh(e,t){return t!=null&&"sectors"in e.props}function mu(e,t){return t!=null&&"points"in e.props}function Ere(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Pre(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Nre(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Are(e,t){var r;return qh(e,t)?r=Ere:zh(e,t)?r=Pre:mu(e,t)&&(r=Nre),r}function kre(e,t){var r;return qh(e,t)?r="trapezoids":zh(e,t)?r="sectors":mu(e,t)&&(r="points"),r}function Tre(e,t){if(qh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mu(e,t)?t.payload:{}}function Cre(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=kre(r,t),i=Tre(r,t),o=n.filter(function(l,u){var d=Ih(i,l),f=r.props[a].filter(function(g){var y=Are(r,t);return y(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var Fc;function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){xr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BT(n.key),n)}}function Ire(e,t,r){return t&&BS(e.prototype,t),r&&BS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dre(e,t,r){return t=gf(t),Rre(e,UT()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function Rre(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mre(e)}function Mre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UT=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function Lre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ry(e,t)}function xr(e,t,r){return t=BT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BT(e){var t=Ure(e,"string");return Vo(t)=="symbol"?t:t+""}function Ure(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qn=function(e){function t(r){var n;return $re(this,t),n=Dre(this,t,[r]),xr(n,"pieRef",null),xr(n,"sectorRefs",[]),xr(n,"id",Cu("recharts-pie-")),xr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(a)&&a()}),xr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Lre(t,e),Ire(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=ue(this.props,!1),f=ue(o,!1),h=ue(s,!1),p=o&&o.offsetRadius||20,g=n.map(function(y,v){var m=(y.startAngle+y.endAngle)/2,b=Ue(y.cx,y.cy,y.outerRadius+p,m),x=Re(Re(Re(Re({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,y.cx)},b),S=Re(Re(Re(Re({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[Ue(y.cx,y.cy,y.outerRadius,m),b]}),w=l;return ye(l)&&ye(u)?w="value":ye(l)&&(w=u),I.createElement(ke,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&t.renderLabelLineItem(s,S,"line"),t.renderLabelItem(o,x,Rt(y,w)))});return I.createElement(ke,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?o:h,g=Re(Re({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(ke,oo({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},wi(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),I.createElement(LT,oo({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return I.createElement(Dn,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,v=[],m=i&&i[0],b=m.startAngle;return i.forEach(function(x,S){var w=h&&h[S],_=S>0?dr(x,"paddingAngle",0):0;if(w){var j=Xn(w.endAngle-w.startAngle,x.endAngle-x.startAngle),E=Re(Re({},x),{},{startAngle:b+_,endAngle:b+j(y)+_});v.push(E),b=E.endAngle}else{var k=x.endAngle,D=x.startAngle,P=Xn(0,k-D),T=P(y),M=Re(Re({},x),{},{startAngle:b+_,endAngle:b+T+_});v.push(M),b=M.endAngle}}),I.createElement(ke,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!K(u)||!K(d)||!K(f)||!K(h))return null;var y=pe("recharts-pie",s);return I.createElement(ke,{tabIndex:this.props.rootTabIndex,className:y,ref:function(m){n.pieRef=m}},this.renderSectors(),l&&this.renderLabels(o),bt.renderCallByParent(this.props,null,!1),(!p||g)&&wa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(I.isValidElement(n))return I.cloneElement(n,a);if(ce(n))return n(a);var o=pe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(wy,oo({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(I.isValidElement(n))return I.cloneElement(n,a);var o=i;if(ce(n)&&(o=n(a),I.isValidElement(o)))return o;var s=pe("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return I.createElement(_i,oo({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(N.PureComponent);Fc=qn;xr(qn,"displayName","Pie");xr(qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_s.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});xr(qn,"parseDeltaAngle",function(e,t){var r=Bt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});xr(qn,"getRealPieData",function(e){var t=e.data,r=e.children,n=ue(e,!1),a=jr(r,jh);return t&&t.length?t.map(function(i,o){return Re(Re(Re({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Re(Re({},n),i.props)}):[]});xr(qn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=vT(a,i),s=n+Ft(e.cx,a,a/2),l=r+Ft(e.cy,i,i/2),u=Ft(e.innerRadius,o,0),d=Ft(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});xr(qn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Re(Re({},t.type.defaultProps),t.props):t.props,a=Fc.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Fc.parseCoordinateOfPie(n,r),y=Fc.parseDeltaAngle(o,s),v=Math.abs(y),m=u;ye(u)&&ye(f)?(qr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m="value"):ye(u)&&(qr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m=f);var b=a.filter(function(E){return Rt(E,m,0)!==0}).length,x=(v>=360?b:b-1)*l,S=v-b*p-x,w=a.reduce(function(E,k){var D=Rt(k,m,0);return E+(K(D)?D:0)},0),_;if(w>0){var j;_=a.map(function(E,k){var D=Rt(E,m,0),P=Rt(E,d,k),T=(K(D)?D:0)/w,M;k?M=j.endAngle+Bt(y)*l*(D!==0?1:0):M=o;var C=M+Bt(y)*((D!==0?p:0)+T*S),A=(M+C)/2,O=(g.innerRadius+g.outerRadius)/2,R=[{name:P,value:D,payload:E,dataKey:m,type:h}],$=Ue(g.cx,g.cy,O,A);return j=Re(Re(Re({percent:T,cornerRadius:i,name:P,tooltipPayload:R,midAngle:A,middleRadius:O,tooltipPosition:$},E),g),{},{value:Rt(E,m),startAngle:M,endAngle:C,payload:E,paddingAngle:Bt(y)*l}),j})}return Re(Re({},g),{},{sectors:_,data:a})});var Bre=Math.ceil,Fre=Math.max;function qre(e,t,r,n){for(var a=-1,i=Fre(Bre((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var zre=qre,Wre=ik,FS=1/0,Vre=17976931348623157e292;function Hre(e){if(!e)return e===0?e:0;if(e=Wre(e),e===FS||e===-FS){var t=e<0?-1:1;return t*Vre}return e===e?e:0}var FT=Hre,Gre=zre,Kre=Sh,nm=FT;function Yre(e){return function(t,r,n){return n&&typeof n!="number"&&Kre(t,r,n)&&(r=n=void 0),t=nm(t),r===void 0?(r=t,t=0):r=nm(r),n=n===void 0?t<r?1:-1:nm(n),Gre(t,r,n,e)}}var Xre=Yre,Jre=Xre,Qre=Jre(),Zre=Qre;const yf=Ne(Zre);function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){qT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qT(e,t,r){return t=ene(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ene(e){var t=tne(e,"string");return gu(t)=="symbol"?t:t+""}function tne(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rne=["Webkit","Moz","O","ms"],nne=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=rne.reduce(function(i,o){return zS(zS({},i),{},qT({},o+n,r))},{});return a[t]=r,a};function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){ar(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ane(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WT(n.key),n)}}function ine(e,t,r){return t&&VS(e.prototype,t),r&&VS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function one(e,t,r){return t=bf(t),sne(e,zT()?Reflect.construct(t,r||[],bf(e).constructor):t.apply(e,r))}function sne(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lne(e)}function lne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!e})()}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bf(e)}function une(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},My(e,t)}function ar(e,t,r){return t=WT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WT(e){var t=cne(e,"string");return Ho(t)=="symbol"?t:t+""}function cne(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dne=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=hl().domain(yf(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},HS=function(t){return t.changedTouches&&!!t.changedTouches.length},Go=function(e){function t(r){var n;return ane(this,t),n=one(this,t,[r]),ar(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ar(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ar(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),ar(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ar(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ar(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ar(n,"handleSlideDragStart",function(a){var i=HS(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return une(t,e),ine(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=Rt(i[n],s,n);return ce(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+d-f-s,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=HS(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,y=d.gap,v=d.data,m={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),m[o]=u+b;var x=this.getIndex(m),S=x.startIndex,w=x.endIndex,_=function(){var E=v.length-1;return o==="startX"&&(s>l?S%y===0:w%y===0)||s<l&&w===E||o==="endX"&&(s>l?w%y===0:S%y===0)||s>l&&w===E};this.setState(ar(ar({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&_()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(ar({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?I.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,m=Math.max(n,this.props.x),b=am(am({},ue(this.props,!1)),{},{x:m,y:u,width:d,height:f}),x=p||"Min value: ".concat((i=g[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return I.createElement(ke,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return I.createElement(ke,{className:"recharts-brush-texts"},I.createElement(_i,vf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},g),this.getTextOfTick(a)),I.createElement(_i,vf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,v=h.isSlideMoving,m=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!K(s)||!K(l)||!K(u)||!K(d)||u<=0||d<=0)return null;var x=pe("recharts-brush",i),S=I.Children.count(o)===1,w=nne("userSelect","none");return I.createElement(ke,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||m||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(i+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return I.isValidElement(n)?i=I.cloneElement(n,a):ce(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return am({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?dne({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(N.PureComponent);ar(Go,"displayName","Brush");ar(Go,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fne=D0;function hne(e,t){var r;return fne(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var pne=hne,mne=CA,gne=sn,yne=pne,vne=rr,bne=Sh;function xne(e,t,r){var n=vne(e)?mne:yne;return r&&bne(e,t,r)&&(t=void 0),n(e,gne(t))}var wne=xne;const _ne=Ne(wne);var nn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},GS=ek;function Sne(e,t,r){t=="__proto__"&&GS?GS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var jne=Sne,One=jne,Ene=QA,Pne=sn;function Nne(e,t){var r={};return t=Pne(t),Ene(e,function(n,a,i){One(r,a,t(n,a,i))}),r}var Ane=Nne;const kne=Ne(Ane);function Tne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Cne=Tne,$ne=D0;function Ine(e,t){var r=!0;return $ne(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Dne=Ine,Rne=Cne,Mne=Dne,Lne=sn,Une=rr,Bne=Sh;function Fne(e,t,r){var n=Une(e)?Rne:Mne;return r&&Bne(e,t,r)&&(t=void 0),n(e,Lne(t))}var qne=Fne;const VT=Ne(qne);var zne=["x","y"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){Wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t,r){return t=Vne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vne(e){var t=Hne(e,"string");return yu(t)=="symbol"?t:t+""}function Hne(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gne(e,t){if(e==null)return{};var r=Kne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yne(e,t){var r=e.x,n=e.y,a=Gne(e,zne),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ys(Ys(Ys(Ys(Ys({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function YS(e){return I.createElement(LT,Ly({shapeType:"rectangle",propTransformer:Yne,activeClassName:"recharts-active-bar"},e))}var Xne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=K(n)||wB(n);return i?t(n,a):(i||ji(),r)}},Jne=["value","background"],HT;function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function Qne(e,t){if(e==null)return{};var r=Zne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){la(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KT(n.key),n)}}function tae(e,t,r){return t&&JS(e.prototype,t),r&&JS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rae(e,t,r){return t=wf(t),nae(e,GT()?Reflect.construct(t,r||[],wf(e).constructor):t.apply(e,r))}function nae(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aae(e)}function aae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GT=function(){return!!e})()}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(e)}function iae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uy(e,t)}function la(e,t,r){return t=KT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KT(e){var t=oae(e,"string");return Ko(t)=="symbol"?t:t+""}function oae(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ja=function(e){function t(){var r;eae(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rae(this,t,[].concat(a)),la(r,"state",{isAnimationFinished:!1}),la(r,"id",Cu("recharts-bar-")),la(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),la(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return iae(t,e),tae(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,u=i.activeBar,d=ue(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?u:o,y=st(st(st({},d),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(ke,xf({className:"recharts-bar-rectangle"},wi(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(YS,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return I.createElement(Dn,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=i.map(function(v,m){var b=h&&h[m];if(b){var x=Xn(b.x,v.x),S=Xn(b.y,v.y),w=Xn(b.width,v.width),_=Xn(b.height,v.height);return st(st({},v),{},{x:x(g),y:S(g),width:w(g),height:_(g)})}if(o==="horizontal"){var j=Xn(0,v.height),E=j(g);return st(st({},v),{},{y:v.y+v.height-E,height:E})}var k=Xn(0,v.width),D=k(g);return st(st({},v),{},{width:D})});return I.createElement(ke,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=ue(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Qne(u,Jne);if(!f)return null;var p=st(st(st(st(st({},h),{},{fill:"#eee"},f),l),wi(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(YS,xf({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=jr(d,Mh);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,m){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Rt(v,m)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(ke,g,f.map(function(y){return I.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,y=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,m=pe("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,S=b||x,w=ye(y)?this.id:y;return I.createElement(ke,{className:m},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?u:u-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,I.createElement(ke,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||v)&&wa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);HT=ja;la(ja,"displayName","Bar");la(ja,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_s.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});la(ja,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=UJ(n,r);if(!p)return null;var g=t.layout,y=r.type.defaultProps,v=y!==void 0?st(st({},y),r.props):r.props,m=v.dataKey,b=v.children,x=v.minPointSize,S=g==="horizontal"?o:i,w=u?S.scale.domain():null,_=HJ({numericAxis:S}),j=jr(b,jh),E=f.map(function(k,D){var P,T,M,C,A,O;u?P=BJ(u[d+D],w):(P=Rt(k,m),Array.isArray(P)||(P=[_,P]));var R=Xne(x,HT.defaultProps.minPointSize)(P[1],D);if(g==="horizontal"){var $,L=[o.scale(P[0]),o.scale(P[1])],V=L[0],z=L[1];T=B1({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:k,index:D}),M=($=z??V)!==null&&$!==void 0?$:void 0,C=p.size;var q=V-z;if(A=Number.isNaN(q)?0:q,O={x:T,y:o.y,width:C,height:o.height},Math.abs(R)>0&&Math.abs(A)<Math.abs(R)){var Q=Bt(A||R)*(Math.abs(R)-Math.abs(A));M-=Q,A+=Q}}else{var fe=[i.scale(P[0]),i.scale(P[1])],te=fe[0],me=fe[1];if(T=te,M=B1({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:k,index:D}),C=me-te,A=p.size,O={x:i.x,y:M,width:i.width,height:A},Math.abs(R)>0&&Math.abs(C)<Math.abs(R)){var Be=Bt(C||R)*(Math.abs(R)-Math.abs(C));C+=Be}}return st(st(st({},k),{},{x:T,y:M,width:C,height:A,value:u?P:P[1],payload:k,background:O},j&&j[D]&&j[D].props),{},{tooltipPayload:[gT(r,k)],tooltipPosition:{x:T+C/2,y:M+A/2}})});return st({data:E,layout:g},h)});function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function sae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YT(n.key),n)}}function lae(e,t,r){return t&&QS(e.prototype,t),r&&QS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wh(e,t,r){return t=YT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YT(e){var t=uae(e,"string");return vu(t)=="symbol"?t:t+""}function uae(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cae=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!or(u,ja);return d.reduce(function(p,g){var y=r[g],v=y.orientation,m=y.domain,b=y.padding,x=b===void 0?{}:b,S=y.mirror,w=y.reversed,_="".concat(v).concat(S?"Mirror":""),j,E,k,D,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var T=m[1]-m[0],M=1/0,C=y.categoricalDomain.sort(jB);if(C.forEach(function(fe,te){te>0&&(M=Math.min((fe||0)-(C[te-1]||0),M))}),Number.isFinite(M)){var A=M/T,O=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(j=A*O/2),y.padding==="no-gap"){var R=Ft(t.barCategoryGap,A*O),$=A*O/2;j=$-R-($-R)/O*R}}}a==="xAxis"?E=[n.left+(x.left||0)+(j||0),n.left+n.width-(x.right||0)-(j||0)]:a==="yAxis"?E=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(j||0),n.top+n.height-(x.bottom||0)-(j||0)]:E=y.range,w&&(E=[E[1],E[0]]);var L=fT(y,i,h),V=L.scale,z=L.realScaleType;V.domain(m).range(E),hT(V);var q=pT(V,Mr(Mr({},y),{},{realScaleType:z}));a==="xAxis"?(P=v==="top"&&!S||v==="bottom"&&S,k=n.left,D=f[_]-P*y.height):a==="yAxis"&&(P=v==="left"&&!S||v==="right"&&S,k=f[_]-P*y.width,D=n.top);var Q=Mr(Mr(Mr({},y),q),{},{realScaleType:z,x:k,y:D,scale:V,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return Q.bandSize=af(Q,q),!y.hide&&a==="xAxis"?f[_]+=(P?-1:1)*Q.height:y.hide||(f[_]+=(P?-1:1)*Q.width),Mr(Mr({},p),{},Wh({},g,Q))},{})},XT=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},dae=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return XT({x:r,y:n},{x:a,y:i})},JT=function(){function e(t){sae(this,e),this.scale=t}return lae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Wh(JT,"EPS",1e-4);var db=function(t){var r=Object.keys(t).reduce(function(n,a){return Mr(Mr({},n),{},Wh({},a,JT.create(t[a])))},{});return Mr(Mr({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return kne(a,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return VT(a,function(i,o){return r[o].isInRange(i)})}})};function fae(e){return(e%180+180)%180}var hae=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fae(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},pae=sn,mae=$u,gae=wh;function yae(e){return function(t,r,n){var a=Object(t);if(!mae(t)){var i=pae(r);t=gae(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var vae=yae,bae=FT;function xae(e){var t=bae(e),r=t%1;return t===t?r?t-r:t:0}var wae=xae,_ae=HA,Sae=sn,jae=wae,Oae=Math.max;function Eae(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:jae(r);return a<0&&(a=Oae(n+a,0)),_ae(e,Sae(t),a)}var Pae=Eae,Nae=vae,Aae=Pae,kae=Nae(Aae),Tae=kae;const Cae=Ne(Tae);var $ae=PU(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fb=N.createContext(void 0),hb=N.createContext(void 0),QT=N.createContext(void 0),ZT=N.createContext({}),eC=N.createContext(void 0),tC=N.createContext(0),rC=N.createContext(0),ej=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,d=$ae(i);return I.createElement(fb.Provider,{value:n},I.createElement(hb.Provider,{value:a},I.createElement(ZT.Provider,{value:i},I.createElement(QT.Provider,{value:d},I.createElement(eC.Provider,{value:o},I.createElement(tC.Provider,{value:u},I.createElement(rC.Provider,{value:l},s)))))))},Iae=function(){return N.useContext(eC)},nC=function(t){var r=N.useContext(fb);r==null&&ji();var n=r[t];return n==null&&ji(),n},Dae=function(){var t=N.useContext(fb);return ra(t)},Rae=function(){var t=N.useContext(hb),r=Cae(t,function(n){return VT(n.domain,Number.isFinite)});return r||ra(t)},aC=function(t){var r=N.useContext(hb);r==null&&ji();var n=r[t];return n==null&&ji(),n},Mae=function(){var t=N.useContext(QT);return t},Lae=function(){return N.useContext(ZT)},pb=function(){return N.useContext(rC)},mb=function(){return N.useContext(tC)};function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function Uae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oC(n.key),n)}}function Fae(e,t,r){return t&&Bae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qae(e,t,r){return t=_f(t),zae(e,iC()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function zae(e,t){if(t&&(Yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wae(e)}function Wae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iC=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function Vae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},By(e,t)}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){gb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gb(e,t,r){return t=oC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oC(e){var t=Hae(e,"string");return Yo(t)=="symbol"?t:t+""}function Hae(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gae(e,t){return Jae(e)||Xae(e,t)||Yae(e,t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yae(e,t){if(e){if(typeof e=="string")return nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nj(e,t)}}function nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Jae(e){if(Array.isArray(e))return e}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}var Qae=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):ce(t)?n=t(r):n=I.createElement("line",Fy({},r,{className:"recharts-reference-line-line"})),n},Zae=function(t,r,n,a,i,o,s,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,y=t.y.apply(g,{position:o});if(nn(u,"discard")&&!t.y.isInRange(y))return null;var v=[{x:d+h,y},{x:d,y}];return l==="left"?v.reverse():v}if(r){var m=u.x,b=t.x.apply(m,{position:o});if(nn(u,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?x.reverse():x}if(a){var S=u.segment,w=S.map(function(_){return t.apply(_,{position:o})});return nn(u,"discard")&&_ne(w,function(_){return!t.isInRange(_)})?null:w}return null};function eie(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=Iae(),d=nC(a),f=aC(i),h=Mae();if(!u||!h)return null;qr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=db({x:d.scale,y:f.scale}),g=mt(t),y=mt(r),v=n&&n.length===2,m=Zae(p,g,y,v,h,e.position,d.orientation,f.orientation,e);if(!m)return null;var b=Gae(m,2),x=b[0],S=x.x,w=x.y,_=b[1],j=_.x,E=_.y,k=nn(e,"hidden")?"url(#".concat(u,")"):void 0,D=rj(rj({clipPath:k},ue(e,!0)),{},{x1:S,y1:w,x2:j,y2:E});return I.createElement(ke,{className:pe("recharts-reference-line",s)},Qae(o,D),bt.renderCallByParent(e,dae({x1:S,y1:w,x2:j,y2:E})))}var yb=function(e){function t(){return Uae(this,t),qae(this,t,arguments)}return Vae(t,e),Fae(t,[{key:"render",value:function(){return I.createElement(eie,this.props)}}])}(I.Component);gb(yb,"displayName","ReferenceLine");gb(yb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lC(n.key),n)}}function nie(e,t,r){return t&&rie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aie(e,t,r){return t=Sf(t),iie(e,sC()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function iie(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oie(e)}function oie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sC=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zy(e,t)}function Vh(e,t,r){return t=lC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lC(e){var t=lie(e,"string");return Xo(t)=="symbol"?t:t+""}function lie(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uie=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=db({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return nn(t,"discard")&&!o.isInRange(s)?null:s},Hh=function(e){function t(){return tie(this,t),aie(this,t,arguments)}return sie(t,e),nie(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=mt(a),d=mt(i);if(qr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=uie(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,y=g.shape,v=g.className,m=nn(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=ij(ij({clipPath:m},ue(this.props,!0)),{},{cx:h,cy:p});return I.createElement(ke,{className:pe("recharts-reference-dot",v)},t.renderDot(y,b),bt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(I.Component);Vh(Hh,"displayName","ReferenceDot");Vh(Hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vh(Hh,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):ce(e)?r=e(t):r=I.createElement(cb,qy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function die(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cC(n.key),n)}}function fie(e,t,r){return t&&die(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hie(e,t,r){return t=jf(t),pie(e,uC()?Reflect.construct(t,r||[],jf(e).constructor):t.apply(e,r))}function pie(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mie(e)}function mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uC=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jf(e)}function gie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vy(e,t)}function Gh(e,t,r){return t=cC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cC(e){var t=yie(e,"string");return Jo(t)=="symbol"?t:t+""}function yie(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vie=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=db({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return nn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:XT(p,g)},Kh=function(e){function t(){return cie(this,t),hie(this,t,arguments)}return gie(t,e),fie(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;qr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mt(a),h=mt(i),p=mt(o),g=mt(s),y=this.props.shape;if(!f&&!h&&!p&&!g&&!y)return null;var v=vie(f,h,p,g,this.props);if(!v&&!y)return null;var m=nn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(ke,{className:pe("recharts-reference-area",l)},t.renderRect(y,sj(sj({clipPath:m},ue(this.props,!0)),v)),bt.renderCallByParent(this.props,v))}}])}(I.Component);Gh(Kh,"displayName","ReferenceArea");Gh(Kh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gh(Kh,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):ce(e)?r=e(t):r=I.createElement(ub,Wy({},t,{className:"recharts-reference-area-rect"})),r});function dC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function bie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hae(n,r)}function xie(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Of(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function wie(e,t){return dC(e,t+1)}function _ie(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,u=1,d=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:dC(n,u)};var y=l,v,m=function(){return v===void 0&&(v=r(g,y)),v},b=g.coordinate,x=l===0||Of(e,b,m,d,s);x||(l=0,d=o,u+=1),x&&(d=b+e*(m()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){Sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sie(e,t,r){return t=jie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jie(e){var t=Oie(e,"string");return bu(t)=="symbol"?t:t+""}function Oie(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eie(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,u=function(h){var p=i[h],g,y=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=e*(p.coordinate+e*y()/2-l);i[h]=p=Tt(Tt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Tt(Tt({},p),{},{tickCoord:p.coordinate});var m=Of(e,p.tickCoord,y,s,l);m&&(l=p.tickCoord-e*(y()/2+a),i[h]=Tt(Tt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Pie(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Of(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Tt(Tt({},d),{},{isShow:!0}))}for(var g=i?s-1:s,y=function(b){var x=o[b],S,w=function(){return S===void 0&&(S=r(x,b)),S};if(b===0){var _=e*(x.coordinate-e*w()/2-l);o[b]=x=Tt(Tt({},x),{},{tickCoord:_<0?x.coordinate-_*e:x.coordinate})}else o[b]=x=Tt(Tt({},x),{},{tickCoord:x.coordinate});var j=Of(e,x.tickCoord,w,l,u);j&&(l=x.tickCoord+e*(w()/2+a),o[b]=Tt(Tt({},x),{},{isShow:!0}))},v=0;v<g;v++)y(v);return o}function vb(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(K(l)||_s.isSsr)return wie(a,typeof l=="number"&&K(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=d&&p==="width"?fl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(x,S){var w=ce(u)?u(x.value,S):x.value;return p==="width"?bie(fl(w,{fontSize:t,letterSpacing:r}),g,f):fl(w,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Bt(a[1].coordinate-a[0].coordinate):1,m=xie(i,v,p);return l==="equidistantPreserveStart"?_ie(v,m,y,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Pie(v,m,y,a,o,l==="preserveStartEnd"):h=Eie(v,m,y,a,o),h.filter(function(b){return b.isShow}))}var Nie=["viewBox"],Aie=["viewBox"],kie=["ticks"];function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function im(e,t){if(e==null)return{};var r=Tie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hC(n.key),n)}}function $ie(e,t,r){return t&&cj(e.prototype,t),r&&cj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iie(e,t,r){return t=Ef(t),Die(e,fC()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function Die(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rie(e)}function Rie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fC=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function Mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hy(e,t)}function bb(e,t,r){return t=hC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hC(e){var t=Lie(e,"string");return Qo(t)=="symbol"?t:t+""}function Lie(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Es=function(e){function t(r){var n;return Cie(this,t),n=Iie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Mie(t,e),$ie(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=im(n,Nie),s=this.props,l=s.viewBox,u=im(s,Aie);return!bo(i,l)||!bo(o,u)||!bo(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,y,v,m,b,x=f?-1:1,S=n.tickSize||d,w=K(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=o+ +!f*l,y=v-x*S,b=y-x*h,m=w;break;case"left":y=v=n.coordinate,g=i+ +!f*s,p=g-x*S,m=p-x*h,b=w;break;case"right":y=v=n.coordinate,g=i+ +f*s,p=g+x*S,m=p+x*h,b=w;break;default:p=g=n.coordinate,v=o+ +f*l,y=v+x*S,b=y+x*h,m=w;break}return{line:{x1:p,y1:y,x2:g,y2:v},tick:{x:m,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=dt(dt(dt({},ue(this.props,!1)),ue(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=dt(dt({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=dt(dt({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+s})}return I.createElement("line",so({},f,{className:pe("recharts-cartesian-axis-line",dr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=vb(dt(dt({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=ue(this.props,!1),m=ue(d,!1),b=dt(dt({},v),{},{fill:"none"},ue(l,!1)),x=p.map(function(S,w){var _=o.getTickLineCoord(S),j=_.line,E=_.tick,k=dt(dt(dt(dt({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:u},m),E),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(ke,so({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},wi(o.props,S,w)),l&&I.createElement("line",so({},b,j,{className:pe("recharts-cartesian-axis-tick-line",dr(l,"className"))})),d&&t.renderTickItem(d,k,"".concat(ce(f)?f(S.value,w):S.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=im(f,kie),g=h;return ce(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:I.createElement(ke,{className:pe("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),bt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,s=pe(a.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,dt(dt({},a),{},{className:s})):ce(n)?o=n(dt(dt({},a),{},{className:s})):o=I.createElement(_i,so({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);bb(Es,"displayName","CartesianAxis");bb(Es,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Uie=["x1","y1","x2","y2","key"],Bie=["offset"];function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){Fie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fie(e,t,r){return t=qie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qie(e){var t=zie(e,"string");return Oi(t)=="symbol"?t:t+""}function zie(e,t){if(Oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(this,arguments)}function fj(e,t){if(e==null)return{};var r=Wie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Vie=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pC(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(ce(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=fj(t,Uie),u=ue(l,!1);u.offset;var d=fj(u,Bie);r=I.createElement("line",li({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function Hie(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=It(It({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return pC(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Gie(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=It(It({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return pC(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Kie(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],y=g?a+o-h:d[p+1]-h;if(y<=0)return null;var v=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Yie(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],y=g?i+s-h:d[p+1]-h;if(y<=0)return null;var v=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Xie=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return dT(vb(It(It(It({},Es.defaultProps),n),{},{ticks:wn(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Jie=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return dT(vb(It(It(It({},Es.defaultProps),n),{},{ticks:wn(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},zi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mC(e){var t,r,n,a,i,o,s=pb(),l=mb(),u=Lae(),d=It(It({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:zi.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:zi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:zi.verticalFill,x:K(e.x)?e.x:u.left,y:K(e.y)?e.y:u.top,width:K(e.width)?e.width:u.width,height:K(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,y=d.syncWithTicks,v=d.horizontalValues,m=d.verticalValues,b=Dae(),x=Rae();if(!K(p)||p<=0||!K(g)||g<=0||!K(f)||f!==+f||!K(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Xie,w=d.horizontalCoordinatesGenerator||Jie,_=d.horizontalPoints,j=d.verticalPoints;if((!_||!_.length)&&ce(w)){var E=v&&v.length,k=w({yAxis:x?It(It({},x),{},{ticks:E?v:x.ticks}):void 0,width:s,height:l,offset:u},E?!0:y);qr(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Oi(k),"]")),Array.isArray(k)&&(_=k)}if((!j||!j.length)&&ce(S)){var D=m&&m.length,P=S({xAxis:b?It(It({},b),{},{ticks:D?m:b.ticks}):void 0,width:s,height:l,offset:u},D?!0:y);qr(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Oi(P),"]")),Array.isArray(P)&&(j=P)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Vie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(Hie,li({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:x})),I.createElement(Gie,li({},d,{offset:u,verticalPoints:j,xAxis:b,yAxis:x})),I.createElement(Kie,li({},d,{horizontalPoints:_})),I.createElement(Yie,li({},d,{verticalPoints:j})))}mC.displayName="CartesianGrid";function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function Qie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vC(n.key),n)}}function eoe(e,t,r){return t&&Zie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function toe(e,t,r){return t=Pf(t),roe(e,gC()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function roe(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return noe(e)}function noe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gC=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gy(e,t)}function Gy(e,t){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gy(e,t)}function yC(e,t,r){return t=vC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vC(e){var t=ioe(e,"string");return Zo(t)=="symbol"?t:t+""}function ioe(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function ooe(e){var t=e.xAxisId,r=pb(),n=mb(),a=nC(t);return a==null?null:N.createElement(Es,Ky({},a,{className:pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return wn(o,!0)}}))}var Yh=function(e){function t(){return Qie(this,t),toe(this,t,arguments)}return aoe(t,e),eoe(t,[{key:"render",value:function(){return N.createElement(ooe,this.props)}}])}(N.Component);yC(Yh,"displayName","XAxis");yC(Yh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function soe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function loe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wC(n.key),n)}}function uoe(e,t,r){return t&&loe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function coe(e,t,r){return t=Nf(t),doe(e,bC()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function doe(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(e)}function foe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bC=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yy(e,t)}function xC(e,t,r){return t=wC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wC(e){var t=poe(e,"string");return es(t)=="symbol"?t:t+""}function poe(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(this,arguments)}var moe=function(t){var r=t.yAxisId,n=pb(),a=mb(),i=aC(r);return i==null?null:N.createElement(Es,Xy({},i,{className:pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return wn(s,!0)}}))},Xh=function(e){function t(){return soe(this,t),coe(this,t,arguments)}return hoe(t,e),uoe(t,[{key:"render",value:function(){return N.createElement(moe,this.props)}}])}(N.Component);xC(Xh,"displayName","YAxis");xC(Xh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hj(e){return boe(e)||voe(e)||yoe(e)||goe()}function goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yoe(e,t){if(e){if(typeof e=="string")return Jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(e,t)}}function voe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function boe(e){if(Array.isArray(e))return Jy(e)}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qy=function(t,r,n,a,i){var o=jr(t,yb),s=jr(t,Hh),l=[].concat(hj(o),hj(s)),u=jr(t,Kh),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(y,v){if(v.props[d]===n&&nn(v.props,"extendDomain")&&K(v.props[f])){var m=v.props[f];return[Math.min(y[0],m),Math.max(y[1],m)]}return y},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(y,v){if(v.props[d]===n&&nn(v.props,"extendDomain")&&K(v.props[p])&&K(v.props[g])){var m=v.props[p],b=v.props[g];return[Math.min(y[0],m,b),Math.max(y[1],m,b)]}return y},h)}return i&&i.length&&(h=i.reduce(function(y,v){return K(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},_C={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],m=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(x=1,b=new Array(m-1);x<m;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var S=v.length,w;for(x=0;x<S;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),m){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,f);break;case 4:v[x].fn.call(v[x].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(m-1);w<m;w++)b[w-1]=arguments[w];v[x].fn.apply(v[x].context,b)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var y=0,v=[],m=g.length;y<m;y++)(g[y].fn!==d||h&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(_C);var xoe=_C.exports;const woe=Ne(xoe);var om=new woe,sm="recharts.syncMouseEvents";function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function _oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Soe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SC(n.key),n)}}function joe(e,t,r){return t&&Soe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lm(e,t,r){return t=SC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SC(e){var t=Ooe(e,"string");return xu(t)=="symbol"?t:t+""}function Ooe(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eoe=function(){function e(){_oe(this,e),lm(this,"activeIndex",0),lm(this,"coordinateList",[]),lm(this,"layout","horizontal")}return joe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Poe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&K(n)&&K(a))return!0}return!1}function Noe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jC(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ue(t,r,n,a),s=Ue(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Aoe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ue(s,l,u,f),p=Ue(s,l,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return jC(t);return[{x:n,y:a},{x:i,y:o}]}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){koe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function koe(e,t,r){return t=Toe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=Coe(e,"string");return wu(t)=="symbol"?t:t+""}function Coe(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $oe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,y=wy;if(h==="ScatterChart")g=o,y=cte;else if(h==="BarChart")g=Noe(f,o,l,d),y=ub;else if(f==="radial"){var v=jC(o),m=v.cx,b=v.cy,x=v.radius,S=v.startAngle,w=v.endAngle;g={cx:m,cy:b,startAngle:S,endAngle:w,innerRadius:x,outerRadius:x},y=_T}else g={points:Aoe(f,o,l)},y=wy;var _=_c(_c(_c(_c({stroke:"#ccc",pointerEvents:"none"},l),g),ue(p,!1)),{},{payload:s,payloadIndex:u,className:pe("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,_):N.createElement(y,_)}var Ioe=["item"],Doe=["children","className","width","height","style","compact","title","desc"];function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(this,arguments)}function mj(e,t){return Loe(e)||Moe(e,t)||EC(e,t)||Roe()}function Roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Moe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Loe(e){if(Array.isArray(e))return e}function gj(e,t){if(e==null)return{};var r=Uoe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Foe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PC(n.key),n)}}function qoe(e,t,r){return t&&Foe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zoe(e,t,r){return t=Af(t),Woe(e,OC()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function Woe(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Voe(e)}function Voe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OC=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function Hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zy(e,t)}function Zy(e,t){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zy(e,t)}function rs(e){return Yoe(e)||Koe(e)||EC(e)||Goe()}function Goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EC(e,t){if(e){if(typeof e=="string")return ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ev(e,t)}}function Koe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yoe(e){if(Array.isArray(e))return ev(e)}function ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t,r){return t=PC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PC(e){var t=Xoe(e,"string");return ts(t)=="symbol"?t:t+""}function Xoe(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Joe={xAxis:["bottom","top"],yAxis:["left","right"]},Qoe={width:"100%",height:"100%"},NC={x:0,y:0};function Sc(e){return e}var Zoe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ese=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return F(F(F({},a),Ue(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return F(F(F({},a),Ue(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return NC},Jh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(rs(s),rs(u)):s},[]);return o.length>0?o:t&&t.length&&K(a)&&K(i)?t.slice(a,i+1):[]};function AC(e){return e==="number"?[0,"auto"]:void 0}var tv=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=Jh(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Ag(p,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(rs(l),[gT(u,h)]):l},[])},vj=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Zoe(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=$J(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=tv(t,r,d,f),p=ese(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},tse=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=cT(d,i);return n.reduce(function(g,y){var v,m=y.type.defaultProps!==void 0?F(F({},y.type.defaultProps),y.props):y.props,b=m.type,x=m.dataKey,S=m.allowDataOverflow,w=m.allowDuplicatedCategory,_=m.scale,j=m.ticks,E=m.includeHidden,k=m[o];if(g[k])return g;var D=Jh(t.data,{graphicalItems:a.filter(function(q){var Q,fe=o in q.props?q.props[o]:(Q=q.type.defaultProps)===null||Q===void 0?void 0:Q[o];return fe===k}),dataStartIndex:l,dataEndIndex:u}),P=D.length,T,M,C;Poe(m.domain,S,b)&&(T=gy(m.domain,null,S),p&&(b==="number"||_!=="auto")&&(C=pl(D,x,"category")));var A=AC(b);if(!T||T.length===0){var O,R=(O=m.domain)!==null&&O!==void 0?O:A;if(x){if(T=pl(D,x,b),b==="category"&&p){var $=SB(T);w&&$?(M=T,T=yf(0,P)):w||(T=z1(R,T,y).reduce(function(q,Q){return q.indexOf(Q)>=0?q:[].concat(rs(q),[Q])},[]))}else if(b==="category")w?T=T.filter(function(q){return q!==""&&!ye(q)}):T=z1(R,T,y).reduce(function(q,Q){return q.indexOf(Q)>=0||Q===""||ye(Q)?q:[].concat(rs(q),[Q])},[]);else if(b==="number"){var L=LJ(D,a.filter(function(q){var Q,fe,te=o in q.props?q.props[o]:(Q=q.type.defaultProps)===null||Q===void 0?void 0:Q[o],me="hide"in q.props?q.props.hide:(fe=q.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return te===k&&(E||!me)}),x,i,d);L&&(T=L)}p&&(b==="number"||_!=="auto")&&(C=pl(D,x,"category"))}else p?T=yf(0,P):s&&s[k]&&s[k].hasStack&&b==="number"?T=h==="expand"?[0,1]:mT(s[k].stackGroups,l,u):T=uT(D,a.filter(function(q){var Q=o in q.props?q.props[o]:q.type.defaultProps[o],fe="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Q===k&&(E||!fe)}),b,d,!0);if(b==="number")T=Qy(f,T,k,i,j),R&&(T=gy(R,T,S));else if(b==="category"&&R){var V=R,z=T.every(function(q){return V.indexOf(q)>=0});z&&(T=V)}}return F(F({},g),{},oe({},k,F(F({},m),{},{axisType:i,domain:T,categoricalDomain:C,duplicateDomain:M,originalDomain:(v=m.domain)!==null&&v!==void 0?v:A,isCategorical:p,layout:d})))},{})},rse=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Jh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=cT(d,i),y=-1;return n.reduce(function(v,m){var b=m.type.defaultProps!==void 0?F(F({},m.type.defaultProps),m.props):m.props,x=b[o],S=AC("number");if(!v[x]){y++;var w;return g?w=yf(0,p):s&&s[x]&&s[x].hasStack?(w=mT(s[x].stackGroups,l,u),w=Qy(f,w,x,i)):(w=gy(S,uT(h,n.filter(function(_){var j,E,k=o in _.props?_.props[o]:(j=_.type.defaultProps)===null||j===void 0?void 0:j[o],D="hide"in _.props?_.props.hide:(E=_.type.defaultProps)===null||E===void 0?void 0:E.hide;return k===x&&!D}),"number",d),a.defaultProps.allowDataOverflow),w=Qy(f,w,x,i)),F(F({},v),{},oe({},x,F(F({axisType:i},a.defaultProps),{},{hide:!0,orientation:dr(Joe,"".concat(i,".").concat(y%2),null),domain:w,originalDomain:S,isCategorical:g,layout:d})))}return v},{})},nse=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=jr(d,i),p={};return h&&h.length?p=tse(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=rse(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},ase=function(t){var r=ra(t),n=wn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:R0(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:af(r,n)}},bj=function(t){var r=t.children,n=t.defaultShowTooltip,a=or(r,Go),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ise=function(t){return!t||!t.length?!1:t.some(function(r){var n=jn(r&&r.type);return n&&n.indexOf("Bar")>=0})},xj=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ose=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=or(f,Go),g=or(f,fi),y=Object.keys(l).reduce(function(w,_){var j=l[_],E=j.orientation;return!j.mirror&&!j.hide?F(F({},w),{},oe({},E,w[E]+j.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,_){var j=o[_],E=j.orientation;return!j.mirror&&!j.hide?F(F({},w),{},oe({},E,dr(w,"".concat(E))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),m=F(F({},v),y),b=m.bottom;p&&(m.bottom+=p.props.height||Go.defaultProps.height),g&&r&&(m=RJ(m,a,n,r));var x=u-m.left-m.right,S=d-m.top-m.bottom;return F(F({brushBottom:b},m),{},{width:Math.max(x,0),height:Math.max(S,0)})},sse=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},kC=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(m,b){var x=b.graphicalItems,S=b.stackGroups,w=b.offset,_=b.updateId,j=b.dataStartIndex,E=b.dataEndIndex,k=m.barSize,D=m.layout,P=m.barGap,T=m.barCategoryGap,M=m.maxBarSize,C=xj(D),A=C.numericAxisName,O=C.cateAxisName,R=ise(x),$=[];return x.forEach(function(L,V){var z=Jh(m.data,{graphicalItems:[L],dataStartIndex:j,dataEndIndex:E}),q=L.type.defaultProps!==void 0?F(F({},L.type.defaultProps),L.props):L.props,Q=q.dataKey,fe=q.maxBarSize,te=q["".concat(A,"Id")],me=q["".concat(O,"Id")],Be={},Se=l.reduce(function(un,cn){var $i=b["".concat(cn.axisType,"Map")],U=q["".concat(cn.axisType,"Id")];$i&&$i[U]||cn.axisType==="zAxis"||ji();var re=$i[U];return F(F({},un),{},oe(oe({},cn.axisType,re),"".concat(cn.axisType,"Ticks"),wn(re)))},Be),Y=Se[O],B=Se["".concat(O,"Ticks")],H=S&&S[te]&&S[te].hasStack&&GJ(L,S[te].stackGroups),W=jn(L.type).indexOf("Bar")>=0,ie=af(Y,B),ae=[],de=R&&IJ({barSize:k,stackGroups:S,totalSize:sse(Se,O)});if(W){var be,Ze,Lt=ye(fe)?M:fe,ln=(be=(Ze=af(Y,B,!0))!==null&&Ze!==void 0?Ze:Lt)!==null&&be!==void 0?be:0;ae=DJ({barGap:P,barCategoryGap:T,bandSize:ln!==ie?ln:ie,sizeList:de[me],maxBarSize:Lt}),ln!==ie&&(ae=ae.map(function(un){return F(F({},un),{},{position:F(F({},un.position),{},{offset:un.position.offset-ln/2})})}))}var Ia=L&&L.type&&L.type.getComposedData;Ia&&$.push({props:F(F({},Ia(F(F({},Se),{},{displayedData:z,props:m,dataKey:Q,item:L,bandSize:ie,barPosition:ae,offset:w,stackedData:H,layout:D,dataStartIndex:j,dataEndIndex:E}))),{},oe(oe(oe({key:L.key||"item-".concat(V)},A,Se[A]),O,Se[O]),"animationId",_)),childIndex:DB(L,m.children),item:L})}),$},p=function(m,b){var x=m.props,S=m.dataStartIndex,w=m.dataEndIndex,_=m.updateId;if(!Rw({props:x}))return null;var j=x.children,E=x.layout,k=x.stackOffset,D=x.data,P=x.reverseStackOrder,T=xj(E),M=T.numericAxisName,C=T.cateAxisName,A=jr(j,n),O=VJ(D,A,"".concat(M,"Id"),"".concat(C,"Id"),k,P),R=l.reduce(function(q,Q){var fe="".concat(Q.axisType,"Map");return F(F({},q),{},oe({},fe,nse(x,F(F({},Q),{},{graphicalItems:A,stackGroups:Q.axisType===M&&O,dataStartIndex:S,dataEndIndex:w}))))},{}),$=ose(F(F({},R),{},{props:x,graphicalItems:A}),b==null?void 0:b.legendBBox);Object.keys(R).forEach(function(q){R[q]=d(x,R[q],$,q.replace("Map",""),r)});var L=R["".concat(C,"Map")],V=ase(L),z=h(x,F(F({},R),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:A,stackGroups:O,offset:$}));return F(F({formattedGraphicalItems:z,graphicalItems:A,offset:$,stackGroups:O},V),R)},g=function(v){function m(b){var x,S,w;return Boe(this,m),w=zoe(this,m,[b]),oe(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oe(w,"accessibilityManager",new Eoe),oe(w,"handleLegendBBoxUpdate",function(_){if(_){var j=w.state,E=j.dataStartIndex,k=j.dataEndIndex,D=j.updateId;w.setState(F({legendBBox:_},p({props:w.props,dataStartIndex:E,dataEndIndex:k,updateId:D},F(F({},w.state),{},{legendBBox:_}))))}}),oe(w,"handleReceiveSyncEvent",function(_,j,E){if(w.props.syncId===_){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),oe(w,"handleBrushChange",function(_){var j=_.startIndex,E=_.endIndex;if(j!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return F({dataStartIndex:j,dataEndIndex:E},p({props:w.props,dataStartIndex:j,dataEndIndex:E,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),oe(w,"handleMouseEnter",function(_){var j=w.getMouseInfo(_);if(j){var E=F(F({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var k=w.props.onMouseEnter;ce(k)&&k(E,_)}}),oe(w,"triggeredAfterMouseMove",function(_){var j=w.getMouseInfo(_),E=j?F(F({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var k=w.props.onMouseMove;ce(k)&&k(E,_)}),oe(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),oe(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),oe(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),oe(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var E=w.props.onMouseLeave;ce(E)&&E(j,_)}),oe(w,"handleOuterEvent",function(_){var j=IB(_),E=dr(w.props,"".concat(j));if(j&&ce(E)){var k,D;/.*touch.*/i.test(j)?D=w.getMouseInfo(_.changedTouches[0]):D=w.getMouseInfo(_),E((k=D)!==null&&k!==void 0?k:{},_)}}),oe(w,"handleClick",function(_){var j=w.getMouseInfo(_);if(j){var E=F(F({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var k=w.props.onClick;ce(k)&&k(E,_)}}),oe(w,"handleMouseDown",function(_){var j=w.props.onMouseDown;if(ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),oe(w,"handleMouseUp",function(_){var j=w.props.onMouseUp;if(ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),oe(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),oe(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),oe(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),oe(w,"handleDoubleClick",function(_){var j=w.props.onDoubleClick;if(ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),oe(w,"handleContextMenu",function(_){var j=w.props.onContextMenu;if(ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),oe(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&om.emit(sm,w.props.syncId,_,w.eventEmitterSymbol)}),oe(w,"applySyncEvent",function(_){var j=w.props,E=j.layout,k=j.syncMethod,D=w.state.updateId,P=_.dataStartIndex,T=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(F({dataStartIndex:P,dataEndIndex:T},p({props:w.props,dataStartIndex:P,dataEndIndex:T,updateId:D},w.state)));else if(_.activeTooltipIndex!==void 0){var M=_.chartX,C=_.chartY,A=_.activeTooltipIndex,O=w.state,R=O.offset,$=O.tooltipTicks;if(!R)return;if(typeof k=="function")A=k($,_);else if(k==="value"){A=-1;for(var L=0;L<$.length;L++)if($[L].value===_.activeLabel){A=L;break}}var V=F(F({},R),{},{x:R.left,y:R.top}),z=Math.min(M,V.x+V.width),q=Math.min(C,V.y+V.height),Q=$[A]&&$[A].value,fe=tv(w.state,w.props.data,A),te=$[A]?{x:E==="horizontal"?$[A].coordinate:z,y:E==="horizontal"?q:$[A].coordinate}:NC;w.setState(F(F({},_),{},{activeLabel:Q,activeCoordinate:te,activePayload:fe,activeTooltipIndex:A}))}else w.setState(_)}),oe(w,"renderCursor",function(_){var j,E=w.state,k=E.isTooltipActive,D=E.activeCoordinate,P=E.activePayload,T=E.offset,M=E.activeTooltipIndex,C=E.tooltipAxisBandSize,A=w.getTooltipEventType(),O=(j=_.props.active)!==null&&j!==void 0?j:k,R=w.props.layout,$=_.key||"_recharts-cursor";return I.createElement($oe,{key:$,activeCoordinate:D,activePayload:P,activeTooltipIndex:M,chartName:r,element:_,isActive:O,layout:R,offset:T,tooltipAxisBandSize:C,tooltipEventType:A})}),oe(w,"renderPolarAxis",function(_,j,E){var k=dr(_,"type.axisType"),D=dr(w.state,"".concat(k,"Map")),P=_.type.defaultProps,T=P!==void 0?F(F({},P),_.props):_.props,M=D&&D[T["".concat(k,"Id")]];return N.cloneElement(_,F(F({},M),{},{className:pe(k,M.className),key:_.key||"".concat(j,"-").concat(E),ticks:wn(M,!0)}))}),oe(w,"renderPolarGrid",function(_){var j=_.props,E=j.radialLines,k=j.polarAngles,D=j.polarRadius,P=w.state,T=P.radiusAxisMap,M=P.angleAxisMap,C=ra(T),A=ra(M),O=A.cx,R=A.cy,$=A.innerRadius,L=A.outerRadius;return N.cloneElement(_,{polarAngles:Array.isArray(k)?k:wn(A,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(D)?D:wn(C,!0).map(function(V){return V.coordinate}),cx:O,cy:R,innerRadius:$,outerRadius:L,key:_.key||"polar-grid",radialLines:E})}),oe(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,j=w.props,E=j.children,k=j.width,D=j.height,P=w.props.margin||{},T=k-(P.left||0)-(P.right||0),M=sT({children:E,formattedGraphicalItems:_,legendWidth:T,legendContent:u});if(!M)return null;var C=M.item,A=gj(M,Ioe);return N.cloneElement(C,F(F({},A),{},{chartWidth:k,chartHeight:D,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),oe(w,"renderTooltip",function(){var _,j=w.props,E=j.children,k=j.accessibilityLayer,D=or(E,Xr);if(!D)return null;var P=w.state,T=P.isTooltipActive,M=P.activeCoordinate,C=P.activePayload,A=P.activeLabel,O=P.offset,R=(_=D.props.active)!==null&&_!==void 0?_:T;return N.cloneElement(D,{viewBox:F(F({},O),{},{x:O.left,y:O.top}),active:R,label:A,payload:R?C:[],coordinate:M,accessibilityLayer:k})}),oe(w,"renderBrush",function(_){var j=w.props,E=j.margin,k=j.data,D=w.state,P=D.offset,T=D.dataStartIndex,M=D.dataEndIndex,C=D.updateId;return N.cloneElement(_,{key:_.key||"_recharts-brush",onChange:vc(w.handleBrushChange,_.props.onChange),data:k,x:K(_.props.x)?_.props.x:P.left,y:K(_.props.y)?_.props.y:P.top+P.height+P.brushBottom-(E.bottom||0),width:K(_.props.width)?_.props.width:P.width,startIndex:T,endIndex:M,updateId:"brush-".concat(C)})}),oe(w,"renderReferenceElement",function(_,j,E){if(!_)return null;var k=w,D=k.clipPathId,P=w.state,T=P.xAxisMap,M=P.yAxisMap,C=P.offset,A=_.type.defaultProps||{},O=_.props,R=O.xAxisId,$=R===void 0?A.xAxisId:R,L=O.yAxisId,V=L===void 0?A.yAxisId:L;return N.cloneElement(_,{key:_.key||"".concat(j,"-").concat(E),xAxis:T[$],yAxis:M[V],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:D})}),oe(w,"renderActivePoints",function(_){var j=_.item,E=_.activePoint,k=_.basePoint,D=_.childIndex,P=_.isRange,T=[],M=j.props.key,C=j.item.type.defaultProps!==void 0?F(F({},j.item.type.defaultProps),j.item.props):j.item.props,A=C.activeDot,O=C.dataKey,R=F(F({index:D,dataKey:O,cx:E.x,cy:E.y,r:4,fill:lb(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ue(A,!1)),Td(A));return T.push(m.renderActiveDot(A,R,"".concat(M,"-activePoint-").concat(D))),k?T.push(m.renderActiveDot(A,F(F({},R),{},{cx:k.x,cy:k.y}),"".concat(M,"-basePoint-").concat(D))):P&&T.push(null),T}),oe(w,"renderGraphicChild",function(_,j,E){var k=w.filterFormatItem(_,j,E);if(!k)return null;var D=w.getTooltipEventType(),P=w.state,T=P.isTooltipActive,M=P.tooltipAxis,C=P.activeTooltipIndex,A=P.activeLabel,O=w.props.children,R=or(O,Xr),$=k.props,L=$.points,V=$.isRange,z=$.baseLine,q=k.item.type.defaultProps!==void 0?F(F({},k.item.type.defaultProps),k.item.props):k.item.props,Q=q.activeDot,fe=q.hide,te=q.activeBar,me=q.activeShape,Be=!!(!fe&&T&&R&&(Q||te||me)),Se={};D!=="axis"&&R&&R.props.trigger==="click"?Se={onClick:vc(w.handleItemMouseEnter,_.props.onClick)}:D!=="axis"&&(Se={onMouseLeave:vc(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:vc(w.handleItemMouseEnter,_.props.onMouseEnter)});var Y=N.cloneElement(_,F(F({},k.props),Se));function B(cn){return typeof M.dataKey=="function"?M.dataKey(cn.payload):null}if(Be)if(C>=0){var H,W;if(M.dataKey&&!M.allowDuplicatedCategory){var ie=typeof M.dataKey=="function"?B:"payload.".concat(M.dataKey.toString());H=Ag(L,ie,A),W=V&&z&&Ag(z,ie,A)}else H=L==null?void 0:L[C],W=V&&z&&z[C];if(me||te){var ae=_.props.activeIndex!==void 0?_.props.activeIndex:C;return[N.cloneElement(_,F(F(F({},k.props),Se),{},{activeIndex:ae})),null,null]}if(!ye(H))return[Y].concat(rs(w.renderActivePoints({item:k,activePoint:H,basePoint:W,childIndex:C,isRange:V})))}else{var de,be=(de=w.getItemByXY(w.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:Y},Ze=be.graphicalItem,Lt=Ze.item,ln=Lt===void 0?_:Lt,Ia=Ze.childIndex,un=F(F(F({},k.props),Se),{},{activeIndex:Ia});return[N.cloneElement(ln,un),null,null]}return V?[Y,null,null]:[Y,null]}),oe(w,"renderCustomized",function(_,j,E){return N.cloneElement(_,F(F({key:"recharts-customized-".concat(E)},w.props),w.state))}),oe(w,"renderMap",{CartesianGrid:{handler:Sc,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Sc},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Sc},YAxis:{handler:Sc},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Cu("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=ok(w.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return Hoe(m,v),qoe(m,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,w=x.data,_=x.height,j=x.layout,E=or(S,Xr);if(E){var k=E.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=tv(this.state,w,k,D),T=this.state.tooltipTicks[k].coordinate,M=(this.state.offset.top+_)/2,C=j==="horizontal",A=C?{x:T,y:M}:{y:T,x:M},O=this.state.formattedGraphicalItems.find(function($){var L=$.item;return L.type.name==="Scatter"});O&&(A=F(F({},A),O.props.points[k].tooltipPosition),P=O.props.points[k].tooltipPayload);var R={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:D,activePayload:P,activeCoordinate:A};this.setState(R),this.renderCursor(E),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(x){Tg([or(x.children,Xr)],[or(this.props.children,Xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=or(this.props.children,Xr);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return s.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=sG(w),j={chartX:Math.round(x.pageX-_.left),chartY:Math.round(x.pageY-_.top)},E=w.width/S.offsetWidth||1,k=this.inRange(j.chartX,j.chartY,E);if(!k)return null;var D=this.state,P=D.xAxisMap,T=D.yAxisMap,M=this.getTooltipEventType(),C=vj(this.state,this.props.data,this.props.layout,k);if(M!=="axis"&&P&&T){var A=ra(P).scale,O=ra(T).scale,R=A&&A.invert?A.invert(j.chartX):null,$=O&&O.invert?O.invert(j.chartY):null;return F(F({},j),{},{xValue:R,yValue:$},C)}return C?F(F({},j),C):null}},{key:"inRange",value:function(x,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,j=x/w,E=S/w;if(_==="horizontal"||_==="vertical"){var k=this.state.offset,D=j>=k.left&&j<=k.left+k.width&&E>=k.top&&E<=k.top+k.height;return D?{x:j,y:E}:null}var P=this.state,T=P.angleAxisMap,M=P.radiusAxisMap;if(T&&M){var C=ra(T);return H1({x:j,y:E},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),w=or(x,Xr),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Td(this.props,this.handleOuterEvent);return F(F({},j),_)}},{key:"addListener",value:function(){om.on(sm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){om.removeListener(sm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,w){for(var _=this.state.formattedGraphicalItems,j=0,E=_.length;j<E;j++){var k=_[j];if(k.item===x||k.props.key===x.key||S===jn(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,j=S.height,E=S.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:w,y:_,height:j,width:E})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,w){var _=mj(w,2),j=_[0],E=_[1];return F(F({},S),{},oe({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,w){var _=mj(w,2),j=_[0],E=_[1];return F(F({},S),{},oe({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var j=0,E=w.length;j<E;j++){var k=w[j],D=k.props,P=k.item,T=P.type.defaultProps!==void 0?F(F({},P.type.defaultProps),P.props):P.props,M=jn(P.type);if(M==="Bar"){var C=(D.data||[]).find(function($){return Wee(x,$)});if(C)return{graphicalItem:k,payload:C}}else if(M==="RadialBar"){var A=(D.data||[]).find(function($){return H1(x,$)});if(A)return{graphicalItem:k,payload:A}}else if(qh(k,_)||zh(k,_)||mu(k,_)){var O=Cre({graphicalItem:k,activeTooltipItem:_,itemData:T.data}),R=T.activeIndex===void 0?O:T.activeIndex;return{graphicalItem:F(F({},k),{},{childIndex:R}),payload:mu(k,_)?T.data[O]:k.props.data[O]}}}return null}},{key:"render",value:function(){var x=this;if(!Rw(this))return null;var S=this.props,w=S.children,_=S.className,j=S.width,E=S.height,k=S.style,D=S.compact,P=S.title,T=S.desc,M=gj(S,Doe),C=ue(M,!1);if(D)return I.createElement(ej,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement($g,lo({},C,{width:j,height:E,title:P,desc:T}),this.renderClipPath(),Lw(w,this.renderMap)));if(this.props.accessibilityLayer){var A,O;C.tabIndex=(A=this.props.tabIndex)!==null&&A!==void 0?A:0,C.role=(O=this.props.role)!==null&&O!==void 0?O:"application",C.onKeyDown=function($){x.accessibilityManager.keyboardEvent($)},C.onFocus=function(){x.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return I.createElement(ej,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",lo({className:pe("recharts-wrapper",_),style:F({position:"relative",cursor:"default",width:j,height:E},k)},R,{ref:function(L){x.container=L}}),I.createElement($g,lo({},C,{width:j,height:E,title:P,desc:T,style:Qoe}),this.renderClipPath(),Lw(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);oe(g,"displayName",r),oe(g,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),oe(g,"getDerivedStateFromProps",function(v,m){var b=v.dataKey,x=v.data,S=v.children,w=v.width,_=v.height,j=v.layout,E=v.stackOffset,k=v.margin,D=m.dataStartIndex,P=m.dataEndIndex;if(m.updateId===void 0){var T=bj(v);return F(F(F({},T),{},{updateId:0},p(F(F({props:v},T),{},{updateId:0}),m)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:_,prevLayout:j,prevStackOffset:E,prevMargin:k,prevChildren:S})}if(b!==m.prevDataKey||x!==m.prevData||w!==m.prevWidth||_!==m.prevHeight||j!==m.prevLayout||E!==m.prevStackOffset||!bo(k,m.prevMargin)){var M=bj(v),C={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},A=F(F({},vj(m,x,j)),{},{updateId:m.updateId+1}),O=F(F(F({},M),C),A);return F(F(F({},O),p(F({props:v},O),m)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:_,prevLayout:j,prevStackOffset:E,prevMargin:k,prevChildren:S})}if(!Tg(S,m.prevChildren)){var R,$,L,V,z=or(S,Go),q=z&&(R=($=z.props)===null||$===void 0?void 0:$.startIndex)!==null&&R!==void 0?R:D,Q=z&&(L=(V=z.props)===null||V===void 0?void 0:V.endIndex)!==null&&L!==void 0?L:P,fe=q!==D||Q!==P,te=!ye(x),me=te&&!fe?m.updateId:m.updateId+1;return F(F({updateId:me},p(F(F({props:v},m),{},{updateId:me,dataStartIndex:q,dataEndIndex:Q}),m)),{},{prevChildren:S,dataStartIndex:q,dataEndIndex:Q})}return null}),oe(g,"renderActiveDot",function(v,m,b){var x;return N.isValidElement(v)?x=N.cloneElement(v,m):ce(v)?x=v(m):x=I.createElement(cb,m),I.createElement(ke,{className:"recharts-active-dot",key:b},x)});var y=N.forwardRef(function(m,b){return I.createElement(g,lo({},m,{ref:b}))});return y.displayName=g.displayName,y},lse=kC({chartName:"BarChart",GraphicalChild:ja,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yh},{axisType:"yAxis",AxisComp:Xh}],formatAxisMap:cae}),use=kC({chartName:"PieChart",GraphicalChild:qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fh},{axisType:"radiusAxis",AxisComp:Uh}],formatAxisMap:nQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function cse(){const[e,t]=N.useState(null),[r,n]=N.useState([]),[a,i]=N.useState([]),[o,s]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState("last_month"),[h,p]=N.useState(""),[g,y]=N.useState("");N.useEffect(()=>{m()},[]);const v=()=>{const P=new Date;let T,M=P;switch(d){case"last_month":T=gn(Gr(P,1)),M=di(Gr(P,1));break;case"last_3_months":T=gn(Gr(P,3)),M=P;break;case"last_6_months":T=gn(Gr(P,6)),M=P;break;case"past_year":T=gn(Gr(P,12)),M=P;break;case"custom":h&&g?(T=new Date(h),M=new Date(g),M.setHours(23,59,59,999)):(T=gn(Gr(P,1)),M=di(Gr(P,1)));break;default:T=gn(Gr(P,1)),M=di(Gr(P,1))}return{startDate:T,endDate:M}},m=async()=>{try{const P=await le.getDashboardStats(),T=await le.getOverdueInvoices(),M=await le.getInvoices(),C=await le.getProperties(),A=await le.getUnits();t(P),n(T),i(M),s(C),u(A)}catch(P){console.error("Error loading dashboard data:",P)}};if(!e)return c.jsx("div",{className:"p-6",children:"Loading..."});const{startDate:b,endDate:x}=v(),S=a.filter(P=>{const T=new Date(P.dueDate);return Ng(T,{start:b,end:x})}),w=r.filter(P=>{const T=new Date(P.dueDate);return Ng(T,{start:b,end:x})}),j=(()=>{const P=[],T=new Date(b);for(;T<=x;){const M=sa(T,"MMM");P.push({month:M,billed:0,collected:0}),T.setMonth(T.getMonth()+1)}return S.forEach(M=>{const C=new Date(M.dueDate),A=sa(C,"MMM"),O=P.findIndex(R=>R.month===A);O!==-1&&(P[O].billed+=M.amount,P[O].collected+=M.paidAmount)}),P})(),E=S.filter(P=>P.status==="paid").length,k=w.length,D=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Welcome back! Here's your portfolio overview."})]}),c.jsx("div",{className:"text-gray-500 text-sm",children:D})]}),c.jsx("div",{className:"mb-5 bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qM,{className:"w-4 h-4 text-gray-500"}),c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date Range:"})]}),c.jsxs("select",{value:d,onChange:P=>{f(P.target.value),P.target.value!=="custom"&&(p(""),y(""))},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"last_month",children:"Last Month"}),c.jsx("option",{value:"last_3_months",children:"Last 3 Months"}),c.jsx("option",{value:"last_6_months",children:"Last 6 Months"}),c.jsx("option",{value:"past_year",children:"Past Year"}),c.jsx("option",{value:"custom",children:"Custom Range"})]}),d==="custom"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:h,onChange:P=>p(P.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:g,onChange:P=>y(P.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),c.jsxs("div",{className:"text-xs text-gray-500 ml-auto",children:["Showing: ",sa(b,"MMM d, yyyy")," - ",sa(x,"MMM d, yyyy")]})]})}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-5",children:[c.jsxs(Gn,{to:"/properties",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(va,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Add Property"})]}),c.jsxs(Gn,{to:"/tenants",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(Od,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Add Tenant"})]}),c.jsxs(Gn,{to:"/contracts",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(oa,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"New Contract"})]}),c.jsxs(Gn,{to:"/payments",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(Ed,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Record Payment"})]}),c.jsxs(Gn,{to:"/calendar",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(Sn,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Calendar"})]})]}),w.length>0&&c.jsx("div",{className:"bg-pink-50 border border-red-200 rounded-lg p-5 mb-5",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(kn,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-red-900 text-base mb-1",children:[w.length," Overdue Payments Require Attention"]}),c.jsxs("p",{className:"text-red-800 text-sm mb-3",children:["Total overdue: ",c.jsxs("span",{className:"font-bold",children:["AED ",w.reduce((P,T)=>P+T.remainingAmount,0).toLocaleString()]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.slice(0,3).map(P=>c.jsxs("div",{className:"bg-white px-3 py-1.5 rounded border border-red-100",children:[c.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:P.invoiceNumber}),c.jsxs("span",{className:"text-red-600 ml-2 text-sm font-medium",children:["AED ",P.remainingAmount.toLocaleString()]})]},P.id)),w.length>3&&c.jsx("div",{className:"bg-white px-3 py-1.5 rounded border border-red-100",children:c.jsxs("span",{className:"text-gray-700 text-sm",children:["+",w.length-3," more"]})})]})]})]}),c.jsx(Gn,{to:"/invoices?status=overdue",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm whitespace-nowrap ml-4",children:"View All Overdue"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:[c.jsxs("div",{className:"bg-green-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(Ed,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Total Collected"}),c.jsxs("p",{className:"text-3xl font-bold mb-1",children:["AED ",S.reduce((P,T)=>P+T.paidAmount,0).toLocaleString()]}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(_g,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[S.length>0?(S.reduce((P,T)=>P+T.paidAmount,0)/S.reduce((P,T)=>P+T.amount,0)*100).toFixed(0):0,"% collection rate"]})]})]}),c.jsxs("div",{className:"bg-orange-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(jd,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Outstanding"}),c.jsxs("p",{className:"text-3xl font-bold mb-1",children:["AED ",S.filter(P=>P.status==="pending"||P.status==="partial"||P.status==="overdue").reduce((P,T)=>P+T.remainingAmount,0).toLocaleString()]}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(jd,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[S.filter(P=>P.status==="pending"||P.status==="partial"||P.status==="overdue").length," pending invoices"]})]})]}),c.jsxs("div",{className:"bg-blue-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(To,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Occupancy Rate"}),c.jsxs("p",{className:"text-3xl font-bold mb-1",children:[e.occupancyRate.toFixed(0),"%"]}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(To,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[e.occupiedUnits,"/",e.totalUnits," units occupied"]})]})]}),c.jsxs("div",{className:"bg-purple-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(oa,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Active Contracts"}),c.jsx("p",{className:"text-3xl font-bold mb-1",children:e.activeContracts}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(Od,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[e.activeTenants," tenants"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-5",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Revenue Overview"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Billed vs Collected (Last 6 months)"})]}),c.jsx(DM,{className:"w-5 h-5 text-gray-400"})]}),c.jsx(D_,{width:"100%",height:250,children:c.jsxs(lse,{data:j,children:[c.jsx(mC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),c.jsx(Yh,{dataKey:"month",tick:{fontSize:12}}),c.jsx(Xh,{tick:{fontSize:12},tickFormatter:P=>`${P/1e3}k`}),c.jsx(Xr,{formatter:P=>Ke(P)}),c.jsx(fi,{wrapperStyle:{fontSize:"12px"}}),c.jsx(ja,{dataKey:"billed",fill:"#94a3b8",name:"Billed"}),c.jsx(ja,{dataKey:"collected",fill:"#14b8a6",name:"Collected"})]})})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Invoice Status"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Distribution breakdown"})]}),c.jsx(GM,{className:"w-5 h-5 text-gray-400"})]}),c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(D_,{width:"100%",height:250,children:c.jsx(use,{children:c.jsx(qn,{data:[{name:"Paid",value:E,color:"#14b8a6"},{name:"Overdue",value:k,color:"#ef4444"}],cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:2,dataKey:"value",children:[{name:"Paid",value:E,color:"#14b8a6"},{name:"Overdue",value:k,color:"#ef4444"}].map((P,T)=>c.jsx(jh,{fill:P.color},`cell-${T}`))})})})}),c.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:"#14b8a6"}}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Paid (",E,")"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Overdue (",k,")"]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Recent Invoices"}),c.jsxs(Gn,{to:"/invoices",className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center",children:["View All",c.jsx(_g,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"space-y-4",children:w.slice(0,5).map(P=>c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:P.invoiceNumber}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Due ",Yt(P.dueDate)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-gray-900",children:["AED ",P.remainingAmount.toLocaleString()]}),c.jsx("span",{className:"inline-block px-3 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full",children:"Overdue"})]})]},P.id))})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-6",children:"Property Occupancy"}),c.jsx("div",{className:"space-y-6",children:o.map(P=>{const T=l.filter(O=>O.propertyId===P.id),M=T.filter(O=>O.isOccupied).length,C=T.length,A=C>0?M/C*100:0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(va,{className:"w-5 h-5 text-green-600 mr-2"}),c.jsx("span",{className:"font-medium text-gray-900",children:P.name})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:[M,"/",C]}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[A.toFixed(0),"%"]})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${A}%`,backgroundColor:"#14b8a6"}})})]},P.id)})})]})]})]})}function dse(){var Y;const[e,t]=N.useState([]),[r,n]=N.useState(""),[a,i]=N.useState("all"),[o,s]=N.useState(null),[l,u]=N.useState(""),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,y]=N.useState(null),[v,m]=N.useState([]),[b,x]=N.useState(!0),S=N.useRef(null),[w,_]=N.useState(null),[j,E]=N.useState([]),k=N.useRef(null),[D,P]=N.useState(null),[T,M]=N.useState(!1),[C,A]=N.useState([]);N.useEffect(()=>{O()},[]);const O=async()=>{try{const[B,H]=await Promise.all([le.getProperties(),le.getUnits()]);t(B),A(H)}catch(B){console.error("Error loading properties:",B),t([]),A([])}},R=e.filter(B=>{var ae;const H=r.toLowerCase(),W=!r||B.name.toLowerCase().includes(H)||B.address.toLowerCase().includes(H)||B.city.toLowerCase().includes(H)||((ae=B.shortCode)==null?void 0:ae.toLowerCase().includes(H)),ie=a==="all"?!0:a==="active"?B.isActive??!0:!(B.isActive??!0);return W&&ie}),$=(B,H)=>{const ie=B.split(" ").map(de=>{var be;return((be=de[0])==null?void 0:be.toUpperCase())||""}).join("");return`${ie.length>=3?ie.substring(0,3):ie.padEnd(3,"X")}-${String(H+1).padStart(3,"0")}`},L=async B=>{B.preventDefault();try{const H=new FormData(B.currentTarget),W={name:H.get("name"),address:H.get("address"),addressLine2:H.get("addressLine2")||void 0,city:H.get("city"),country:H.get("country"),images:v,shortCode:H.get("shortCode")||void 0,state:H.get("state")||void 0,postalCode:H.get("postalCode")||void 0,notes:H.get("notes")||void 0,isActive:b};h?await le.updateProperty(h.id,W):await le.createProperty(W),await O(),f(!1),p(null),m([]),x(!0)}catch(H){console.error("Error saving property:",H),alert("Failed to save property. Please try again.")}},V=B=>{p(B),m(B.images||[]),x(B.isActive??!0),f(!0)},z=async B=>{if(confirm("Are you sure you want to delete this property?"))try{await le.deleteProperty(B)?await O():alert("Cannot delete property with associated units")}catch(H){console.error("Error deleting property:",H),alert("Failed to delete property. Please try again.")}},q=()=>{f(!1),p(null),m([]),x(!0)},Q=B=>{const H=B.target.files;H&&(Array.from(H).forEach(W=>{if(v.length>=5){alert("Maximum 5 images allowed");return}if(W.type.startsWith("image/")){const ie=new FileReader;ie.onloadend=()=>{m(ae=>[...ae,ie.result])},ie.readAsDataURL(W)}}),S.current&&(S.current.value=""))},fe=B=>{m(H=>H.filter((W,ie)=>ie!==B))},te=B=>{_(B),E(B.images||[]),P(B.propertyId),M(!1)},me=()=>{_(null),E([]),P(null),M(!1),k.current&&(k.current.value="")},Be=B=>{const H=B.target.files;H&&(Array.from(H).forEach(W=>{if(j.length>=5){alert("Maximum 5 images allowed for a unit");return}if(W.type.startsWith("image/")){const ie=new FileReader;ie.onloadend=()=>{E(ae=>[...ae,ie.result])},ie.readAsDataURL(W)}}),k.current&&(k.current.value=""))},Se=B=>{E(H=>H.filter((W,ie)=>ie!==B))};return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Properties"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.length," registered ",e.length===1?"property":"properties"]})]}),c.jsxs("button",{onClick:()=>{p(null),m([]),x(!0),f(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[c.jsx(ba,{className:"w-4 h-4 mr-2"}),"Add Property"]})]}),c.jsxs("div",{className:"mb-5 flex gap-3",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search properties...",value:r,onChange:B=>n(B.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("select",{value:a,onChange:B=>i(B.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Not Active"})]})]}),c.jsx("div",{className:"space-y-3",children:R.map((B,H)=>{const W=C.filter(de=>de.propertyId===B.id),ie=W.filter(de=>de.isOccupied).length,ae=$(B.name,H);return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[B.images.length>0?c.jsx("img",{src:B.images[0],alt:B.name,className:"w-12 h-12 rounded-lg object-cover mr-4 flex-shrink-0"}):c.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mr-4 flex-shrink-0",children:c.jsx(va,{className:"w-6 h-6 text-green-600"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center mb-1 flex-wrap gap-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.name}),c.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:ae}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${B.isActive??!0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:B.isActive??!0?"Active":"Not Active"})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[c.jsx(fw,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),c.jsxs("span",{className:"truncate",children:[B.address,", ",B.city]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(To,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),c.jsxs("span",{children:[W.length," units ",ie," occupied"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[c.jsx("button",{onClick:()=>V(B),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:c.jsx(Sd,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>z(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(Co,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>s(o===B.id?null:B.id),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:o===B.id?"Hide Units":"Show Units",children:c.jsx(MM,{className:`w-5 h-5 transition-transform ${o===B.id?"rotate-180":""}`})})]})]}),o===B.id&&c.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg border border-gray-100 px-4 py-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{children:c.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:["Apartments (",W.length,")"]})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search units...",value:l,onChange:de=>u(de.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent w-56"})]}),c.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",onClick:()=>{M(!0),_(null),E([]),P(B.id)},children:[c.jsx(ba,{className:"w-4 h-4 mr-1"}),"Add Unit"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:W.filter(de=>{if(!l)return!0;const be=l.toLowerCase();return de.unitNumber.toLowerCase().includes(be)||de.type.toLowerCase().includes(be)}).map(de=>{const be=de.unitNumber.match(/\d+/),Ze=be?be[0]:"",Lt=Ze.length>=2?`Floor ${Ze[0]}`:"Floor 1";return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 flex flex-col justify-between",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-green-50 border border-green-100 flex items-center justify-center mr-2",children:c.jsx(To,{className:"w-4 h-4 text-green-600"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Unit ",de.unitNumber]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[Lt,"  ",de.type]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{type:"button",className:"p-1 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit unit",onClick:()=>te(de),children:c.jsx(Sd,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",className:"p-1 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete unit",onClick:()=>alert("Delete this unit from the Units page for now."),children:c.jsx(Co,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex items-center justify-between mt-2",children:c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${de.isOccupied?"bg-blue-50 text-blue-700":"bg-green-50 text-green-700"}`,children:de.isOccupied?"Occupied":"Vacant"})})]},de.id)})})]})]},B.id)})}),R.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(va,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),c.jsx("p",{className:"text-gray-600",children:r?"Try a different search term":"Get started by adding your first property"})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:h?"Edit Property":"Add New Property"}),c.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:L,className:"p-5 space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Name *"}),c.jsx("input",{type:"text",name:"name",defaultValue:h==null?void 0:h.name,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Marina Heights Tower"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Code *"}),c.jsx("input",{type:"text",name:"shortCode",defaultValue:h==null?void 0:h.shortCode,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"MHT-001"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),c.jsx("input",{type:"text",name:"address",defaultValue:h==null?void 0:h.address,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"45 Marina Walk"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),c.jsx("input",{type:"text",name:"addressLine2",defaultValue:h==null?void 0:h.addressLine2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Suite 101"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),c.jsx("input",{type:"text",name:"city",defaultValue:h==null?void 0:h.city,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Dubai"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),c.jsx("input",{type:"text",name:"state",defaultValue:h==null?void 0:h.state,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Dubai"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),c.jsx("input",{type:"text",name:"postalCode",defaultValue:h==null?void 0:h.postalCode,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"00000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),c.jsx("input",{type:"text",name:"country",defaultValue:h==null?void 0:h.country,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"UAE"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",defaultValue:h==null?void 0:h.notes,rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any notes about this property..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Images"}),v.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("img",{src:v[0],alt:"Property",className:"w-24 h-24 object-cover rounded-lg border border-gray-300"}),c.jsx("button",{type:"button",onClick:()=>fe(0),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",children:c.jsx(Dt,{className:"w-2.5 h-2.5"})})]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.length,"/5 images"]})]}),c.jsx("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:Q,className:"hidden",id:"image-upload"}),c.jsxs("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors",children:[c.jsx(pw,{className:"w-4 h-4 mr-2"}),"Add"]}),v.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No images uploaded yet"})]}),c.jsxs("div",{className:"flex items-center gap-3 pt-1",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Active"}),c.jsx("button",{type:"button",onClick:()=>x(!b),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ${b?"bg-green-600":"bg-gray-300"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${b?"translate-x-6":"translate-x-1"}`})})]}),c.jsxs("div",{className:"flex gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:q,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:h?"Update":"Add Property"})]})]})]})}),g&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Property Details"}),c.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"mb-6",children:g.images.length>0?c.jsx("img",{src:g.images[0],alt:g.name,className:"w-full h-64 object-cover rounded-lg mb-4"}):c.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(va,{className:"w-16 h-16 text-gray-400"})})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:g.name}),c.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[c.jsx(fw,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:[g.address,", ",g.city,", ",g.country]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Units"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.filter(B=>B.propertyId===g.id).length})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Occupied Units"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.filter(B=>B.propertyId===g.id&&B.isOccupied).length})]})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Units"}),c.jsx("div",{className:"space-y-2",children:C.filter(B=>B.propertyId===g.id).map(B=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-gray-900",children:["Unit ",B.unitNumber]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[B.type,"  ",B.squareFeet," sq ft"]})]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${B.isOccupied?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:B.isOccupied?"Occupied":"Vacant"})]},B.id))})]})]})]})]})}),(w||D)&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Apartment"}),c.jsx("button",{onClick:me,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("form",{className:"p-5 space-y-3",onSubmit:async B=>{B.preventDefault();try{const H=new FormData(B.currentTarget),W=H.get("unitNumber").trim(),ie=H.get("floor").trim(),ae=H.get("type"),de=H.get("status"),be=H.get("unitNotes")||void 0,Ze=de==="occupied";w&&!T?await le.updateUnit(w.id,{unitNumber:W,floor:ie,type:ae,isOccupied:Ze,images:j,notes:be}):D&&W&&await le.createUnit({propertyId:D,unitNumber:W,type:ae,floor:ie,bedrooms:1,bathrooms:1,squareFeet:0,monthlyRent:0,isOccupied:Ze,images:j,notes:be}),await O(),me()}catch(H){console.error("Error saving unit:",H),alert("Failed to save unit. Please try again.")}},children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number *"}),c.jsx("input",{type:"text",name:"unitNumber",defaultValue:(w==null?void 0:w.unitNumber)||"",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),c.jsx("input",{type:"text",name:"floor",defaultValue:((Y=w==null?void 0:w.floor)==null?void 0:Y.toString())||"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),c.jsxs("select",{name:"type",defaultValue:(w==null?void 0:w.type)||"1BR",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"studio",children:"Studio"}),c.jsx("option",{value:"1BR",children:"1BR"}),c.jsx("option",{value:"2BR",children:"2BR"}),c.jsx("option",{value:"3BR",children:"3BR"}),c.jsx("option",{value:"4BR",children:"4BR"}),c.jsx("option",{value:"penthouse",children:"Penthouse"}),c.jsx("option",{value:"villa",children:"Villa"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",defaultValue:w!=null&&w.isOccupied?"occupied":"vacant",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"vacant",children:"Vacant"}),c.jsx("option",{value:"occupied",children:"Occupied"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Images"}),j.length>0&&c.jsx("div",{className:"mb-2 flex gap-2 flex-wrap",children:j.map((B,H)=>c.jsxs("div",{className:"relative inline-block",children:[c.jsx("img",{src:B,alt:w?`Unit ${w.unitNumber}`:"Unit image",className:"w-20 h-20 object-cover rounded-lg border border-gray-300"}),c.jsx("button",{type:"button",onClick:()=>Se(H),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",children:c.jsx(Dt,{className:"w-2.5 h-2.5"})})]},H))}),c.jsx("input",{ref:k,type:"file",accept:"image/*",multiple:!0,onChange:Be,className:"hidden",id:"unit-image-upload"}),c.jsxs("label",{htmlFor:"unit-image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors text-sm",children:[c.jsx(pw,{className:"w-4 h-4 mr-2"}),"Add"]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.length,"/5 images"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"unitNotes",defaultValue:w==null?void 0:w.notes,rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-3",children:[c.jsx("button",{type:"button",onClick:me,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Update"})]})]})]})})]})}function fse(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(""),[o,s]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState("all"),[h,p]=N.useState("all");N.useEffect(()=>{g()},[]);const g=async()=>{try{const w=await le.getUnits(),_=await le.getProperties();t(w),n(_)}catch(w){console.error("Error loading units data:",w),t([]),n([])}},y=e.filter(w=>{const _=a?w.unitNumber.toLowerCase().includes(a.toLowerCase())||w.type.toLowerCase().includes(a.toLowerCase()):!0,j=d==="all"||w.propertyId===d,E=h==="all"||h==="occupied"&&w.isOccupied||h==="vacant"&&!w.isOccupied;return _&&j&&E}),v=async w=>{w.preventDefault();try{const _=new FormData(w.currentTarget),j={propertyId:_.get("propertyId"),unitNumber:_.get("unitNumber"),type:_.get("type"),bedrooms:parseInt(_.get("bedrooms")),bathrooms:parseInt(_.get("bathrooms")),squareFeet:parseInt(_.get("squareFeet")),monthlyRent:parseFloat(_.get("monthlyRent")),isOccupied:!1,images:_.get("images").split(`
`).filter(Boolean)};l?await le.updateUnit(l.id,j):await le.createUnit(j),await g(),s(!1),u(null)}catch(_){console.error("Error saving unit:",_),alert("Failed to save unit. Please try again.")}},m=w=>{u(w),s(!0)},b=async w=>{if(confirm("Are you sure you want to delete this unit?"))try{await le.deleteUnit(w)?await g():alert("Cannot delete unit with associated contracts")}catch(_){console.error("Error deleting unit:",_),alert("Failed to delete unit. Please try again.")}},x=()=>{s(!1),u(null)},S=w=>{var _;return((_=r.find(j=>j.id===w))==null?void 0:_.name)||"Unknown"};return c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Units"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage rental units across properties"})]}),c.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors shadow-md",children:[c.jsx(ba,{className:"w-5 h-5 mr-2"}),"Add Unit"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search units...",value:a,onChange:w=>i(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("select",{value:d,onChange:w=>f(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Properties"}),r.map(w=>c.jsx("option",{value:w.id,children:w.name},w.id))]}),c.jsxs("select",{value:h,onChange:w=>p(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"occupied",children:"Occupied"}),c.jsx("option",{value:"vacant",children:"Vacant"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(w=>c.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"h-40 bg-gradient-to-br from-primary-400 to-primary-600 relative",children:[w.images.length>0?c.jsx("img",{src:w.images[0],alt:w.unitNumber,className:"w-full h-full object-cover"}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx(To,{className:"w-12 h-12 text-white opacity-50"})}),c.jsx("div",{className:"absolute top-3 right-3",children:c.jsx("span",{className:Et("px-3 py-1 rounded-full text-xs font-semibold flex items-center",w.isOccupied?"bg-danger-100 text-danger-700":"bg-success-100 text-success-700"),children:w.isOccupied?c.jsxs(c.Fragment,{children:[c.jsx(KM,{className:"w-3 h-3 mr-1"}),"Occupied"]}):c.jsxs(c.Fragment,{children:[c.jsx(eh,{className:"w-3 h-3 mr-1"}),"Vacant"]})})})]}),c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Unit ",w.unitNumber]}),c.jsx("p",{className:"text-sm text-gray-600",children:S(w.propertyId)})]}),c.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-semibold rounded",children:w.type.toUpperCase()})]}),c.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Bedrooms:"}),c.jsx("span",{className:"font-medium text-gray-900",children:w.bedrooms})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Bathrooms:"}),c.jsx("span",{className:"font-medium text-gray-900",children:w.bathrooms})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Size:"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[w.squareFeet," sq ft"]})]})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200 mb-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Monthly Rent"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ke(w.monthlyRent)})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>m(w),className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[c.jsx(Sd,{className:"w-4 h-4 mr-1"}),"Edit"]}),c.jsxs("button",{onClick:()=>b(w.id),className:"flex-1 flex items-center justify-center px-3 py-2 border border-danger-300 text-danger-600 rounded-lg hover:bg-danger-50 transition-colors text-sm",children:[c.jsx(Co,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]},w.id))}),y.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(To,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No units found"}),c.jsx("p",{className:"text-gray-600",children:a?"Try a different search term":"Get started by adding your first unit"})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l?"Edit Unit":"Add New Unit"}),c.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property *"}),c.jsxs("select",{name:"propertyId",defaultValue:l==null?void 0:l.propertyId,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select Property"}),r.map(w=>c.jsx("option",{value:w.id,children:w.name},w.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number *"}),c.jsx("input",{type:"text",name:"unitNumber",defaultValue:l==null?void 0:l.unitNumber,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"101"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),c.jsxs("select",{name:"type",defaultValue:l==null?void 0:l.type,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"studio",children:"Studio"}),c.jsx("option",{value:"1BR",children:"1 Bedroom"}),c.jsx("option",{value:"2BR",children:"2 Bedrooms"}),c.jsx("option",{value:"3BR",children:"3 Bedrooms"}),c.jsx("option",{value:"4BR",children:"4 Bedrooms"}),c.jsx("option",{value:"penthouse",children:"Penthouse"}),c.jsx("option",{value:"villa",children:"Villa"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms *"}),c.jsx("input",{type:"number",name:"bedrooms",defaultValue:l==null?void 0:l.bedrooms,required:!0,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),c.jsx("input",{type:"number",name:"bathrooms",defaultValue:l==null?void 0:l.bathrooms,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Square Feet *"}),c.jsx("input",{type:"number",name:"squareFeet",defaultValue:l==null?void 0:l.squareFeet,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rent (AED) *"}),c.jsx("input",{type:"number",name:"monthlyRent",defaultValue:l==null?void 0:l.monthlyRent,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"5000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URLs (one per line)"}),c.jsx("textarea",{name:"images",defaultValue:l==null?void 0:l.images.join(`
`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com/image1.jpg"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter image URLs, one per line"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:l?"Update Unit":"Add Unit"}),c.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}function hse(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState([]),[o,s]=N.useState([]),[l,u]=N.useState(""),[d,f]=N.useState(!0),[h,p]=N.useState(!1),[g,y]=N.useState(null),[v,m]=N.useState(null),[b,x]=N.useState("");N.useEffect(()=>{S()},[]);const S=async()=>{f(!0);try{const A=await le.getTenants();t(A),f(!1)}catch(A){console.error("Error loading tenants:",A),t([]),f(!1)}try{const[A,O,R]=await Promise.all([le.getContracts(),le.getInvoices(),le.getPayments()]);n(A),i(O),s(R)}catch(A){console.error("Error loading related data:",A),n([]),i([]),s([])}},w=async()=>{try{const A=await le.getTenants();t(A)}catch(A){console.error("Error loading tenants:",A),t([])}},_=l?e.filter(A=>{var O,R,$;return`${A.firstName} ${A.lastName}`.toLowerCase().includes(l.toLowerCase())||A.email.toLowerCase().includes(l.toLowerCase())||A.phone.includes(l)||((O=A.secondaryPhone)==null?void 0:O.includes(l))||((R=A.whatsappNumber)==null?void 0:R.includes(l))||(($=A.secondaryWhatsappNumber)==null?void 0:$.includes(l))}):e,j=async A=>{A.preventDefault();try{const O=new FormData(A.currentTarget),R=O.get("idType"),$=O.get("idNumber");if(R&&R.trim()!==""&&(!$||!$.trim())){alert("ID Number is required when ID Type is selected");const q=A.currentTarget.querySelector('[name="idNumber"]');q&&q.focus();return}const L=O.get("idExpiryDate"),V=L?new Date(L):void 0,z={firstName:O.get("firstName"),lastName:O.get("lastName"),email:O.get("email"),phone:O.get("phone"),secondaryPhone:O.get("secondaryPhone")||void 0,whatsappNumber:O.get("whatsappNumber"),secondaryWhatsappNumber:O.get("secondaryWhatsappNumber")||void 0,nationalId:$||O.get("nationalId")||(g==null?void 0:g.nationalId)||"",emergencyContact:O.get("emergencyContact"),emergencyPhone:O.get("emergencyPhone"),idType:O.get("idType"),idNumber:$||void 0,idExpiryDate:V,billingAddress:O.get("billingAddress"),paymentMethod:O.get("paymentMethod"),notificationPreference:O.get("notificationPreference"),notes:O.get("notes")};g?await le.updateTenant(g.id,z):await le.createTenant(z),await w(),p(!1),y(null),x("")}catch(O){console.error("Error saving tenant:",O),alert("Failed to save tenant. Please try again.")}},E=(A,O)=>{O.value=A},k=A=>{y(A),x(A.idType||""),p(!0)},D=A=>{m(A)},P=async A=>{if(confirm("Are you sure you want to delete this tenant?"))try{await le.deleteTenant(A)?await S():alert("Cannot delete tenant with associated contracts")}catch(O){console.error("Error deleting tenant:",O),alert("Error deleting tenant")}},T=()=>{p(!1),y(null),x("")},M=A=>r.filter($=>$.tenantId===A).some($=>$.status==="active")?"Active":"Inactive",C=A=>{const O=r.filter(q=>q.tenantId===A);if(O.length===0)return"";const R=O.map(q=>q.id),L=a.filter(q=>R.includes(q.contract.id)).map(q=>q.id),V=o.filter(q=>L.includes(q.invoiceId));if(V.length===0)return"";switch(V.reduce((q,Q)=>!q||new Date(Q.paymentDate)>new Date(q.paymentDate)?Q:q,V[0]).paymentMethod){case"cash":return"Cash";case"bank_transfer":return"Bank Transfer";case"cheque":return"Cheque";case"card":return"Card";case"online":return"Online Payment";default:return""}};return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenants"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.length," registered ",e.length===1?"tenant":"tenants"]})]}),c.jsxs("button",{onClick:()=>{p(!0),x("")},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[c.jsx(ba,{className:"w-4 h-4 mr-2"}),"Add Tenant"]})]}),c.jsx("div",{className:"mb-5",children:c.jsxs("div",{className:"relative",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search tenants...",value:l,onChange:A=>u(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[d&&_.length===0&&c.jsx(c.Fragment,{children:Array.from({length:6}).map((A,O)=>c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"h-4 w-32 bg-gray-100 rounded mb-2"}),c.jsx("div",{className:"h-3 w-24 bg-gray-100 rounded"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg"}),c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg"})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("div",{className:"h-3 w-40 bg-gray-100 rounded"}),c.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"}),c.jsx("div",{className:"h-3 w-32 bg-gray-100 rounded"})]}),c.jsx("div",{className:"h-3 w-44 bg-gray-100 rounded"})]},`tenant-skeleton-${O}`))}),!d&&_.map(A=>{const O=M(A.id),R=A.paymentMethod?A.paymentMethod==="bank_transfer"?"Bank Transfer":A.paymentMethod.charAt(0).toUpperCase()+A.paymentMethod.slice(1):C(A.id);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"w-12 h-12 rounded-full bg-green-50 border border-green-200 flex items-center justify-center text-green-700 font-bold text-lg mr-3",children:[A.firstName[0],A.lastName[0]]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[A.firstName," ",A.lastName]}),c.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs font-semibold ${O==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:O==="Active"?"Active Contract":"No Active Contract"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsxs("button",{onClick:()=>D(A),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-1",title:"View",children:[c.jsx(FM,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:"View"})]}),c.jsx("button",{onClick:()=>k(A),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:c.jsx(Sd,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>P(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(Co,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(HM,{className:"w-4 h-4 mr-2 flex-shrink-0"}),c.jsx("a",{href:`tel:${A.phone}`,className:"hover:text-green-600",children:A.phone})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(th,{className:"w-4 h-4 mr-2 flex-shrink-0"}),c.jsx("a",{href:`mailto:${A.email}`,className:"hover:text-green-600 truncate",children:A.email})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(BM,{className:"w-4 h-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:R})]})]}),c.jsx("div",{className:"pt-4 border-top border-t border-gray-200 mt-2",children:c.jsxs("p",{className:"text-xs text-gray-500",children:[A.idType?`${A.idType==="emirates_id"?"Emirates ID":A.idType==="driver_license"?"Driver License":A.idType==="passport"?"Passport":"ID"}: `:"National ID: ",c.jsx("span",{className:"font-medium text-gray-900",children:A.idNumber||A.nationalId})]})})]},A.id)})]}),_.length===0&&!d&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Od,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tenants found"}),c.jsx("p",{className:"text-gray-600",children:l?"Try a different search term":"Get started by adding your first tenant"})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:g?"Edit Tenant":"Add New Tenant"}),c.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:j,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),c.jsx("input",{type:"text",name:"firstName",defaultValue:g==null?void 0:g.firstName,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),c.jsx("input",{type:"text",name:"lastName",defaultValue:g==null?void 0:g.lastName,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Type"}),c.jsxs("select",{name:"idType",value:b||(g==null?void 0:g.idType)||"",onChange:A=>x(A.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"Select ID Type"}),c.jsx("option",{value:"passport",children:"Passport"}),c.jsx("option",{value:"emirates_id",children:"Emirates ID"}),c.jsx("option",{value:"driver_license",children:"Driver License"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID Number ",(b||(g==null?void 0:g.idType))&&" *"]}),c.jsx("input",{type:"text",name:"idNumber",defaultValue:(g==null?void 0:g.idNumber)||(g==null?void 0:g.nationalId),required:!!(b||g!=null&&g.idType),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"EID-123456"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Expiry Date"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",name:"idExpiryDate",defaultValue:g!=null&&g.idExpiryDate?new Date(g.idExpiryDate).toISOString().split("T")[0]:"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10"}),c.jsx(Sn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"tel",name:"phone",id:"phone-input",defaultValue:g==null?void 0:g.phone,required:!0,className:"w-full px-3 py-1.5 pr-9 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"}),c.jsx("button",{type:"button",onClick:A=>{var $;const O=($=A.currentTarget.parentElement)==null?void 0:$.querySelector("#phone-input"),R=document.getElementById("whatsapp-input");O&&R&&E(O.value,R)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Copy to WhatsApp",children:c.jsx(yN,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number *"}),c.jsx("input",{type:"tel",name:"whatsappNumber",id:"whatsapp-input",defaultValue:g==null?void 0:g.whatsappNumber,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Phone"}),c.jsx("input",{type:"tel",name:"secondaryPhone",defaultValue:g==null?void 0:g.secondaryPhone,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Optional secondary phone"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary WhatsApp"}),c.jsx("input",{type:"tel",name:"secondaryWhatsappNumber",defaultValue:g==null?void 0:g.secondaryWhatsappNumber,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Optional secondary WhatsApp"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",name:"email",defaultValue:g==null?void 0:g.email,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Address"}),c.jsx("textarea",{name:"billingAddress",rows:2,defaultValue:g==null?void 0:g.billingAddress,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Enter billing address..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),c.jsxs("select",{name:"paymentMethod",defaultValue:(g==null?void 0:g.paymentMethod)||"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"cheque",children:"Cheque"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification"}),c.jsxs("select",{name:"notificationPreference",defaultValue:(g==null?void 0:g.notificationPreference)||"whatsapp",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"whatsapp",children:"WhatsApp"}),c.jsx("option",{value:"email",children:"Email"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,defaultValue:g==null?void 0:g.notes,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any additional notes..."})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Emergency Contact"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),c.jsx("input",{type:"text",name:"emergencyContact",defaultValue:g==null?void 0:g.emergencyContact,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),c.jsx("input",{type:"tel",name:"emergencyPhone",defaultValue:g==null?void 0:g.emergencyPhone,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]})]}),c.jsx("input",{type:"hidden",name:"nationalId",value:(g==null?void 0:g.idNumber)||(g==null?void 0:g.nationalId)||""}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:T,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:g?"Update":"Add Tenant"})]})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[v.firstName," ",v.lastName]}),c.jsx("p",{className:"text-sm text-gray-600",children:M(v.id)==="Active"?"Active Contract":"No Active Contract"})]}),c.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Contact"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Phone:"})," ",v.phone]}),v.secondaryPhone&&c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Secondary Phone:"})," ",v.secondaryPhone]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"WhatsApp:"})," ",v.whatsappNumber]}),v.secondaryWhatsappNumber&&c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Secondary WhatsApp:"})," ",v.secondaryWhatsappNumber]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",v.email]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Identification"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"ID Type:"})," ",v.idType||""]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"ID Number:"})," ",v.idNumber||v.nationalId||""]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"ID Expiry:"})," ",v.idExpiryDate?new Date(v.idExpiryDate).toLocaleDateString():""]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Preferences"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",v.paymentMethod||C(v.id)||""]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Notification:"})," ",v.notificationPreference||""]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Emergency"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Contact:"})," ",v.emergencyContact]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Phone:"})," ",v.emergencyPhone]})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Billing & Notes"}),c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"Billing Address:"})," ",v.billingAddress||""]}),c.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[c.jsx("span",{className:"font-medium",children:"Notes:"})," ",v.notes||""]})]})]})]})})]})}const wj=e=>{switch(e){case"monthly":return"Monthly";case"1_payment":return"1 payment";case"2_payment":return"2 payment";case"3_payment":return"3 payment";case"4_payment":return"4 payment";default:return e}};function pse(){const{user:e}=Ni(),[t,r]=N.useState([]),[n,a]=N.useState([]),[i,o]=N.useState([]),[s,l]=N.useState([]),[u,d]=N.useState(""),[f,h]=N.useState(!1),[p,g]=N.useState("all"),[y,v]=N.useState(""),[m,b]=N.useState(null),[x,S]=N.useState(""),[w,_]=N.useState(""),[j,E]=N.useState(""),[k,D]=N.useState(""),[P,T]=N.useState(""),[M,C]=N.useState("monthly"),[A,O]=N.useState(0),[R,$]=N.useState(""),[L,V]=N.useState(!1),[z,q]=N.useState(1),[Q,fe]=N.useState([]),[te,me]=N.useState(null),[Be,Se]=N.useState([]),[Y,B]=N.useState("");N.useEffect(()=>{H()},[]),N.useEffect(()=>{q(1)},[u,p]);const H=async()=>{try{const[U,re,we,it,je]=await Promise.all([le.getContracts(),le.getTenants(),le.getUnits(),le.getProperties(),le.getInvoices()]);r(U),a(re),o(we),l(it),fe(je)}catch(U){console.error("Error loading contracts data:",U),v("Failed to load contracts. Please refresh the page."),r([]),a([]),o([]),l([]),fe([])}},ie=[...t].sort((U,re)=>{const we=new Date(U.createdAt||U.startDate).getTime();return new Date(re.createdAt||re.startDate).getTime()-we}).filter(U=>{var xb,wb,_b,Sb,jb;const re=p==="all"||U.status===p;if(!u)return re;const we=u.toLowerCase(),it=`${U.tenant.firstName} ${U.tenant.lastName}`.toLowerCase(),je=U.property.name.toLowerCase(),et=U.unit.unitNumber.toLowerCase(),Vr=((xb=U.contractNumber)==null?void 0:xb.toLowerCase())||"",Qh=((wb=U.tenant.email)==null?void 0:wb.toLowerCase())||"",TC=((_b=U.tenant.phone)==null?void 0:_b.toLowerCase())||"",CC=((Sb=U.tenant.whatsappNumber)==null?void 0:Sb.toLowerCase())||"",$C=((jb=U.tenant.nationalId)==null?void 0:jb.toLowerCase())||"";return(it.includes(we)||je.includes(we)||et.includes(we)||Vr.includes(we)||Qh.includes(we)||TC.includes(we)||CC.includes(we)||$C.includes(we))&&re}),ae=100,de=Math.ceil(ie.length/ae),be=ie.slice((z-1)*ae,z*ae);N.useEffect(()=>{if(k&&R==="1_year"){const U=new Date(k),re=$N(U,1),we=VN(re,1);T(we.toISOString().split("T")[0])}},[k,R]),N.useEffect(()=>{if(k&&P&&M)if(M==="monthly"){const U=new Date(k),re=new Date(P),we=UN(re,U),it=Math.max(1,we);O(it)}else O(M==="1_payment"?1:M==="2_payment"?2:M==="3_payment"?3:M==="4_payment"?4:0);else O(0)},[k,P,M]),N.useEffect(()=>{te?(E(te.tenantId),_(`${te.tenant.firstName} ${te.tenant.lastName}`),S(te.unit.propertyId),D(te.startDate.toISOString().split("T")[0]),T(te.endDate.toISOString().split("T")[0]),C(te.paymentFrequency),O(te.numberOfInstallments),Se(te.attachments||[]),B((te.monthlyRent*12).toString())):B("")},[te]);const Ze=async U=>{U.preventDefault(),v("");const re=new FormData(U.currentTarget),it=parseFloat(re.get("yearlyRent"))/12,je={tenantId:j||re.get("tenantId"),unitId:re.get("unitId"),startDate:new Date(re.get("startDate")),endDate:new Date(re.get("endDate")),monthlyRent:it,securityDeposit:parseFloat(re.get("securityDeposit")),paymentFrequency:re.get("paymentFrequency"),numberOfInstallments:A||parseInt(re.get("numberOfInstallments")),status:re.get("status")||"draft",reminderPeriod:re.get("reminderPeriod")||void 0,notes:re.get("notes")||void 0,contractNumber:re.get("contractNumber"),dueDateDay:re.get("dueDateDay")?parseInt(re.get("dueDateDay")):void 0,attachments:Be};try{if(te)if(je.status==="active"&&te.status==="draft"&&(e==null?void 0:e.role)!=="admin")try{const{supabaseService:Vr}=await wN(async()=>{const{supabaseService:Qh}=await Promise.resolve().then(()=>a3);return{supabaseService:Qh}},void 0);await Vr.createApprovalRequest("contract_create","contract",{...je,id:te.id,isUpdate:!0},e.id),alert("Contract activation request submitted for approval"),await H(),h(!1),me(null),Lt();return}catch(Vr){console.error("Error creating approval request:",Vr),v(Vr.message||"Failed to submit approval request");return}else await le.updateContract(te.id,je,e==null?void 0:e.id,e==null?void 0:e.role)?(alert("Contract updated successfully"),await H(),h(!1),me(null),Lt()):v("Failed to update contract");else{const et=await le.createContract(je,e==null?void 0:e.id,e==null?void 0:e.role);et.success?(et.requiresApproval&&alert(et.message||"Contract creation request submitted for approval"),await H(),h(!1),Lt()):v(et.message||"Failed to create contract")}}catch(et){console.error("Error saving contract:",et),v(et.message||"Failed to save contract. Please try again.")}},Lt=()=>{S(""),_(""),E(""),D(""),T(""),C("monthly"),O(0),$(""),Se([]),B("")},ln=async U=>{if(confirm("Are you sure you want to terminate this contract? This will mark the unit as vacant and cancel unpaid invoices."))try{const re=await le.terminateContract(U,e==null?void 0:e.id,e==null?void 0:e.role);typeof re=="object"&&"requiresApproval"in re&&alert(re.message||"Contract termination request submitted for approval"),await H()}catch(re){console.error("Error terminating contract:",re),alert("Failed to terminate contract. Please try again.")}},Ia=()=>{h(!1),v(""),me(null),Lt()},un=()=>s.filter(U=>i.filter(we=>we.propertyId===U.id).some(we=>!we.isOccupied)),cn=U=>i.filter(re=>re.propertyId===U&&!re.isOccupied),$i=w?n.filter(U=>`${U.firstName} ${U.lastName}`.toLowerCase().includes(w.toLowerCase())||U.email.toLowerCase().includes(w.toLowerCase())):[];return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contracts"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage rental agreements and leases"})]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[c.jsx(ba,{className:"w-4 h-4 mr-2"}),"New Contract"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:(()=>{const U=t.filter(je=>je.status==="active").length,re=t.filter(je=>je.status==="expired").length,we=t.filter(je=>je.status==="draft").length,it=t.filter(je=>je.status==="terminated").length;return[{label:"Active",count:U,color:"bg-success-100 text-success-700",icon:eh},{label:"Expired",count:re,color:"bg-warning-100 text-warning-700",icon:gN},{label:"Draft",count:we,color:"bg-primary-100 text-primary-700",icon:oa},{label:"Terminated",count:it,color:"bg-danger-100 text-danger-700",icon:dw}].map(je=>c.jsxs("div",{className:Et("rounded-xl p-4",je.color),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(je.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-3xl font-bold",children:je.count})]}),c.jsx("p",{className:"mt-2 font-medium",children:je.label})]},je.label))})()}),c.jsxs("div",{className:"flex gap-3 mb-5",children:[c.jsxs("div",{className:"relative flex-1 max-w-sm",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by tenant name, property, unit, contract number, phone, email...",value:u,onChange:U=>d(U.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("button",{onClick:()=>V(!0),className:"flex items-center px-3 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm whitespace-nowrap",children:[c.jsx(ba,{className:"w-4 h-4 mr-1.5"}),"Add New Tenant"]}),c.jsxs("select",{value:p,onChange:U=>g(U.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"expired",children:"Expired"}),c.jsx("option",{value:"terminated",children:"Terminated"})]})]}),c.jsx("div",{className:"space-y-3",children:be.length>0?be.map(U=>{if(!U||!U.tenant||!U.unit||!U.property)return null;const re=Q.filter(je=>je.contractId===U.id),we=re.filter(je=>je.status==="paid").length,it=re.filter(je=>je.status==="overdue").length;return c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsxs("div",{className:"w-10 h-10 bg-green-50 border border-green-200 rounded-full flex items-center justify-center text-green-700 font-bold text-base mr-3",children:[U.tenant.firstName[0],U.tenant.lastName[0]]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[U.tenant.firstName," ",U.tenant.lastName]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[U.property.name," - Unit ",U.unit.unitNumber]}),U.contractNumber&&c.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Contract: ",U.contractNumber]})]}),c.jsx("span",{className:Et("ml-3 px-2 py-0.5 rounded-full text-xs font-semibold",Ul(U.status)),children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-3 text-sm",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Start Date"}),c.jsx("p",{className:"font-medium text-gray-900",children:Yt(U.startDate)})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"End Date"}),c.jsx("p",{className:"font-medium text-gray-900",children:Yt(U.endDate)})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Monthly Rent"}),c.jsx("p",{className:"font-medium text-gray-900",children:Ke(U.monthlyRent)})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Security Deposit"}),c.jsx("p",{className:"font-medium text-gray-900",children:Ke(U.securityDeposit)})]})]}),c.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-xs mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(oa,{className:"w-3.5 h-3.5 mr-1.5 text-primary-600"}),c.jsxs("span",{className:"text-gray-600",children:["Payment: ",c.jsx("span",{className:"font-medium text-gray-900",children:wj(U.paymentFrequency)})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(vN,{className:"w-3.5 h-3.5 mr-1.5 text-success-600"}),c.jsxs("span",{className:"text-gray-600",children:["Invoices: ",c.jsxs("span",{className:"font-medium text-gray-900",children:[we,"/",U.numberOfInstallments," paid"]})]})]}),it>0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(kn,{className:"w-3.5 h-3.5 mr-1.5 text-danger-600"}),c.jsxs("span",{className:"text-danger-600 font-medium",children:[it," overdue"]})]}),U.reminderPeriod&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sn,{className:"w-3.5 h-3.5 mr-1.5 text-warning-600"}),c.jsxs("span",{className:"text-gray-600",children:["Reminder: ",c.jsx("span",{className:"font-medium text-gray-900",children:U.reminderPeriod.replace("_"," ")})]})]})]}),U.notes&&c.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700",children:U.notes})]}),c.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[c.jsx("button",{onClick:()=>{b(U),Se(U.attachments||[])},className:"px-3 py-1.5 border border-primary-300 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors text-xs font-medium",children:"View"}),U.status==="active"&&c.jsx("button",{onClick:()=>ln(U.id),className:"px-3 py-1.5 border border-danger-300 text-danger-600 rounded-lg hover:bg-danger-50 transition-colors text-xs font-medium",children:"Terminate"})]})]})},U.id)}).filter(Boolean):null}),be.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(oa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No contracts found"}),c.jsx("p",{className:"text-gray-600",children:u?"Try a different search term":"Get started by creating your first contract"})]}),de>1&&c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(z-1)*ae+1," to ",Math.min(z*ae,ie.length)," of ",ie.length," contracts"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>q(U=>Math.max(1,U-1)),disabled:z===1,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),c.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-700",children:["Page ",z," of ",de]}),c.jsx("button",{onClick:()=>q(U=>Math.min(de,U+1)),disabled:z===de,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:te?"Edit Contract":"Create New Contract"}),c.jsx("button",{onClick:Ia,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:Ze,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[y&&c.jsx("div",{className:"bg-danger-50 border-l-4 border-danger-500 p-3 rounded text-sm",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(kn,{className:"w-4 h-4 text-danger-600 mr-2"}),c.jsx("p",{className:"text-danger-700",children:y})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant *"}),c.jsxs("div",{className:"relative",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search tenant...",value:w,onChange:U=>{_(U.target.value),E("")},className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),w&&$i.length>0&&c.jsx("div",{className:"mt-1 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:$i.map(U=>c.jsxs("button",{type:"button",onClick:()=>{E(U.id),_(`${U.firstName} ${U.lastName}`)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${j===U.id?"bg-green-50":""}`,children:[U.firstName," ",U.lastName," - ",U.email]},U.id))}),c.jsx("input",{type:"hidden",name:"tenantId",value:j,required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property"}),c.jsxs("select",{value:x,onChange:U=>{S(U.target.value)},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"Select Property"}),un().map(U=>c.jsx("option",{value:U.id,children:U.name},U.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit *"}),c.jsxs("select",{name:"unitId",required:!0,disabled:!x,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white disabled:bg-gray-50 disabled:text-gray-500",children:[c.jsx("option",{value:"",children:x?"Select Unit":"Select Property First"}),x&&cn(x).map(U=>c.jsxs("option",{value:U.id,children:["Unit ",U.unitNumber," (",U.type,")"]},U.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Number *"}),c.jsx("input",{type:"text",name:"contractNumber",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"CT-001"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yearly Rent (AED) *"}),c.jsx("input",{type:"number",name:"yearlyRent",id:"yearlyRent",required:!0,min:"0",step:"0.01",value:Y,onChange:U=>B(U.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Duration"}),c.jsxs("select",{value:R,onChange:U=>{$(U.target.value),U.target.value==="custom"&&T("")},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"Select Duration"}),c.jsx("option",{value:"1_year",children:"1 Year (Auto: End date = 1 day before anniversary)"}),c.jsx("option",{value:"custom",children:"Custom (Manual dates)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),c.jsx("input",{type:"date",name:"startDate",required:!0,value:k,onChange:U=>D(U.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),c.jsx("input",{type:"date",name:"endDate",required:!0,value:P,onChange:U=>{T(U.target.value),R==="1_year"&&$("custom")},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),c.jsxs("select",{name:"paymentFrequency",value:M,onChange:U=>C(U.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"monthly",children:"Monthly"}),c.jsx("option",{value:"1_payment",children:"1 payment"}),c.jsx("option",{value:"2_payment",children:"2 payment"}),c.jsx("option",{value:"3_payment",children:"3 payment"}),c.jsx("option",{value:"4_payment",children:"4 payment"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installments"}),c.jsx("input",{type:"number",name:"numberOfInstallments",value:A||"",readOnly:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"number",name:"dueDateDay",min:"1",max:"31",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Day (1-31)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",defaultValue:(te==null?void 0:te.status)||"draft",disabled:(te==null?void 0:te.status)==="active",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[c.jsx("option",{value:"draft",children:"Draft"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"expired",children:"Expired"}),c.jsx("option",{value:"terminated",disabled:!te||te.status!=="active",children:"Terminated"})]}),(te==null?void 0:te.status)==="active"&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active contracts cannot be edited. Use Terminate button instead."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Reminder"}),c.jsxs("select",{name:"reminderPeriod",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"No Reminders"}),c.jsx("option",{value:"3_days",children:"3 Days Before"}),c.jsx("option",{value:"1_week",children:"1 Week Before"}),c.jsx("option",{value:"2_weeks",children:"2 Weeks Before"}),c.jsx("option",{value:"1_month",children:"1 Month Before"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Deposit (AED) *"}),c.jsx("input",{type:"number",name:"securityDeposit",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this contract..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:Ia,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Create Contract"})]})]})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contract Details"}),c.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Tenant Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Name:"})," ",c.jsxs("span",{className:"font-medium",children:[m.tenant.firstName," ",m.tenant.lastName]})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Email:"})," ",c.jsx("span",{className:"font-medium",children:m.tenant.email})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",c.jsx("span",{className:"font-medium",children:m.tenant.phone})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"National ID:"})," ",c.jsx("span",{className:"font-medium",children:m.tenant.nationalId})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Unit Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Property:"})," ",c.jsx("span",{className:"font-medium",children:m.property.name})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Unit:"})," ",c.jsx("span",{className:"font-medium",children:m.unit.unitNumber})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Type:"})," ",c.jsx("span",{className:"font-medium",children:m.unit.type})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Size:"})," ",c.jsxs("span",{className:"font-medium",children:[m.unit.squareFeet," sq ft"]})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contract Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Status:"})," ",c.jsx("span",{className:Et("ml-2 px-2 py-1 rounded-full text-xs font-semibold",Ul(m.status)),children:m.status})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Start Date:"})," ",c.jsx("span",{className:"font-medium",children:Yt(m.startDate)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"End Date:"})," ",c.jsx("span",{className:"font-medium",children:Yt(m.endDate)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Monthly Rent:"})," ",c.jsx("span",{className:"font-medium",children:Ke(m.monthlyRent)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Security Deposit:"})," ",c.jsx("span",{className:"font-medium",children:Ke(m.securityDeposit)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Payment Frequency:"})," ",c.jsx("span",{className:"font-medium",children:wj(m.paymentFrequency)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Installments:"})," ",c.jsx("span",{className:"font-medium",children:m.numberOfInstallments})]}),m.reminderPeriod&&c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Reminder:"})," ",c.jsx("span",{className:"font-medium",children:m.reminderPeriod.replace("_"," ")})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Invoices Summary"}),(()=>{const U=Q.filter(et=>et.contractId===m.id),re=U.filter(et=>et.status==="paid").length,we=U.filter(et=>et.status==="pending").length,it=U.filter(et=>et.status==="overdue").length,je=U.filter(et=>et.status==="partial").length;return c.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-success-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-success-700",children:re}),c.jsx("p",{className:"text-sm text-success-600 mt-1",children:"Paid"})]}),c.jsxs("div",{className:"bg-warning-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-warning-700",children:we}),c.jsx("p",{className:"text-sm text-warning-600 mt-1",children:"Pending"})]}),c.jsxs("div",{className:"bg-primary-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-primary-700",children:je}),c.jsx("p",{className:"text-sm text-primary-600 mt-1",children:"Partial"})]}),c.jsxs("div",{className:"bg-danger-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-danger-700",children:it}),c.jsx("p",{className:"text-sm text-danger-600 mt-1",children:"Overdue"})]})]})})()]}),m.notes&&c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),c.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:m.notes})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[m.status==="draft"&&c.jsxs("button",{type:"button",onClick:()=>{me(m),h(!0),b(null)},className:"flex items-center px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(oa,{className:"w-4 h-4 mr-2"}),"Edit Contract"]}),m.status==="active"&&c.jsxs("button",{type:"button",onClick:()=>{b(null),ln(m.id)},className:"flex items-center px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[c.jsx(dw,{className:"w-4 h-4 mr-2"}),"Terminate Contract"]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Attachments"}),c.jsxs("button",{onClick:()=>{me(m),Se(m.attachments||[])},className:"flex items-center px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(ba,{className:"w-4 h-4 mr-1.5"}),"Add Attachment"]})]}),m.attachments&&m.attachments.length>0?c.jsx("div",{className:"space-y-2",children:m.attachments.map((U,re)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(hw,{className:"w-4 h-4 text-gray-600 mr-2"}),c.jsx("span",{className:"text-sm text-gray-700",children:U.startsWith("data:")?`Attachment ${re+1}`:U.split("/").pop()||`Attachment ${re+1}`})]}),c.jsx("div",{className:"flex gap-2",children:U.startsWith("data:")||U.startsWith("http")?c.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:text-green-700",children:"View"}):null})]},re))}):c.jsx("p",{className:"text-sm text-gray-500 italic",children:"No attachments yet"})]})]})]})}),te&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Attachments"}),c.jsx("button",{onClick:()=>{me(null),Se([])},className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto flex-1",children:[Be.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Current Attachments"}),Be.map((U,re)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[c.jsx(hw,{className:"w-4 h-4 text-gray-600 mr-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-gray-700 truncate",children:U.startsWith("data:")?`Attachment ${re+1}`:U.split("/").pop()||`Attachment ${re+1}`})]}),c.jsx("button",{onClick:()=>{Se(Be.filter((we,it)=>it!==re))},className:"ml-2 p-1 text-red-600 hover:text-red-700 transition-colors",children:c.jsx(Co,{className:"w-4 h-4"})})]},re))]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Attachment"}),c.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:async U=>{var we;const re=(we=U.target.files)==null?void 0:we[0];if(re){const it=new FileReader;it.onload=je=>{var Vr;const et=(Vr=je.target)==null?void 0:Vr.result;Se([...Be,et])},it.readAsDataURL(re)}},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported: PDF, DOC, DOCX, JPG, PNG, TXT"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:()=>{me(null),Se([])},className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"button",onClick:async()=>{try{await le.updateContract(te.id,{attachments:Be}),await H();const re=(await le.getContracts()).find(we=>we.id===te.id);re&&b(re),me(null),Se([])}catch(U){console.error("Error updating attachments:",U),alert("Failed to update attachments. Please try again.")}},className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Save Attachments"})]})]})]})}),L&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Tenant"}),c.jsx("button",{onClick:()=>{V(!1)},className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsx(mse,{onSuccess:U=>{H(),V(!1),f&&(E(U.id),_(`${U.firstName} ${U.lastName}`))},onCancel:()=>V(!1)})]})})]})}function mse({onSuccess:e,onCancel:t}){const[r,n]=N.useState(""),a=async o=>{o.preventDefault(),n("");const s=new FormData(o.currentTarget),l=s.get("idExpiryDate"),u=l?new Date(l):void 0,d=s.get("idNumber"),f={firstName:s.get("firstName"),lastName:s.get("lastName"),email:s.get("email"),phone:s.get("phone"),whatsappNumber:s.get("whatsappNumber"),nationalId:d||s.get("nationalId")||"",emergencyContact:s.get("emergencyContact"),emergencyPhone:s.get("emergencyPhone"),idType:s.get("idType"),idNumber:d||void 0,idExpiryDate:u,billingAddress:s.get("billingAddress"),paymentMethod:s.get("paymentMethod"),notificationPreference:s.get("notificationPreference"),notes:s.get("notes")};try{const h=await le.createTenant(f);e(h)}catch(h){console.error("Error creating tenant:",h),n("Failed to create tenant. Please try again.")}},i=(o,s)=>{s.value=o};return c.jsxs("form",{onSubmit:a,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[r&&c.jsx("div",{className:"bg-danger-50 border-l-4 border-danger-500 p-3 rounded text-sm",children:c.jsx("p",{className:"text-danger-700",children:r})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),c.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),c.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Type"}),c.jsxs("select",{name:"idType",defaultValue:"emirates_id",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"passport",children:"Passport"}),c.jsx("option",{value:"emirates_id",children:"Emirates ID"}),c.jsx("option",{value:"driver_license",children:"Driver License"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Number"}),c.jsx("input",{type:"text",name:"idNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"EID-123456"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Expiry Date"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",name:"idExpiryDate",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10"}),c.jsx(Sn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"tel",name:"phone",id:"tenant-phone-input",required:!0,className:"w-full px-3 py-1.5 pr-9 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"}),c.jsx("button",{type:"button",onClick:o=>{var u;const s=(u=o.currentTarget.parentElement)==null?void 0:u.querySelector("#tenant-phone-input"),l=document.getElementById("tenant-whatsapp-input");s&&l&&i(s.value,l)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Copy to WhatsApp",children:c.jsx(yN,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number *"}),c.jsx("input",{type:"tel",name:"whatsappNumber",id:"tenant-whatsapp-input",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Address"}),c.jsx("textarea",{name:"billingAddress",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Enter billing address..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),c.jsxs("select",{name:"paymentMethod",defaultValue:"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"cheque",children:"Cheque"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification"}),c.jsxs("select",{name:"notificationPreference",defaultValue:"whatsapp",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"whatsapp",children:"WhatsApp"}),c.jsx("option",{value:"email",children:"Email"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any additional notes..."})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Emergency Contact"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),c.jsx("input",{type:"text",name:"emergencyContact",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),c.jsx("input",{type:"tel",name:"emergencyPhone",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]})]}),c.jsx("input",{type:"hidden",name:"nationalId",value:""}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Add Tenant"})]})]})}function gse(){const{user:e}=Ni(),[t,r]=N.useState([]),[n,a]=N.useState(""),[i,o]=N.useState("all"),[s,l]=N.useState(null),[u,d]=N.useState(null),f=N.useRef(null),[h,p]=N.useState(1),[g,y]=N.useState(!1),[v,m]=N.useState(null);N.useEffect(()=>{new URLSearchParams(window.location.search).get("status")==="overdue"&&o("overdue")},[]),N.useEffect(()=>{p(1)},[n,i]),N.useEffect(()=>{b()},[]);const b=async()=>{try{const O=await le.getInvoices();r(O)}catch(O){console.error("Error loading invoices:",O),r([])}},S=[...t].sort((O,R)=>{const $=new Date(O.createdAt||O.dueDate).getTime();return new Date(R.createdAt||R.dueDate).getTime()-$}).filter(O=>{var Se,Y,B,H;let R=!0;if(i==="issued"?R=O.status==="pending"||O.status==="partial":i==="overdue"?R=O.status==="overdue":i==="paid"?R=O.status==="paid":i==="partial"&&(R=O.status==="partial"),!n)return R;const $=n.toLowerCase(),L=`${O.tenant.firstName} ${O.tenant.lastName}`.toLowerCase(),V=O.property.name.toLowerCase(),z=O.unit.unitNumber.toLowerCase(),q=O.invoiceNumber.toLowerCase(),Q=((Se=O.tenant.email)==null?void 0:Se.toLowerCase())||"",fe=((Y=O.tenant.phone)==null?void 0:Y.toLowerCase())||"",te=((B=O.tenant.whatsappNumber)==null?void 0:B.toLowerCase())||"",me=((H=O.tenant.nationalId)==null?void 0:H.toLowerCase())||"";return(q.includes($)||L.includes($)||V.includes($)||z.includes($)||Q.includes($)||fe.includes($)||te.includes($)||me.includes($))&&R}),w=100,_=Math.ceil(S.length/w),j=S.slice((h-1)*w,h*w),E=O=>`Dear ${O.tenant.firstName} ${O.tenant.lastName},

This is a payment reminder for your rental unit.

Property: ${O.property.name}
Unit: ${O.unit.unitNumber}
Invoice Number: ${O.invoiceNumber}
Installment: ${O.installmentNumber}/${O.contract.numberOfInstallments}

Amount Due: ${Ke(O.remainingAmount)}
Due Date: ${Yt(O.dueDate)}

Remaining Balance: ${Ke(O.remainingAmount)}
Total Invoice Amount: ${Ke(O.amount)}
Amount Paid: ${Ke(O.paidAmount)}

Please make the payment at your earliest convenience.

Thank you!`,k=O=>{if(!O.tenant.whatsappNumber){alert("WhatsApp number not available for this tenant"),d(null);return}try{const R=E(O),$=kN(O.tenant.whatsappNumber,R);window.open($,"_blank","noopener,noreferrer")||(window.location.href=$)}catch(R){console.error("Error opening WhatsApp:",R),alert("Failed to open WhatsApp. Please check the phone number format.")}d(null)},D=O=>{const R=`Payment Reminder - Invoice ${O.invoiceNumber}`,$=E(O),L=TN(O.tenant.email,R,$);window.location.href=L,d(null)},P=async O=>{if(O.preventDefault(),!s)return;const R=new FormData(O.currentTarget),$={status:R.get("paymentStatus"),adminStatus:R.get("adminStatus"),paymentType:R.get("paymentType"),notes:R.get("notes")||void 0};try{await le.updateInvoice(s.id,$),await b(),l(null)}catch(L){console.error("Error updating invoice:",L),alert("Failed to update invoice. Please try again.")}},T=()=>{l(null)},M=O=>{O.remainingAmount<=0||(m(O),y(!0))},C=async O=>{if(O.preventDefault(),!!v)try{const R=new FormData(O.currentTarget),$=parseFloat(R.get("amount")),L=Math.round($*100)/100,V={invoiceId:v.id,amount:L,paymentDate:new Date(R.get("paymentDate")),paymentMethod:R.get("paymentMethod"),referenceNumber:R.get("referenceNumber")||void 0,notes:R.get("notes")||void 0},z=await le.createPayment(V,e==null?void 0:e.id,e==null?void 0:e.role);"requiresApproval"in z&&alert(z.message||"Payment request submitted for approval"),await b(),y(!1),m(null)}catch(R){console.error("Error creating payment:",R),alert("Failed to create payment. Please try again.")}},A=()=>{y(!1),m(null)};return N.useEffect(()=>{const O=R=>{f.current&&!f.current.contains(R.target)&&d(null)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage payment invoices"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{label:"Paid",count:t.filter(O=>O.status==="paid").length,color:"bg-success-100 text-success-700",icon:eh},{label:"Pending",count:t.filter(O=>O.status==="pending").length,color:"bg-warning-100 text-warning-700",icon:gN},{label:"Partial",count:t.filter(O=>O.status==="partial").length,color:"bg-primary-100 text-primary-700",icon:jd},{label:"Overdue",count:t.filter(O=>O.status==="overdue").length,color:"bg-danger-100 text-danger-700",icon:kn}].map(O=>c.jsxs("div",{className:Et("rounded-xl p-4",O.color),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(O.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-3xl font-bold",children:O.count})]}),c.jsx("p",{className:"mt-2 font-medium",children:O.label})]},O.label))}),c.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, property, unit, phone, email...",value:n,onChange:O=>a(O.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1 text-sm",children:["all","issued","overdue","paid","partial"].map(O=>{const R=O==="all"?"All":O==="issued"?"Issued":O==="overdue"?"Overdue":O==="paid"?"Paid":"Partial",$=i===O;return c.jsx("button",{type:"button",onClick:()=>o(O),className:Et("px-3 py-1.5 rounded-md font-medium",$?"bg-white text-primary-700 shadow-sm":"text-gray-600 hover:text-gray-900"),children:R},O)})})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[1.5fr_2fr_2fr_1.2fr_1.2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm font-semibold text-gray-500 bg-gray-50 border-b border-gray-200",children:[c.jsx("div",{children:"Invoice"}),c.jsx("div",{children:"Tenant"}),c.jsx("div",{children:"Property"}),c.jsx("div",{children:"Due Date"}),c.jsx("div",{children:"Amount"}),c.jsx("div",{children:"Balance"}),c.jsx("div",{children:"Status"}),c.jsx("div",{children:"Payment"}),c.jsx("div",{className:"text-right",children:"Actions"})]}),j.length>0?j.map(O=>{if(!O||!O.tenant||!O.unit||!O.property||!O.contract)return null;const R=O.status==="overdue",$=O.status==="paid"||O.remainingAmount<=0;return c.jsxs("div",{className:"grid grid-cols-[1.5fr_2fr_2fr_1.2fr_1.2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm items-center border-b border-gray-100 hover:bg-gray-50",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:O.invoiceNumber}),c.jsxs("div",{className:"text-xs text-gray-500",children:[O.installmentNumber,"/",O.contract.numberOfInstallments]})]}),c.jsx("div",{children:c.jsxs("div",{className:"text-gray-900",children:[O.tenant.firstName," ",O.tenant.lastName]})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-gray-900",children:O.property.name}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Unit ",O.unit.unitNumber]})]}),c.jsx("div",{children:c.jsx("div",{className:Et("font-medium",R?"text-danger-600":"text-gray-900"),children:Yt(O.dueDate)})}),c.jsx("div",{children:c.jsx("div",{className:"font-medium text-gray-900",children:Ke(O.amount)})}),c.jsx("div",{children:c.jsx("div",{className:Et("font-medium",O.remainingAmount>0?"text-danger-600":"text-success-600"),children:Ke(O.remainingAmount)})}),c.jsx("div",{children:c.jsx("span",{className:Et("inline-flex px-2 py-1 rounded-full text-xs font-semibold",Ul(O.status)),children:O.status.charAt(0).toUpperCase()+O.status.slice(1)})}),c.jsx("div",{children:c.jsx("button",{type:"button",onClick:()=>!$&&M(O),disabled:$,className:Et("px-3 py-1.5 text-sm font-medium rounded-lg transition-colors whitespace-nowrap",$?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:$?"Paid":"Create Payment"})}),c.jsxs("div",{className:"flex items-center justify-end gap-3 text-gray-600",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("button",{type:"button",onClick:()=>d(u===O.id?null:O.id),className:"hover:text-gray-900",title:"Share invoice",children:c.jsx(xN,{className:"w-4 h-4"})}),u===O.id&&c.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",onClick:L=>L.stopPropagation(),children:[c.jsxs("button",{type:"button",onClick:L=>{L.stopPropagation(),k(O)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(bN,{className:"w-4 h-4 text-success-600"}),"WhatsApp"]}),c.jsxs("button",{type:"button",onClick:L=>{L.stopPropagation(),D(O)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(th,{className:"w-4 h-4 text-primary-600"}),"Email"]})]})]}),c.jsx("div",{className:"w-4 h-4"})]})]},O.id)}).filter(Boolean):c.jsx("div",{className:"py-10 text-center text-sm text-gray-600",children:n?"No invoices match your search.":"Invoices will appear here once contracts are created."})]}),_>1&&c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(h-1)*w+1," to ",Math.min(h*w,S.length)," of ",S.length," invoices"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>p(O=>Math.max(1,O-1)),disabled:h===1,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),c.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-700",children:["Page ",h," of ",_]}),c.jsx("button",{onClick:()=>p(O=>Math.min(_,O+1)),disabled:h===_,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Invoice"}),c.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:P,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),c.jsxs("select",{name:"paymentStatus",defaultValue:s.status,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"paid",children:"Paid"}),c.jsx("option",{value:"partial",children:"Partial"}),c.jsx("option",{value:"overdue",children:"Overdue"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Status"}),c.jsxs("select",{name:"adminStatus",defaultValue:s.adminStatus||"pending",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"reviewed",children:"Reviewed"}),c.jsx("option",{value:"approved",children:"Approved"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),c.jsxs("select",{name:"paymentType",defaultValue:s.paymentType||"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"cheque",children:"Cheque"}),c.jsx("option",{value:"online",children:"Online"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:3,defaultValue:s.notes||"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this invoice..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:T,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Save"})]})]})]})}),g&&v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),c.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:C,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice"}),c.jsxs("div",{className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:[v.invoiceNumber," - ",v.tenant.firstName," ",v.tenant.lastName," - Unit ",v.unit.unitNumber]}),c.jsx("input",{type:"hidden",name:"invoiceId",value:v.id})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (AED) *"}),c.jsx("input",{type:"number",name:"amount",required:!0,min:"0.01",step:"0.01",defaultValue:Math.round(v.remainingAmount*100)/100,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),c.jsx("input",{type:"date",name:"paymentDate",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),c.jsxs("select",{name:"paymentMethod",required:!0,defaultValue:"cash",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"cheque",children:"Cheque"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"online",children:"Online Payment"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),c.jsx("input",{type:"text",name:"referenceNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"REF-12345"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this payment..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Record Payment"})]})]})]})})]})}function yse(){const{user:e}=Ni(),[t,r]=N.useState([]),[n,a]=N.useState([]),[i,o]=N.useState(""),[s,l]=N.useState(!1),[u,d]=N.useState(""),[f,h]=N.useState(""),[p,g]=N.useState(null),y=N.useRef(null);N.useEffect(()=>{v()},[]),N.useEffect(()=>{const C=A=>{y.current&&!y.current.contains(A.target)&&g(null)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const v=async()=>{try{const C=await le.getPayments(),A=await le.getInvoices();r(C),a(A)}catch(C){console.error("Error loading payments data:",C),r([]),a([])}},m=C=>n.find(A=>A.id===C),x=[...t].sort((C,A)=>{const O=new Date(C.paymentDate).getTime();return new Date(A.paymentDate).getTime()-O}).filter(C=>{var me,Be,Se,Y;const A=m(C.invoiceId);if(!A)return!1;if(!i)return!0;const O=i.toLowerCase(),R=`${A.tenant.firstName} ${A.tenant.lastName}`.toLowerCase(),$=A.property.name.toLowerCase(),L=A.unit.unitNumber.toLowerCase(),V=A.invoiceNumber.toLowerCase(),z=((me=A.tenant.email)==null?void 0:me.toLowerCase())||"",q=((Be=A.tenant.phone)==null?void 0:Be.toLowerCase())||"",Q=((Se=A.tenant.whatsappNumber)==null?void 0:Se.toLowerCase())||"",fe=((Y=C.referenceNumber)==null?void 0:Y.toLowerCase())||"",te=C.paymentMethod.toLowerCase();return V.includes(O)||R.includes(O)||$.includes(O)||L.includes(O)||z.includes(O)||q.includes(O)||Q.includes(O)||fe.includes(O)||te.includes(O)}),S=()=>n.filter(C=>C.remainingAmount>0&&C.status!=="cancelled"),w=()=>{const C=S();if(!f)return C;const A=f.toLowerCase();return C.filter(O=>{var R,$;return O.invoiceNumber.toLowerCase().includes(A)||`${O.tenant.firstName} ${O.tenant.lastName}`.toLowerCase().includes(A)||O.unit.unitNumber.toLowerCase().includes(A)||((R=O.tenant.phone)==null?void 0:R.toLowerCase().includes(A))||(($=O.tenant.whatsappNumber)==null?void 0:$.toLowerCase().includes(A))})},_=async C=>{C.preventDefault();const A=new FormData(C.currentTarget),O=parseFloat(A.get("amount")),R=Math.round(O*100)/100,$={invoiceId:u||A.get("invoiceId"),amount:R,paymentDate:new Date(A.get("paymentDate")),paymentMethod:A.get("paymentMethod"),referenceNumber:A.get("referenceNumber")||void 0,notes:A.get("notes")||void 0};try{const L=await le.createPayment($,e==null?void 0:e.id,e==null?void 0:e.role);"requiresApproval"in L&&alert(L.message||"Payment request submitted for approval"),await v(),l(!1),d(""),h("")}catch(L){console.error("Error creating payment:",L),alert("Failed to create payment. Please try again.")}},j=()=>{l(!1),d(""),h("")},E=async C=>{if(confirm("Are you sure you want to delete this payment?"))try{const A=await le.deletePayment(C,e==null?void 0:e.id,e==null?void 0:e.role);typeof A=="object"&&"requiresApproval"in A?alert(A.message||"Payment deletion request submitted for approval"):A===!0||alert("Failed to delete payment. Please try again."),await v()}catch(A){console.error("Error deleting payment:",A),alert("Failed to delete payment. Please try again.")}},k=(C,A)=>`Dear ${A.tenant.firstName} ${A.tenant.lastName},

This is a confirmation of your payment received.

Invoice Number: ${A.invoiceNumber}
Payment Date: ${Yt(C.paymentDate)}
Payment Amount: ${Ke(C.amount)}
Payment Method: ${C.paymentMethod.replace("_"," ")}
${C.referenceNumber?`Reference Number: ${C.referenceNumber}`:""}

Thank you for your payment!

Property: ${A.property.name}
Unit: ${A.unit.unitNumber}`,D=C=>{const A=m(C.invoiceId);if(!A||!A.tenant.whatsappNumber){alert("WhatsApp number not available for this tenant"),g(null);return}try{const O=k(C,A),R=kN(A.tenant.whatsappNumber,O);window.open(R,"_blank","noopener,noreferrer")||(window.location.href=R)}catch(O){console.error("Error opening WhatsApp:",O),alert("Failed to open WhatsApp. Please check the phone number format.")}g(null)},P=C=>{const A=m(C.invoiceId);if(!A||!A.tenant.email){alert("Email not available for this tenant"),g(null);return}const O=`Payment Confirmation - Invoice ${A.invoiceNumber}`,R=k(C,A),$=TN(A.tenant.email,O,R);window.location.href=$,g(null)},T=t.reduce((C,A)=>C+A.amount,0),M=u?S().find(C=>C.id===u):null;return c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track all payment transactions"})]}),c.jsxs("button",{onClick:()=>l(!0),className:"flex items-center px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-md",children:[c.jsx(ba,{className:"w-5 h-5 mr-2"}),"Record Payment"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:(()=>{const C=new Date;C.setDate(1),C.setHours(0,0,0,0);const A=t.filter(z=>new Date(z.paymentDate)>=C),O=A.reduce((z,q)=>z+q.amount,0),R=new Date;R.setDate(R.getDate()-30);const $=t.filter(z=>new Date(z.paymentDate)>=R).length,L=t.filter(z=>new Date(z.paymentDate)>=R).reduce((z,q)=>z+q.amount,0),V=S().reduce((z,q)=>z+q.remainingAmount,0);return[{label:"Total Payments",count:t.length,amount:T,color:"bg-success-100 text-success-700",icon:Ed},{label:"This Month",count:A.length,amount:O,color:"bg-primary-100 text-primary-700",icon:Sn},{label:"Last 30 Days",count:$,amount:L,color:"bg-warning-100 text-warning-700",icon:_g},{label:"Unpaid Invoices",count:S().length,amount:V,color:"bg-danger-100 text-danger-700",icon:kn}].map(z=>c.jsxs("div",{className:Et("rounded-xl p-4",z.color),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(z.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-3xl font-bold",children:z.count})]}),c.jsx("p",{className:"mt-2 font-medium",children:z.label})]},z.label))})()}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, property, unit, phone, email, reference...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[1.2fr_1.5fr_2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm font-semibold text-gray-500 bg-gray-50 border-b border-gray-200",children:[c.jsx("div",{children:"Date"}),c.jsx("div",{children:"Tenants"}),c.jsx("div",{children:"Invoice"}),c.jsx("div",{children:"Amount"}),c.jsx("div",{children:"Method"}),c.jsx("div",{children:"Reference"}),c.jsx("div",{className:"text-right",children:"Actions"})]}),x.length>0?x.map(C=>{const A=m(C.invoiceId);return A?c.jsxs("div",{className:"grid grid-cols-[1.2fr_1.5fr_2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm items-center border-b border-gray-100 hover:bg-gray-50",children:[c.jsx("div",{children:c.jsx("div",{className:"font-medium text-gray-900",children:Yt(C.paymentDate)})}),c.jsx("div",{children:c.jsxs("div",{className:"text-gray-900",children:[A.tenant.firstName," ",A.tenant.lastName]})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:A.invoiceNumber}),c.jsxs("div",{className:"text-xs text-gray-500",children:[A.property.name," - Unit ",A.unit.unitNumber]})]}),c.jsx("div",{children:c.jsx("div",{className:"font-medium text-success-600",children:Ke(C.amount)})}),c.jsx("div",{children:c.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:C.paymentMethod.replace("_"," ")})}),c.jsx("div",{children:c.jsx("div",{className:"text-gray-600",children:C.referenceNumber||"-"})}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs("div",{className:"relative",ref:y,children:[c.jsx("button",{type:"button",onClick:()=>g(p===C.id?null:C.id),className:"hover:text-gray-900",title:"Share payment confirmation",children:c.jsx(xN,{className:"w-4 h-4"})}),p===C.id&&c.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",onClick:O=>O.stopPropagation(),children:[c.jsxs("button",{type:"button",onClick:O=>{O.stopPropagation(),D(C)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(bN,{className:"w-4 h-4 text-success-600"}),"WhatsApp"]}),c.jsxs("button",{type:"button",onClick:O=>{O.stopPropagation(),P(C)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(th,{className:"w-4 h-4 text-primary-600"}),"Email"]})]})]}),c.jsx("button",{type:"button",onClick:()=>E(C.id),className:"hover:text-danger-600",title:"Delete payment",children:c.jsx(Co,{className:"w-4 h-4"})})]})]},C.id):null}):c.jsx("div",{className:"py-10 text-center text-sm text-gray-600",children:i?"No payments match your search.":"Payment records will appear here"})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),c.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:_,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice * (Only due invoices)"}),c.jsxs("div",{className:"relative",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, or phone number...",value:f,onChange:C=>{h(C.target.value),d("")},className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),f&&w().length>0&&c.jsx("div",{className:"mt-1 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:w().map(C=>c.jsxs("button",{type:"button",onClick:()=>{d(C.id),h(`${C.invoiceNumber} - ${C.tenant.firstName} ${C.tenant.lastName} - Unit ${C.unit.unitNumber}`)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${u===C.id?"bg-green-50":""}`,children:[C.invoiceNumber," - ",C.tenant.firstName," ",C.tenant.lastName," - Unit ",C.unit.unitNumber," - ",Ke(C.remainingAmount)," due"]},C.id))}),c.jsx("input",{type:"hidden",name:"invoiceId",value:u,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (AED) *"}),c.jsx("input",{type:"number",name:"amount",required:!0,min:"0.01",step:"0.01",defaultValue:M?Math.round(M.remainingAmount*100)/100:"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),c.jsx("input",{type:"date",name:"paymentDate",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),c.jsxs("select",{name:"paymentMethod",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"cheque",children:"Cheque"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"online",children:"Online Payment"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),c.jsx("input",{type:"text",name:"referenceNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"REF-12345"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this payment..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:j,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Record Payment"})]})]})]})})]})}function vse(){const[e,t]=N.useState(new Date),[r,n]=N.useState([]),[a,i]=N.useState(null),[o,s]=N.useState([]);N.useEffect(()=>{l()},[e]);const l=async()=>{const m=gn(e),b=di(e),x=jg(m),S=Eg(b);try{const w=await le.getInvoicesByDateRange(x,S);n(w)}catch(w){console.error("Error loading invoices:",w),n([])}},u=()=>{t(Bl(e,1))},d=()=>{t(Bl(e,-1))},f=()=>{t(new Date)},h=()=>c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendar"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"View invoice due dates by calendar"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:f,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Today"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:d,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:c.jsx(LM,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 min-w-[200px] text-center",children:sa(e,"MMMM yyyy")}),c.jsx("button",{onClick:u,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:c.jsx(UM,{className:"w-5 h-5"})})]})]})]}),p=()=>{const m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:m.map(b=>c.jsx("div",{className:"text-center font-semibold text-gray-600 text-sm py-2",children:b},b))})},g=m=>r.filter(b=>Nd(b.dueDate,m)),y=m=>{i(m),s(g(m))},v=()=>{const m=gn(e),b=di(e),x=jg(m),S=Eg(b),w=[];let _=[],j=x;for(;j<=S;){for(let E=0;E<7;E++){const k=j,D=g(k),P=Pg(k,m),T=WN(k),M=a&&Nd(k,a);_.push(c.jsxs("div",{onClick:()=>y(k),className:Et("min-h-[120px] border border-gray-200 rounded-lg p-2 cursor-pointer transition-all",P?"bg-white hover:bg-gray-50":"bg-gray-50",T&&"ring-2 ring-primary-500",M&&"bg-primary-50"),children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:Et("text-sm font-medium",P?"text-gray-900":"text-gray-400",T&&"bg-primary-600 text-white w-7 h-7 rounded-full flex items-center justify-center"),children:sa(k,"d")}),D.length>0&&c.jsx("span",{className:"text-xs font-semibold text-gray-500",children:D.length})]}),c.jsxs("div",{className:"space-y-1",children:[D.slice(0,3).map(C=>c.jsxs("div",{className:Et("text-xs p-1 rounded truncate",Ul(C.status)),title:`${C.tenant.firstName} ${C.tenant.lastName} - ${C.invoiceNumber}`,children:[C.tenant.firstName," ",C.tenant.lastName[0],"."]},C.id)),D.length>3&&c.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",D.length-3," more"]})]})]},k.toString())),j=f0(j,1)}w.push(c.jsx("div",{className:"grid grid-cols-7 gap-2",children:_},j.toString())),_=[]}return c.jsx("div",{className:"space-y-2",children:w})};return c.jsxs("div",{className:"p-8 max-w-[1800px] mx-auto",children:[h(),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md p-6",children:[p(),v()]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:a?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(Sn,{className:"w-6 h-6 text-primary-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:sa(a,"MMMM d, yyyy")}),c.jsxs("p",{className:"text-sm text-gray-600",children:[o.length," invoice",o.length!==1?"s":""," due"]})]})]}),o.length>0?c.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:o.map(m=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-semibold text-gray-900",children:[m.tenant.firstName," ",m.tenant.lastName]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[m.property.name," - Unit ",m.unit.unitNumber]})]}),c.jsx("span",{className:Et("px-2 py-1 rounded-full text-xs font-semibold",Ul(m.status)),children:m.status})]}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Invoice:"}),c.jsx("span",{className:"font-medium text-gray-900",children:m.invoiceNumber})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Amount:"}),c.jsx("span",{className:"font-medium text-gray-900",children:Ke(m.amount)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Remaining:"}),c.jsx("span",{className:Et("font-medium",m.remainingAmount>0?"text-danger-600":"text-success-600"),children:Ke(m.remainingAmount)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Installment:"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[m.installmentNumber,"/",m.contract.numberOfInstallments]})]})]})]},m.id))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Sn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-600",children:"No invoices due on this date"})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Date"}),c.jsx("p",{className:"text-gray-600",children:"Click on a date to view invoices"})]})})]}),c.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:(()=>{const m=r.filter(_=>Pg(_.dueDate,e)),b=m.filter(_=>_.status==="paid"),x=m.filter(_=>_.status==="pending"),S=m.filter(_=>_.status==="overdue"),w=m.filter(_=>_.status==="partial");return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-success-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-success-700 font-medium mb-2",children:"Paid"}),c.jsx("p",{className:"text-3xl font-bold text-success-700",children:b.length}),c.jsx("p",{className:"text-sm text-success-600 mt-1",children:Ke(b.reduce((_,j)=>_+j.amount,0))})]}),c.jsxs("div",{className:"bg-warning-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-warning-700 font-medium mb-2",children:"Pending"}),c.jsx("p",{className:"text-3xl font-bold text-warning-700",children:x.length}),c.jsx("p",{className:"text-sm text-warning-600 mt-1",children:Ke(x.reduce((_,j)=>_+j.remainingAmount,0))})]}),c.jsxs("div",{className:"bg-primary-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-primary-700 font-medium mb-2",children:"Partial"}),c.jsx("p",{className:"text-3xl font-bold text-primary-700",children:w.length}),c.jsx("p",{className:"text-sm text-primary-600 mt-1",children:Ke(w.reduce((_,j)=>_+j.remainingAmount,0))})]}),c.jsxs("div",{className:"bg-danger-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-danger-700 font-medium mb-2",children:"Overdue"}),c.jsx("p",{className:"text-3xl font-bold text-danger-700",children:S.length}),c.jsx("p",{className:"text-sm text-danger-600 mt-1",children:Ke(S.reduce((_,j)=>_+j.remainingAmount,0))})]})]})})()})]})}function bse(){var v;const{user:e}=Ni(),[t,r]=N.useState([]),[n,a]=N.useState("pending"),[i,o]=N.useState(null),[s,l]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&f()},[e,n]);const f=async()=>{try{const m=await le.getApprovalRequests(n==="all"?void 0:n,void 0);r(m)}catch(m){console.error("Error loading approval requests:",m)}},h=async m=>{if(e){d(!0);try{const b=await le.approveRequest(m,e.id);b.success?(await f(),o(null),alert("Request approved and processed successfully")):alert(b.message||"Failed to approve request")}catch(b){console.error("Error approving request:",b),alert("Failed to approve request")}finally{d(!1)}}},p=async m=>{if(!e||!s.trim()){alert("Please provide a rejection reason");return}d(!0);try{const b=await le.rejectRequest(m,e.id,s);b.success?(await f(),o(null),l(""),alert("Request rejected")):alert(b.message||"Failed to reject request")}catch(b){console.error("Error rejecting request:",b),alert("Failed to reject request")}finally{d(!1)}},g=m=>{switch(m){case"contract_create":case"contract_terminate":case"contract_cancel":return c.jsx(oa,{className:"w-5 h-5"});case"payment_create":case"payment_delete":return c.jsx(vN,{className:"w-5 h-5"});default:return c.jsx(kn,{className:"w-5 h-5"})}},y=m=>{switch(m){case"contract_create":return"Create Contract";case"contract_terminate":return"Terminate Contract";case"contract_cancel":return"Cancel Contract";case"payment_create":return"Create Payment";case"payment_delete":return"Delete Payment";default:return m}};return(e==null?void 0:e.role)!=="admin"?c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"text-center text-gray-600",children:[c.jsx(kn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),c.jsx("p",{children:"You don't have permission to access this page."})]})}):c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Approval Requests"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve pending requests"})]}),c.jsx("div",{className:"flex gap-2 mb-6",children:["all","pending","approved","rejected"].map(m=>c.jsx("button",{onClick:()=>a(m),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===m?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t.length===0?c.jsxs("div",{className:"py-10 text-center text-gray-600",children:["No ",n==="all"?"":n," requests found"]}):t.map(m=>c.jsx("div",{className:"border-b border-gray-100 p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>o(m),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[g(m.requestType),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:y(m.requestType)}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Requested by ",m.requesterName||"Unknown","  ",Yt(m.createdAt)]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[m.status==="pending"&&c.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Pending"}),m.status==="approved"&&c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Approved"}),m.status==="rejected"&&c.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Rejected"})]})]})},m.id))}),i&&i.status==="pending"&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:y(i.requestType)}),c.jsxs("div",{className:"mb-6 space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Requested by:"}),c.jsx("p",{className:"text-gray-900",children:i.requesterName||"Unknown"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Request Date:"}),c.jsx("p",{className:"text-gray-900",children:Yt(i.createdAt)})]}),i.requestType==="contract_create"&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Contract Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Monthly Rent:"})," ",Ke(i.requestData.monthlyRent)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Security Deposit:"})," ",Ke(i.requestData.securityDeposit)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Start Date:"})," ",Yt(new Date(i.requestData.startDate))]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"End Date:"})," ",Yt(new Date(i.requestData.endDate))]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Status:"})," ",i.requestData.status]})]})]}),i.requestType==="contract_terminate"&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Termination Request"}),c.jsxs("p",{className:"text-sm text-gray-700",children:["Contract ID: ",i.requestData.contractId]})]}),i.requestType==="payment_create"&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Payment Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Amount:"})," ",Ke(i.requestData.amount)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Payment Method:"})," ",((v=i.requestData.paymentMethod)==null?void 0:v.replace("_"," "))||"N/A"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Payment Date:"})," ",Yt(new Date(i.requestData.paymentDate))]}),i.requestData.referenceNumber&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Reference:"})," ",i.requestData.referenceNumber]})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (if rejecting)"}),c.jsx("textarea",{value:s,onChange:m=>l(m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter reason for rejection..."})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>{o(null),l("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:u,children:"Cancel"}),c.jsx("button",{onClick:()=>p(i.id),disabled:u||!s.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Reject"}),c.jsx("button",{onClick:()=>h(i.id),disabled:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Approve"})]})]})})})]})}function xse(){return c.jsx(TM,{children:c.jsxs(tD,{children:[c.jsx(nr,{path:"/login",element:c.jsx(F3,{})}),c.jsxs(nr,{path:"/",element:c.jsx(CM,{children:c.jsx(B3,{})}),children:[c.jsx(nr,{index:!0,element:c.jsx(WE,{to:"/dashboard",replace:!0})}),c.jsx(nr,{path:"dashboard",element:c.jsx(cse,{})}),c.jsx(nr,{path:"properties",element:c.jsx(dse,{})}),c.jsx(nr,{path:"units",element:c.jsx(fse,{})}),c.jsx(nr,{path:"tenants",element:c.jsx(hse,{})}),c.jsx(nr,{path:"contracts",element:c.jsx(pse,{})}),c.jsx(nr,{path:"invoices",element:c.jsx(gse,{})}),c.jsx(nr,{path:"payments",element:c.jsx(yse,{})}),c.jsx(nr,{path:"calendar",element:c.jsx(vse,{})}),c.jsx(nr,{path:"approvals",element:c.jsx(bse,{})})]})]})})}typeof window<"u"&&window.addEventListener("error",e=>{(e.filename||"").includes("share-modal.js")&&e.preventDefault()});um.createRoot(document.getElementById("root")).render(c.jsx(I.StrictMode,{children:c.jsx(lD,{children:c.jsx(xse,{})})}));
