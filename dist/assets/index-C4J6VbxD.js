function jS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var SS={exports:{}},$f={},OS={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=Symbol.for("react.element"),SC=Symbol.for("react.portal"),OC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),AC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),TC=Symbol.for("react.suspense"),CC=Symbol.for("react.memo"),$C=Symbol.for("react.lazy"),wb=Symbol.iterator;function IC(e){return e===null||typeof e!="object"?null:(e=wb&&e[wb]||e["@@iterator"],typeof e=="function"?e:null)}var NS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PS=Object.assign,ES={};function is(e,t,r){this.props=e,this.context=t,this.refs=ES,this.updater=r||NS}is.prototype.isReactComponent={};is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AS(){}AS.prototype=is.prototype;function Qy(e,t,r){this.props=e,this.context=t,this.refs=ES,this.updater=r||NS}var Zy=Qy.prototype=new AS;Zy.constructor=Qy;PS(Zy,is.prototype);Zy.isPureReactComponent=!0;var _b=Array.isArray,kS=Object.prototype.hasOwnProperty,ev={current:null},TS={key:!0,ref:!0,__self:!0,__source:!0};function CS(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kS.call(t,n)&&!TS.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Nc,type:e,key:i,ref:o,props:a,_owner:ev.current}}function DC(e,t){return{$$typeof:Nc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nc}function RC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jb=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RC(""+e.key):t.toString(36)}function Eu(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nc:case SC:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Zh(o,0):n,_b(a)?(r="",e!=null&&(r=e.replace(jb,"$&/")+"/"),Eu(a,t,r,"",function(u){return u})):a!=null&&(tv(a)&&(a=DC(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(jb,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",_b(e))for(var s=0;s<e.length;s++){i=e[s];var l=n+Zh(i,s);o+=Eu(i,t,r,l,a)}else if(l=IC(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=n+Zh(i,s++),o+=Eu(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qc(e,t,r){if(e==null)return e;var n=[],a=0;return Eu(e,n,"","",function(i){return t.call(r,i,a++)}),n}function MC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},Au={transition:null},LC={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Au,ReactCurrentOwner:ev};function $S(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:qc,forEach:function(e,t,r){qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qc(e,function(){t++}),t},toArray:function(e){return qc(e,function(t){return t})||[]},only:function(e){if(!tv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=is;ve.Fragment=OC;ve.Profiler=PC;ve.PureComponent=Qy;ve.StrictMode=NC;ve.Suspense=TC;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;ve.act=$S;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=PS({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ev.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)kS.call(t,l)&&!TS.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Nc,type:e.type,key:a,ref:i,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:AC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EC,_context:e},e.Consumer=e};ve.createElement=CS;ve.createFactory=function(e){var t=CS.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:kC,render:e}};ve.isValidElement=tv;ve.lazy=function(e){return{$$typeof:$C,_payload:{_status:-1,_result:e},_init:MC}};ve.memo=function(e,t){return{$$typeof:CC,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Au.transition;Au.transition={};try{e()}finally{Au.transition=t}};ve.unstable_act=$S;ve.useCallback=function(e,t){return Ht.current.useCallback(e,t)};ve.useContext=function(e){return Ht.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Ht.current.useEffect(e,t)};ve.useId=function(){return Ht.current.useId()};ve.useImperativeHandle=function(e,t,r){return Ht.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Ht.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return Ht.current.useReducer(e,t,r)};ve.useRef=function(e){return Ht.current.useRef(e)};ve.useState=function(e){return Ht.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return Ht.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return Ht.current.useTransition()};ve.version="18.3.1";OS.exports=ve;var O=OS.exports;const D=Ne(O),UC=jS({__proto__:null,default:D},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=O,FC=Symbol.for("react.element"),qC=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,WC=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function IS(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)zC.call(t,n)&&!VC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:FC,type:e,key:i,ref:o,props:a,_owner:WC.current}}$f.Fragment=qC;$f.jsx=IS;$f.jsxs=IS;SS.exports=$f;var c=SS.exports,cm={},DS={exports:{}},pr={},RS={exports:{}},MS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,R){var U=A.length;A.push(R);e:for(;0<U;){var V=U-1>>>1,q=A[V];if(0<a(q,R))A[V]=R,A[U]=q,U=V;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var R=A[0],U=A.pop();if(U!==R){A[0]=U;e:for(var V=0,q=A.length,Q=q>>>1;V<Q;){var re=2*(V+1)-1,J=A[re],ge=re+1,Ve=A[ge];if(0>a(J,U))ge<q&&0>a(Ve,J)?(A[V]=Ve,A[ge]=U,V=ge):(A[V]=J,A[re]=U,V=re);else if(ge<q&&0>a(Ve,U))A[V]=Ve,A[ge]=U,V=ge;else break e}}return R}function a(A,R){var U=A.sortIndex-R.sortIndex;return U!==0?U:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=A)n(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(u)}}function j(A){if(y=!1,w(A),!m)if(r(l)!==null)m=!0,E(x);else{var R=r(u);R!==null&&k(j,R.startTime-A)}}function x(A,R){m=!1,y&&(y=!1,g(N),N=-1),p=!0;var U=h;try{for(w(R),f=r(l);f!==null&&(!(f.expirationTime>R)||A&&!P());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var q=V(f.expirationTime<=R);R=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(l)&&n(l),w(R)}else n(l);f=r(l)}if(f!==null)var Q=!0;else{var re=r(u);re!==null&&k(j,re.startTime-R),Q=!1}return Q}finally{f=null,h=U,p=!1}}var _=!1,S=null,N=-1,T=5,$=-1;function P(){return!(e.unstable_now()-$<T)}function C(){if(S!==null){var A=e.unstable_now();$=A;var R=!0;try{R=S(!0,A)}finally{R?M():(_=!1,S=null)}}else _=!1}var M;if(typeof b=="function")M=function(){b(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,I=L.port2;L.port1.onmessage=C,M=function(){I.postMessage(null)}}else M=function(){v(C,0)};function E(A){S=A,_||(_=!0,M())}function k(A,R){N=v(function(){A(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,E(x))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var U=h;h=R;try{return A()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=h;h=A;try{return R()}finally{h=U}},e.unstable_scheduleCallback=function(A,R,U){var V=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,A){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,A={id:d++,callback:R,priorityLevel:A,startTime:U,expirationTime:q,sortIndex:-1},U>V?(A.sortIndex=U,t(u,A),r(l)===null&&A===r(u)&&(y?(g(N),N=-1):y=!0,k(j,U-V))):(A.sortIndex=q,t(l,A),m||p||(m=!0,E(x))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var R=h;return function(){var U=h;h=R;try{return A.apply(this,arguments)}finally{h=U}}}})(MS);RS.exports=MS;var HC=RS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=O,fr=HC;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LS=new Set,_l={};function Pi(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(_l[e]=t,e=0;e<t.length;e++)LS.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sb={},Ob={};function YC(e){return um.call(Ob,e)?!0:um.call(Sb,e)?!1:KC.test(e)?Ob[e]=!0:(Sb[e]=!0,!1)}function XC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JC(e,t,r,n){if(t===null||typeof t>"u"||XC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rv=/[\-:]([a-z])/g;function nv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rv,nv);Et[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rv,nv);Et[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rv,nv);Et[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function av(e,t,r,n){var a=Et.hasOwnProperty(t)?Et[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JC(t,r,a,n)&&(r=null),n||a===null?YC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mn=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zc=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),BS=Symbol.for("react.context"),ov=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),FS=Symbol.for("react.offscreen"),Nb=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=Nb&&e[Nb]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,ep;function Qs(e){if(ep===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ep=t&&t[1]||""}return`
`+ep+e}var tp=!1;function rp(e,t){if(!e||tp)return"";tp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{tp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qs(e):""}function QC(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=rp(e.type,!1),e;case 11:return e=rp(e.type.render,!1),e;case 1:return e=rp(e.type,!0),e;default:return""}}function pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Hi:return"Portal";case dm:return"Profiler";case iv:return"StrictMode";case fm:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BS:return(e.displayName||"Context")+".Consumer";case US:return(e._context.displayName||"Context")+".Provider";case ov:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sv:return t=e.displayName||null,t!==null?t:pm(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return pm(e(t))}catch{}}return null}function ZC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pm(t);case 8:return t===iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e2(e){var t=qS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wc(e){e._valueTracker||(e._valueTracker=e2(e))}function zS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mm(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WS(e,t){t=t.checked,t!=null&&av(e,"checked",t,!1)}function gm(e,t){WS(e,t);var r=wa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ym(e,t.type,r):t.hasOwnProperty("defaultValue")&&ym(e,t.type,wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ym(e,t,r){(t!=="number"||Vu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zs=Array.isArray;function co(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ab(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Zs(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wa(r)}}function VS(e,t){var r=wa(t.value),n=wa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vc,GS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t2=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(e){t2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),il[t]=il[e]})});function KS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||il.hasOwnProperty(e)&&il[e]?(""+t).trim():t+"px"}function YS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=KS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var r2=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(e,t){if(t){if(r2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function wm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function lv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jm=null,uo=null,fo=null;function Tb(e){if(e=Ac(e)){if(typeof jm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Lf(t),jm(e.stateNode,e.type,t))}}function XS(e){uo?fo?fo.push(e):fo=[e]:uo=e}function JS(){if(uo){var e=uo,t=fo;if(fo=uo=null,Tb(e),t)for(e=0;e<t.length;e++)Tb(t[e])}}function QS(e,t){return e(t)}function ZS(){}var np=!1;function eO(e,t,r){if(np)return e(t,r);np=!0;try{return QS(e,t,r)}finally{np=!1,(uo!==null||fo!==null)&&(ZS(),JS())}}function Sl(e,t){var r=e.stateNode;if(r===null)return null;var n=Lf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Sm=!1;if(En)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{Sm=!1}function n2(e,t,r,n,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ol=!1,Hu=null,Gu=!1,Om=null,a2={onError:function(e){ol=!0,Hu=e}};function i2(e,t,r,n,a,i,o,s,l){ol=!1,Hu=null,n2.apply(a2,arguments)}function o2(e,t,r,n,a,i,o,s,l){if(i2.apply(this,arguments),ol){if(ol){var u=Hu;ol=!1,Hu=null}else throw Error(G(198));Gu||(Gu=!0,Om=u)}}function Ei(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cb(e){if(Ei(e)!==e)throw Error(G(188))}function s2(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Cb(a),e;if(i===n)return Cb(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function rO(e){return e=s2(e),e!==null?nO(e):null}function nO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nO(e);if(t!==null)return t;e=e.sibling}return null}var aO=fr.unstable_scheduleCallback,$b=fr.unstable_cancelCallback,l2=fr.unstable_shouldYield,c2=fr.unstable_requestPaint,nt=fr.unstable_now,u2=fr.unstable_getCurrentPriorityLevel,cv=fr.unstable_ImmediatePriority,iO=fr.unstable_UserBlockingPriority,Ku=fr.unstable_NormalPriority,d2=fr.unstable_LowPriority,oO=fr.unstable_IdlePriority,If=null,en=null;function f2(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(If,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:m2,h2=Math.log,p2=Math.LN2;function m2(e){return e>>>=0,e===0?32:31-(h2(e)/p2|0)|0}var Hc=64,Gc=4194304;function el(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~a;s!==0?n=el(s):(i&=o,i!==0&&(n=el(i)))}else o=r&~a,o!==0?n=el(o):i!==0&&(n=el(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),a=1<<r,n|=e[r],t&=~a;return n}function g2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Fr(i),s=1<<o,l=a[o];l===-1?(!(s&r)||s&n)&&(a[o]=g2(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Nm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sO(){var e=Hc;return Hc<<=1,!(Hc&4194240)&&(Hc=64),e}function ap(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function v2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Fr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function uv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ae=0;function lO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cO,dv,uO,dO,fO,Pm=!1,Kc=[],ca=null,ua=null,da=null,Ol=new Map,Nl=new Map,Zn=[],b2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ib(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Ts(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ac(t),t!==null&&dv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function x2(e,t,r,n,a){switch(t){case"focusin":return ca=Ts(ca,e,t,r,n,a),!0;case"dragenter":return ua=Ts(ua,e,t,r,n,a),!0;case"mouseover":return da=Ts(da,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ol.set(i,Ts(Ol.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Nl.set(i,Ts(Nl.get(i)||null,e,t,r,n,a)),!0}return!1}function hO(e){var t=ri(e.target);if(t!==null){var r=Ei(t);if(r!==null){if(t=r.tag,t===13){if(t=tO(r),t!==null){e.blockedOn=t,fO(e.priority,function(){uO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_m=n,r.target.dispatchEvent(n),_m=null}else return t=Ac(r),t!==null&&dv(t),e.blockedOn=r,!1;t.shift()}return!0}function Db(e,t,r){ku(e)&&r.delete(t)}function w2(){Pm=!1,ca!==null&&ku(ca)&&(ca=null),ua!==null&&ku(ua)&&(ua=null),da!==null&&ku(da)&&(da=null),Ol.forEach(Db),Nl.forEach(Db)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Pm||(Pm=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,w2)))}function Pl(e){function t(a){return Cs(a,e)}if(0<Kc.length){Cs(Kc[0],e);for(var r=1;r<Kc.length;r++){var n=Kc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ca!==null&&Cs(ca,e),ua!==null&&Cs(ua,e),da!==null&&Cs(da,e),Ol.forEach(t),Nl.forEach(t),r=0;r<Zn.length;r++)n=Zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)hO(r),r.blockedOn===null&&Zn.shift()}var ho=Mn.ReactCurrentBatchConfig,Xu=!0;function _2(e,t,r,n){var a=Ae,i=ho.transition;ho.transition=null;try{Ae=1,fv(e,t,r,n)}finally{Ae=a,ho.transition=i}}function j2(e,t,r,n){var a=Ae,i=ho.transition;ho.transition=null;try{Ae=4,fv(e,t,r,n)}finally{Ae=a,ho.transition=i}}function fv(e,t,r,n){if(Xu){var a=Em(e,t,r,n);if(a===null)pp(e,t,n,Ju,r),Ib(e,n);else if(x2(a,e,t,r,n))n.stopPropagation();else if(Ib(e,n),t&4&&-1<b2.indexOf(e)){for(;a!==null;){var i=Ac(a);if(i!==null&&cO(i),i=Em(e,t,r,n),i===null&&pp(e,t,n,Ju,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else pp(e,t,n,null,r)}}var Ju=null;function Em(e,t,r,n){if(Ju=null,e=lv(n),e=ri(e),e!==null)if(t=Ei(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ju=e,null}function pO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u2()){case cv:return 1;case iO:return 4;case Ku:case d2:return 16;case oO:return 536870912;default:return 16}default:return 16}}var aa=null,hv=null,Tu=null;function mO(){if(Tu)return Tu;var e,t=hv,r=t.length,n,a="value"in aa?aa.value:aa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Tu=a.slice(e,1<n?1-n:void 0)}function Cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yc(){return!0}function Rb(){return!1}function mr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:Rb,this.isPropagationStopped=Rb,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pv=mr(os),Ec=Je({},os,{view:0,detail:0}),S2=mr(Ec),ip,op,$s,Df=Je({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(ip=e.screenX-$s.screenX,op=e.screenY-$s.screenY):op=ip=0,$s=e),ip)},movementY:function(e){return"movementY"in e?e.movementY:op}}),Mb=mr(Df),O2=Je({},Df,{dataTransfer:0}),N2=mr(O2),P2=Je({},Ec,{relatedTarget:0}),sp=mr(P2),E2=Je({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),A2=mr(E2),k2=Je({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T2=mr(k2),C2=Je({},os,{data:0}),Lb=mr(C2),$2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D2[e])?!!t[e]:!1}function mv(){return R2}var M2=Je({},Ec,{key:function(e){if(e.key){var t=$2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(e){return e.type==="keypress"?Cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L2=mr(M2),U2=Je({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ub=mr(U2),B2=Je({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),F2=mr(B2),q2=Je({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),z2=mr(q2),W2=Je({},Df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V2=mr(W2),H2=[9,13,27,32],gv=En&&"CompositionEvent"in window,sl=null;En&&"documentMode"in document&&(sl=document.documentMode);var G2=En&&"TextEvent"in window&&!sl,gO=En&&(!gv||sl&&8<sl&&11>=sl),Bb=" ",Fb=!1;function yO(e,t){switch(e){case"keyup":return H2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function K2(e,t){switch(e){case"compositionend":return vO(t);case"keypress":return t.which!==32?null:(Fb=!0,Bb);case"textInput":return e=t.data,e===Bb&&Fb?null:e;default:return null}}function Y2(e,t){if(Ki)return e==="compositionend"||!gv&&yO(e,t)?(e=mO(),Tu=hv=aa=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gO&&t.locale!=="ko"?null:t.data;default:return null}}var X2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X2[e.type]:t==="textarea"}function bO(e,t,r,n){XS(n),t=Qu(t,"onChange"),0<t.length&&(r=new pv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ll=null,El=null;function J2(e){kO(e,0)}function Rf(e){var t=Ji(e);if(zS(t))return e}function Q2(e,t){if(e==="change")return t}var xO=!1;if(En){var lp;if(En){var cp="oninput"in document;if(!cp){var zb=document.createElement("div");zb.setAttribute("oninput","return;"),cp=typeof zb.oninput=="function"}lp=cp}else lp=!1;xO=lp&&(!document.documentMode||9<document.documentMode)}function Wb(){ll&&(ll.detachEvent("onpropertychange",wO),El=ll=null)}function wO(e){if(e.propertyName==="value"&&Rf(El)){var t=[];bO(t,El,e,lv(e)),eO(J2,t)}}function Z2(e,t,r){e==="focusin"?(Wb(),ll=t,El=r,ll.attachEvent("onpropertychange",wO)):e==="focusout"&&Wb()}function e$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rf(El)}function t$(e,t){if(e==="click")return Rf(t)}function r$(e,t){if(e==="input"||e==="change")return Rf(t)}function n$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wr=typeof Object.is=="function"?Object.is:n$;function Al(e,t){if(Wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!um.call(t,a)||!Wr(e[a],t[a]))return!1}return!0}function Vb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hb(e,t){var r=Vb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vb(r)}}function _O(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_O(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jO(){for(var e=window,t=Vu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vu(e.document)}return t}function yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function a$(e){var t=jO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_O(r.ownerDocument.documentElement,r)){if(n!==null&&yv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Hb(r,i);var o=Hb(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i$=En&&"documentMode"in document&&11>=document.documentMode,Yi=null,Am=null,cl=null,km=!1;function Gb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;km||Yi==null||Yi!==Vu(n)||(n=Yi,"selectionStart"in n&&yv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cl&&Al(cl,n)||(cl=n,n=Qu(Am,"onSelect"),0<n.length&&(t=new pv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yi)))}function Xc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xi={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},up={},SO={};En&&(SO=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Mf(e){if(up[e])return up[e];if(!Xi[e])return e;var t=Xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in SO)return up[e]=t[r];return e}var OO=Mf("animationend"),NO=Mf("animationiteration"),PO=Mf("animationstart"),EO=Mf("transitionend"),AO=new Map,Kb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){AO.set(e,t),Pi(t,[e])}for(var dp=0;dp<Kb.length;dp++){var fp=Kb[dp],o$=fp.toLowerCase(),s$=fp[0].toUpperCase()+fp.slice(1);Oa(o$,"on"+s$)}Oa(OO,"onAnimationEnd");Oa(NO,"onAnimationIteration");Oa(PO,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(EO,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l$=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Yb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,o2(n,t,void 0,e),e.currentTarget=null}function kO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Yb(a,s,u),i=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Yb(a,s,u),i=l}}}if(Gu)throw e=Om,Gu=!1,Om=null,e}function Fe(e,t){var r=t[Dm];r===void 0&&(r=t[Dm]=new Set);var n=e+"__bubble";r.has(n)||(TO(t,e,2,!1),r.add(n))}function hp(e,t,r){var n=0;t&&(n|=4),TO(r,e,n,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[Jc]){e[Jc]=!0,LS.forEach(function(r){r!=="selectionchange"&&(l$.has(r)||hp(r,!1,e),hp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jc]||(t[Jc]=!0,hp("selectionchange",!1,t))}}function TO(e,t,r,n){switch(pO(t)){case 1:var a=_2;break;case 4:a=j2;break;default:a=fv}r=a.bind(null,t,r,e),a=void 0,!Sm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function pp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=ri(s),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}s=s.parentNode}}n=n.return}eO(function(){var u=i,d=lv(r),f=[];e:{var h=AO.get(e);if(h!==void 0){var p=pv,m=e;switch(e){case"keypress":if(Cu(r)===0)break e;case"keydown":case"keyup":p=L2;break;case"focusin":m="focus",p=sp;break;case"focusout":m="blur",p=sp;break;case"beforeblur":case"afterblur":p=sp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=N2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=F2;break;case OO:case NO:case PO:p=A2;break;case EO:p=z2;break;case"scroll":p=S2;break;case"wheel":p=V2;break;case"copy":case"cut":case"paste":p=T2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ub}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=Sl(b,g),j!=null&&y.push(Tl(b,j,w)))),v)break;b=b.return}0<y.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==_m&&(m=r.relatedTarget||r.fromElement)&&(ri(m)||m[An]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?ri(m):null,m!==null&&(v=Ei(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=Mb,j="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ub,j="onPointerLeave",g="onPointerEnter",b="pointer"),v=p==null?h:Ji(p),w=m==null?h:Ji(m),h=new y(j,b+"leave",p,r,d),h.target=v,h.relatedTarget=w,j=null,ri(d)===u&&(y=new y(g,b+"enter",m,r,d),y.target=w,y.relatedTarget=v,j=y),v=j,p&&m)t:{for(y=p,g=m,b=0,w=y;w;w=Ii(w))b++;for(w=0,j=g;j;j=Ii(j))w++;for(;0<b-w;)y=Ii(y),b--;for(;0<w-b;)g=Ii(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ii(y),g=Ii(g)}y=null}else y=null;p!==null&&Xb(f,h,p,y,!1),m!==null&&v!==null&&Xb(f,v,m,y,!0)}}e:{if(h=u?Ji(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=Q2;else if(qb(h))if(xO)x=r$;else{x=e$;var _=Z2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=t$);if(x&&(x=x(e,u))){bO(f,x,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&ym(h,"number",h.value)}switch(_=u?Ji(u):window,e){case"focusin":(qb(_)||_.contentEditable==="true")&&(Yi=_,Am=u,cl=null);break;case"focusout":cl=Am=Yi=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,Gb(f,r,d);break;case"selectionchange":if(i$)break;case"keydown":case"keyup":Gb(f,r,d)}var S;if(gv)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ki?yO(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(gO&&r.locale!=="ko"&&(Ki||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ki&&(S=mO()):(aa=d,hv="value"in aa?aa.value:aa.textContent,Ki=!0)),_=Qu(u,N),0<_.length&&(N=new Lb(N,e,null,r,d),f.push({event:N,listeners:_}),S?N.data=S:(S=vO(r),S!==null&&(N.data=S)))),(S=G2?K2(e,r):Y2(e,r))&&(u=Qu(u,"onBeforeInput"),0<u.length&&(d=new Lb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}kO(f,t)})}function Tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Sl(e,r),i!=null&&n.unshift(Tl(e,i,a)),i=Sl(e,t),i!=null&&n.push(Tl(e,i,a))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xb(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=Sl(r,i),l!=null&&o.unshift(Tl(r,l,s))):a||(l=Sl(r,i),l!=null&&o.push(Tl(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var c$=/\r\n?/g,u$=/\u0000|\uFFFD/g;function Jb(e){return(typeof e=="string"?e:""+e).replace(c$,`
`).replace(u$,"")}function Qc(e,t,r){if(t=Jb(t),Jb(e)!==t&&r)throw Error(G(425))}function Zu(){}var Tm=null,Cm=null;function $m(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,d$=typeof clearTimeout=="function"?clearTimeout:void 0,Qb=typeof Promise=="function"?Promise:void 0,f$=typeof queueMicrotask=="function"?queueMicrotask:typeof Qb<"u"?function(e){return Qb.resolve(null).then(e).catch(h$)}:Im;function h$(e){setTimeout(function(){throw e})}function mp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Pl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Pl(t)}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ss=Math.random().toString(36).slice(2),Qr="__reactFiber$"+ss,Cl="__reactProps$"+ss,An="__reactContainer$"+ss,Dm="__reactEvents$"+ss,p$="__reactListeners$"+ss,m$="__reactHandles$"+ss;function ri(e){var t=e[Qr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[An]||r[Qr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zb(e);e!==null;){if(r=e[Qr])return r;e=Zb(e)}return t}e=r,r=e.parentNode}return null}function Ac(e){return e=e[Qr]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Lf(e){return e[Cl]||null}var Rm=[],Qi=-1;function Na(e){return{current:e}}function We(e){0>Qi||(e.current=Rm[Qi],Rm[Qi]=null,Qi--)}function Le(e,t){Qi++,Rm[Qi]=e.current,e.current=t}var _a={},Lt=Na(_a),Zt=Na(!1),gi=_a;function jo(e,t){var r=e.type.contextTypes;if(!r)return _a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function er(e){return e=e.childContextTypes,e!=null}function ed(){We(Zt),We(Lt)}function ex(e,t,r){if(Lt.current!==_a)throw Error(G(168));Le(Lt,t),Le(Zt,r)}function CO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,ZC(e)||"Unknown",a));return Je({},r,n)}function td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,gi=Lt.current,Le(Lt,e),Le(Zt,Zt.current),!0}function tx(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=CO(e,t,gi),n.__reactInternalMemoizedMergedChildContext=e,We(Zt),We(Lt),Le(Lt,e)):We(Zt),Le(Zt,r)}var yn=null,Uf=!1,gp=!1;function $O(e){yn===null?yn=[e]:yn.push(e)}function g$(e){Uf=!0,$O(e)}function Pa(){if(!gp&&yn!==null){gp=!0;var e=0,t=Ae;try{var r=yn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yn=null,Uf=!1}catch(a){throw yn!==null&&(yn=yn.slice(e+1)),aO(cv,Pa),a}finally{Ae=t,gp=!1}}return null}var Zi=[],eo=0,rd=null,nd=0,br=[],xr=0,yi=null,vn=1,bn="";function Wa(e,t){Zi[eo++]=nd,Zi[eo++]=rd,rd=e,nd=t}function IO(e,t,r){br[xr++]=vn,br[xr++]=bn,br[xr++]=yi,yi=e;var n=vn;e=bn;var a=32-Fr(n)-1;n&=~(1<<a),r+=1;var i=32-Fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,vn=1<<32-Fr(t)+a|r<<a|n,bn=i+e}else vn=1<<i|r<<a|n,bn=e}function vv(e){e.return!==null&&(Wa(e,1),IO(e,1,0))}function bv(e){for(;e===rd;)rd=Zi[--eo],Zi[eo]=null,nd=Zi[--eo],Zi[eo]=null;for(;e===yi;)yi=br[--xr],br[xr]=null,bn=br[--xr],br[xr]=null,vn=br[--xr],br[xr]=null}var ur=null,cr=null,Ge=!1,Ur=null;function DO(e,t){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,cr=fa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yi!==null?{id:vn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ur=e,cr=null,!0):!1;default:return!1}}function Mm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lm(e){if(Ge){var t=cr;if(t){var r=t;if(!rx(e,t)){if(Mm(e))throw Error(G(418));t=fa(r.nextSibling);var n=ur;t&&rx(e,t)?DO(n,r):(e.flags=e.flags&-4097|2,Ge=!1,ur=e)}}else{if(Mm(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ge=!1,ur=e}}}function nx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function Zc(e){if(e!==ur)return!1;if(!Ge)return nx(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$m(e.type,e.memoizedProps)),t&&(t=cr)){if(Mm(e))throw RO(),Error(G(418));for(;t;)DO(e,t),t=fa(t.nextSibling)}if(nx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){cr=fa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}cr=null}}else cr=ur?fa(e.stateNode.nextSibling):null;return!0}function RO(){for(var e=cr;e;)e=fa(e.nextSibling)}function So(){cr=ur=null,Ge=!1}function xv(e){Ur===null?Ur=[e]:Ur.push(e)}var y$=Mn.ReactCurrentBatchConfig;function Is(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function eu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ax(e){var t=e._init;return t(e._payload)}function MO(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=ga(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,w,j){return b===null||b.tag!==6?(b=jp(w,g.mode,j),b.return=g,b):(b=a(b,w),b.return=g,b)}function l(g,b,w,j){var x=w.type;return x===Gi?d(g,b,w.props.children,j,w.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Kn&&ax(x)===b.type)?(j=a(b,w.props),j.ref=Is(g,b,w),j.return=g,j):(j=Uu(w.type,w.key,w.props,null,g.mode,j),j.ref=Is(g,b,w),j.return=g,j)}function u(g,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Sp(w,g.mode,j),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,j,x){return b===null||b.tag!==7?(b=fi(w,g.mode,j,x),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jp(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zc:return w=Uu(b.type,b.key,b.props,null,g.mode,w),w.ref=Is(g,null,b),w.return=g,w;case Hi:return b=Sp(b,g.mode,w),b.return=g,b;case Kn:var j=b._init;return f(g,j(b._payload),w)}if(Zs(b)||As(b))return b=fi(b,g.mode,w,null),b.return=g,b;eu(g,b)}return null}function h(g,b,w,j){var x=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:s(g,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zc:return w.key===x?l(g,b,w,j):null;case Hi:return w.key===x?u(g,b,w,j):null;case Kn:return x=w._init,h(g,b,x(w._payload),j)}if(Zs(w)||As(w))return x!==null?null:d(g,b,w,j,null);eu(g,w)}return null}function p(g,b,w,j,x){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,s(b,g,""+j,x);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zc:return g=g.get(j.key===null?w:j.key)||null,l(b,g,j,x);case Hi:return g=g.get(j.key===null?w:j.key)||null,u(b,g,j,x);case Kn:var _=j._init;return p(g,b,w,_(j._payload),x)}if(Zs(j)||As(j))return g=g.get(w)||null,d(b,g,j,x,null);eu(b,j)}return null}function m(g,b,w,j){for(var x=null,_=null,S=b,N=b=0,T=null;S!==null&&N<w.length;N++){S.index>N?(T=S,S=null):T=S.sibling;var $=h(g,S,w[N],j);if($===null){S===null&&(S=T);break}e&&S&&$.alternate===null&&t(g,S),b=i($,b,N),_===null?x=$:_.sibling=$,_=$,S=T}if(N===w.length)return r(g,S),Ge&&Wa(g,N),x;if(S===null){for(;N<w.length;N++)S=f(g,w[N],j),S!==null&&(b=i(S,b,N),_===null?x=S:_.sibling=S,_=S);return Ge&&Wa(g,N),x}for(S=n(g,S);N<w.length;N++)T=p(S,g,N,w[N],j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?N:T.key),b=i(T,b,N),_===null?x=T:_.sibling=T,_=T);return e&&S.forEach(function(P){return t(g,P)}),Ge&&Wa(g,N),x}function y(g,b,w,j){var x=As(w);if(typeof x!="function")throw Error(G(150));if(w=x.call(w),w==null)throw Error(G(151));for(var _=x=null,S=b,N=b=0,T=null,$=w.next();S!==null&&!$.done;N++,$=w.next()){S.index>N?(T=S,S=null):T=S.sibling;var P=h(g,S,$.value,j);if(P===null){S===null&&(S=T);break}e&&S&&P.alternate===null&&t(g,S),b=i(P,b,N),_===null?x=P:_.sibling=P,_=P,S=T}if($.done)return r(g,S),Ge&&Wa(g,N),x;if(S===null){for(;!$.done;N++,$=w.next())$=f(g,$.value,j),$!==null&&(b=i($,b,N),_===null?x=$:_.sibling=$,_=$);return Ge&&Wa(g,N),x}for(S=n(g,S);!$.done;N++,$=w.next())$=p(S,g,N,$.value,j),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?N:$.key),b=i($,b,N),_===null?x=$:_.sibling=$,_=$);return e&&S.forEach(function(C){return t(g,C)}),Ge&&Wa(g,N),x}function v(g,b,w,j){if(typeof w=="object"&&w!==null&&w.type===Gi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zc:e:{for(var x=w.key,_=b;_!==null;){if(_.key===x){if(x=w.type,x===Gi){if(_.tag===7){r(g,_.sibling),b=a(_,w.props.children),b.return=g,g=b;break e}}else if(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Kn&&ax(x)===_.type){r(g,_.sibling),b=a(_,w.props),b.ref=Is(g,_,w),b.return=g,g=b;break e}r(g,_);break}else t(g,_);_=_.sibling}w.type===Gi?(b=fi(w.props.children,g.mode,j,w.key),b.return=g,g=b):(j=Uu(w.type,w.key,w.props,null,g.mode,j),j.ref=Is(g,b,w),j.return=g,g=j)}return o(g);case Hi:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=Sp(w,g.mode,j),b.return=g,g=b}return o(g);case Kn:return _=w._init,v(g,b,_(w._payload),j)}if(Zs(w))return m(g,b,w,j);if(As(w))return y(g,b,w,j);eu(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(g,b.sibling),b=a(b,w),b.return=g,g=b):(r(g,b),b=jp(w,g.mode,j),b.return=g,g=b),o(g)):r(g,b)}return v}var Oo=MO(!0),LO=MO(!1),ad=Na(null),id=null,to=null,wv=null;function _v(){wv=to=id=null}function jv(e){var t=ad.current;We(ad),e._currentValue=t}function Um(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function po(e,t){id=e,wv=to=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function Nr(e){var t=e._currentValue;if(wv!==e)if(e={context:e,memoizedValue:t,next:null},to===null){if(id===null)throw Error(G(308));to=e,id.dependencies={lanes:0,firstContext:e}}else to=to.next=e;return t}var ni=null;function Sv(e){ni===null?ni=[e]:ni.push(e)}function UO(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Sv(t)):(r.next=a.next,a.next=r),t.interleaved=r,kn(e,n)}function kn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function Ov(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,kn(e,r)}return a=n.interleaved,a===null?(t.next=t,Sv(n)):(t.next=a.next,a.next=t),n.interleaved=t,kn(e,r)}function $u(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uv(e,r)}}function ix(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function od(e,t,r,n){var a=e.updateQueue;Yn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,y=s;switch(h=t,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Je({},f,h);break e;case 2:Yn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);bi|=o,e.lanes=o,e.memoizedState=f}}function ox(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var kc={},tn=Na(kc),$l=Na(kc),Il=Na(kc);function ai(e){if(e===kc)throw Error(G(174));return e}function Nv(e,t){switch(Le(Il,t),Le($l,e),Le(tn,kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}We(tn),Le(tn,t)}function No(){We(tn),We($l),We(Il)}function FO(e){ai(Il.current);var t=ai(tn.current),r=bm(t,e.type);t!==r&&(Le($l,e),Le(tn,r))}function Pv(e){$l.current===e&&(We(tn),We($l))}var Ye=Na(0);function sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yp=[];function Ev(){for(var e=0;e<yp.length;e++)yp[e]._workInProgressVersionPrimary=null;yp.length=0}var Iu=Mn.ReactCurrentDispatcher,vp=Mn.ReactCurrentBatchConfig,vi=0,Xe=null,ft=null,vt=null,ld=!1,ul=!1,Dl=0,v$=0;function At(){throw Error(G(321))}function Av(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wr(e[r],t[r]))return!1;return!0}function kv(e,t,r,n,a,i){if(vi=i,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iu.current=e===null||e.memoizedState===null?_$:j$,e=r(n,a),ul){i=0;do{if(ul=!1,Dl=0,25<=i)throw Error(G(301));i+=1,vt=ft=null,t.updateQueue=null,Iu.current=S$,e=r(n,a)}while(ul)}if(Iu.current=cd,t=ft!==null&&ft.next!==null,vi=0,vt=ft=Xe=null,ld=!1,t)throw Error(G(300));return e}function Tv(){var e=Dl!==0;return Dl=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=e:vt=vt.next=e,vt}function Pr(){if(ft===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=vt===null?Xe.memoizedState:vt.next;if(t!==null)vt=t,ft=e;else{if(e===null)throw Error(G(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Xe.memoizedState=vt=e:vt=vt.next=e}return vt}function Rl(e,t){return typeof t=="function"?t(e):t}function bp(e){var t=Pr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=ft,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((vi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Xe.lanes|=d,bi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=s,Wr(n,t.memoizedState)||(Jt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Xe.lanes|=i,bi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xp(e){var t=Pr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Wr(i,t.memoizedState)||(Jt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qO(){}function zO(e,t){var r=Xe,n=Pr(),a=t(),i=!Wr(n.memoizedState,a);if(i&&(n.memoizedState=a,Jt=!0),n=n.queue,Cv(HO.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Ml(9,VO.bind(null,r,n,a,t),void 0,null),wt===null)throw Error(G(349));vi&30||WO(r,t,a)}return a}function WO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VO(e,t,r,n){t.value=r,t.getSnapshot=n,GO(t)&&KO(e)}function HO(e,t,r){return r(function(){GO(t)&&KO(e)})}function GO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wr(e,r)}catch{return!0}}function KO(e){var t=kn(e,1);t!==null&&qr(t,e,1,-1)}function sx(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=w$.bind(null,Xe,e),[t.memoizedState,e]}function Ml(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function YO(){return Pr().memoizedState}function Du(e,t,r,n){var a=Kr();Xe.flags|=e,a.memoizedState=Ml(1|t,r,void 0,n===void 0?null:n)}function Bf(e,t,r,n){var a=Pr();n=n===void 0?null:n;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,n!==null&&Av(n,o.deps)){a.memoizedState=Ml(t,r,i,n);return}}Xe.flags|=e,a.memoizedState=Ml(1|t,r,i,n)}function lx(e,t){return Du(8390656,8,e,t)}function Cv(e,t){return Bf(2048,8,e,t)}function XO(e,t){return Bf(4,2,e,t)}function JO(e,t){return Bf(4,4,e,t)}function QO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZO(e,t,r){return r=r!=null?r.concat([e]):null,Bf(4,4,QO.bind(null,t,e),r)}function $v(){}function eN(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Av(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function tN(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Av(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function rN(e,t,r){return vi&21?(Wr(r,t)||(r=sO(),Xe.lanes|=r,bi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=r)}function b$(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=vp.transition;vp.transition={};try{e(!1),t()}finally{Ae=r,vp.transition=n}}function nN(){return Pr().memoizedState}function x$(e,t,r){var n=ma(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aN(e))iN(t,r);else if(r=UO(e,t,r,n),r!==null){var a=Vt();qr(r,e,n,a),oN(r,t,n)}}function w$(e,t,r){var n=ma(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aN(e))iN(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Wr(s,o)){var l=t.interleaved;l===null?(a.next=a,Sv(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=UO(e,t,a,n),r!==null&&(a=Vt(),qr(r,e,n,a),oN(r,t,n))}}function aN(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function iN(e,t){ul=ld=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uv(e,r)}}var cd={readContext:Nr,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},_$={readContext:Nr,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:Nr,useEffect:lx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Du(4194308,4,QO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Du(4194308,4,e,t)},useInsertionEffect:function(e,t){return Du(4,2,e,t)},useMemo:function(e,t){var r=Kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=x$.bind(null,Xe,e),[n.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:sx,useDebugValue:$v,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=sx(!1),t=e[0];return e=b$.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xe,a=Kr();if(Ge){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),wt===null)throw Error(G(349));vi&30||WO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,lx(HO.bind(null,n,i,e),[e]),n.flags|=2048,Ml(9,VO.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Kr(),t=wt.identifierPrefix;if(Ge){var r=bn,n=vn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=v$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j$={readContext:Nr,useCallback:eN,useContext:Nr,useEffect:Cv,useImperativeHandle:ZO,useInsertionEffect:XO,useLayoutEffect:JO,useMemo:tN,useReducer:bp,useRef:YO,useState:function(){return bp(Rl)},useDebugValue:$v,useDeferredValue:function(e){var t=Pr();return rN(t,ft.memoizedState,e)},useTransition:function(){var e=bp(Rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:qO,useSyncExternalStore:zO,useId:nN,unstable_isNewReconciler:!1},S$={readContext:Nr,useCallback:eN,useContext:Nr,useEffect:Cv,useImperativeHandle:ZO,useInsertionEffect:XO,useLayoutEffect:JO,useMemo:tN,useReducer:xp,useRef:YO,useState:function(){return xp(Rl)},useDebugValue:$v,useDeferredValue:function(e){var t=Pr();return ft===null?t.memoizedState=e:rN(t,ft.memoizedState,e)},useTransition:function(){var e=xp(Rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:qO,useSyncExternalStore:zO,useId:nN,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ff={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vt(),a=ma(e),i=jn(n,a);i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(qr(t,e,a,n),$u(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vt(),a=ma(e),i=jn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(qr(t,e,a,n),$u(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vt(),n=ma(e),a=jn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ha(e,a,n),t!==null&&(qr(t,e,n,r),$u(t,e,n))}};function cx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Al(r,n)||!Al(a,i):!0}function sN(e,t,r){var n=!1,a=_a,i=t.contextType;return typeof i=="object"&&i!==null?i=Nr(i):(a=er(t)?gi:Lt.current,n=t.contextTypes,i=(n=n!=null)?jo(e,a):_a),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ff,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ux(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ff.enqueueReplaceState(t,t.state,null)}function Fm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ov(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Nr(i):(i=er(t)?gi:Lt.current,a.context=jo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ff.enqueueReplaceState(a,a.state,null),od(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var r="",n=t;do r+=QC(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function wp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var O$=typeof WeakMap=="function"?WeakMap:Map;function lN(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dd||(dd=!0,Qm=n),qm(e,t)},r}function cN(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){qm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qm(e,t),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function dx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new O$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=U$.bind(null,e,t,r),t.then(e,e))}function fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,ha(r,t,1))),r.lanes|=1),e)}var N$=Mn.ReactCurrentOwner,Jt=!1;function Ft(e,t,r,n){t.child=e===null?LO(t,null,r,n):Oo(t,e.child,r,n)}function px(e,t,r,n,a){r=r.render;var i=t.ref;return po(t,a),n=kv(e,t,r,n,i,a),r=Tv(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Tn(e,t,a)):(Ge&&r&&vv(t),t.flags|=1,Ft(e,t,n,a),t.child)}function mx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Fv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,uN(e,t,i,n,a)):(e=Uu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Al,r(o,n)&&e.ref===t.ref)return Tn(e,t,a)}return t.flags|=1,e=ga(i,n),e.ref=t.ref,e.return=t,t.child=e}function uN(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Al(i,n)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,Tn(e,t,a)}return zm(e,t,r,n,a)}function dN(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(no,ir),ir|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(no,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Le(no,ir),ir|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Le(no,ir),ir|=n;return Ft(e,t,a,r),t.child}function fN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zm(e,t,r,n,a){var i=er(r)?gi:Lt.current;return i=jo(t,i),po(t,a),r=kv(e,t,r,n,i,a),n=Tv(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Tn(e,t,a)):(Ge&&n&&vv(t),t.flags|=1,Ft(e,t,r,a),t.child)}function gx(e,t,r,n,a){if(er(r)){var i=!0;td(t)}else i=!1;if(po(t,a),t.stateNode===null)Ru(e,t),sN(t,r,n),Fm(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=er(r)?gi:Lt.current,u=jo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&ux(t,o,n,u),Yn=!1;var h=t.memoizedState;o.state=h,od(t,n,o,a),l=t.memoizedState,s!==n||h!==l||Zt.current||Yn?(typeof d=="function"&&(Bm(t,r,d,n),l=t.memoizedState),(s=Yn||cx(t,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,BO(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ir(t.type,s),o.props=u,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Nr(l):(l=er(r)?gi:Lt.current,l=jo(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&ux(t,o,n,l),Yn=!1,h=t.memoizedState,o.state=h,od(t,n,o,a);var m=t.memoizedState;s!==f||h!==m||Zt.current||Yn?(typeof p=="function"&&(Bm(t,r,p,n),m=t.memoizedState),(u=Yn||cx(t,r,u,n,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Wm(e,t,r,n,i,a)}function Wm(e,t,r,n,a,i){fN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&tx(t,r,!1),Tn(e,t,i);n=t.stateNode,N$.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Oo(t,e.child,null,i),t.child=Oo(t,null,s,i)):Ft(e,t,s,i),t.memoizedState=n.state,a&&tx(t,r,!0),t.child}function hN(e){var t=e.stateNode;t.pendingContext?ex(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ex(e,t.context,!1),Nv(e,t.containerInfo)}function yx(e,t,r,n,a){return So(),xv(a),t.flags|=256,Ft(e,t,r,n),t.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function pN(e,t,r){var n=t.pendingProps,a=Ye.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Le(Ye,a&1),e===null)return Lm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wf(o,n,0,null),e=fi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hm(r),t.memoizedState=Vm,e):Iv(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return P$(e,t,o,n,s,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ga(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=ga(s,i):(i=fi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Hm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Vm,n}return i=e.child,e=i.sibling,n=ga(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Iv(e,t){return t=Wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tu(e,t,r,n){return n!==null&&xv(n),Oo(t,e.child,null,r),e=Iv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P$(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=wp(Error(G(422))),tu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Wf({mode:"visible",children:n.children},a,0,null),i=fi(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Oo(t,e.child,null,o),t.child.memoizedState=Hm(o),t.memoizedState=Vm,i);if(!(t.mode&1))return tu(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(G(419)),n=wp(i,n,void 0),tu(e,t,o,n)}if(s=(o&e.childLanes)!==0,Jt||s){if(n=wt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,kn(e,a),qr(n,e,a,-1))}return Bv(),n=wp(Error(G(421))),tu(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=B$.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,cr=fa(a.nextSibling),ur=t,Ge=!0,Ur=null,e!==null&&(br[xr++]=vn,br[xr++]=bn,br[xr++]=yi,vn=e.id,bn=e.overflow,yi=t),t=Iv(t,n.children),t.flags|=4096,t)}function vx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Um(e.return,t,r)}function _p(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function mN(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ft(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vx(e,r,t);else if(e.tag===19)vx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&sd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),_p(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}_p(t,!0,r,null,i);break;case"together":_p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ru(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ga(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ga(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function E$(e,t,r){switch(t.tag){case 3:hN(t),So();break;case 5:FO(t);break;case 1:er(t.type)&&td(t);break;case 4:Nv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Le(ad,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?pN(e,t,r):(Le(Ye,Ye.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Le(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return mN(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Le(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,dN(e,t,r)}return Tn(e,t,r)}var gN,Gm,yN,vN;gN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gm=function(){};yN=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ai(tn.current);var i=null;switch(r){case"input":a=mm(e,a),n=mm(e,n),i=[];break;case"select":a=Je({},a,{value:void 0}),n=Je({},n,{value:void 0}),i=[];break;case"textarea":a=vm(e,a),n=vm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zu)}xm(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_l.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};vN=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ds(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function A$(e,t,r){var n=t.pendingProps;switch(bv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return er(t.type)&&ed(),kt(t),null;case 3:return n=t.stateNode,No(),We(Zt),We(Lt),Ev(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(tg(Ur),Ur=null))),Gm(e,t),kt(t),null;case 5:Pv(t);var a=ai(Il.current);if(r=t.type,e!==null&&t.stateNode!=null)yN(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return kt(t),null}if(e=ai(tn.current),Zc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Qr]=t,n[Cl]=i,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<tl.length;a++)Fe(tl[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Pb(n,i),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",n);break;case"textarea":Ab(n,i),Fe("invalid",n)}xm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&Qc(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Qc(n.textContent,s,e),a=["children",""+s]):_l.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Fe("scroll",n)}switch(r){case"input":Wc(n),Eb(n,i,!0);break;case"textarea":Wc(n),kb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Zu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qr]=t,e[Cl]=n,gN(e,t,!1,!1),t.stateNode=e;e:{switch(o=wm(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),a=n;break;case"iframe":case"object":case"embed":Fe("load",e),a=n;break;case"video":case"audio":for(a=0;a<tl.length;a++)Fe(tl[a],e);a=n;break;case"source":Fe("error",e),a=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),a=n;break;case"details":Fe("toggle",e),a=n;break;case"input":Pb(e,n),a=mm(e,n),Fe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Je({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":Ab(e,n),a=vm(e,n),Fe("invalid",e);break;default:a=n}xm(r,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?YS(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GS(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&jl(e,l):typeof l=="number"&&jl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_l.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",e):l!=null&&av(e,i,l,o))}switch(r){case"input":Wc(e),Eb(e,n,!1);break;case"textarea":Wc(e),kb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?co(e,!!n.multiple,i,!1):n.defaultValue!=null&&co(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)vN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=ai(Il.current),ai(tn.current),Zc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qr]=t,(i=n.nodeValue!==r)&&(e=ur,e!==null))switch(e.tag){case 3:Qc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qr]=t,t.stateNode=n}return kt(t),null;case 13:if(We(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&cr!==null&&t.mode&1&&!(t.flags&128))RO(),So(),t.flags|=98560,i=!1;else if(i=Zc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Qr]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),i=!1}else Ur!==null&&(tg(Ur),Ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ht===0&&(ht=3):Bv())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return No(),Gm(e,t),e===null&&kl(t.stateNode.containerInfo),kt(t),null;case 10:return jv(t.type._context),kt(t),null;case 17:return er(t.type)&&ed(),kt(t),null;case 19:if(We(Ye),i=t.memoizedState,i===null)return kt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ds(i,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sd(e),o!==null){for(t.flags|=128,Ds(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&nt()>Eo&&(t.flags|=128,n=!0,Ds(i,!1),t.lanes=4194304)}else{if(!n)if(e=sd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return kt(t),null}else 2*nt()-i.renderingStartTime>Eo&&r!==1073741824&&(t.flags|=128,n=!0,Ds(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nt(),t.sibling=null,r=Ye.current,Le(Ye,n?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return Uv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ir&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function k$(e,t){switch(bv(t),t.tag){case 1:return er(t.type)&&ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return No(),We(Zt),We(Lt),Ev(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pv(t),null;case 13:if(We(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ye),null;case 4:return No(),null;case 10:return jv(t.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var ru=!1,Ct=!1,T$=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function Km(e,t,r){try{r()}catch(n){et(e,t,n)}}var bx=!1;function C$(e,t){if(Tm=Xu,e=jO(),yv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=o),h===i&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cm={focusedElem:e,selectionRange:r},Xu=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ir(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){et(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return m=bx,bx=!1,m}function dl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Km(t,r,i)}a=a.next}while(a!==n)}}function qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ym(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bN(e){var t=e.alternate;t!==null&&(e.alternate=null,bN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qr],delete t[Cl],delete t[Dm],delete t[p$],delete t[m$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xN(e){return e.tag===5||e.tag===3||e.tag===4}function xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zu));else if(n!==4&&(e=e.child,e!==null))for(Xm(e,t,r),e=e.sibling;e!==null;)Xm(e,t,r),e=e.sibling}function Jm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jm(e,t,r),e=e.sibling;e!==null;)Jm(e,t,r),e=e.sibling}var Nt=null,Rr=!1;function Wn(e,t,r){for(r=r.child;r!==null;)wN(e,t,r),r=r.sibling}function wN(e,t,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(If,r)}catch{}switch(r.tag){case 5:Ct||ro(r,t);case 6:var n=Nt,a=Rr;Nt=null,Wn(e,t,r),Nt=n,Rr=a,Nt!==null&&(Rr?(e=Nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Rr?(e=Nt,r=r.stateNode,e.nodeType===8?mp(e.parentNode,r):e.nodeType===1&&mp(e,r),Pl(e)):mp(Nt,r.stateNode));break;case 4:n=Nt,a=Rr,Nt=r.stateNode.containerInfo,Rr=!0,Wn(e,t,r),Nt=n,Rr=a;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Km(r,t,o),a=a.next}while(a!==n)}Wn(e,t,r);break;case 1:if(!Ct&&(ro(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){et(r,t,s)}Wn(e,t,r);break;case 21:Wn(e,t,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,Wn(e,t,r),Ct=n):Wn(e,t,r);break;default:Wn(e,t,r)}}function wx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new T$),t.forEach(function(n){var a=F$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Tr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Nt=s.stateNode,Rr=!1;break e;case 3:Nt=s.stateNode.containerInfo,Rr=!0;break e;case 4:Nt=s.stateNode.containerInfo,Rr=!0;break e}s=s.return}if(Nt===null)throw Error(G(160));wN(i,o,a),Nt=null,Rr=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){et(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_N(t,e),t=t.sibling}function _N(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tr(t,e),Gr(e),n&4){try{dl(3,e,e.return),qf(3,e)}catch(y){et(e,e.return,y)}try{dl(5,e,e.return)}catch(y){et(e,e.return,y)}}break;case 1:Tr(t,e),Gr(e),n&512&&r!==null&&ro(r,r.return);break;case 5:if(Tr(t,e),Gr(e),n&512&&r!==null&&ro(r,r.return),e.flags&32){var a=e.stateNode;try{jl(a,"")}catch(y){et(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&WS(a,i),wm(s,o);var u=wm(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?YS(a,f):d==="dangerouslySetInnerHTML"?GS(a,f):d==="children"?jl(a,f):av(a,d,f,u)}switch(s){case"input":gm(a,i);break;case"textarea":VS(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?co(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?co(a,!!i.multiple,i.defaultValue,!0):co(a,!!i.multiple,i.multiple?[]:"",!1))}a[Cl]=i}catch(y){et(e,e.return,y)}}break;case 6:if(Tr(t,e),Gr(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){et(e,e.return,y)}}break;case 3:if(Tr(t,e),Gr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(y){et(e,e.return,y)}break;case 4:Tr(t,e),Gr(e);break;case 13:Tr(t,e),Gr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Mv=nt())),n&4&&wx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||d,Tr(t,e),Ct=u):Tr(t,e),Gr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:dl(4,h,h.return);break;case 1:ro(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){et(n,r,y)}}break;case 5:ro(h,h.return);break;case 22:if(h.memoizedState!==null){jx(f);continue}}p!==null?(p.return=h,Z=p):jx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KS("display",o))}catch(y){et(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){et(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tr(t,e),Gr(e),n&4&&wx(e);break;case 21:break;default:Tr(t,e),Gr(e)}}function Gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xN(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jl(a,""),n.flags&=-33);var i=xx(e);Jm(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,s=xx(e);Xm(e,s,o);break;default:throw Error(G(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $$(e,t,r){Z=e,jN(e)}function jN(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var a=Z,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||ru;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Ct;s=ru;var u=Ct;if(ru=o,(Ct=l)&&!u)for(Z=a;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?Sx(a):l!==null?(l.return=o,Z=l):Sx(a);for(;i!==null;)Z=i,jN(i),i=i.sibling;Z=a,ru=s,Ct=u}_x(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Z=i):_x(e)}}function _x(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||qf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ox(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ox(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ct||t.flags&512&&Ym(t)}catch(h){et(t,t.return,h)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function jx(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Sx(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qf(4,t)}catch(l){et(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){et(t,a,l)}}var i=t.return;try{Ym(t)}catch(l){et(t,i,l)}break;case 5:var o=t.return;try{Ym(t)}catch(l){et(t,o,l)}}}catch(l){et(t,t.return,l)}if(t===e){Z=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Z=s;break}Z=t.return}}var I$=Math.ceil,ud=Mn.ReactCurrentDispatcher,Dv=Mn.ReactCurrentOwner,Sr=Mn.ReactCurrentBatchConfig,xe=0,wt=null,lt=null,Pt=0,ir=0,no=Na(0),ht=0,Ll=null,bi=0,zf=0,Rv=0,fl=null,Yt=null,Mv=0,Eo=1/0,pn=null,dd=!1,Qm=null,pa=null,nu=!1,ia=null,fd=0,hl=0,Zm=null,Mu=-1,Lu=0;function Vt(){return xe&6?nt():Mu!==-1?Mu:Mu=nt()}function ma(e){return e.mode&1?xe&2&&Pt!==0?Pt&-Pt:y$.transition!==null?(Lu===0&&(Lu=sO()),Lu):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:pO(e.type)),e):1}function qr(e,t,r,n){if(50<hl)throw hl=0,Zm=null,Error(G(185));Pc(e,r,n),(!(xe&2)||e!==wt)&&(e===wt&&(!(xe&2)&&(zf|=r),ht===4&&ea(e,Pt)),tr(e,n),r===1&&xe===0&&!(t.mode&1)&&(Eo=nt()+500,Uf&&Pa()))}function tr(e,t){var r=e.callbackNode;y2(e,t);var n=Yu(e,e===wt?Pt:0);if(n===0)r!==null&&$b(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$b(r),t===1)e.tag===0?g$(Ox.bind(null,e)):$O(Ox.bind(null,e)),f$(function(){!(xe&6)&&Pa()}),r=null;else{switch(lO(n)){case 1:r=cv;break;case 4:r=iO;break;case 16:r=Ku;break;case 536870912:r=oO;break;default:r=Ku}r=TN(r,SN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SN(e,t){if(Mu=-1,Lu=0,xe&6)throw Error(G(327));var r=e.callbackNode;if(mo()&&e.callbackNode!==r)return null;var n=Yu(e,e===wt?Pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hd(e,n);else{t=n;var a=xe;xe|=2;var i=NN();(wt!==e||Pt!==t)&&(pn=null,Eo=nt()+500,di(e,t));do try{M$();break}catch(s){ON(e,s)}while(!0);_v(),ud.current=i,xe=a,lt!==null?t=0:(wt=null,Pt=0,t=ht)}if(t!==0){if(t===2&&(a=Nm(e),a!==0&&(n=a,t=eg(e,a))),t===1)throw r=Ll,di(e,0),ea(e,n),tr(e,nt()),r;if(t===6)ea(e,n);else{if(a=e.current.alternate,!(n&30)&&!D$(a)&&(t=hd(e,n),t===2&&(i=Nm(e),i!==0&&(n=i,t=eg(e,i))),t===1))throw r=Ll,di(e,0),ea(e,n),tr(e,nt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Va(e,Yt,pn);break;case 3:if(ea(e,n),(n&130023424)===n&&(t=Mv+500-nt(),10<t)){if(Yu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Vt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Im(Va.bind(null,e,Yt,pn),t);break}Va(e,Yt,pn);break;case 4:if(ea(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Fr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I$(n/1960))-n,10<n){e.timeoutHandle=Im(Va.bind(null,e,Yt,pn),n);break}Va(e,Yt,pn);break;case 5:Va(e,Yt,pn);break;default:throw Error(G(329))}}}return tr(e,nt()),e.callbackNode===r?SN.bind(null,e):null}function eg(e,t){var r=fl;return e.current.memoizedState.isDehydrated&&(di(e,t).flags|=256),e=hd(e,t),e!==2&&(t=Yt,Yt=r,t!==null&&tg(t)),e}function tg(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function D$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Wr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t){for(t&=~Rv,t&=~zf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function Ox(e){if(xe&6)throw Error(G(327));mo();var t=Yu(e,0);if(!(t&1))return tr(e,nt()),null;var r=hd(e,t);if(e.tag!==0&&r===2){var n=Nm(e);n!==0&&(t=n,r=eg(e,n))}if(r===1)throw r=Ll,di(e,0),ea(e,t),tr(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,Yt,pn),tr(e,nt()),null}function Lv(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(Eo=nt()+500,Uf&&Pa())}}function xi(e){ia!==null&&ia.tag===0&&!(xe&6)&&mo();var t=xe;xe|=1;var r=Sr.transition,n=Ae;try{if(Sr.transition=null,Ae=1,e)return e()}finally{Ae=n,Sr.transition=r,xe=t,!(xe&6)&&Pa()}}function Uv(){ir=no.current,We(no)}function di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,d$(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(bv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ed();break;case 3:No(),We(Zt),We(Lt),Ev();break;case 5:Pv(n);break;case 4:No();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:jv(n.type._context);break;case 22:case 23:Uv()}r=r.return}if(wt=e,lt=e=ga(e.current,null),Pt=ir=t,ht=0,Ll=null,Rv=zf=bi=0,Yt=fl=null,ni!==null){for(t=0;t<ni.length;t++)if(r=ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ni=null}return e}function ON(e,t){do{var r=lt;try{if(_v(),Iu.current=cd,ld){for(var n=Xe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ld=!1}if(vi=0,vt=ft=Xe=null,ul=!1,Dl=0,Dv.current=null,r===null||r.return===null){ht=1,Ll=t,lt=null;break}e:{var i=e,o=r.return,s=r,l=t;if(t=Pt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=fx(o);if(p!==null){p.flags&=-257,hx(p,o,s,i,t),p.mode&1&&dx(i,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){dx(i,u,t),Bv();break e}l=Error(G(426))}}else if(Ge&&s.mode&1){var v=fx(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),hx(v,o,s,i,t),xv(Po(l,s));break e}}i=l=Po(l,s),ht!==4&&(ht=2),fl===null?fl=[i]:fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=lN(i,l,t);ix(i,g);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pa===null||!pa.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=cN(i,s,t);ix(i,j);break e}}i=i.return}while(i!==null)}EN(r)}catch(x){t=x,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function NN(){var e=ud.current;return ud.current=cd,e===null?cd:e}function Bv(){(ht===0||ht===3||ht===2)&&(ht=4),wt===null||!(bi&268435455)&&!(zf&268435455)||ea(wt,Pt)}function hd(e,t){var r=xe;xe|=2;var n=NN();(wt!==e||Pt!==t)&&(pn=null,di(e,t));do try{R$();break}catch(a){ON(e,a)}while(!0);if(_v(),xe=r,ud.current=n,lt!==null)throw Error(G(261));return wt=null,Pt=0,ht}function R$(){for(;lt!==null;)PN(lt)}function M$(){for(;lt!==null&&!l2();)PN(lt)}function PN(e){var t=kN(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?EN(e):lt=t,Dv.current=null}function EN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=k$(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(r=A$(r,t,ir),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function Va(e,t,r){var n=Ae,a=Sr.transition;try{Sr.transition=null,Ae=1,L$(e,t,r,n)}finally{Sr.transition=a,Ae=n}return null}function L$(e,t,r,n){do mo();while(ia!==null);if(xe&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(v2(e,i),e===wt&&(lt=wt=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nu||(nu=!0,TN(Ku,function(){return mo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var o=Ae;Ae=1;var s=xe;xe|=4,Dv.current=null,C$(e,r),_N(r,e),a$(Cm),Xu=!!Tm,Cm=Tm=null,e.current=r,$$(r),c2(),xe=s,Ae=o,Sr.transition=i}else e.current=r;if(nu&&(nu=!1,ia=e,fd=a),i=e.pendingLanes,i===0&&(pa=null),f2(r.stateNode),tr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(dd)throw dd=!1,e=Qm,Qm=null,e;return fd&1&&e.tag!==0&&mo(),i=e.pendingLanes,i&1?e===Zm?hl++:(hl=0,Zm=e):hl=0,Pa(),null}function mo(){if(ia!==null){var e=lO(fd),t=Sr.transition,r=Ae;try{if(Sr.transition=null,Ae=16>e?16:e,ia===null)var n=!1;else{if(e=ia,ia=null,fd=0,xe&6)throw Error(G(331));var a=xe;for(xe|=4,Z=e.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:dl(8,d,i)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,p=d.return;if(bN(d),d===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Z=g;break e}Z=i.return}}var b=e.current;for(Z=b;Z!==null;){o=Z;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Z=w;else e:for(o=b;Z!==null;){if(s=Z,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:qf(9,s)}}catch(x){et(s,s.return,x)}if(s===o){Z=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,Z=j;break e}Z=s.return}}if(xe=a,Pa(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(If,e)}catch{}n=!0}return n}finally{Ae=r,Sr.transition=t}}return!1}function Nx(e,t,r){t=Po(r,t),t=lN(e,t,1),e=ha(e,t,1),t=Vt(),e!==null&&(Pc(e,1,t),tr(e,t))}function et(e,t,r){if(e.tag===3)Nx(e,e,r);else for(;t!==null;){if(t.tag===3){Nx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){e=Po(r,e),e=cN(t,e,1),t=ha(t,e,1),e=Vt(),t!==null&&(Pc(t,1,e),tr(t,e));break}}t=t.return}}function U$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&r,wt===e&&(Pt&r)===r&&(ht===4||ht===3&&(Pt&130023424)===Pt&&500>nt()-Mv?di(e,0):Rv|=r),tr(e,t)}function AN(e,t){t===0&&(e.mode&1?(t=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):t=1);var r=Vt();e=kn(e,t),e!==null&&(Pc(e,t,r),tr(e,r))}function B$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),AN(e,r)}function F$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),AN(e,r)}var kN;kN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Jt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Jt=!1,E$(e,t,r);Jt=!!(e.flags&131072)}else Jt=!1,Ge&&t.flags&1048576&&IO(t,nd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ru(e,t),e=t.pendingProps;var a=jo(t,Lt.current);po(t,r),a=kv(null,t,n,e,a,r);var i=Tv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(n)?(i=!0,td(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ov(t),a.updater=Ff,t.stateNode=a,a._reactInternals=t,Fm(t,n,e,r),t=Wm(null,t,n,!0,i,r)):(t.tag=0,Ge&&i&&vv(t),Ft(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ru(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=z$(n),e=Ir(n,e),a){case 0:t=zm(null,t,n,e,r);break e;case 1:t=gx(null,t,n,e,r);break e;case 11:t=px(null,t,n,e,r);break e;case 14:t=mx(null,t,n,Ir(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),zm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),gx(e,t,n,a,r);case 3:e:{if(hN(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,BO(e,t),od(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Po(Error(G(423)),t),t=yx(e,t,n,r,a);break e}else if(n!==a){a=Po(Error(G(424)),t),t=yx(e,t,n,r,a);break e}else for(cr=fa(t.stateNode.containerInfo.firstChild),ur=t,Ge=!0,Ur=null,r=LO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(So(),n===a){t=Tn(e,t,r);break e}Ft(e,t,n,r)}t=t.child}return t;case 5:return FO(t),e===null&&Lm(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,$m(n,a)?o=null:i!==null&&$m(n,i)&&(t.flags|=32),fN(e,t),Ft(e,t,o,r),t.child;case 6:return e===null&&Lm(t),null;case 13:return pN(e,t,r);case 4:return Nv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):Ft(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),px(e,t,n,a,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Le(ad,n._currentValue),n._currentValue=o,i!==null)if(Wr(i.value,o)){if(i.children===a.children&&!Zt.current){t=Tn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=jn(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Um(i.return,r,t),s.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Um(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,po(t,r),a=Nr(a),n=n(a),t.flags|=1,Ft(e,t,n,r),t.child;case 14:return n=t.type,a=Ir(n,t.pendingProps),a=Ir(n.type,a),mx(e,t,n,a,r);case 15:return uN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ir(n,a),Ru(e,t),t.tag=1,er(n)?(e=!0,td(t)):e=!1,po(t,r),sN(t,n,a),Fm(t,n,a,r),Wm(null,t,n,!0,e,r);case 19:return mN(e,t,r);case 22:return dN(e,t,r)}throw Error(G(156,t.tag))};function TN(e,t){return aO(e,t)}function q$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,r,n){return new q$(e,t,r,n)}function Fv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z$(e){if(typeof e=="function")return Fv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ov)return 11;if(e===sv)return 14}return 2}function ga(e,t){var r=e.alternate;return r===null?(r=_r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uu(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Fv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gi:return fi(r.children,a,i,t);case iv:o=8,a|=8;break;case dm:return e=_r(12,r,t,a|2),e.elementType=dm,e.lanes=i,e;case fm:return e=_r(13,r,t,a),e.elementType=fm,e.lanes=i,e;case hm:return e=_r(19,r,t,a),e.elementType=hm,e.lanes=i,e;case FS:return Wf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case US:o=10;break e;case BS:o=9;break e;case ov:o=11;break e;case sv:o=14;break e;case Kn:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=_r(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fi(e,t,r,n){return e=_r(7,e,n,t),e.lanes=r,e}function Wf(e,t,r,n){return e=_r(22,e,n,t),e.elementType=FS,e.lanes=r,e.stateNode={isHidden:!1},e}function jp(e,t,r){return e=_r(6,e,null,t),e.lanes=r,e}function Sp(e,t,r){return t=_r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qv(e,t,r,n,a,i,o,s,l){return e=new W$(e,t,r,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_r(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ov(i),e}function V$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function CN(e){if(!e)return _a;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(er(r))return CO(e,r,t)}return t}function $N(e,t,r,n,a,i,o,s,l){return e=qv(r,n,!0,e,a,i,o,s,l),e.context=CN(null),r=e.current,n=Vt(),a=ma(r),i=jn(n,a),i.callback=t??null,ha(r,i,a),e.current.lanes=a,Pc(e,a,n),tr(e,n),e}function Vf(e,t,r,n){var a=t.current,i=Vt(),o=ma(a);return r=CN(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ha(a,t,o),e!==null&&(qr(e,a,o,i),$u(e,a,o)),o}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Px(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zv(e,t){Px(e,t),(e=e.alternate)&&Px(e,t)}function H$(){return null}var IN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wv(e){this._internalRoot=e}Hf.prototype.render=Wv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Vf(e,t,null,null)};Hf.prototype.unmount=Wv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xi(function(){Vf(null,e,null,null)}),t[An]=null}};function Hf(e){this._internalRoot=e}Hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=dO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zn.length&&t!==0&&t<Zn[r].priority;r++);Zn.splice(r,0,e),r===0&&hO(e)}};function Vv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function G$(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=pd(o);i.call(u)}}var o=$N(t,n,e,0,null,!1,!1,"",Ex);return e._reactRootContainer=o,e[An]=o.current,kl(e.nodeType===8?e.parentNode:e),xi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=pd(l);s.call(u)}}var l=qv(e,0,!1,null,null,!1,!1,"",Ex);return e._reactRootContainer=l,e[An]=l.current,kl(e.nodeType===8?e.parentNode:e),xi(function(){Vf(t,l,r,n)}),l}function Kf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=pd(o);s.call(l)}}Vf(t,o,e,a)}else o=G$(r,t,e,a,n);return pd(o)}cO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=el(t.pendingLanes);r!==0&&(uv(t,r|1),tr(t,nt()),!(xe&6)&&(Eo=nt()+500,Pa()))}break;case 13:xi(function(){var n=kn(e,1);if(n!==null){var a=Vt();qr(n,e,1,a)}}),zv(e,1)}};dv=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var r=Vt();qr(t,e,134217728,r)}zv(e,134217728)}};uO=function(e){if(e.tag===13){var t=ma(e),r=kn(e,t);if(r!==null){var n=Vt();qr(r,e,t,n)}zv(e,t)}};dO=function(){return Ae};fO=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};jm=function(e,t,r){switch(t){case"input":if(gm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Lf(n);if(!a)throw Error(G(90));zS(n),gm(n,a)}}}break;case"textarea":VS(e,r);break;case"select":t=r.value,t!=null&&co(e,!!r.multiple,t,!1)}};QS=Lv;ZS=xi;var K$={usingClientEntryPoint:!1,Events:[Ac,Ji,Lf,XS,JS,Lv]},Rs={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y$={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rO(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||H$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{If=au.inject(Y$),en=au}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K$;pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(t))throw Error(G(200));return V$(e,t,null,r)};pr.createRoot=function(e,t){if(!Vv(e))throw Error(G(299));var r=!1,n="",a=IN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=qv(e,1,!1,null,null,r,!1,n,a),e[An]=t.current,kl(e.nodeType===8?e.parentNode:e),new Wv(t)};pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=rO(t),e=e===null?null:e.stateNode,e};pr.flushSync=function(e){return xi(e)};pr.hydrate=function(e,t,r){if(!Gf(t))throw Error(G(200));return Kf(null,e,t,!0,r)};pr.hydrateRoot=function(e,t,r){if(!Vv(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=IN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$N(t,null,e,1,r??null,a,!1,i,o),e[An]=t.current,kl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Hf(t)};pr.render=function(e,t,r){if(!Gf(t))throw Error(G(200));return Kf(null,e,t,!1,r)};pr.unmountComponentAtNode=function(e){if(!Gf(e))throw Error(G(40));return e._reactRootContainer?(xi(function(){Kf(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};pr.unstable_batchedUpdates=Lv;pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gf(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Kf(e,t,r,!1,n)};pr.version="18.3.1-next-f1338f8080-20240426";function DN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DN)}catch(e){console.error(e)}}DN(),DS.exports=pr;var X$=DS.exports,Ax=X$;cm.createRoot=Ax.createRoot,cm.hydrateRoot=Ax.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}var oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oa||(oa={}));const kx="popstate";function J$(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return rg("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:md(a)}return Z$(t,r,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q$(){return Math.random().toString(36).substr(2,8)}function Tx(e,t){return{usr:e.state,key:e.key,idx:t}}function rg(e,t,r,n){return r===void 0&&(r=null),Ul({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ls(t):t,{state:r,key:t&&t.key||n||Q$()})}function md(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ls(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Z$(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=oa.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ul({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=oa.Pop;let v=d(),g=v==null?null:v-u;u=v,l&&l({action:s,location:y.location,delta:g})}function h(v,g){s=oa.Push;let b=rg(y.location,v,g);u=d()+1;let w=Tx(b,u),j=y.createHref(b);try{o.pushState(w,"",j)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;a.location.assign(j)}i&&l&&l({action:s,location:y.location,delta:1})}function p(v,g){s=oa.Replace;let b=rg(y.location,v,g);u=d();let w=Tx(b,u),j=y.createHref(b);o.replaceState(w,"",j),i&&l&&l({action:s,location:y.location,delta:0})}function m(v){let g=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:md(v);return b=b.replace(/ $/,"%20"),at(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let y={get action(){return s},get location(){return e(a,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(kx,f),l=v,()=>{a.removeEventListener(kx,f),l=null}},createHref(v){return t(a,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var Cx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cx||(Cx={}));function eI(e,t,r){return r===void 0&&(r="/"),tI(e,t,r)}function tI(e,t,r,n){let a=typeof t=="string"?ls(t):t,i=Gv(a.pathname||"/",r);if(i==null)return null;let o=RN(e);rI(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=pI(i);s=dI(o[l],u)}return s}function RN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ya([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:cI(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of MN(i.path))a(i,o,l)}),t}function MN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=MN(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function rI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nI=/^:[\w-]+$/,aI=3,iI=2,oI=1,sI=10,lI=-2,$x=e=>e==="*";function cI(e,t){let r=e.split("/"),n=r.length;return r.some($x)&&(n+=lI),t&&(n+=iI),r.filter(a=>!$x(a)).reduce((a,i)=>a+(nI.test(i)?aI:i===""?oI:sI),n)}function uI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function dI(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=fI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ya([i,f.pathname]),pathnameBase:bI(ya([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ya([i,f.pathnameBase]))}return o}function fI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=s[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function hI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Hv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const mI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gI=e=>mI.test(e);function yI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ls(e):e,i;if(r)if(gI(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Hv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Ix(r.substring(1),"/"):i=Ix(r,t)}else i=t;return{pathname:i,search:xI(n),hash:wI(a)}}function Ix(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Op(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kv(e,t){let r=vI(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ls(e):(a=Ul({},e),at(!a.pathname||!a.pathname.includes("?"),Op("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Op("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Op("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=yI(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ya=e=>e.join("/").replace(/\/\/+/g,"/"),bI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _I(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LN=["post","put","patch","delete"];new Set(LN);const jI=["get",...LN];new Set(jI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}const Xv=O.createContext(null),SI=O.createContext(null),Ea=O.createContext(null),Yf=O.createContext(null),Ln=O.createContext({outlet:null,matches:[],isDataRoute:!1}),UN=O.createContext(null);function OI(e,t){let{relative:r}=t===void 0?{}:t;cs()||at(!1);let{basename:n,navigator:a}=O.useContext(Ea),{hash:i,pathname:o,search:s}=FN(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ya([n,o])),a.createHref({pathname:l,search:s,hash:i})}function cs(){return O.useContext(Yf)!=null}function us(){return cs()||at(!1),O.useContext(Yf).location}function BN(e){O.useContext(Ea).static||O.useLayoutEffect(e)}function Tc(){let{isDataRoute:e}=O.useContext(Ln);return e?BI():NI()}function NI(){cs()||at(!1);let e=O.useContext(Xv),{basename:t,future:r,navigator:n}=O.useContext(Ea),{matches:a}=O.useContext(Ln),{pathname:i}=us(),o=JSON.stringify(Kv(a,r.v7_relativeSplatPath)),s=O.useRef(!1);return BN(()=>{s.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=Yv(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ya([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const PI=O.createContext(null);function EI(e){let t=O.useContext(Ln).outlet;return t&&O.createElement(PI.Provider,{value:e},t)}function FN(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Ea),{matches:a}=O.useContext(Ln),{pathname:i}=us(),o=JSON.stringify(Kv(a,n.v7_relativeSplatPath));return O.useMemo(()=>Yv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function AI(e,t){return kI(e,t)}function kI(e,t,r,n){cs()||at(!1);let{navigator:a}=O.useContext(Ea),{matches:i}=O.useContext(Ln),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=us(),d;if(t){var f;let v=typeof t=="string"?ls(t):t;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||at(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=eI(e,{pathname:p}),y=DI(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ya([l,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ya([l,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?O.createElement(Yf.Provider,{value:{location:Bl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oa.Pop}},y):y}function TI(){let e=UI(),t=_I(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:a},r):null,null)}const CI=O.createElement(TI,null);class $I extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Ln.Provider,{value:this.props.routeContext},O.createElement(UN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function II(e){let{routeContext:t,match:r,children:n}=e,a=O.useContext(Xv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Ln.Provider,{value:t},n)}function DI(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,y=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||CI,l&&(u<0&&h===0?(FI("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=y:m?w=v:f.route.Component?w=O.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,O.createElement(II,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement($I,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var qN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qN||{}),zN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zN||{});function RI(e){let t=O.useContext(Xv);return t||at(!1),t}function MI(e){let t=O.useContext(SI);return t||at(!1),t}function LI(e){let t=O.useContext(Ln);return t||at(!1),t}function WN(e){let t=LI(),r=t.matches[t.matches.length-1];return r.route.id||at(!1),r.route.id}function UI(){var e;let t=O.useContext(UN),r=MI(),n=WN();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function BI(){let{router:e}=RI(qN.UseNavigateStable),t=WN(zN.UseNavigateStable),r=O.useRef(!1);return BN(()=>{r.current=!0}),O.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bl({fromRouteId:t},i)))},[e,t])}const Dx={};function FI(e,t,r){Dx[e]||(Dx[e]=!0)}function qI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function VN(e){let{to:t,replace:r,state:n,relative:a}=e;cs()||at(!1);let{future:i,static:o}=O.useContext(Ea),{matches:s}=O.useContext(Ln),{pathname:l}=us(),u=Tc(),d=Yv(t,Kv(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return O.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function zI(e){return EI(e.context)}function Bt(e){at(!1)}function WI(e){let{basename:t="/",children:r=null,location:n,navigationType:a=oa.Pop,navigator:i,static:o=!1,future:s}=e;cs()&&at(!1);let l=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:i,static:o,future:Bl({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=ls(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,y=O.useMemo(()=>{let v=Gv(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:a}},[l,d,f,h,p,m,a]);return y==null?null:O.createElement(Ea.Provider,{value:u},O.createElement(Yf.Provider,{children:r,value:y}))}function VI(e){let{children:t,location:r}=e;return AI(ng(t),r)}new Promise(()=>{});function ng(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,a)=>{if(!O.isValidElement(n))return;let i=[...t,a];if(n.type===O.Fragment){r.push.apply(r,ng(n.props.children,i));return}n.type!==Bt&&at(!1),!n.props.index||!n.props.children||at(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ng(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function HI(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KI(e,t){return e.button===0&&(!t||t==="_self")&&!GI(e)}const YI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XI="6";try{window.__reactRouterVersion=XI}catch{}const JI="startTransition",Rx=UC[JI];function QI(e){let{basename:t,children:r,future:n,window:a}=e,i=O.useRef();i.current==null&&(i.current=J$({window:a,v5Compat:!0}));let o=i.current,[s,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=O.useCallback(f=>{u&&Rx?Rx(()=>l(f)):l(f)},[l,u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.useEffect(()=>qI(n),[n]),O.createElement(WI,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const ZI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mn=O.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=HI(t,YI),{basename:p}=O.useContext(Ea),m,y=!1;if(typeof u=="string"&&eD.test(u)&&(m=u,ZI))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),x=Gv(j.pathname,p);j.origin===w.origin&&x!=null?u=x+j.search+j.hash:y=!0}catch{}let v=OI(u,{relative:a}),g=tD(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||g(w)}return O.createElement("a",ag({},h,{href:m||v,onClick:y||i?n:b,ref:r,target:l}))});var Mx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mx||(Mx={}));var Lx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lx||(Lx={}));function tD(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=Tc(),u=us(),d=FN(e,{relative:o});return O.useCallback(f=>{if(KI(f,r)){f.preventDefault();let h=n!==void 0?n:md(u)===md(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,d,n,a,r,e,i,o,s])}var Jv={},gd={},ig=function(e,t){return ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ig(e,t)};function HN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ig(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var yd=function(){return yd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yd.apply(this,arguments)};function ds(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function GN(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function KN(e,t){return function(r,n){t(r,n,e)}}function YN(e,t,r,n,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var v=(0,r[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],m);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(d.get=f),(f=o(v.set))&&(d.set=f),(f=o(v.init))&&a.unshift(f)}else(f=o(v))&&(s==="field"?a.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function XN(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function JN(e){return typeof e=="symbol"?e:"".concat(e)}function QN(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function ZN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function te(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}function eP(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Xf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function tP(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xf(t,e,r)}function vd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function rP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qv(arguments[t]));return e}function nP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function aP(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ao(e){return this instanceof Ao?(this.v=e,this):new Ao(e)}function iP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(p){return function(m){return Promise.resolve(m).then(p,f)}}function s(p,m){n[p]&&(a[p]=function(y){return new Promise(function(v,g){i.push([p,y,v,g])>1||l(p,y)})},m&&(a[p]=m(a[p])))}function l(p,m){try{u(n[p](m))}catch(y){h(i[0][3],y)}}function u(p){p.value instanceof Ao?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,m){p(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function oP(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Ao(e[a](o)),done:!1}:i?i(o):o}:i}}function sP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vd=="function"?vd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,l){o=e[i](o),a(s,l,o.done,o.value)})}}function a(i,o,s,l){Promise.resolve(l).then(function(u){i({value:u,done:s})},o)}}function lP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var rD=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},og=function(e){return og=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},og(e)};function cP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=og(e),n=0;n<r.length;n++)r[n]!=="default"&&Xf(t,e,r[n]);return rD(t,e),t}function uP(e){return e&&e.__esModule?e:{default:e}}function dP(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function fP(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function hP(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function pP(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var nD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function mP(e){function t(i){e.error=e.hasError?new nD(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function gP(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const aD={__extends:HN,__assign:yd,__rest:ds,__decorate:GN,__param:KN,__esDecorate:YN,__runInitializers:XN,__propKey:JN,__setFunctionName:QN,__metadata:ZN,__awaiter:te,__generator:eP,__createBinding:Xf,__exportStar:tP,__values:vd,__read:Qv,__spread:rP,__spreadArrays:nP,__spreadArray:aP,__await:Ao,__asyncGenerator:iP,__asyncDelegator:oP,__asyncValues:sP,__makeTemplateObject:lP,__importStar:cP,__importDefault:uP,__classPrivateFieldGet:dP,__classPrivateFieldSet:fP,__classPrivateFieldIn:hP,__addDisposableResource:pP,__disposeResources:mP,__rewriteRelativeImportExtension:gP},iD=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pP,get __assign(){return yd},__asyncDelegator:oP,__asyncGenerator:iP,__asyncValues:sP,__await:Ao,__awaiter:te,__classPrivateFieldGet:dP,__classPrivateFieldIn:hP,__classPrivateFieldSet:fP,__createBinding:Xf,__decorate:GN,__disposeResources:mP,__esDecorate:YN,__exportStar:tP,__extends:HN,__generator:eP,__importDefault:uP,__importStar:cP,__makeTemplateObject:lP,__metadata:ZN,__param:KN,__propKey:JN,__read:Qv,__rest:ds,__rewriteRelativeImportExtension:gP,__runInitializers:XN,__setFunctionName:QN,__spread:rP,__spreadArray:aP,__spreadArrays:nP,__values:vd,default:aD},Symbol.toStringTag,{value:"Module"})),oD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Jf=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},yP=class extends Jf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},sg=class extends Jf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},lg=class extends Jf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var bd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bd||(bd={}));class sD{constructor(t,{headers:r={},customFetch:n,region:a=bd.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=oD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return te(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:s,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const g=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:v}).catch(x=>{throw new yP(x)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new sg(g);if(!g.ok)throw new lg(g);let w=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield g.json():w==="application/octet-stream"||w==="application/pdf"?j=yield g.blob():w==="text/event-stream"?j=g:w==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof lg||s instanceof sg?s.context:void 0}}finally{i&&clearTimeout(i)}})}}const lD=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return bd},FunctionsClient:sD,FunctionsError:Jf,FunctionsFetchError:yP,FunctionsHttpError:lg,FunctionsRelayError:sg},Symbol.toStringTag,{value:"Module"})),vP=Oc(lD);var $t={};const fs=Oc(iD);var iu={},ou={},su={},lu={},cu={},uu={},Ux;function bP(){if(Ux)return uu;Ux=1,Object.defineProperty(uu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return uu.default=e,uu}var Bx;function xP(){if(Bx)return cu;Bx=1,Object.defineProperty(cu,"__esModule",{value:!0});const t=fs.__importDefault(bP());let r=class{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,h;let p=null,m=null,y=null,v=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const x=await l.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=x:m=JSON.parse(x))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,v=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await l.text();try{p=JSON.parse(w),Array.isArray(p)&&l.status===404&&(m=[],p=null,v=200,g="OK")}catch{l.status===404&&w===""?(v=204,g="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:m,count:y,status:v,statusText:g}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,d,f,h,p,m;let y="";const v=l==null?void 0:l.cause;if(v){const g=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",b=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";y=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${g}`,b&&(y+=` (${b})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(a,i)}returns(){return this}overrideTypes(){return this}};return cu.default=r,cu}var Fx;function wP(){if(Fx)return lu;Fx=1,Object.defineProperty(lu,"__esModule",{value:!0});const t=fs.__importDefault(xP());let r=class extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return lu.default=r,lu}var qx;function Zv(){if(qx)return su;qx=1,Object.defineProperty(su,"__esModule",{value:!0});const t=fs.__importDefault(wP()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}};return su.default=n,su}var zx;function _P(){if(zx)return ou;zx=1,Object.defineProperty(ou,"__esModule",{value:!0});const t=fs.__importDefault(Zv());let r=class{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return ou.default=r,ou}var Wx;function cD(){if(Wx)return iu;Wx=1,Object.defineProperty(iu,"__esModule",{value:!0});const e=fs,t=e.__importDefault(_P()),r=e.__importDefault(Zv());let n=class jP{constructor(i,{headers:o={},schema:s,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new jP(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(f="POST",p=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:m,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return iu.default=n,iu}Object.defineProperty($t,"__esModule",{value:!0});$t.PostgrestError=$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const hs=fs,SP=hs.__importDefault(cD());$t.PostgrestClient=SP.default;const OP=hs.__importDefault(_P());$t.PostgrestQueryBuilder=OP.default;const NP=hs.__importDefault(Zv());$t.PostgrestFilterBuilder=NP.default;const PP=hs.__importDefault(wP());$t.PostgrestTransformBuilder=PP.default;const EP=hs.__importDefault(xP());$t.PostgrestBuilder=EP.default;const AP=hs.__importDefault(bP());$t.PostgrestError=AP.default;$t.default={PostgrestClient:SP.default,PostgrestQueryBuilder:OP.default,PostgrestFilterBuilder:NP.default,PostgrestTransformBuilder:PP.default,PostgrestBuilder:EP.default,PostgrestError:AP.default};class kP{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const uD="2.86.2",dD=`realtime-js/${uD}`,TP="1.0.0",fD="2.0.0",Vx=TP,cg=1e4,hD=1e3,pD=100;var Za;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Za||(Za={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var Mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mr||(Mr={}));var ug;(function(e){e.websocket="websocket"})(ug||(ug={}));var ei;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ei||(ei={}));class mD{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,s=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,l.length),m.setUint8(y++,s.length),m.setUint8(y++,o.length),m.setUint8(y++,u.length),m.setUint8(y++,f.length),m.setUint8(y++,r),Array.from(l,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(s,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>m.setUint8(y++,g.charCodeAt(0))),Array.from(f,g=>m.setUint8(y++,g.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,s,l]=n;return r({join_ref:a,ref:i,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class CP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const Hx=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=gD(o,e,t,a),i),{}):{}},gD=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?$P(i,o):dg(o)},$P=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return xD(t,r)}switch(e){case De.bool:return yD(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return vD(t);case De.json:case De.jsonb:return bD(t);case De.timestamp:return wD(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return dg(t);default:return dg(t)}},dg=e=>e,yD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>$P(t,s))}return e},wD=e=>typeof e=="string"?e.replace(" ","T"):e,IP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Np{constructor(t,r,n={},a=cg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fg||(fg={}));let DP=class Bu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bu.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=Bu.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bu.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(s[u]=m),y.length>0&&(l[u]=y)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hg||(hg={}));var go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(go||(go={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));const _D=it;let RP=class MP{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Np(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new CP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new DP(this),this.broadcastEndpointURL=IP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[go.PRESENCE]&&this.bindings[go.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Yr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,g=[];for(let b=0;b<v;b++){const w=y[b],{filter:{event:j,schema:x,table:_,filter:S}}=w,N=p&&p[b];if(N&&N.event===j&&N.schema===x&&N.table===_&&N.filter===S)g.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=it.errored,t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Yr.SUBSCRIBED);return}}).receive("error",p=>{this.state=it.errored,t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===it.joined&&t===go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Np(this,Mr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Np(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>pD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Mr;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,y,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,y,v,g,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,x=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:v,commit_timestamp:g,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:g,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&MP.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mr.close,{},t)}_onError(t){this._on(Mr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hx(t.columns,t.old_record)),r}};const Pp=()=>{},du={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jD=[1e3,2e3,5e3,1e4],SD=1e4,OD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ND=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cg,this.transport=null,this.heartbeatIntervalMs=du.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pp,this.ref=0,this.reconnectTimer=null,this.vsn=Vx,this.logger=Pp,this.conn=null,this.sendBuffer=[],this.serializer=new mD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ug.websocket}`,this.httpEndpoint=IP(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Za.connecting:return ei.Connecting;case Za.open:return ei.Open;case Za.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new RP(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(hD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},du.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Za.open||this.conn.readyState===Za.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:dD};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Mr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new CP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},du.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,l,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:cg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:du.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Pp,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Vx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>jD[m-1]||SD,this.vsn){case TP:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,y)=>y(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,y)=>y(JSON.parse(m));break;case fD:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const PD=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:_D,get REALTIME_LISTEN_TYPES(){return go},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return hg},get REALTIME_PRESENCE_LISTEN_EVENTS(){return fg},get REALTIME_SUBSCRIBE_STATES(){return Yr},RealtimeChannel:RP,RealtimeClient:ND,RealtimePresence:DP,WebSocketFactory:kP},Symbol.toStringTag,{value:"Module"})),LP=Oc(PD);class Cc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function He(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UP extends Cc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xd extends Cc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const e0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ED=()=>Response,pg=e=>{if(Array.isArray(e))return e.map(r=>pg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=pg(n)}),t},AD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kD=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Ep=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},TD=(e,t,r)=>te(void 0,void 0,void 0,function*(){const n=yield ED();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new UP(Ep(a),i,o))}).catch(a=>{t(new xd(Ep(a),a))}):t(new xd(Ep(e),e))}),CD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(AD(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function $c(e,t,r,n,a,i){return te(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,CD(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>TD(l,s,n))})})}function Fl(e,t,r,n){return te(this,void 0,void 0,function*(){return $c(e,"GET",t,r,n)})}function Dr(e,t,r,n,a){return te(this,void 0,void 0,function*(){return $c(e,"POST",t,n,a,r)})}function mg(e,t,r,n,a){return te(this,void 0,void 0,function*(){return $c(e,"PUT",t,n,a,r)})}function $D(e,t,r,n){return te(this,void 0,void 0,function*(){return $c(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function t0(e,t,r,n,a){return te(this,void 0,void 0,function*(){return $c(e,"DELETE",t,n,a,r)})}class ID{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}var BP;class DD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[BP]="BlobDownloadBuilder",this.promise=null}asStream(){return new ID(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}BP=Symbol.toStringTag;const RD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MD{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=e0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Gx),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?mg:Dr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}})}upload(t,r,n){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Gx.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield mg(this.fetch,s.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Dr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new Cc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}update(t,r,n){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return te(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}copy(t,r,n){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield Dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return te(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Dr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return te(this,void 0,void 0,function*(){try{const a=yield Dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),l=()=>Fl(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new DD(l,this.shouldThrowOnError)}info(t){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}exists(t){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $D(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n)&&n instanceof xd){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return te(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}list(t,r,n){return te(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},RD),r),{prefix:t||""});return{data:yield Dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listV2(t,r){return te(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const FP="2.86.2",qP={"X-Client-Info":`storage-js/${FP}`};class LD{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qP),r),this.fetch=e0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return te(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Fl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Fl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}createBucket(t){return te(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return te(this,void 0,void 0,function*(){try{return{data:yield mg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}emptyBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ql=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UD(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function BD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function FD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const s=UD(e.baseUrl,n,a),l=await BD(e.auth),u=await t(s,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new ql((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function fu(e){return e.join("")}var qD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:fu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fu(e.namespace)}`}),!0}catch(t){if(t instanceof ql&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ql&&r.status===409)return;throw r}}};function Di(e){return e.join("")}var zD=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ql&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ql&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},WD=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=FD({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new qD(this.client,t),this.tableOps=new zD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class zP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qP),r),this.fetch=e0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(t){return te(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Fl(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}from(t){if(!kD(t))throw new Cc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new WD({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>te(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const r0={"X-Client-Info":`storage-js/${FP}`,"Content-Type":"application/json"};class n0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Fu extends n0{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class WP extends n0{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gg||(gg={}));const Qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VD=()=>Response,VP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HD=e=>Array.from(new Float32Array(e)),GD=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Kx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KD=(e,t,r)=>te(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Fu(Kx(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Fu(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Fu(s,a,o))}}else t(new WP(Kx(e),e))}),YD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(VP(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function XD(e,t,r,n,a,i){return te(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,YD(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>KD(l,s,n))})})}function sr(e,t,r,n,a){return te(this,void 0,void 0,function*(){return XD(e,"POST",t,n,a,r)})}class HP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return te(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return te(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}listIndexes(t){return te(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return te(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}}class GP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return te(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listVectors(t){return te(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}queryVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return te(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class KP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listBuckets(){return te(this,arguments,void 0,function*(t={}){try{return{data:yield sr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class YP extends KP{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new XP(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return te(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return te(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return te(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return te(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class XP extends HP{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new JP(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class JP extends GP{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class JD extends LD{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new MD(this.url,this.headers,t,this.fetch)}get vectors(){return new YP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zP(this.url+"/iceberg",this.headers,this.fetch)}}const QD=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:zP,StorageApiError:UP,StorageClient:JD,StorageError:Cc,StorageUnknownError:xd,StorageVectorsApiError:Fu,StorageVectorsClient:YP,StorageVectorsError:n0,get StorageVectorsErrorCode(){return gg},StorageVectorsUnknownError:WP,VectorBucketApi:KP,VectorBucketScope:XP,VectorDataApi:GP,VectorIndexApi:HP,VectorIndexScope:JP,isPlainObject:VP,isStorageError:He,isStorageVectorsError:Xt,normalizeToFloat32:HD,resolveFetch:Qf,resolveResponse:VD,validateVectorDimension:GD},Symbol.toStringTag,{value:"Module"})),ZD=Oc(QD);var QP={},Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.version=void 0;Zf.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Zf;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(QP);var ZP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,i,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var f;const h=(f=await i())!==null&&f!==void 0?f:a;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(u,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=n})(ZP);var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.isBrowser=void 0;Aa.uuid=eR;Aa.ensureTrailingSlash=eE;Aa.applySettingDefaults=rR;Aa.validateSupabaseUrl=nR;function eR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function eE(e){return e.endsWith("/")?e:e+"/"}const tR=()=>typeof window<"u";Aa.isBrowser=tR;function rR(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function nR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eh={};const tE="2.86.2",Wi=30*1e3,yg=3,Ap=yg*Wi,aR="http://localhost:9999",iR="supabase.auth.token",oR={"X-Client-Info":`gotrue-js/${tE}`},vg="X-Supabase-Api-Version",rE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lR=10*60*1e3;let ko=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let nE=class extends ko{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function aE(e){return ne(e)&&e.name==="AuthApiError"}let ta=class extends ko{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Un=class extends ko{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Kt=class extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function iE(e){return ne(e)&&e.name==="AuthSessionMissingError"}let Ha=class extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rl=class extends Un{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},nl=class extends Un{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function oE(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}let bg=class extends Un{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wd=class extends Un{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function qu(e){return ne(e)&&e.name==="AuthRetryableFetchError"}let xg=class extends Un{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function cR(e){return ne(e)&&e.name==="AuthWeakPasswordError"}let _d=class extends Un{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yx=` 	
\r=`.split(""),uR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yx.length;t+=1)e[Yx[t].charCodeAt(0)]=-2;for(let t=0;t<jd.length;t+=1)e[jd[t].charCodeAt(0)]=t;return e})();function Xx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jd[n]),t.queuedBits-=6}}function sE(e,t,r){const n=uR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Jx(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{hR(o,n,r)};for(let o=0;o<e.length;o+=1)sE(e.charCodeAt(o),a,i);return t.join("")}function dR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dR(n,t)}}function hR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)sE(e.charCodeAt(a),r,n);return new Uint8Array(t)}function pR(e){const t=[];return fR(e,r=>t.push(r)),new Uint8Array(t)}function ii(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Xx(a,r,n)),Xx(null,r,n),t.join("")}function mR(e){return Math.round(Date.now()/1e3)+e}function gR(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},lE=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function yR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const cE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ma=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(e,t)=>{await e.removeItem(t)};class th{constructor(){this.promise=new th.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}th.promiseConstructor=Promise;function kp(e){const t=e.split(".");if(t.length!==3)throw new _d("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sR.test(t[n]))throw new _d("JWT not in base64url format");return{header:JSON.parse(Jx(t[0])),payload:JSON.parse(Jx(t[1])),signature:yo(t[2]),raw:{header:t[0],payload:t[1]}}}async function bR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xR(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function wR(e){return("0"+e.toString(16)).substr(-2)}function _R(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,wR).join("")}async function jR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function SR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(e,t,r=!1){const n=_R();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Vi(e,`${t}-code-verifier`,a);const i=await SR(n);return[i,n===i?"plain":"s256"]}const OR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NR(e){const t=e.headers.get(vg);if(!t||!t.match(OR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ER(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mi(e){if(!AR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kR(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Qx(e){return JSON.parse(JSON.stringify(e))}const Ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TR=[502,503,504];async function Zx(e){var t;if(!vR(e))throw new wd(Ga(e),0);if(TR.includes(e.status))throw new wd(Ga(e),e.status);let r;try{r=await e.json()}catch(i){throw new ta(Ga(i),i)}let n;const a=NR(e);if(a&&a.getTime()>=rE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xg(Ga(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xg(Ga(r),e.status,r.weak_password.reasons);throw new nE(Ga(r),e.status||500,n)}const CR=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ce(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[vg]||(i[vg]=rE["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $R(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $R(e,t,r,n,a,i){const o=CR(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new wd(Ga(l),0)}if(s.ok||await Zx(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await Zx(l)}}function $r(e){var t;let r=null;RR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=mR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ew(e){const t=$r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function IR(e){return{data:e,error:null}}function DR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=ds(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function tw(e){return e}function RR(e){return e.access_token&&e.refresh_token&&e.expires_in}const zu=["global","local","others"];let a0=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zu[0]){if(zu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zu.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ra})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ds(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:DR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ra})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tw});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mi(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ra})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Mi(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ra})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Mi(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ra})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Mi(t.userId);try{const{data:r,error:n}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Mi(t.userId),Mi(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tw});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}};function rw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ka={debug:!!(globalThis&&lE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let uE=class extends i0{};class MR extends i0{}async function dE(e,t,r){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ka.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const nw={};async function LR(e,t,r){var n;const a=(n=nw[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new MR(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return nw[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await a,null;throw o}),await i}function UR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function BR(e){return parseInt(e,16)}function FR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function qR(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=fE(e.address),m=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}g+=b}return`${v}
${g}`}class st extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sd extends st{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function zR({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(hE(o)){if(i.rp.id!==o)return new st({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function WR({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(hE(n)){if(r.rpId!==n)return new st({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class VR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const HR=new VR;function GR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ds(e,["challenge","user","excludeCredentials"]),i=yo(t).buffer,o=Object.assign(Object.assign({},r),{id:yo(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:yo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function KR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ds(e,["challenge","allowCredentials"]),a=yo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:yo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function YR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ii(new Uint8Array(e.response.attestationObject)),clientDataJSON:ii(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ii(new Uint8Array(a.authenticatorData)),clientDataJSON:ii(new Uint8Array(a.clientDataJSON)),signature:ii(new Uint8Array(a.signature)),userHandle:a.userHandle?ii(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function aw(){var e,t;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function JR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sd("Browser returned unexpected credential type",t)}:{data:null,error:new Sd("Empty credential response",t)}}catch(t){return{data:null,error:zR({error:t,options:e})}}}async function QR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sd("Browser returned unexpected credential type",t)}:{data:null,error:new Sd("Empty credential response",t)}}catch(t){return{data:null,error:WR({error:t,options:e})}}}const ZR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},eM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Od(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=Od(s,o):n[i]=Od(o)}else n[i]=o}return n}function tM(e,t){return Od(ZR,e,t||{})}function rM(e,t){return Od(eM,e,t||{})}class nM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=a??HR.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=tM(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await JR({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=rM(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await QR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new ko("rpId is required for WebAuthn authentication")};try{if(!aw())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new ko("rpId is required for WebAuthn registration")};try{if(!aw())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in register",o)}}}}UR();const aM={url:aR,storageKey:iR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function iw(e,t,r){return await r()}const Li={};let o0=class wg{get jwks(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},aM),t);if(this.storageKey=i.storageKey,this.instanceID=(r=wg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&St()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new a0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cE(i.fetch),this.lock=i.lock||iw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:St()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dE:this.lock=iw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=rw(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(St()&&(r=yR(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),St()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oE(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new ta("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:$r}),{data:o,error:s}=i;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ri(this.storage,this.storageKey)),i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:$r})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$r})}else throw new rl("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ew})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ew})}else throw new rl("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Ha;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,l,u,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:g,options:b}=t;let w;if(St())if(typeof v=="object")w=v;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")w=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),x=await w.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=fE(x[0]);let S=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const T=await w.request({method:"eth_chainId"});S=BR(T)}const N={domain:j.host,address:_,statement:g,uri:j.href,version:"1",chainId:S,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=qR(N),m=await w.request({method:"personal_sign",params:[FR(p),_]})}try{const{data:y,error:v}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$r});if(v)throw v;if(!y||!y.session||!y.user){const g=new Ha;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,o,s,l,u,d,f,h,p;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:v,wallet:g,statement:b,options:w}=t;let j;if(St())if(typeof g=="object")j=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const x=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),b?{statement:b}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${x.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:v,error:g}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ii(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$r});if(g)throw g;if(!v||!v.session||!v.user){const b=new Ha;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(ne(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$r});if(await jt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const s=new Ha;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$r}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Ha;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ri(this.storage,this.storageKey));const{error:f}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new rl("You must provide either an email or phone number.")}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$r});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ri(this.storage,this.storageKey));const u=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:IR});return!((i=u.data)===null||i===void 0)&&i.url&&St()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kt;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new rl("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ap:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ma(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Tp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=kR(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ra}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ra})})}catch(r){if(ne(r))return iE(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Kt;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Ri(this.storage,this.storageKey));const{data:u,error:d}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:ra});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=kp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kt;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!St())throw new nl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bg("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!i||!s||!o||!u)throw new nl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(aE(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=gR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ri(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return St()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ne(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:l,access_token:u,nonce:d}=t,f=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$r}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ha}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xR(async a=>(a>0&&await bR(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$r})),(a,i)=>{const o=200*Math.pow(2,a);return i&&qu(i)&&Date.now()+o-n<Wi})}catch(n){if(this._debug(r,"error",n),ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),St()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ma(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Vi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Tp()}else if(a&&!a.user&&!a.user){const o=await Ma(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await jt(this.storage,this.storageKey+"-user"),await Vi(this.storage,this.storageKey,a)):a.user=Tp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ap;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ap}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),qu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new th;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),ne(i)){const o={data:null,error:i};return qu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Qx(a);await Vi(this.storage,this.storageKey,i)}else{const a=Qx(r);await Vi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wi}ms, refresh threshold is ${yg} ticks`),a<=yg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof i0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ri(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?YR(t.webauthn.credential_response):XR(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:GR(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:KR(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=kp(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Kt});const o=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&St()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Kt});const o=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&St()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+lR>a)return n;const{data:i,error:o}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=kp(n);r!=null&&r.allowExpired||PR(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=ER(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,pR(`${s}.${l}`)))throw new _d("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}};o0.nextInstanceID={};const iM=a0,oM=o0,sM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:iM,AuthApiError:nE,AuthClient:oM,AuthError:ko,AuthImplicitGrantRedirectError:nl,AuthInvalidCredentialsError:rl,AuthInvalidJwtError:_d,AuthInvalidTokenResponseError:Ha,AuthPKCEGrantCodeExchangeError:bg,AuthRetryableFetchError:wd,AuthSessionMissingError:Kt,AuthUnknownError:ta,AuthWeakPasswordError:xg,CustomAuthError:Un,GoTrueAdminApi:a0,GoTrueClient:o0,NavigatorLockAcquireTimeoutError:uE,SIGN_OUT_SCOPES:zu,isAuthApiError:aE,isAuthError:ne,isAuthImplicitGrantRedirectError:oE,isAuthRetryableFetchError:qu,isAuthSessionMissingError:iE,isAuthWeakPasswordError:cR,lockInternals:Ka,navigatorLock:dE,processLock:LR},Symbol.toStringTag,{value:"Module"})),pE=Oc(sM);Object.defineProperty(eh,"__esModule",{value:!0});eh.SupabaseAuthClient=void 0;const lM=pE;class cM extends lM.AuthClient{constructor(t){super(t)}}eh.SupabaseAuthClient=cM;Object.defineProperty(gd,"__esModule",{value:!0});const uM=vP,dM=$t,fM=LP,hM=ZD,hu=QP,pM=ZP,ow=Aa,mM=eh;let gM=class{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=(0,ow.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:hu.DEFAULT_DB_OPTIONS,realtime:hu.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},hu.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:hu.DEFAULT_GLOBAL_OPTIONS},d=(0,ow.applySettingDefaults)(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,pM.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new dM.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new hM.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new uM.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:l,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mM.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:l,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fM.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};gd.default=gM;(function(e){var t=Jr&&Jr.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(f,h);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,m)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=Jr&&Jr.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},n=Jr&&Jr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(gd);r(pE,e);var i=$t;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=vP;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(LP,e);var s=gd;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(d,f,h)=>new a.default(d,f,h);e.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Jv);const mE=Ne(Jv),yM=jS({__proto__:null,default:mE},[Jv]),{PostgrestError:Vse,FunctionsHttpError:Hse,FunctionsFetchError:Gse,FunctionsRelayError:Kse,FunctionsError:Yse,FunctionRegion:Xse,SupabaseClient:Jse,createClient:vM,GoTrueAdminApi:Qse,GoTrueClient:Zse,AuthAdminApi:ele,AuthClient:tle,navigatorLock:rle,NavigatorLockAcquireTimeoutError:nle,lockInternals:ale,processLock:ile,SIGN_OUT_SCOPES:ole,AuthError:sle,AuthApiError:lle,AuthUnknownError:cle,CustomAuthError:ule,AuthSessionMissingError:dle,AuthInvalidTokenResponseError:fle,AuthInvalidCredentialsError:hle,AuthImplicitGrantRedirectError:ple,AuthPKCEGrantCodeExchangeError:mle,AuthRetryableFetchError:gle,AuthWeakPasswordError:yle,AuthInvalidJwtError:vle,isAuthError:ble,isAuthApiError:xle,isAuthSessionMissingError:wle,isAuthImplicitGrantRedirectError:_le,isAuthRetryableFetchError:jle,isAuthWeakPasswordError:Sle,RealtimePresence:Ole,RealtimeChannel:Nle,RealtimeClient:Ple,REALTIME_LISTEN_TYPES:Ele,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Ale,REALTIME_PRESENCE_LISTEN_EVENTS:kle,REALTIME_SUBSCRIBE_STATES:Tle,REALTIME_CHANNEL_STATES:Cle}=mE||yM,bM="https://weyymipalqdphlgydvnh.supabase.co",xM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndleXltaXBhbHFkcGhsZ3lkdm5oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNDQxNDUsImV4cCI6MjA4MDYyMDE0NX0.eG3Rord9Jr6-ZYYtI74uN6EyIEjuXxo2odDKVc8fd7E";let X=null;try{X=vM(bM,xM),console.log(" Supabase connected successfully")}catch(e){console.error(" Error initializing Supabase:",e)}const gE=O.createContext(void 0);function wM({children:e}){const[t,r]=O.useState(null),[n,a]=O.useState(!0);O.useEffect(()=>{i()},[]);const i=async()=>{var l;try{if(X){const{data:{session:u}}=await X.auth.getSession();if(u!=null&&u.user){const{data:d,error:f}=await X.from("users").select("*").eq("id",u.user.id).single();if(d&&!f){const h=((l=d.role)==null?void 0:l.trim())||d.role;console.log("=== USER DATA LOADED ==="),console.log("User data from database:",d),console.log("Role value (raw):",JSON.stringify(d.role)),console.log("Role value (trimmed):",JSON.stringify(h)),console.log("Role type:",typeof h),console.log("Is admin?",h==="admin"),console.log("========================"),r({id:d.id,email:d.email,name:d.name,role:h})}}}else{const u=localStorage.getItem("auth_user");u&&r(JSON.parse(u))}}catch(u){console.error("Error checking auth:",u)}finally{a(!1)}},o=async(l,u)=>{var d;try{if(X){const{data:f,error:h}=await X.auth.signInWithPassword({email:l,password:u});if(h)return{success:!1,error:h.message};if(f.user){const{data:p,error:m}=await X.from("users").select("*").eq("id",f.user.id).single();if(console.log("=== USER QUERY DEBUG ==="),console.log("User ID from auth:",f.user.id),console.log("User email from auth:",f.user.email),console.log("Query result - userData:",p),console.log("Query result - userError:",m),m&&(console.log("Error code:",m.code),console.log("Error message:",m.message),console.log("Error details:",JSON.stringify(m,null,2))),console.log("========================"),m)return{success:!1,error:`Database error: ${m.message||"Unknown error"}. Code: ${m.code||"N/A"}`};if(p){const y=((d=p.role)==null?void 0:d.trim())||p.role,v={id:p.id,email:p.email,name:p.name,role:y};return r(v),{success:!0}}else return{success:!1,error:"User not found in database"}}}else{const h=JSON.parse(localStorage.getItem("auth_users")||"[]").find(p=>p.email===l&&p.password===u);if(h){const p={id:h.id,email:h.email,name:h.name,role:h.role};return r(p),localStorage.setItem("auth_user",JSON.stringify(p)),{success:!0}}else return{success:!1,error:"Invalid email or password"}}return{success:!1,error:"Login failed"}}catch(f){return console.error("Login error:",f),{success:!1,error:f.message||"Login failed"}}},s=async()=>{try{X&&await X.auth.signOut(),localStorage.removeItem("auth_user"),r(null)}catch(l){console.error("Logout error:",l)}};return c.jsx(gE.Provider,{value:{user:t,loading:n,login:o,logout:s},children:e})}function ka(){const e=O.useContext(gE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function _M({children:e}){const{user:t,loading:r}=ka();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-gray-600",children:"Loading..."})}):t?c.jsx(c.Fragment,{children:e}):c.jsx(VN,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>O.createElement("svg",{ref:d,...jM,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${SM(e)}`,s].join(" "),...u},[...t.map(([f,h])=>O.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=he("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=he("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=he("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=he("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=he("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BM="modulepreload",FM=function(e){return"/"+e},dw={},wE=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=FM(l),l in dw)return;dw[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":BM,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};X||console.error(" Supabase is not configured. Please set up your .env file with Supabase credentials.");const La=e=>({id:e.id,name:e.name,address:e.address,addressLine2:e.address_line_2,city:e.city,country:e.country,images:e.images||[],createdAt:new Date(e.created_at),shortCode:e.short_code,state:e.state,postalCode:e.postal_code,notes:e.notes,isActive:e.is_active??!0}),Ua=e=>({id:e.id,propertyId:e.property_id,unitNumber:e.unit_number,type:e.type,floor:e.floor,bedrooms:e.bedrooms,bathrooms:e.bathrooms,squareFeet:e.square_feet,monthlyRent:parseFloat(e.monthly_rent)||0,isOccupied:e.is_occupied,images:e.images||[],notes:e.notes,createdAt:new Date(e.created_at)}),Ba=e=>({id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,secondaryPhone:e.secondary_phone,whatsappNumber:e.whatsapp_number,secondaryWhatsappNumber:e.secondary_whatsapp_number,nationalId:e.national_id,emergencyContact:e.emergency_contact,emergencyPhone:e.emergency_phone,createdAt:new Date(e.created_at),idType:e.id_type,idNumber:e.id_number,idExpiryDate:e.id_expiry_date?new Date(e.id_expiry_date):void 0,billingAddress:e.billing_address,paymentMethod:e.payment_method,notificationPreference:e.notification_preference,notes:e.notes}),Ms=e=>({id:e.id,tenantId:e.tenant_id,unitId:e.unit_id,startDate:new Date(e.start_date),endDate:new Date(e.end_date),monthlyRent:parseFloat(e.monthly_rent)||0,securityDeposit:parseFloat(e.security_deposit)||0,paymentFrequency:e.payment_frequency,numberOfInstallments:e.number_of_installments,status:e.status,reminderPeriod:e.reminder_period,notes:e.notes,createdAt:new Date(e.created_at),contractNumber:e.contract_number,dueDateDay:e.due_date_day,attachments:e.attachments||[]}),Cp=e=>({id:e.id,contractId:e.contract_id,invoiceNumber:e.invoice_number,installmentNumber:e.installment_number,dueDate:new Date(e.due_date),amount:parseFloat(e.amount)||0,paidAmount:parseFloat(e.paid_amount)||0,remainingAmount:parseFloat(e.remaining_amount)||0,status:e.status,sentDate:e.sent_date?new Date(e.sent_date):void 0,createdAt:new Date(e.created_at),notes:e.notes,adminStatus:e.admin_status,paymentType:e.payment_type}),Ui=e=>({id:e.id,invoiceId:e.invoice_id,amount:parseFloat(e.amount)||0,paymentDate:new Date(e.payment_date),paymentMethod:e.payment_method,referenceNumber:e.reference_number,notes:e.notes,createdAt:new Date(e.created_at)}),qM=e=>({id:e.id,contractId:e.contract_id,invoiceId:e.invoice_id,reminderDate:new Date(e.reminder_date),message:e.message,isDismissed:e.is_dismissed,createdAt:new Date(e.created_at)}),zM=e=>({name:e.name,address:e.address,address_line_2:e.addressLine2,city:e.city,country:e.country,images:e.images||[],short_code:e.shortCode,state:e.state,postal_code:e.postalCode,notes:e.notes,is_active:e.isActive??!0}),WM=e=>({property_id:e.propertyId,unit_number:e.unitNumber,type:e.type,floor:e.floor,bedrooms:e.bedrooms,bathrooms:e.bathrooms,square_feet:e.squareFeet,monthly_rent:e.monthlyRent,is_occupied:e.isOccupied,images:e.images||[],notes:e.notes}),VM=e=>{var t;return{first_name:e.firstName,last_name:e.lastName,email:e.email,phone:e.phone,secondary_phone:e.secondaryPhone,whatsapp_number:e.whatsappNumber,secondary_whatsapp_number:e.secondaryWhatsappNumber,national_id:e.nationalId,emergency_contact:e.emergencyContact,emergency_phone:e.emergencyPhone,id_type:e.idType,id_number:e.idNumber,id_expiry_date:(t=e.idExpiryDate)==null?void 0:t.toISOString().split("T")[0],billing_address:e.billingAddress,payment_method:e.paymentMethod,notification_preference:e.notificationPreference,notes:e.notes}},HM=e=>({tenant_id:e.tenantId,unit_id:e.unitId,contract_number:e.contractNumber,start_date:e.startDate.toISOString().split("T")[0],end_date:e.endDate.toISOString().split("T")[0],monthly_rent:e.monthlyRent,security_deposit:e.securityDeposit,payment_frequency:e.paymentFrequency,number_of_installments:e.numberOfInstallments,status:e.status,reminder_period:e.reminderPeriod,due_date_day:e.dueDateDay,notes:e.notes,attachments:e.attachments||[]}),GM=e=>{let t;const r=e.paymentDate;return r instanceof Date?t=r.toISOString().split("T")[0]:typeof r=="string"?t=r.split("T")[0]:t=new Date(r).toISOString().split("T")[0],{invoice_id:e.invoiceId,amount:Math.round(e.amount*100)/100,payment_date:t,payment_method:e.paymentMethod,reference_number:e.referenceNumber,notes:e.notes}},fw=e=>({id:e.id,requestType:e.request_type,requestedBy:e.requested_by,approvedBy:e.approved_by,status:e.status,entityType:e.entity_type,entityId:e.entity_id,requestData:e.request_data,rejectionReason:e.rejection_reason,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),approvedAt:e.approved_at?new Date(e.approved_at):void 0});class KM{checkSupabase(){return X?!0:(console.warn(" Supabase is not configured. Please set up your .env file."),!1)}async getProperties(){if(!this.checkSupabase())return[];const{data:t,error:r}=await X.from("properties").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching properties:",r),[]):t?t.map(La):[]}async getPropertyById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await X.from("properties").select("*").eq("id",t).single();return n?(console.error("Error fetching property:",n),null):La(r)}async createProperty(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await X.from("properties").insert(zM(t)).select().single();if(n)throw console.error("Error creating property:",n),n;return La(r)}async updateProperty(t,r){const n={};if(r.name!==void 0&&(n.name=r.name),r.address!==void 0&&(n.address=r.address),r.addressLine2!==void 0&&(n.address_line_2=r.addressLine2),r.city!==void 0&&(n.city=r.city),r.country!==void 0&&(n.country=r.country),r.images!==void 0&&(n.images=r.images),r.shortCode!==void 0&&(n.short_code=r.shortCode),r.state!==void 0&&(n.state=r.state),r.postalCode!==void 0&&(n.postal_code=r.postalCode),r.notes!==void 0&&(n.notes=r.notes),r.isActive!==void 0&&(n.is_active=r.isActive),!this.checkSupabase())return null;const{data:a,error:i}=await X.from("properties").update(n).eq("id",t).select().single();return i?(console.error("Error updating property:",i),null):La(a)}async deleteProperty(t){if(!this.checkSupabase())return!1;const{error:r}=await X.from("properties").delete().eq("id",t);return r?(console.error("Error deleting property:",r),!1):!0}async getUnits(t){if(!this.checkSupabase())return[];let r=X.from("units").select("*").order("created_at",{ascending:!1});t&&(r=r.eq("property_id",t));const{data:n,error:a}=await r;return a?(console.error("Error fetching units:",a),[]):n.map(Ua)}async getUnitById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await X.from("units").select("*").eq("id",t).single();return n?(console.error("Error fetching unit:",n),null):Ua(r)}async createUnit(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await X.from("units").insert(WM(t)).select().single();if(n)throw console.error("Error creating unit:",n),n;return Ua(r)}async updateUnit(t,r){const n={};if(r.propertyId!==void 0&&(n.property_id=r.propertyId),r.unitNumber!==void 0&&(n.unit_number=r.unitNumber),r.type!==void 0&&(n.type=r.type),r.floor!==void 0&&(n.floor=r.floor),r.bedrooms!==void 0&&(n.bedrooms=r.bedrooms),r.bathrooms!==void 0&&(n.bathrooms=r.bathrooms),r.squareFeet!==void 0&&(n.square_feet=r.squareFeet),r.monthlyRent!==void 0&&(n.monthly_rent=r.monthlyRent),r.isOccupied!==void 0&&(n.is_occupied=r.isOccupied),r.images!==void 0&&(n.images=r.images),r.notes!==void 0&&(n.notes=r.notes),!this.checkSupabase())return null;const{data:a,error:i}=await X.from("units").update(n).eq("id",t).select().single();return i?(console.error("Error updating unit:",i),null):Ua(a)}async deleteUnit(t){if(!this.checkSupabase())return!1;const{error:r}=await X.from("units").delete().eq("id",t);return r?(console.error("Error deleting unit:",r),!1):!0}async getTenants(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await X.from("tenants").select(`
        id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
        national_id, emergency_contact, emergency_phone, created_at,
        id_type, id_number, id_expiry_date, billing_address, payment_method, notification_preference, notes
      `).order("created_at",{ascending:!1}).range(t.from,t.to);return n?(console.error("Error fetching tenants:",n),[]):r.map(Ba)}async getTenantById(t){if(!this.checkSupabase())return null;const{data:r,error:n}=await X.from("tenants").select("*").eq("id",t).single();return n?(console.error("Error fetching tenant:",n),null):Ba(r)}async createTenant(t){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:r,error:n}=await X.from("tenants").insert(VM(t)).select().single();if(n)throw console.error("Error creating tenant:",n),n;return Ba(r)}async updateTenant(t,r){var o;const n={};if(r.firstName!==void 0&&(n.first_name=r.firstName),r.lastName!==void 0&&(n.last_name=r.lastName),r.email!==void 0&&(n.email=r.email),r.phone!==void 0&&(n.phone=r.phone),r.secondaryPhone!==void 0&&(n.secondary_phone=r.secondaryPhone),r.whatsappNumber!==void 0&&(n.whatsapp_number=r.whatsappNumber),r.secondaryWhatsappNumber!==void 0&&(n.secondary_whatsapp_number=r.secondaryWhatsappNumber),r.nationalId!==void 0&&(n.national_id=r.nationalId),r.emergencyContact!==void 0&&(n.emergency_contact=r.emergencyContact),r.emergencyPhone!==void 0&&(n.emergency_phone=r.emergencyPhone),r.idType!==void 0&&(n.id_type=r.idType),r.idNumber!==void 0&&(n.id_number=r.idNumber),r.idExpiryDate!==void 0&&(n.id_expiry_date=(o=r.idExpiryDate)==null?void 0:o.toISOString().split("T")[0]),r.billingAddress!==void 0&&(n.billing_address=r.billingAddress),r.paymentMethod!==void 0&&(n.payment_method=r.paymentMethod),r.notificationPreference!==void 0&&(n.notification_preference=r.notificationPreference),r.notes!==void 0&&(n.notes=r.notes),!this.checkSupabase())return null;const{data:a,error:i}=await X.from("tenants").update(n).eq("id",t).select().single();return i?(console.error("Error updating tenant:",i),null):Ba(a)}async deleteTenant(t){if(!this.checkSupabase())return!1;const{data:r}=await X.from("contracts").select("id").eq("tenant_id",t).limit(1);if(r&&r.length>0)return!1;const{error:n}=await X.from("tenants").delete().eq("id",t);return n?(console.error("Error deleting tenant:",n),!1):!0}async getContracts(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await X.from("contracts").select(`
        *,
        tenant:tenants(
          id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
          payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date, billing_address
        ),
        unit:units(
          id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
          property:properties(
            id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
          )
        )
      `).order("created_at",{ascending:!1}).range(t.from,t.to);return n?(console.error("Error fetching contracts:",n),[]):r.map(a=>{const i=Ms(a),o=Ba(a.tenant),s=Ua(a.unit),l=La(a.unit.property);return{...i,tenant:o,unit:s,property:l}}).filter(a=>a.tenant&&a.unit&&a.property)}async createContract(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");if(n!=="admin"&&r)try{return{success:!0,requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("contract_create","contract",t,r)).id,message:"Contract creation request submitted for approval"}}catch(s){return console.error("Error creating approval request:",s),{success:!1,message:s.message||"Failed to create approval request"}}if(t.status==="active"){const{data:s}=await X.from("contracts").select("id").eq("unit_id",t.unitId).eq("status","active").or(`and(start_date.lte.${t.endDate.toISOString().split("T")[0]},end_date.gte.${t.startDate.toISOString().split("T")[0]})`);if(s&&s.length>0)return{success:!1,message:"This unit already has an active contract for the selected dates."};const{data:l}=await X.from("contracts").select("id").eq("tenant_id",t.tenantId).eq("status","active").limit(1);if(l&&l.length>0)return{success:!1,message:"This tenant already has an active contract."}}const{data:a,error:i}=await X.from("contracts").insert(HM(t)).select().single();if(i)return console.error("Error creating contract:",i),{success:!1,message:i.message};const o=Ms(a);return t.status==="active"&&await this.generateInvoicesForContract(o),{success:!0,contract:o}}async terminateContract(t,r,n){if(!this.checkSupabase())return!1;if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("contract_terminate","contract",{contractId:t},r)).id,message:"Contract termination request submitted for approval"}}catch(o){return console.error("Error creating approval request:",o),!1}const{error:a}=await X.from("contracts").update({status:"terminated"}).eq("id",t);if(a)return console.error("Error terminating contract:",a),!1;const{data:i}=await X.from("contracts").select("unit_id").eq("id",t).single();return i&&(await X.from("units").update({is_occupied:!1}).eq("id",i.unit_id),await X.from("invoices").update({status:"cancelled"}).eq("contract_id",t).in("status",["pending","partial","overdue"])),!0}async updateContract(t,r,n,a){if(!this.checkSupabase())return null;const{data:i,error:o}=await X.from("contracts").select("status").eq("id",t).single();if(o||!i)return console.error("Error fetching contract:",o),null;if(i.status==="active"){if(r.status&&r.status!=="terminated")throw new Error("Active contracts cannot be edited. Only termination is allowed.");const f=["status"];if(Object.keys(r).some(m=>!f.includes(m))&&r.status!=="terminated")throw new Error("Active contracts cannot be edited. Only termination is allowed.")}if(i.status==="draft"&&r.status==="active"&&a!=="admin"&&n)throw new Error("Changing contract status to active requires admin approval");const s={};r.tenantId!==void 0&&(s.tenant_id=r.tenantId),r.unitId!==void 0&&(s.unit_id=r.unitId),r.contractNumber!==void 0&&(s.contract_number=r.contractNumber),r.startDate!==void 0&&(s.start_date=r.startDate.toISOString().split("T")[0]),r.endDate!==void 0&&(s.end_date=r.endDate.toISOString().split("T")[0]),r.monthlyRent!==void 0&&(s.monthly_rent=r.monthlyRent),r.securityDeposit!==void 0&&(s.security_deposit=r.securityDeposit),r.paymentFrequency!==void 0&&(s.payment_frequency=r.paymentFrequency),r.numberOfInstallments!==void 0&&(s.number_of_installments=r.numberOfInstallments),r.status!==void 0&&(s.status=r.status),r.reminderPeriod!==void 0&&(s.reminder_period=r.reminderPeriod),r.dueDateDay!==void 0&&(s.due_date_day=r.dueDateDay),r.notes!==void 0&&(s.notes=r.notes),r.attachments!==void 0&&(s.attachments=r.attachments||[]);const{data:l,error:u}=await X.from("contracts").update(s).eq("id",t).select().single();if(u)return console.error("Error updating contract:",u),null;const d=Ms(l);return i.status!=="active"&&r.status==="active"&&await this.generateInvoicesForContract(d),d}async generateInvoicesForContract(t){const{addMonths:r,differenceInMonths:n}=await wE(async()=>{const{addMonths:u,differenceInMonths:d}=await import("./index-KgtYnRkc.js");return{addMonths:u,differenceInMonths:d}},[]),a=n(t.endDate,t.startDate),i=t.monthlyRent*a;let o=1,s=t.monthlyRent;t.paymentFrequency==="1_payment"?(o=12,s=i):t.paymentFrequency==="2_payment"?(o=6,s=i/2):t.paymentFrequency==="3_payment"?(o=4,s=i/3):t.paymentFrequency==="4_payment"&&(o=3,s=i/4);const l=[];for(let u=0;u<t.numberOfInstallments;u++){const d=r(t.startDate,u*o);t.dueDateDay&&d.setDate(t.dueDateDay);const f=`INV-${t.id.slice(-4).toUpperCase()}-${String(u+1).padStart(3,"0")}`;l.push({contract_id:t.id,invoice_number:f,installment_number:u+1,due_date:d.toISOString().split("T")[0],amount:s,paid_amount:0,remaining_amount:s,status:"pending"})}if(l.length>0){if(!this.checkSupabase())return;const{error:u}=await X.from("invoices").insert(l);u&&console.error("Error generating invoices:",u)}}async getInvoices(t={from:0,to:199}){if(!this.checkSupabase())return[];const{data:r,error:n}=await X.from("invoices").select(`
        *,
        contract:contracts!inner(
          *,
          tenant:tenants(
            id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
            payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date
          ),
          unit:units(
            id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
            property:properties(
              id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
            )
          )
        )
      `).order("created_at",{ascending:!1}).range(t.from,t.to);if(n)return console.error("Error fetching invoices:",n),[];const a=r.map(s=>s.id),{data:i}=await X.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").in("invoice_id",a),o=new Map;return i&&i.forEach(s=>{o.has(s.invoice_id)||o.set(s.invoice_id,[]),o.get(s.invoice_id).push(Ui(s))}),r.map(s=>{if(!s.contract||!s.contract.tenant||!s.contract.unit||!s.contract.unit.property)return null;const l=Cp(s),u=Ms(s.contract),d=Ba(s.contract.tenant),f=Ua(s.contract.unit),h=La(s.contract.unit.property),p=o.get(l.id)||[];return{...l,contract:u,tenant:d,unit:f,property:h,payments:p}}).filter(s=>s!==null)}async getInvoicesByDateRange(t,r,n={from:0,to:199}){if(!this.checkSupabase())return[];const{data:a,error:i}=await X.from("invoices").select(`
        *,
        contract:contracts!inner(
          *,
          tenant:tenants(
            id, first_name, last_name, email, phone, secondary_phone, whatsapp_number, secondary_whatsapp_number,
            payment_method, notification_preference, national_id, id_type, id_number, id_expiry_date
          ),
          unit:units(
            id, property_id, unit_number, type, floor, bedrooms, bathrooms, square_feet, monthly_rent, is_occupied, images, notes, created_at,
            property:properties(
              id, name, address, address_line_2, city, country, state, postal_code, short_code, notes, is_active, created_at
            )
          )
        )
      `).gte("due_date",t.toISOString().split("T")[0]).lte("due_date",r.toISOString().split("T")[0]).order("due_date",{ascending:!0}).range(n.from,n.to);if(i)return console.error("Error fetching invoices by date range:",i),[];const o=a.map(u=>u.id),{data:s}=await X.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").in("invoice_id",o),l=new Map;return s&&s.forEach(u=>{l.has(u.invoice_id)||l.set(u.invoice_id,[]),l.get(u.invoice_id).push(Ui(u))}),a.map(u=>{if(!u.contract||!u.contract.tenant||!u.contract.unit||!u.contract.unit.property)return null;const d=Cp(u),f=Ms(u.contract),h=Ba(u.contract.tenant),p=Ua(u.contract.unit),m=La(u.contract.unit.property),y=l.get(d.id)||[];return{...d,contract:f,tenant:h,unit:p,property:m,payments:y}}).filter(u=>u!==null)}async updateInvoice(t,r){var o;if(!this.checkSupabase())return null;const n={};r.paidAmount!==void 0&&(n.paid_amount=r.paidAmount),r.remainingAmount!==void 0&&(n.remaining_amount=r.remainingAmount),r.status!==void 0&&(n.status=r.status),r.adminStatus!==void 0&&(n.admin_status=r.adminStatus),r.paymentType!==void 0&&(n.payment_type=r.paymentType),r.sentDate!==void 0&&(n.sent_date=(o=r.sentDate)==null?void 0:o.toISOString().split("T")[0]),r.notes!==void 0&&(n.notes=r.notes);const{data:a,error:i}=await X.from("invoices").update(n).eq("id",t).select().single();return i?(console.error("Error updating invoice:",i),null):Cp(a)}async getPayments(t,r={from:0,to:199}){if(!this.checkSupabase())return[];let n=X.from("payments").select("id, invoice_id, amount, payment_date, payment_method, reference_number, notes, created_at").order("payment_date",{ascending:!1}).range(r.from,r.to);t&&(n=n.eq("invoice_id",t));const{data:a,error:i}=await n;return i?(console.error("Error fetching payments:",i),[]):a.map(Ui)}async createPayment(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:a,error:i}=await X.from("invoices").select("id, contract_id, installment_number, paid_amount, remaining_amount, amount, status").eq("id",t.invoiceId).single();if(i||!a)throw new Error("Invoice not found");const{data:o,error:s}=await X.from("invoices").select("id, installment_number, status, remaining_amount").eq("contract_id",a.contract_id).order("installment_number",{ascending:!0});if(s)console.error("Error fetching contract invoices:",s);else if(o){const h=o.filter(p=>p.installment_number<a.installment_number).find(p=>p.status!=="paid"||p.remaining_amount&&p.remaining_amount>.01);if(h)throw new Error(`Cannot create payment for installment ${a.installment_number}. Installment ${h.installment_number} must be fully paid first.`)}if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("payment_create","payment",t,r)).id,message:"Payment request submitted for approval"}}catch(f){throw console.error("Error creating approval request:",f),f}const{data:l,error:u}=await X.from("payments").insert(GM(t)).select().single();if(u)throw console.error("Error creating payment:",u),u;const{data:d}=await X.from("invoices").select("paid_amount, remaining_amount, amount").eq("id",t.invoiceId).single();if(d){const f=Math.round(((d.paid_amount||0)+t.amount)*100)/100,h=Math.round((d.amount-f)*100)/100;let p="pending";if(h<=.01){p="paid";const m=0,y=d.amount;await X.from("invoices").update({paid_amount:y,remaining_amount:m,status:p}).eq("id",t.invoiceId)}else f>0&&(p="partial",await X.from("invoices").update({paid_amount:f,remaining_amount:h,status:p}).eq("id",t.invoiceId))}return Ui(l)}async deletePayment(t,r,n){if(!this.checkSupabase())return!1;const{data:a,error:i}=await X.from("payments").select("*").eq("id",t).single();if(i||!a)return console.error("Error fetching payment:",i),!1;if(n!=="admin"&&r)try{return{requiresApproval:!0,approvalRequestId:(await this.createApprovalRequest("payment_delete","payment",{paymentId:t,payment:Ui(a)},r)).id,message:"Payment deletion request submitted for approval"}}catch(u){return console.error("Error creating approval request:",u),!1}const{error:o}=await X.from("payments").delete().eq("id",t);if(o)return console.error("Error deleting payment:",o),!1;const s=Ui(a),{data:l}=await X.from("invoices").select("paid_amount, remaining_amount, amount").eq("id",s.invoiceId).single();if(l){const u=Math.round(Math.max(0,(l.paid_amount||0)-s.amount)*100)/100,d=Math.round((l.amount-u)*100)/100;let f="pending";if(d<=.01){f="paid";const h=0,p=l.amount;await X.from("invoices").update({paid_amount:p,remaining_amount:h,status:f}).eq("id",s.invoiceId)}else u>0?(f="partial",await X.from("invoices").update({paid_amount:u,remaining_amount:d,status:f}).eq("id",s.invoiceId)):(f="pending",await X.from("invoices").update({paid_amount:u,remaining_amount:d,status:f}).eq("id",s.invoiceId))}return!0}async createApprovalRequest(t,r,n,a){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:i,error:o}=await X.from("approval_requests").insert({request_type:t,requested_by:a,status:"pending",entity_type:r,request_data:n}).select().single();if(o)throw console.error("Error creating approval request:",o),o;return fw(i)}async getApprovalRequests(t,r){if(!this.checkSupabase())return[];console.log("=== FETCHING APPROVAL REQUESTS ==="),console.log("Status filter:",t),console.log("User ID filter:",r);let n=X.from("approval_requests").select("id, request_type, requested_by, approved_by, status, entity_type, entity_id, request_data, rejection_reason, created_at, updated_at, approved_at").order("created_at",{ascending:!1});t&&(n=n.eq("status",t)),r&&(n=n.eq("requested_by",r));const{data:a,error:i}=await n;if(console.log("Query result - data:",a),console.log("Query result - error:",i),i&&(console.error("Error fetching approval requests:",i),console.error("Error details:",JSON.stringify(i,null,2))),console.log("Number of requests found:",(a==null?void 0:a.length)||0),console.log("==================================="),i)return[];if(a&&a.length>0){const o=new Set;a.forEach(f=>{f.requested_by&&o.add(f.requested_by),f.approved_by&&o.add(f.approved_by)}),console.log("Fetching user names for IDs:",Array.from(o));const{data:s,error:l}=await X.from("users").select("id, name, email").in("id",Array.from(o));console.log("Users data fetched:",s),console.log("Users error:",l);const u=new Map((s||[]).map(f=>[f.id,f])),d=a.map(f=>{const h=u.get(f.requested_by),p=u.get(f.approved_by);return console.log(`Request ${f.id}: requested_by=${f.requested_by}, requester=${(h==null?void 0:h.name)||"NOT FOUND"}`),{...fw(f),requesterName:h==null?void 0:h.name,approverName:p==null?void 0:p.name}});return console.log("Final approval requests with names:",d),d}return[]}async approveRequest(t,r){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{data:n,error:a}=await X.from("approval_requests").select("*").eq("id",t).single();if(a||!n)return{success:!1,message:"Request not found"};if(n.status!=="pending")return{success:!1,message:"Request already processed"};let i=null;try{switch(n.request_type){case"contract_create":const s=await this.createContract(n.request_data,r,"admin");if(s.success&&s.contract)i=s.contract.id;else return{success:!1,message:s.message||"Failed to create contract"};break;case"contract_terminate":if(await this.terminateContract(n.request_data.contractId,r,"admin")===!0)i=n.request_data.contractId;else return{success:!1,message:"Failed to terminate contract"};break;case"payment_create":const u={...n.request_data,paymentDate:n.request_data.paymentDate instanceof Date?n.request_data.paymentDate:new Date(n.request_data.paymentDate)},d=await this.createPayment(u,r,"admin");if("id"in d)i=d.id;else return{success:!1,message:"Failed to create payment"};break;case"payment_delete":if(await this.deletePayment(n.request_data.paymentId,r,"admin")===!0)i=n.request_data.paymentId;else return{success:!1,message:"Failed to delete payment"};break;default:return{success:!1,message:"Unknown request type"}}const{error:o}=await X.from("approval_requests").update({status:"approved",approved_by:r,approved_at:new Date().toISOString(),entity_id:i}).eq("id",t);return o?(console.error("Error updating approval request:",o),{success:!1,message:"Failed to update approval status"}):{success:!0}}catch(o){return console.error("Error processing approval:",o),{success:!1,message:o.message||"Failed to process approval"}}}async rejectRequest(t,r,n){if(!this.checkSupabase())throw new Error("Supabase is not configured");const{error:a}=await X.from("approval_requests").update({status:"rejected",approved_by:r,rejection_reason:n,updated_at:new Date().toISOString()}).eq("id",t);return a?(console.error("Error rejecting request:",a),{success:!1,message:a.message}):{success:!0}}async getReminders(){if(!this.checkSupabase())return[];const{data:t,error:r}=await X.from("reminders").select("*").eq("is_dismissed",!1).order("reminder_date",{ascending:!0});return r?(console.error("Error fetching reminders:",r),[]):t.map(qM)}async getActiveReminders(){const t=await this.getReminders(),r=new Date;return t.filter(n=>n.reminderDate?new Date(n.reminderDate)<=r:!1)}async dismissReminder(t){if(!this.checkSupabase())return!1;const{error:r}=await X.from("reminders").update({is_dismissed:!0}).eq("id",t);return r?(console.error("Error dismissing reminder:",r),!1):!0}async getDashboardStats(){const[t,r,n,a,i]=await Promise.all([this.getProperties(),this.getUnits(),this.getTenants(),this.getContracts(),this.getInvoices()]),o=a.filter(g=>g.status==="active"),s=new Set(o.map(g=>g.tenantId)).size,l=i.reduce((g,b)=>g+b.amount,0),u=i.reduce((g,b)=>g+b.paidAmount,0),d=i.filter(g=>g.status==="pending"||g.status==="partial").reduce((g,b)=>g+b.remainingAmount,0),f=i.filter(g=>g.status==="overdue").reduce((g,b)=>g+b.remainingAmount,0),h=i.filter(g=>{const b=new Date(g.dueDate);return g.status!=="paid"&&g.status!=="cancelled"&&b<new Date}),p=i.filter(g=>{const b=new Date(g.dueDate),w=new Date,j=new Date(w);return j.setDate(w.getDate()+7),g.status==="pending"&&b>=w&&b<=j}),m=r.filter(g=>g.isOccupied).length,y=r.length>0?m/r.length*100:0,v=l>0?u/l*100:0;return{totalProperties:t.length,totalUnits:r.length,occupiedUnits:m,vacantUnits:r.length-m,totalTenants:n.length,activeTenants:s,activeContracts:o.length,totalRevenue:l,collectedRevenue:u,pendingRevenue:d,overdueRevenue:f,overdueInvoices:h.length,upcomingInvoices:p.length,occupancyRate:y,collectionRate:v}}async getOverdueInvoices(){const t=await this.getInvoices(),r=new Date;return t.filter(n=>{const a=new Date(n.dueDate);return n.status!=="paid"&&n.status!=="cancelled"&&a<r})}async searchProperties(t){const r=await this.getProperties(),n=t.toLowerCase();return r.filter(a=>{var i;return a.name.toLowerCase().includes(n)||a.address.toLowerCase().includes(n)||a.city.toLowerCase().includes(n)||((i=a.shortCode)==null?void 0:i.toLowerCase().includes(n))})}async searchUnits(t){const r=await this.getUnits(),n=t.toLowerCase();return r.filter(a=>a.unitNumber.toLowerCase().includes(n)||a.type.toLowerCase().includes(n))}async searchTenants(t){const r=await this.getTenants(),n=t.toLowerCase();return r.filter(a=>{var i,o,s,l,u;return a.firstName.toLowerCase().includes(n)||a.lastName.toLowerCase().includes(n)||a.email.toLowerCase().includes(n)||a.phone.includes(t)||((i=a.whatsappNumber)==null?void 0:i.includes(t))||a.nationalId.toLowerCase().includes(n)||((o=a.idNumber)==null?void 0:o.toLowerCase().includes(n))||((s=a.emergencyContact)==null?void 0:s.toLowerCase().includes(n))||((l=a.emergencyPhone)==null?void 0:l.includes(t))||((u=a.billingAddress)==null?void 0:u.toLowerCase().includes(n))})}async searchContracts(t){const r=await this.getContracts(),n=t.toLowerCase();return r.filter(a=>{var l,u;const i=a.tenant,o=a.property,s=a.unit;return`${i.firstName} ${i.lastName}`.toLowerCase().includes(n)||o.name.toLowerCase().includes(n)||s.unitNumber.toLowerCase().includes(n)||((l=a.contractNumber)==null?void 0:l.toLowerCase().includes(n))||i.email.toLowerCase().includes(n)||i.phone.includes(t)||((u=i.whatsappNumber)==null?void 0:u.includes(t))||i.nationalId.toLowerCase().includes(n)})}async searchInvoices(t){const r=await this.getInvoices(),n=t.toLowerCase();return r.filter(a=>{var i;return a.invoiceNumber.toLowerCase().includes(n)||`${a.tenant.firstName} ${a.tenant.lastName}`.toLowerCase().includes(n)||a.unit.unitNumber.toLowerCase().includes(n)||a.property.name.toLowerCase().includes(n)||a.tenant.email.toLowerCase().includes(n)||a.tenant.phone.includes(t)||((i=a.tenant.whatsappNumber)==null?void 0:i.includes(t))})}async searchPayments(t){const r=await this.getPayments(),n=t.toLowerCase();return r.filter(a=>{var i;return((i=a.referenceNumber)==null?void 0:i.toLowerCase().includes(n))||a.paymentMethod.toLowerCase().includes(n)})}}const _E=new KM,YM=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:_E},Symbol.toStringTag,{value:"Module"})),jE=X!==null;jE?console.log(" Using Supabase for data storage"):console.warn(" Supabase not configured, using localStorage fallback");class XM{getStorageKey(t){return`tenant_tracking_${t}`}loadFromStorage(t){try{const r=localStorage.getItem(this.getStorageKey(t));return r?JSON.parse(r).map(n=>(["createdAt","startDate","endDate","dueDate","paymentDate","reminderDate","sentDate","idExpiryDate"].forEach(i=>{n[i]&&(n[i]=new Date(n[i]))}),n)):[]}catch{return[]}}saveToStorage(t,r){localStorage.setItem(this.getStorageKey(t),JSON.stringify(r))}async getProperties(){return this.loadFromStorage("properties")}async getUnits(){return this.loadFromStorage("units")}async getTenants(){return this.loadFromStorage("tenants")}async getContracts(){const t=this.loadFromStorage("contracts"),r=this.loadFromStorage("tenants"),n=this.loadFromStorage("units"),a=this.loadFromStorage("properties");return t.map(i=>{const o=r.find(u=>u.id===i.tenantId),s=n.find(u=>u.id===i.unitId),l=a.find(u=>u.id===(s==null?void 0:s.propertyId));return!o||!s||!l?null:{...i,tenant:o,unit:s,property:l}}).filter(i=>i!==null)}async getInvoices(){const t=this.loadFromStorage("invoices"),r=this.loadFromStorage("contracts"),n=this.loadFromStorage("tenants"),a=this.loadFromStorage("units"),i=this.loadFromStorage("properties"),o=this.loadFromStorage("payments");return t.map(s=>{const l=r.find(p=>p.id===s.contractId);if(!l)return null;const u=n.find(p=>p.id===l.tenantId),d=a.find(p=>p.id===l.unitId),f=i.find(p=>p.id===(d==null?void 0:d.propertyId)),h=o.filter(p=>p.invoiceId===s.id);return!u||!d||!f?null:{...s,contract:l,tenant:u,unit:d,property:f,payments:h}}).filter(s=>s!==null)}async getPayments(){return this.loadFromStorage("payments")}async getInvoicesByDateRange(t,r){return(await this.getInvoices()).filter(a=>{const i=new Date(a.dueDate);return i>=t&&i<=r})}async getDashboardStats(){const t=await this.getProperties(),r=await this.getUnits(),n=await this.getTenants(),a=await this.getContracts(),i=await this.getInvoices(),o=a.filter(g=>g.status==="active"),s=new Set(o.map(g=>g.tenantId)).size,l=i.reduce((g,b)=>g+b.amount,0),u=i.reduce((g,b)=>g+b.paidAmount,0),d=i.filter(g=>g.status==="pending"||g.status==="partial").reduce((g,b)=>g+b.remainingAmount,0),f=i.filter(g=>g.status==="overdue").reduce((g,b)=>g+b.remainingAmount,0),h=i.filter(g=>{const b=new Date(g.dueDate);return g.status!=="paid"&&g.status!=="cancelled"&&b<new Date}),p=i.filter(g=>{const b=new Date(g.dueDate),w=new Date,j=new Date(w);return j.setDate(w.getDate()+7),g.status==="pending"&&b>=w&&b<=j}),m=r.filter(g=>g.isOccupied).length,y=r.length>0?m/r.length*100:0,v=l>0?u/l*100:0;return{totalProperties:t.length,totalUnits:r.length,occupiedUnits:m,vacantUnits:r.length-m,totalTenants:n.length,activeTenants:s,activeContracts:o.length,totalRevenue:l,collectedRevenue:u,pendingRevenue:d,overdueRevenue:f,overdueInvoices:h.length,upcomingInvoices:p.length,occupancyRate:y,collectionRate:v}}async getOverdueInvoices(){const t=await this.getInvoices(),r=new Date;return t.filter(n=>{const a=new Date(n.dueDate);return n.status!=="paid"&&n.status!=="cancelled"&&a<r})}getActiveReminders(){const t=this.loadFromStorage("reminders"),r=new Date;return t.filter(n=>n.isDismissed||!n.reminderDate?!1:new Date(n.reminderDate)<=r)}async dismissReminder(t){const n=this.loadFromStorage("reminders").map(a=>a.id===t?{...a,dismissed:!0}:a);return this.saveToStorage("reminders",n),!0}async createContract(t,r,n){const a=this.loadFromStorage("contracts"),i={...t,id:crypto.randomUUID(),createdAt:new Date};return a.push(i),this.saveToStorage("contracts",a),{success:!0,contract:i}}async terminateContract(t,r,n){const a=this.loadFromStorage("contracts"),i=a.find(u=>u.id===t);if(!i)return!1;i.status="terminated",this.saveToStorage("contracts",a);const o=this.loadFromStorage("units"),s=o.find(u=>u.id===i.unitId);s&&(s.isOccupied=!1,this.saveToStorage("units",o));const l=this.loadFromStorage("invoices");return l.forEach(u=>{u.contractId===t&&["pending","partial","overdue"].includes(u.status)&&(u.status="cancelled")}),this.saveToStorage("invoices",l),!0}async updateContract(t,r,n,a){const i=this.loadFromStorage("contracts"),o=i.find(s=>s.id===t);if(!o)return null;if(o.status==="active"&&r.status!=="terminated"){const s=["status"];if(Object.keys(r).some(d=>!s.includes(d)))throw new Error("Active contracts cannot be edited. Only termination is allowed.")}return Object.assign(o,r),this.saveToStorage("contracts",i),o}async createPayment(t,r,n){const a=this.loadFromStorage("payments"),i={...t,id:crypto.randomUUID(),createdAt:new Date};a.push(i),this.saveToStorage("payments",a);const o=this.loadFromStorage("invoices"),s=o.find(l=>l.id===t.invoiceId);if(s){const l=Math.round(((s.paidAmount||0)+t.amount)*100)/100,u=Math.round((s.amount-l)*100)/100;s.paidAmount=l,s.remainingAmount=u,u<=.01?(s.status="paid",s.remainingAmount=0,s.paidAmount=s.amount):l>0&&(s.status=s.status==="pending"?"partial":s.status),this.saveToStorage("invoices",o)}return i}async deletePayment(t,r,n){const a=this.loadFromStorage("payments"),i=a.find(u=>u.id===t);if(!i)return!1;const o=a.filter(u=>u.id!==t);this.saveToStorage("payments",o);const s=this.loadFromStorage("invoices"),l=s.find(u=>u.id===i.invoiceId);return l&&(l.paidAmount=Math.max(0,(l.paidAmount||0)-i.amount),l.remainingAmount=l.amount-l.paidAmount,l.remainingAmount<=0?l.status="paid":l.paidAmount>0?l.status="partial":l.status="pending",this.saveToStorage("invoices",s)),!0}async updateInvoice(t,r){const n=this.loadFromStorage("invoices"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("invoices",n),a):null}async createTenant(t){const r=this.loadFromStorage("tenants"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("tenants",r),n}async createProperty(t){const r=this.loadFromStorage("properties"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("properties",r),n}async updateProperty(t,r){const n=this.loadFromStorage("properties"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("properties",n),a):null}async deleteProperty(t){if(this.loadFromStorage("units").some(o=>o.propertyId===t))return!1;const i=this.loadFromStorage("properties").filter(o=>o.id!==t);return this.saveToStorage("properties",i),!0}async createUnit(t){const r=this.loadFromStorage("units"),n={...t,id:crypto.randomUUID(),createdAt:new Date};return r.push(n),this.saveToStorage("units",r),n}async updateUnit(t,r){const n=this.loadFromStorage("units"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("units",n),a):null}async deleteUnit(t){if(this.loadFromStorage("contracts").some(o=>o.unitId===t))return!1;const i=this.loadFromStorage("units").filter(o=>o.id!==t);return this.saveToStorage("units",i),!0}async updateTenant(t,r){const n=this.loadFromStorage("tenants"),a=n.find(i=>i.id===t);return a?(Object.assign(a,r),this.saveToStorage("tenants",n),a):null}async deleteTenant(t){if(this.loadFromStorage("contracts").some(o=>o.tenantId===t))return!1;const i=this.loadFromStorage("tenants").filter(o=>o.id!==t);return this.saveToStorage("tenants",i),!0}async getApprovalRequests(t,r){return[]}async approveRequest(t,r){return{success:!1,message:"Approval system requires Supabase"}}async rejectRequest(t,r,n){return{success:!1,message:"Approval system requires Supabase"}}}const oe=jE?_E:new XM;function SE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=SE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=SE(e))&&(n&&(n+=" "),n+=t);return n}const l0="-",JM=e=>{const t=ZM(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(l0);return s[0]===""&&s.length!==1&&s.shift(),OE(s,t)||QM(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},OE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?OE(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(l0);return(o=t.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},hw=/^\[(.+)\]$/,QM=e=>{if(hw.test(e)){const t=hw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ZM=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return t3(Object.entries(e.classGroups),r).forEach(([i,o])=>{jg(o,n,i,t)}),n},jg=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:pw(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(e3(a)){jg(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{jg(o,pw(t,i),r,n)})})},pw=(e,t)=>{let r=e;return t.split(l0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},e3=e=>e.isThemeGetter,t3=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[r,a]}):e,r3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},NE="!",n3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=s=>{const l=[];let u=0,d=0,f;for(let v=0;v<s.length;v++){let g=s[v];if(u===0){if(g===a&&(n||s.slice(v,v+i)===t)){l.push(s.slice(d,v)),d=v+i;continue}if(g==="/"){f=v;continue}}g==="["?u++:g==="]"&&u--}const h=l.length===0?s:s.substring(d),p=h.startsWith(NE),m=p?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}};return r?s=>r({className:s,parseClassName:o}):o},a3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},i3=e=>({cache:r3(e.cacheSize),parseClassName:n3(e),...JM(e)}),o3=/\s+/,s3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(o3);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let m=!!p,y=n(m?h.substring(0,p):h);if(!y){if(!m){s=u+(s.length>0?" "+s:s);continue}if(y=n(h),!y){s=u+(s.length>0?" "+s:s);continue}m=!1}const v=a3(d).join(":"),g=f?v+NE:v,b=g+y;if(i.includes(b))continue;i.push(b);const w=a(y,m);for(let j=0;j<w.length;++j){const x=w[j];i.push(g+x)}s=u+(s.length>0?" "+s:s)}return s};function l3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=PE(t))&&(n&&(n+=" "),n+=r);return n}const PE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=PE(e[n]))&&(r&&(r+=" "),r+=t);return r};function c3(e,...t){let r,n,a,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=i3(u),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=s3(l,r);return a(l,d),d}return function(){return i(l3.apply(null,arguments))}}const Be=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EE=/^\[(?:([a-z-]+):)?(.+)\]$/i,u3=/^\d+\/\d+$/,d3=new Set(["px","full","screen"]),f3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,m3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,g3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=e=>vo(e)||d3.has(e)||u3.test(e),Vn=e=>ps(e,"length",S3),vo=e=>!!e&&!Number.isNaN(Number(e)),$p=e=>ps(e,"number",vo),Ls=e=>!!e&&Number.isInteger(Number(e)),y3=e=>e.endsWith("%")&&vo(e.slice(0,-1)),pe=e=>EE.test(e),Hn=e=>f3.test(e),v3=new Set(["length","size","percentage"]),b3=e=>ps(e,v3,AE),x3=e=>ps(e,"position",AE),w3=new Set(["image","url"]),_3=e=>ps(e,w3,N3),j3=e=>ps(e,"",O3),Us=()=>!0,ps=(e,t,r)=>{const n=EE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},S3=e=>h3.test(e)&&!p3.test(e),AE=()=>!1,O3=e=>m3.test(e),N3=e=>g3.test(e),P3=()=>{const e=Be("colors"),t=Be("spacing"),r=Be("blur"),n=Be("brightness"),a=Be("borderColor"),i=Be("borderRadius"),o=Be("borderSpacing"),s=Be("borderWidth"),l=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),h=Be("gap"),p=Be("gradientColorStops"),m=Be("gradientColorStopPositions"),y=Be("inset"),v=Be("margin"),g=Be("opacity"),b=Be("padding"),w=Be("saturate"),j=Be("scale"),x=Be("sepia"),_=Be("skew"),S=Be("space"),N=Be("translate"),T=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",pe,t],C=()=>[pe,t],M=()=>["",dn,Vn],L=()=>["auto",vo,pe],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",pe],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[vo,pe];return{cacheSize:500,separator:":",theme:{colors:[Us],spacing:[dn,Vn],blur:["none","",Hn,pe],brightness:V(),borderColor:[e],borderRadius:["none","","full",Hn,pe],borderSpacing:C(),borderWidth:M(),contrast:V(),grayscale:R(),hueRotate:V(),invert:R(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[y3,Vn],inset:P(),margin:P(),opacity:V(),padding:C(),saturate:V(),scale:V(),sepia:R(),skew:V(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Hn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),pe]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ls,pe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ls,pe]}],"grid-cols":[{"grid-cols":[Us]}],"col-start-end":[{col:["auto",{span:["full",Ls,pe]},pe]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Us]}],"row-start-end":[{row:["auto",{span:[Ls,pe]},pe]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,t]}],"min-w":[{"min-w":[pe,t,"min","max","fit"]}],"max-w":[{"max-w":[pe,t,"none","full","min","max","fit","prose",{screen:[Hn]},Hn]}],h:[{h:[pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hn,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$p]}],"font-family":[{font:[Us]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",vo,$p]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,Vn]}],"underline-offset":[{"underline-offset":["auto",dn,pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),x3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:E()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[dn,pe]}],"outline-w":[{outline:[dn,Vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[dn,Vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hn,j3]}],"shadow-color":[{shadow:[Us]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hn,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ls,pe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dn,Vn,$p]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E3=c3(P3);function bt(...e){return E3(me(e))}function $e(e){return`AED ${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function It(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}function zl(e){return{active:"bg-success-100 text-success-700",pending:"bg-warning-100 text-warning-700",paid:"bg-success-100 text-success-700",partial:"bg-primary-100 text-primary-700",overdue:"bg-danger-100 text-danger-700",expired:"bg-gray-100 text-gray-700",terminated:"bg-gray-100 text-gray-700",cancelled:"bg-gray-100 text-gray-700",draft:"bg-gray-100 text-gray-700"}[e]||"bg-gray-100 text-gray-700"}function kE(e,t){let r=e.replace(/[^0-9+]/g,"");r.startsWith("+")||(r=r.replace(/^0+/,""),r.startsWith("971")||(r="971"+r),r="+"+r);const n=encodeURIComponent(t);return`https://wa.me/${r.replace("+","")}?text=${n}`}function TE(e,t,r){const n=encodeURIComponent(t),a=encodeURIComponent(r);return`mailto:${e}?subject=${n}&body=${a}`}function A3(){return X?null:c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 m-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(hr,{className:"h-5 w-5 text-yellow-400"})}),c.jsx("div",{className:"ml-3",children:c.jsxs("p",{className:"text-sm text-yellow-700",children:[c.jsx("strong",{children:"Supabase not configured."})," Please create a ",c.jsx("code",{children:".env"})," file with your Supabase credentials. See ",c.jsx("code",{children:"SUPABASE_SETUP.md"})," for instructions."]})})]})})}const k3=[{name:"Dashboard",href:"/dashboard",icon:IM},{name:"Properties",href:"/properties",icon:Sn},{name:"Tenants",href:"/tenants",icon:Io},{name:"Contracts",href:"/contracts",icon:sa},{name:"Invoices",href:"/invoices",icon:Ed},{name:"Payments",href:"/payments",icon:Ad},{name:"Calendar",href:"/calendar",icon:On},{name:"Approvals",href:"/approvals",icon:ja,adminOnly:!0}];function T3(){const e=us(),t=Tc(),{user:r,logout:n}=ka(),[a,i]=O.useState([]);O.useEffect(()=>{o();const l=setInterval(o,6e4);return()=>clearInterval(l)},[]);const o=async()=>{try{if(typeof oe.getActiveReminders=="function"){const l=oe.getActiveReminders();if(l instanceof Promise){const u=await l;i(u)}else i(l)}}catch(l){console.error("Error loading reminders:",l),i([])}},s=async l=>{try{await oe.dismissReminder(l),o()}catch(u){console.error("Error dismissing reminder:",u)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(A3,{}),c.jsx("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center h-16 px-6 border-b border-gray-200",children:[c.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3",children:c.jsx(Sn,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:"PropTrack"})]}),c.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:k3.map(l=>{var d;if(l.adminOnly&&console.log("Checking Approvals access:",{user:r,role:r==null?void 0:r.role,isAdmin:(r==null?void 0:r.role)==="admin",roleType:typeof(r==null?void 0:r.role),roleValue:JSON.stringify(r==null?void 0:r.role)}),l.adminOnly&&((d=r==null?void 0:r.role)==null?void 0:d.trim())!=="admin")return null;const u=e.pathname===l.href;return c.jsxs(mn,{to:l.href,className:bt("flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors",u?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[c.jsx(l.icon,{className:"w-5 h-5 mr-3"}),l.name]},l.name)})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[r&&c.jsxs("div",{className:"px-3 py-2 text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:r.name}),c.jsx("div",{className:"text-gray-500",children:r.email})]}),c.jsxs(mn,{to:"/password",className:bt("w-full flex items-center px-3 py-2 text-sm rounded-lg transition-colors",e.pathname==="/password"?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50"),children:[c.jsx(pl,{className:"w-4 h-4 mr-3"}),"Password"]}),c.jsxs("button",{onClick:async()=>{await n(),t("/login")},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[c.jsx(DM,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})]})}),c.jsxs("div",{className:"pl-64",children:[a.length>0&&c.jsx("div",{className:"fixed top-4 right-4 z-50 w-96 max-h-[80vh] overflow-y-auto space-y-2",children:a.map(l=>c.jsx("div",{className:"bg-warning-50 border-l-4 border-warning-500 p-4 rounded-lg shadow-lg animate-pulse",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(PM,{className:"w-5 h-5 text-warning-600 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-warning-900",children:"Payment Reminder"}),c.jsx("p",{className:"text-sm text-warning-700 mt-1",children:l.message})]}),c.jsx("button",{onClick:()=>s(l.id),className:"ml-3 flex-shrink-0 text-warning-600 hover:text-warning-900",children:c.jsx(Rt,{className:"w-5 h-5"})})]})},l.id))}),c.jsx("main",{className:"min-h-screen",children:c.jsx(zI,{})})]})]})}function C3(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[a,i]=O.useState(""),[o,s]=O.useState(!1),[l,u]=O.useState(!1),[d,f]=O.useState(""),[h,p]=O.useState(!1),[m,y]=O.useState(""),[v,g]=O.useState(!1),{login:b}=ka(),w=Tc(),j=async _=>{_.preventDefault(),i(""),s(!0);try{const S=await b(e,r);S.success?w("/dashboard"):i(S.error||"Login failed")}catch(S){i(S.message||"An error occurred during login")}finally{s(!1)}},x=async _=>{_.preventDefault(),y(""),g(!1),p(!0);try{if(!X){y("Supabase is not configured");return}const{error:S}=await X.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/reset-password`});if(S){y(S.message||"Failed to send reset email");return}g(!0)}catch(S){y(S.message||"An error occurred")}finally{p(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center mr-4",children:c.jsx(Sn,{className:"w-10 h-10 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"PropTrack"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Property Management System"})]})]}),l?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("button",{onClick:()=>{u(!1),f(""),y(""),g(!1)},className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[c.jsx(OM,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[m&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-red-700",children:m})]}),v&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(ja,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-green-700",children:[c.jsx("p",{className:"font-medium",children:"Reset email sent!"}),c.jsx("p",{className:"mt-1",children:"Check your inbox for a password reset link."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"email",value:d,onChange:_=>f(_.target.value),required:!0,disabled:v,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-50",placeholder:"Enter your email"})]})]}),c.jsx("button",{type:"submit",disabled:h||v,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Sending...":v?"Email Sent!":"Send Reset Link"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-red-700",children:a})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"email",value:e,onChange:_=>t(_.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",value:r,onChange:_=>n(_.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"Forgot Password?"})}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Logging in...":"Sign In"})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Contact your administrator for access"})})]})]})})}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function rr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function rt(e){ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||kd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function CE(e,t){ke(2,arguments);var r=rt(e),n=rr(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Td(e,t){ke(2,arguments);var r=rt(e),n=rr(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function $3(e,t){ke(2,arguments);var r=rt(e).getTime(),n=rr(t);return new Date(r+n)}var I3={};function ms(){return I3}function mw(e,t){var r,n,a,i,o,s;ke(1,arguments);var l=ms(),u=rr((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=rt(e),f=d.getDay(),h=(f<u?7:0)+f-u;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function D3(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function gw(e){ke(1,arguments);var t=rt(e);return t.setHours(0,0,0,0),t}function R3(e,t){ke(2,arguments);var r=rr(t);return Td(e,r*12)}function Sg(e,t){ke(2,arguments);var r=gw(e),n=gw(t);return r.getTime()===n.getTime()}function M3(e){return ke(1,arguments),e instanceof Date||kd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function L3(e){if(ke(1,arguments),!M3(e)&&typeof e!="number")return!1;var t=rt(e);return!isNaN(Number(t))}function ml(e){ke(1,arguments);var t=rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xn(e){ke(1,arguments);var t=rt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function yw(e,t){var r,n,a,i,o,s;ke(1,arguments);var l=ms(),u=rr((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=rt(e),f=d.getDay(),h=(f<u?-7:0)+6-(f-u);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function U3(e,t){ke(2,arguments);var r=rr(t);return $3(e,-r)}var B3=864e5;function F3(e){ke(1,arguments);var t=rt(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/B3)+1}function Cd(e){ke(1,arguments);var t=1,r=rt(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function $E(e){ke(1,arguments);var t=rt(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Cd(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=Cd(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function q3(e){ke(1,arguments);var t=$E(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Cd(r);return n}var z3=6048e5;function W3(e){ke(1,arguments);var t=rt(e),r=Cd(t).getTime()-q3(t).getTime();return Math.round(r/z3)+1}function $d(e,t){var r,n,a,i,o,s,l,u;ke(1,arguments);var d=ms(),f=rr((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=rt(e),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function IE(e,t){var r,n,a,i,o,s,l,u;ke(1,arguments);var d=rt(e),f=d.getUTCFullYear(),h=ms(),p=rr((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var y=$d(m,t),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var g=$d(v,t);return d.getTime()>=y.getTime()?f+1:d.getTime()>=g.getTime()?f:f-1}function V3(e,t){var r,n,a,i,o,s,l,u;ke(1,arguments);var d=ms(),f=rr((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=IE(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=$d(p,t);return m}var H3=6048e5;function G3(e,t){ke(1,arguments);var r=rt(e),n=$d(r,t).getTime()-V3(r,t).getTime();return Math.round(n/H3)+1}function Pe(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Gn={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Pe(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Pe(n+1,2)},d:function(t,r){return Pe(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Pe(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Pe(t.getUTCHours(),r.length)},m:function(t,r){return Pe(t.getUTCMinutes(),r.length)},s:function(t,r){return Pe(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Pe(i,r.length)}},Bi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K3={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Gn.y(t,r)},Y:function(t,r,n,a){var i=IE(t,a),o=i>0?i:1-i;if(r==="YY"){var s=o%100;return Pe(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Pe(o,r.length)},R:function(t,r){var n=$E(t);return Pe(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Pe(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Pe(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Pe(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Gn.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Pe(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=G3(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Pe(i,r.length)},I:function(t,r,n){var a=W3(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Pe(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Gn.d(t,r)},D:function(t,r,n){var a=F3(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Pe(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Pe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Pe(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Pe(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Bi.noon:a===0?i=Bi.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Bi.evening:a>=12?i=Bi.afternoon:a>=4?i=Bi.morning:i=Bi.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Gn.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Gn.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Pe(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Pe(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Gn.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Gn.s(t,r)},S:function(t,r){return Gn.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return bw(o);case"XXXX":case"XX":return Ya(o);case"XXXXX":case"XXX":default:return Ya(o,":")}},x:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return bw(o);case"xxxx":case"xx":return Ya(o);case"xxxxx":case"xxx":default:return Ya(o,":")}},O:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+vw(o,":");case"OOOO":default:return"GMT"+Ya(o,":")}},z:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+vw(o,":");case"zzzz":default:return"GMT"+Ya(o,":")}},t:function(t,r,n,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Pe(o,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,o=i.getTime();return Pe(o,r.length)}};function vw(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var o=t;return r+String(a)+o+Pe(i,2)}function bw(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Pe(Math.abs(e)/60,2)}return Ya(e,t)}function Ya(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Pe(Math.floor(a/60),2),o=Pe(a%60,2);return n+i+r+o}var xw=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},DE=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Y3=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return xw(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",xw(a,r)).replace("{{time}}",DE(i,r))},X3={p:DE,P:Y3},J3=["D","DD"],Q3=["YY","YYYY"];function Z3(e){return J3.indexOf(e)!==-1}function eL(e){return Q3.indexOf(e)!==-1}function ww(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var tL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rL=function(t,r,n){var a,i=tL[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Ip(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var nL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:Ip({formats:nL,defaultWidth:"full"}),time:Ip({formats:aL,defaultWidth:"full"}),dateTime:Ip({formats:iL,defaultWidth:"full"})},sL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lL=function(t,r,n,a){return sL[t]};function Bs(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var cL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mL=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gL={ordinalNumber:mL,era:Bs({values:cL,defaultWidth:"wide"}),quarter:Bs({values:uL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Bs({values:dL,defaultWidth:"wide"}),day:Bs({values:fL,defaultWidth:"wide"}),dayPeriod:Bs({values:hL,defaultWidth:"wide",formattingValues:pL,defaultFormattingWidth:"wide"})};function Fs(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?vL(s,function(f){return f.test(o)}):yL(s,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function yL(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function vL(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function bL(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var xL=/^(\d+)(th|st|nd|rd)?/i,wL=/\d+/i,_L={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jL={any:[/^b/i,/^(a|c)/i]},SL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OL={any:[/1/i,/2/i,/3/i,/4/i]},NL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CL={ordinalNumber:bL({matchPattern:xL,parsePattern:wL,valueCallback:function(t){return parseInt(t,10)}}),era:Fs({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:jL,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:SL,defaultMatchWidth:"wide",parsePatterns:OL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Fs({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),day:Fs({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:kL,defaultMatchWidth:"any",parsePatterns:TL,defaultParseWidth:"any"})},$L={code:"en-US",formatDistance:rL,formatLong:oL,formatRelative:lL,localize:gL,match:CL,options:{weekStartsOn:0,firstWeekContainsDate:1}},IL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RL=/^'([^]*?)'?$/,ML=/''/g,LL=/[a-zA-Z]/;function oi(e,t,r){var n,a,i,o,s,l,u,d,f,h,p,m,y,v;ke(2,arguments);var g=String(t),b=ms(),w=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:$L,j=rr((i=(o=(s=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&s!==void 0?s:b.firstWeekContainsDate)!==null&&o!==void 0?o:(u=b.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=rr((f=(h=(p=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(y=b.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var _=rt(e);if(!L3(_))throw new RangeError("Invalid time value");var S=D3(_),N=U3(_,S),T={firstWeekContainsDate:j,weekStartsOn:x,locale:w,_originalDate:_},$=g.match(DL).map(function(P){var C=P[0];if(C==="p"||C==="P"){var M=X3[C];return M(P,w.formatLong)}return P}).join("").match(IL).map(function(P){if(P==="''")return"'";var C=P[0];if(C==="'")return UL(P);var M=K3[C];if(M)return eL(P)&&ww(P,t,String(e)),Z3(P)&&ww(P,t,String(e)),M(N,P,w.localize,T);if(C.match(LL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return P}).join("");return $}function UL(e){var t=e.match(RL);return t?t[1].replace(ML,"'"):e}function _w(e,t){ke(2,arguments);var r=rt(e),n=rt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function BL(e){return ke(1,arguments),Sg(e,Date.now())}function jw(e,t){ke(2,arguments);var r=rt(e).getTime(),n=rt(t.start).getTime(),a=rt(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function FL(e,t){ke(2,arguments);var r=rr(t);return CE(e,-r)}function fn(e,t){ke(2,arguments);var r=rr(t);return Td(e,-r)}var qL=Array.isArray,nr=qL,zL=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr,RE=zL,WL=RE,VL=typeof self=="object"&&self&&self.Object===Object&&self,HL=WL||VL||Function("return this")(),on=HL,GL=on,KL=GL.Symbol,Ic=KL,Sw=Ic,ME=Object.prototype,YL=ME.hasOwnProperty,XL=ME.toString,qs=Sw?Sw.toStringTag:void 0;function JL(e){var t=YL.call(e,qs),r=e[qs];try{e[qs]=void 0;var n=!0}catch{}var a=XL.call(e);return n&&(t?e[qs]=r:delete e[qs]),a}var QL=JL,ZL=Object.prototype,e5=ZL.toString;function t5(e){return e5.call(e)}var r5=t5,Ow=Ic,n5=QL,a5=r5,i5="[object Null]",o5="[object Undefined]",Nw=Ow?Ow.toStringTag:void 0;function s5(e){return e==null?e===void 0?o5:i5:Nw&&Nw in Object(e)?n5(e):a5(e)}var Bn=s5;function l5(e){return e!=null&&typeof e=="object"}var Fn=l5,c5=Bn,u5=Fn,d5="[object Symbol]";function f5(e){return typeof e=="symbol"||u5(e)&&c5(e)==d5}var gs=f5,h5=nr,p5=gs,m5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g5=/^\w*$/;function y5(e,t){if(h5(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||p5(e)?!0:g5.test(e)||!m5.test(e)||t!=null&&e in Object(t)}var c0=y5;function v5(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ta=v5;const ys=Ne(Ta);var b5=Bn,x5=Ta,w5="[object AsyncFunction]",_5="[object Function]",j5="[object GeneratorFunction]",S5="[object Proxy]";function O5(e){if(!x5(e))return!1;var t=b5(e);return t==_5||t==j5||t==w5||t==S5}var u0=O5;const de=Ne(u0);var N5=on,P5=N5["__core-js_shared__"],E5=P5,Dp=E5,Pw=function(){var e=/[^.]+$/.exec(Dp&&Dp.keys&&Dp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function A5(e){return!!Pw&&Pw in e}var k5=A5,T5=Function.prototype,C5=T5.toString;function $5(e){if(e!=null){try{return C5.call(e)}catch{}try{return e+""}catch{}}return""}var LE=$5,I5=u0,D5=k5,R5=Ta,M5=LE,L5=/[\\^$.*+?()[\]{}|]/g,U5=/^\[object .+?Constructor\]$/,B5=Function.prototype,F5=Object.prototype,q5=B5.toString,z5=F5.hasOwnProperty,W5=RegExp("^"+q5.call(z5).replace(L5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V5(e){if(!R5(e)||D5(e))return!1;var t=I5(e)?W5:U5;return t.test(M5(e))}var H5=V5;function G5(e,t){return e==null?void 0:e[t]}var K5=G5,Y5=H5,X5=K5;function J5(e,t){var r=X5(e,t);return Y5(r)?r:void 0}var Ai=J5,Q5=Ai,Z5=Q5(Object,"create"),rh=Z5,Ew=rh;function e4(){this.__data__=Ew?Ew(null):{},this.size=0}var t4=e4;function r4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var n4=r4,a4=rh,i4="__lodash_hash_undefined__",o4=Object.prototype,s4=o4.hasOwnProperty;function l4(e){var t=this.__data__;if(a4){var r=t[e];return r===i4?void 0:r}return s4.call(t,e)?t[e]:void 0}var c4=l4,u4=rh,d4=Object.prototype,f4=d4.hasOwnProperty;function h4(e){var t=this.__data__;return u4?t[e]!==void 0:f4.call(t,e)}var p4=h4,m4=rh,g4="__lodash_hash_undefined__";function y4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=m4&&t===void 0?g4:t,this}var v4=y4,b4=t4,x4=n4,w4=c4,_4=p4,j4=v4;function vs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vs.prototype.clear=b4;vs.prototype.delete=x4;vs.prototype.get=w4;vs.prototype.has=_4;vs.prototype.set=j4;var S4=vs;function O4(){this.__data__=[],this.size=0}var N4=O4;function P4(e,t){return e===t||e!==e&&t!==t}var d0=P4,E4=d0;function A4(e,t){for(var r=e.length;r--;)if(E4(e[r][0],t))return r;return-1}var nh=A4,k4=nh,T4=Array.prototype,C4=T4.splice;function $4(e){var t=this.__data__,r=k4(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():C4.call(t,r,1),--this.size,!0}var I4=$4,D4=nh;function R4(e){var t=this.__data__,r=D4(t,e);return r<0?void 0:t[r][1]}var M4=R4,L4=nh;function U4(e){return L4(this.__data__,e)>-1}var B4=U4,F4=nh;function q4(e,t){var r=this.__data__,n=F4(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var z4=q4,W4=N4,V4=I4,H4=M4,G4=B4,K4=z4;function bs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bs.prototype.clear=W4;bs.prototype.delete=V4;bs.prototype.get=H4;bs.prototype.has=G4;bs.prototype.set=K4;var ah=bs,Y4=Ai,X4=on,J4=Y4(X4,"Map"),f0=J4,Aw=S4,Q4=ah,Z4=f0;function eU(){this.size=0,this.__data__={hash:new Aw,map:new(Z4||Q4),string:new Aw}}var tU=eU;function rU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var nU=rU,aU=nU;function iU(e,t){var r=e.__data__;return aU(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ih=iU,oU=ih;function sU(e){var t=oU(this,e).delete(e);return this.size-=t?1:0,t}var lU=sU,cU=ih;function uU(e){return cU(this,e).get(e)}var dU=uU,fU=ih;function hU(e){return fU(this,e).has(e)}var pU=hU,mU=ih;function gU(e,t){var r=mU(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var yU=gU,vU=tU,bU=lU,xU=dU,wU=pU,_U=yU;function xs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xs.prototype.clear=vU;xs.prototype.delete=bU;xs.prototype.get=xU;xs.prototype.has=wU;xs.prototype.set=_U;var h0=xs,UE=h0,jU="Expected a function";function p0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jU);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(p0.Cache||UE),r}p0.Cache=UE;var BE=p0;const SU=Ne(BE);var OU=BE,NU=500;function PU(e){var t=OU(e,function(n){return r.size===NU&&r.clear(),n}),r=t.cache;return t}var EU=PU,AU=EU,kU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TU=/\\(\\)?/g,CU=AU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kU,function(r,n,a,i){t.push(a?i.replace(TU,"$1"):n||r)}),t}),$U=CU;function IU(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var m0=IU,kw=Ic,DU=m0,RU=nr,MU=gs,Tw=kw?kw.prototype:void 0,Cw=Tw?Tw.toString:void 0;function FE(e){if(typeof e=="string")return e;if(RU(e))return DU(e,FE)+"";if(MU(e))return Cw?Cw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var LU=FE,UU=LU;function BU(e){return e==null?"":UU(e)}var qE=BU,FU=nr,qU=c0,zU=$U,WU=qE;function VU(e,t){return FU(e)?e:qU(e,t)?[e]:zU(WU(e))}var zE=VU,HU=gs;function GU(e){if(typeof e=="string"||HU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var oh=GU,KU=zE,YU=oh;function XU(e,t){t=KU(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[YU(t[r++])];return r&&r==n?e:void 0}var g0=XU,JU=g0;function QU(e,t,r){var n=e==null?void 0:JU(e,t);return n===void 0?r:n}var WE=QU;const dr=Ne(WE);function ZU(e){return e==null}var eB=ZU;const ye=Ne(eB);var tB=Bn,rB=nr,nB=Fn,aB="[object String]";function iB(e){return typeof e=="string"||!rB(e)&&nB(e)&&tB(e)==aB}var oB=iB;const wi=Ne(oB);var VE={exports:{}},Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=Symbol.for("react.element"),v0=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),dh=Symbol.for("react.context"),sB=Symbol.for("react.server_context"),fh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),mh=Symbol.for("react.memo"),gh=Symbol.for("react.lazy"),lB=Symbol.for("react.offscreen"),HE;HE=Symbol.for("react.module.reference");function Ar(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case y0:switch(e=e.type,e){case sh:case ch:case lh:case hh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case sB:case dh:case fh:case gh:case mh:case uh:return e;default:return t}}case v0:return t}}}Te.ContextConsumer=dh;Te.ContextProvider=uh;Te.Element=y0;Te.ForwardRef=fh;Te.Fragment=sh;Te.Lazy=gh;Te.Memo=mh;Te.Portal=v0;Te.Profiler=ch;Te.StrictMode=lh;Te.Suspense=hh;Te.SuspenseList=ph;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(e){return Ar(e)===dh};Te.isContextProvider=function(e){return Ar(e)===uh};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===y0};Te.isForwardRef=function(e){return Ar(e)===fh};Te.isFragment=function(e){return Ar(e)===sh};Te.isLazy=function(e){return Ar(e)===gh};Te.isMemo=function(e){return Ar(e)===mh};Te.isPortal=function(e){return Ar(e)===v0};Te.isProfiler=function(e){return Ar(e)===ch};Te.isStrictMode=function(e){return Ar(e)===lh};Te.isSuspense=function(e){return Ar(e)===hh};Te.isSuspenseList=function(e){return Ar(e)===ph};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sh||e===ch||e===lh||e===hh||e===ph||e===lB||typeof e=="object"&&e!==null&&(e.$$typeof===gh||e.$$typeof===mh||e.$$typeof===uh||e.$$typeof===dh||e.$$typeof===fh||e.$$typeof===HE||e.getModuleId!==void 0)};Te.typeOf=Ar;VE.exports=Te;var cB=VE.exports,uB=Bn,dB=Fn,fB="[object Number]";function hB(e){return typeof e=="number"||dB(e)&&uB(e)==fB}var GE=hB;const pB=Ne(GE);var mB=GE;function gB(e){return mB(e)&&e!=+e}var yB=gB;const Dc=Ne(yB);var qt=function(t){return t===0?0:t>0?1:-1},si=function(t){return wi(t)&&t.indexOf("%")===t.length-1},K=function(t){return pB(t)&&!Dc(t)},vB=function(t){return ye(t)},pt=function(t){return K(t)||wi(t)},bB=0,Rc=function(t){var r=++bB;return"".concat(t||"").concat(r)},zt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(t)&&!wi(t))return n;var i;if(si(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Dc(i)&&(i=n),a&&i>r&&(i=r),i},na=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},xB=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Jn=function(t,r){return K(t)&&K(r)?function(n){return t+n*(r-t)}:function(){return r}};function Og(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):dr(n,t))===r})}var wB=function(t,r){return K(t)&&K(r)?t-r:wi(t)&&wi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function bo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}var _B=["viewBox","children"],jB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$w=["points","pathLength"],Rp={svg:_B,polygon:$w,polyline:$w},b0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Id=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!ys(n))return null;var a={};return Object.keys(n).forEach(function(i){b0.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},SB=function(t,r,n){return function(a){return t(r,n,a),null}},_i=function(t,r,n){if(!ys(t)||Ng(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];b0.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=SB(o,r,n))}),a},OB=["children"],NB=["children"];function Iw(e,t){if(e==null)return{};var r=PB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Rw=null,Mp=null,x0=function e(t){if(t===Rw&&Array.isArray(Mp))return Mp;var r=[];return O.Children.forEach(t,function(n){ye(n)||(cB.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Mp=r,Rw=t,r};function Or(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Nn(a)}):n=[Nn(t)],x0(e).forEach(function(a){var i=dr(a,"type.displayName")||dr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function or(e,t){var r=Or(e,t);return r&&r[0]}var Mw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!K(n)||n<=0||!K(a)||a<=0)},EB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],AB=function(t){return t&&t.type&&wi(t.type)&&EB.indexOf(t.type)>=0},kB=function(t,r,n,a){var i,o=(i=Rp==null?void 0:Rp[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!de(t)&&(a&&o.includes(r)||jB.includes(r))||n&&b0.includes(r)},ue=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!ys(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;kB((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},Pg=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Lw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Lw(i,o))return!1}return!0},Lw=function(t,r){if(ye(t)&&ye(r))return!0;if(!ye(t)&&!ye(r)){var n=t.props||{},a=n.children,i=Iw(n,OB),o=r.props||{},s=o.children,l=Iw(o,NB);return a&&s?bo(i,l)&&Pg(a,s):!a&&!s?bo(i,l):!1}return!1},Uw=function(t,r){var n=[],a={};return x0(t).forEach(function(i,o){if(AB(i))n.push(i);else if(i){var s=Nn(i.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},TB=function(t){var r=t&&t.type;return r&&Dw[r]?Dw[r]:null},CB=function(t,r){return x0(r).indexOf(t)},$B=["children","width","height","viewBox","className","style","title","desc"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function IB(e,t){if(e==null)return{};var r=DB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ag(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=IB(e,$B),d=a||{width:r,height:n,x:0,y:0},f=me("recharts-surface",i);return D.createElement("svg",Eg({},ue(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),t)}var RB=["children","className"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function MB(e,t){if(e==null)return{};var r=LB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ee=D.forwardRef(function(e,t){var r=e.children,n=e.className,a=MB(e,RB),i=me("recharts-layer",n);return D.createElement("g",kg({className:i},ue(a,!0),{ref:t}),r)}),zr=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function UB(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var BB=UB,FB=BB;function qB(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:FB(e,t,r)}var zB=qB,WB="\\ud800-\\udfff",VB="\\u0300-\\u036f",HB="\\ufe20-\\ufe2f",GB="\\u20d0-\\u20ff",KB=VB+HB+GB,YB="\\ufe0e\\ufe0f",XB="\\u200d",JB=RegExp("["+XB+WB+KB+YB+"]");function QB(e){return JB.test(e)}var KE=QB;function ZB(e){return e.split("")}var e6=ZB,YE="\\ud800-\\udfff",t6="\\u0300-\\u036f",r6="\\ufe20-\\ufe2f",n6="\\u20d0-\\u20ff",a6=t6+r6+n6,i6="\\ufe0e\\ufe0f",o6="["+YE+"]",Tg="["+a6+"]",Cg="\\ud83c[\\udffb-\\udfff]",s6="(?:"+Tg+"|"+Cg+")",XE="[^"+YE+"]",JE="(?:\\ud83c[\\udde6-\\uddff]){2}",QE="[\\ud800-\\udbff][\\udc00-\\udfff]",l6="\\u200d",ZE=s6+"?",eA="["+i6+"]?",c6="(?:"+l6+"(?:"+[XE,JE,QE].join("|")+")"+eA+ZE+")*",u6=eA+ZE+c6,d6="(?:"+[XE+Tg+"?",Tg,JE,QE,o6].join("|")+")",f6=RegExp(Cg+"(?="+Cg+")|"+d6+u6,"g");function h6(e){return e.match(f6)||[]}var p6=h6,m6=e6,g6=KE,y6=p6;function v6(e){return g6(e)?y6(e):m6(e)}var b6=v6,x6=zB,w6=KE,_6=b6,j6=qE;function S6(e){return function(t){t=j6(t);var r=w6(t)?_6(t):void 0,n=r?r[0]:t.charAt(0),a=r?x6(r,1).join(""):t.slice(1);return n[e]()+a}}var O6=S6,N6=O6,P6=N6("toUpperCase"),E6=P6;const yh=Ne(E6);function Me(e){return function(){return e}}const tA=Math.cos,Dd=Math.sin,Vr=Math.sqrt,Rd=Math.PI,vh=2*Rd,$g=Math.PI,Ig=2*$g,Xa=1e-6,A6=Ig-Xa;function rA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function k6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class T6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rA:k6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Xa)if(!(Math.abs(f*l-u*d)>Xa)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-s,y=l*l+u*u,v=p*p+m*m,g=Math.sqrt(y),b=Math.sqrt(h),w=i*Math.tan(($g-Math.acos((y+h-v)/(2*g*b)))/2),j=w/b,x=w/g;Math.abs(j-1)>Xa&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+x*l},${this._y1=r+x*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Xa||Math.abs(this._y1-d)>Xa)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ig+Ig),h>A6?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Xa&&this._append`A${n},${n},0,${+(h>=$g)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function w0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new T6(t)}function _0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nA(e){this._context=e}nA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bh(e){return new nA(e)}function aA(e){return e[0]}function iA(e){return e[1]}function oA(e,t){var r=Me(!0),n=null,a=bh,i=null,o=w0(s);e=typeof e=="function"?e:e===void 0?aA:Me(e),t=typeof t=="function"?t:t===void 0?iA:Me(t);function s(l){var u,d=(l=_0(l)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Me(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function pu(e,t,r){var n=null,a=Me(!0),i=null,o=bh,s=null,l=w0(u);e=typeof e=="function"?e:e===void 0?aA:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iA:Me(+r);function u(f){var h,p,m,y=(f=_0(f)).length,v,g=!1,b,w=new Array(y),j=new Array(y);for(i==null&&(s=o(b=l())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===g)if(g=!g)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],j[m]);s.lineEnd(),s.areaEnd()}g&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),s.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return s=null,b+""||null}function d(){return oA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Me(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Me(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Me(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class sA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function C6(e){return new sA(e,!0)}function $6(e){return new sA(e,!1)}const j0={draw(e,t){const r=Vr(t/Rd);e.moveTo(r,0),e.arc(0,0,r,0,vh)}},I6={draw(e,t){const r=Vr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lA=Vr(1/3),D6=lA*2,R6={draw(e,t){const r=Vr(t/D6),n=r*lA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},M6={draw(e,t){const r=Vr(t),n=-r/2;e.rect(n,n,r,r)}},L6=.8908130915292852,cA=Dd(Rd/10)/Dd(7*Rd/10),U6=Dd(vh/10)*cA,B6=-tA(vh/10)*cA,F6={draw(e,t){const r=Vr(t*L6),n=U6*r,a=B6*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=vh*i/5,s=tA(o),l=Dd(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Lp=Vr(3),q6={draw(e,t){const r=-Vr(t/(Lp*3));e.moveTo(0,r*2),e.lineTo(-Lp*r,-r),e.lineTo(Lp*r,-r),e.closePath()}},gr=-.5,yr=Vr(3)/2,Dg=1/Vr(12),z6=(Dg/2+1)*3,W6={draw(e,t){const r=Vr(t/z6),n=r/2,a=r*Dg,i=n,o=r*Dg+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(gr*n-yr*a,yr*n+gr*a),e.lineTo(gr*i-yr*o,yr*i+gr*o),e.lineTo(gr*s-yr*l,yr*s+gr*l),e.lineTo(gr*n+yr*a,gr*a-yr*n),e.lineTo(gr*i+yr*o,gr*o-yr*i),e.lineTo(gr*s+yr*l,gr*l-yr*s),e.closePath()}};function V6(e,t){let r=null,n=w0(a);e=typeof e=="function"?e:Me(e||j0),t=typeof t=="function"?t:Me(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Me(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Me(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Md(){}function Ld(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uA(e){this._context=e}uA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ld(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H6(e){return new uA(e)}function dA(e){this._context=e}dA.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G6(e){return new dA(e)}function fA(e){this._context=e}fA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K6(e){return new fA(e)}function hA(e){this._context=e}hA.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Y6(e){return new hA(e)}function Bw(e){return e<0?-1:1}function Fw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Bw(i)+Bw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function qw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Up(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Up(this,this._t0,qw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Up(this,qw(this,r=Fw(this,e,t)),r);break;default:Up(this,this._t0,r=Fw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pA(e){this._context=new mA(e)}(pA.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function mA(e){this._context=e}mA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function X6(e){return new Ud(e)}function J6(e){return new pA(e)}function gA(e){this._context=e}gA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=zw(e),a=zw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Q6(e){return new gA(e)}function xh(e,t){this._context=e,this._t=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Z6(e){return new xh(e,.5)}function eF(e){return new xh(e,0)}function tF(e){return new xh(e,1)}function Do(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Rg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function rF(e,t){return e[t]}function nF(e){const t=[];return t.key=e,t}function aF(){var e=Me([]),t=Rg,r=Do,n=rF;function a(i){var o=Array.from(e.apply(this,arguments),nF),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=_0(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Me(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Me(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Rg:typeof i=="function"?i:Me(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Do,a):r},a}function iF(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Do(e,t)}}function oF(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Do(e,t)}}function sF(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var y=e[t[m]],v=y[n][1]||0,g=y[n-1][1]||0;p+=v-g}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Do(e,t)}}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}var lF=["type","size","sizeType"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){cF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cF(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=dF(e,"string");return Wl(t)=="symbol"?t:t+""}function dF(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fF(e,t){if(e==null)return{};var r=hF(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yA={symbolCircle:j0,symbolCross:I6,symbolDiamond:R6,symbolSquare:M6,symbolStar:F6,symbolTriangle:q6,symbolWye:W6},pF=Math.PI/180,mF=function(t){var r="symbol".concat(yh(t));return yA[r]||j0},gF=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*pF;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yF=function(t,r){yA["symbol".concat(yh(t))]=r},S0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=fF(t,lF),u=Vw(Vw({},l),{},{type:n,size:i,sizeType:s}),d=function(){var v=mF(n),g=V6().type(v).size(gF(i,s,n));return g()},f=u.className,h=u.cx,p=u.cy,m=ue(u,!0);return h===+h&&p===+p&&i===+i?D.createElement("path",Mg({},m,{className:me("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};S0.registerSymbol=yF;function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){Vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bA(n.key),n)}}function wF(e,t,r){return t&&xF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _F(e,t,r){return t=Bd(t),jF(e,vA()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function jF(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SF(e)}function SF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vA=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function OF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function Vl(e,t,r){return t=bA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bA(e){var t=NF(e,"string");return Ro(t)=="symbol"?t:t+""}function NF(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vr=32,O0=function(e){function t(){return bF(this,t),_F(this,t,arguments)}return OF(t,e),wF(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=vr/2,o=vr/6,s=vr/3,l=n.inactive?a:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:vr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(vr,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=vF({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(S0,{fill:l,cx:i,cy:i,size:vr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:vr,height:vr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var y=p.formatter||l,v=me(Vl(Vl({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=de(p.value)?null:p.value;zr(!de(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return D.createElement("li",Lg({className:v,style:f,key:"legend-item-".concat(m)},_i(n.props,p,m)),D.createElement(Ag,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(g,p,m):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);Vl(O0,"displayName","Legend");Vl(O0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PF=ah;function EF(){this.__data__=new PF,this.size=0}var AF=EF;function kF(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var TF=kF;function CF(e){return this.__data__.get(e)}var $F=CF;function IF(e){return this.__data__.has(e)}var DF=IF,RF=ah,MF=f0,LF=h0,UF=200;function BF(e,t){var r=this.__data__;if(r instanceof RF){var n=r.__data__;if(!MF||n.length<UF-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new LF(n)}return r.set(e,t),this.size=r.size,this}var FF=BF,qF=ah,zF=AF,WF=TF,VF=$F,HF=DF,GF=FF;function ws(e){var t=this.__data__=new qF(e);this.size=t.size}ws.prototype.clear=zF;ws.prototype.delete=WF;ws.prototype.get=VF;ws.prototype.has=HF;ws.prototype.set=GF;var xA=ws,KF="__lodash_hash_undefined__";function YF(e){return this.__data__.set(e,KF),this}var XF=YF;function JF(e){return this.__data__.has(e)}var QF=JF,ZF=h0,eq=XF,tq=QF;function Fd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ZF;++t<r;)this.add(e[t])}Fd.prototype.add=Fd.prototype.push=eq;Fd.prototype.has=tq;var wA=Fd;function rq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _A=rq;function nq(e,t){return e.has(t)}var jA=nq,aq=wA,iq=_A,oq=jA,sq=1,lq=2;function cq(e,t,r,n,a,i){var o=r&sq,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&lq?new aq:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var m=e[f],y=t[f];if(n)var v=o?n(y,m,f,t,e,i):n(m,y,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!iq(t,function(g,b){if(!oq(p,b)&&(m===g||a(m,g,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(m===y||a(m,y,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var SA=cq,uq=on,dq=uq.Uint8Array,fq=dq;function hq(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var pq=hq;function mq(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var N0=mq,Gw=Ic,Kw=fq,gq=d0,yq=SA,vq=pq,bq=N0,xq=1,wq=2,_q="[object Boolean]",jq="[object Date]",Sq="[object Error]",Oq="[object Map]",Nq="[object Number]",Pq="[object RegExp]",Eq="[object Set]",Aq="[object String]",kq="[object Symbol]",Tq="[object ArrayBuffer]",Cq="[object DataView]",Yw=Gw?Gw.prototype:void 0,Bp=Yw?Yw.valueOf:void 0;function $q(e,t,r,n,a,i,o){switch(r){case Cq:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tq:return!(e.byteLength!=t.byteLength||!i(new Kw(e),new Kw(t)));case _q:case jq:case Nq:return gq(+e,+t);case Sq:return e.name==t.name&&e.message==t.message;case Pq:case Aq:return e==t+"";case Oq:var s=vq;case Eq:var l=n&xq;if(s||(s=bq),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=wq,o.set(e,t);var d=yq(s(e),s(t),n,a,i,o);return o.delete(e),d;case kq:if(Bp)return Bp.call(e)==Bp.call(t)}return!1}var Iq=$q;function Dq(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var OA=Dq,Rq=OA,Mq=nr;function Lq(e,t,r){var n=t(e);return Mq(e)?n:Rq(n,r(e))}var Uq=Lq;function Bq(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Fq=Bq;function qq(){return[]}var zq=qq,Wq=Fq,Vq=zq,Hq=Object.prototype,Gq=Hq.propertyIsEnumerable,Xw=Object.getOwnPropertySymbols,Kq=Xw?function(e){return e==null?[]:(e=Object(e),Wq(Xw(e),function(t){return Gq.call(e,t)}))}:Vq,Yq=Kq;function Xq(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Jq=Xq,Qq=Bn,Zq=Fn,ez="[object Arguments]";function tz(e){return Zq(e)&&Qq(e)==ez}var rz=tz,Jw=rz,nz=Fn,NA=Object.prototype,az=NA.hasOwnProperty,iz=NA.propertyIsEnumerable,oz=Jw(function(){return arguments}())?Jw:function(e){return nz(e)&&az.call(e,"callee")&&!iz.call(e,"callee")},P0=oz,qd={exports:{}};function sz(){return!1}var lz=sz;qd.exports;(function(e,t){var r=on,n=lz,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(qd,qd.exports);var PA=qd.exports,cz=9007199254740991,uz=/^(?:0|[1-9]\d*)$/;function dz(e,t){var r=typeof e;return t=t??cz,!!t&&(r=="number"||r!="symbol"&&uz.test(e))&&e>-1&&e%1==0&&e<t}var E0=dz,fz=9007199254740991;function hz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fz}var A0=hz,pz=Bn,mz=A0,gz=Fn,yz="[object Arguments]",vz="[object Array]",bz="[object Boolean]",xz="[object Date]",wz="[object Error]",_z="[object Function]",jz="[object Map]",Sz="[object Number]",Oz="[object Object]",Nz="[object RegExp]",Pz="[object Set]",Ez="[object String]",Az="[object WeakMap]",kz="[object ArrayBuffer]",Tz="[object DataView]",Cz="[object Float32Array]",$z="[object Float64Array]",Iz="[object Int8Array]",Dz="[object Int16Array]",Rz="[object Int32Array]",Mz="[object Uint8Array]",Lz="[object Uint8ClampedArray]",Uz="[object Uint16Array]",Bz="[object Uint32Array]",qe={};qe[Cz]=qe[$z]=qe[Iz]=qe[Dz]=qe[Rz]=qe[Mz]=qe[Lz]=qe[Uz]=qe[Bz]=!0;qe[yz]=qe[vz]=qe[kz]=qe[bz]=qe[Tz]=qe[xz]=qe[wz]=qe[_z]=qe[jz]=qe[Sz]=qe[Oz]=qe[Nz]=qe[Pz]=qe[Ez]=qe[Az]=!1;function Fz(e){return gz(e)&&mz(e.length)&&!!qe[pz(e)]}var qz=Fz;function zz(e){return function(t){return e(t)}}var EA=zz,zd={exports:{}};zd.exports;(function(e,t){var r=RE,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(zd,zd.exports);var Wz=zd.exports,Vz=qz,Hz=EA,Qw=Wz,Zw=Qw&&Qw.isTypedArray,Gz=Zw?Hz(Zw):Vz,AA=Gz,Kz=Jq,Yz=P0,Xz=nr,Jz=PA,Qz=E0,Zz=AA,e8=Object.prototype,t8=e8.hasOwnProperty;function r8(e,t){var r=Xz(e),n=!r&&Yz(e),a=!r&&!n&&Jz(e),i=!r&&!n&&!a&&Zz(e),o=r||n||a||i,s=o?Kz(e.length,String):[],l=s.length;for(var u in e)(t||t8.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Qz(u,l)))&&s.push(u);return s}var n8=r8,a8=Object.prototype;function i8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||a8;return e===r}var o8=i8;function s8(e,t){return function(r){return e(t(r))}}var kA=s8,l8=kA,c8=l8(Object.keys,Object),u8=c8,d8=o8,f8=u8,h8=Object.prototype,p8=h8.hasOwnProperty;function m8(e){if(!d8(e))return f8(e);var t=[];for(var r in Object(e))p8.call(e,r)&&r!="constructor"&&t.push(r);return t}var g8=m8,y8=u0,v8=A0;function b8(e){return e!=null&&v8(e.length)&&!y8(e)}var Mc=b8,x8=n8,w8=g8,_8=Mc;function j8(e){return _8(e)?x8(e):w8(e)}var wh=j8,S8=Uq,O8=Yq,N8=wh;function P8(e){return S8(e,N8,O8)}var E8=P8,e1=E8,A8=1,k8=Object.prototype,T8=k8.hasOwnProperty;function C8(e,t,r,n,a,i){var o=r&A8,s=e1(e),l=s.length,u=e1(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in t:T8.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var y=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<l;){h=s[f];var g=e[h],b=t[h];if(n)var w=o?n(b,g,h,t,e,i):n(g,b,h,e,t,i);if(!(w===void 0?g===b||a(g,b,r,n,i):w)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var j=e.constructor,x=t.constructor;j!=x&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof x=="function"&&x instanceof x)&&(y=!1)}return i.delete(e),i.delete(t),y}var $8=C8,I8=Ai,D8=on,R8=I8(D8,"DataView"),M8=R8,L8=Ai,U8=on,B8=L8(U8,"Promise"),F8=B8,q8=Ai,z8=on,W8=q8(z8,"Set"),TA=W8,V8=Ai,H8=on,G8=V8(H8,"WeakMap"),K8=G8,Bg=M8,Fg=f0,qg=F8,zg=TA,Wg=K8,CA=Bn,_s=LE,t1="[object Map]",Y8="[object Object]",r1="[object Promise]",n1="[object Set]",a1="[object WeakMap]",i1="[object DataView]",X8=_s(Bg),J8=_s(Fg),Q8=_s(qg),Z8=_s(zg),eW=_s(Wg),Ja=CA;(Bg&&Ja(new Bg(new ArrayBuffer(1)))!=i1||Fg&&Ja(new Fg)!=t1||qg&&Ja(qg.resolve())!=r1||zg&&Ja(new zg)!=n1||Wg&&Ja(new Wg)!=a1)&&(Ja=function(e){var t=CA(e),r=t==Y8?e.constructor:void 0,n=r?_s(r):"";if(n)switch(n){case X8:return i1;case J8:return t1;case Q8:return r1;case Z8:return n1;case eW:return a1}return t});var tW=Ja,Fp=xA,rW=SA,nW=Iq,aW=$8,o1=tW,s1=nr,l1=PA,iW=AA,oW=1,c1="[object Arguments]",u1="[object Array]",mu="[object Object]",sW=Object.prototype,d1=sW.hasOwnProperty;function lW(e,t,r,n,a,i){var o=s1(e),s=s1(t),l=o?u1:o1(e),u=s?u1:o1(t);l=l==c1?mu:l,u=u==c1?mu:u;var d=l==mu,f=u==mu,h=l==u;if(h&&l1(e)){if(!l1(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Fp),o||iW(e)?rW(e,t,r,n,a,i):nW(e,t,l,r,n,a,i);if(!(r&oW)){var p=d&&d1.call(e,"__wrapped__"),m=f&&d1.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,v=m?t.value():t;return i||(i=new Fp),a(y,v,r,n,i)}}return h?(i||(i=new Fp),aW(e,t,r,n,a,i)):!1}var cW=lW,uW=cW,f1=Fn;function $A(e,t,r,n,a){return e===t?!0:e==null||t==null||!f1(e)&&!f1(t)?e!==e&&t!==t:uW(e,t,r,n,$A,a)}var k0=$A,dW=xA,fW=k0,hW=1,pW=2;function mW(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var l=s[0],u=e[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new dW;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?fW(d,u,hW|pW,n,f):h))return!1}}return!0}var gW=mW,yW=Ta;function vW(e){return e===e&&!yW(e)}var IA=vW,bW=IA,xW=wh;function wW(e){for(var t=xW(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,bW(a)]}return t}var _W=wW;function jW(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var DA=jW,SW=gW,OW=_W,NW=DA;function PW(e){var t=OW(e);return t.length==1&&t[0][2]?NW(t[0][0],t[0][1]):function(r){return r===e||SW(r,e,t)}}var EW=PW;function AW(e,t){return e!=null&&t in Object(e)}var kW=AW,TW=zE,CW=P0,$W=nr,IW=E0,DW=A0,RW=oh;function MW(e,t,r){t=TW(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=RW(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&DW(a)&&IW(o,a)&&($W(e)||CW(e)))}var LW=MW,UW=kW,BW=LW;function FW(e,t){return e!=null&&BW(e,t,UW)}var qW=FW,zW=k0,WW=WE,VW=qW,HW=c0,GW=IA,KW=DA,YW=oh,XW=1,JW=2;function QW(e,t){return HW(e)&&GW(t)?KW(YW(e),t):function(r){var n=WW(r,e);return n===void 0&&n===t?VW(r,e):zW(t,n,XW|JW)}}var ZW=QW;function e7(e){return e}var js=e7;function t7(e){return function(t){return t==null?void 0:t[e]}}var r7=t7,n7=g0;function a7(e){return function(t){return n7(t,e)}}var i7=a7,o7=r7,s7=i7,l7=c0,c7=oh;function u7(e){return l7(e)?o7(c7(e)):s7(e)}var d7=u7,f7=EW,h7=ZW,p7=js,m7=nr,g7=d7;function y7(e){return typeof e=="function"?e:e==null?p7:typeof e=="object"?m7(e)?h7(e[0],e[1]):f7(e):g7(e)}var sn=y7;function v7(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var RA=v7;function b7(e){return e!==e}var x7=b7;function w7(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var _7=w7,j7=RA,S7=x7,O7=_7;function N7(e,t,r){return t===t?O7(e,t,r):j7(e,S7,r)}var P7=N7,E7=P7;function A7(e,t){var r=e==null?0:e.length;return!!r&&E7(e,t,0)>-1}var k7=A7;function T7(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var C7=T7;function $7(){}var I7=$7,qp=TA,D7=I7,R7=N0,M7=1/0,L7=qp&&1/R7(new qp([,-0]))[1]==M7?function(e){return new qp(e)}:D7,U7=L7,B7=wA,F7=k7,q7=C7,z7=jA,W7=U7,V7=N0,H7=200;function G7(e,t,r){var n=-1,a=F7,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=q7;else if(i>=H7){var u=t?null:W7(e);if(u)return V7(u);o=!1,a=z7,l=new B7}else l=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var K7=G7,Y7=sn,X7=K7;function J7(e,t){return e&&e.length?X7(e,Y7(t)):[]}var Q7=J7;const h1=Ne(Q7);function MA(e,t,r){return t===!0?h1(e,r):de(t)?h1(e,t):e}function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}var Z7=["ref"];function p1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UA(n.key),n)}}function t9(e,t,r){return t&&m1(e.prototype,t),r&&m1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r9(e,t,r){return t=Wd(t),n9(e,LA()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function n9(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a9(e)}function a9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LA=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function i9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function _h(e,t,r){return t=UA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UA(e){var t=o9(e,"string");return Mo(t)=="symbol"?t:t+""}function o9(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function s9(e,t){if(e==null)return{};var r=l9(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function c9(e){return e.value}function u9(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=s9(t,Z7);return D.createElement(O0,r)}var g1=1,hi=function(e){function t(){var r;e9(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=r9(this,t,[].concat(a)),_h(r,"lastBoundingBox",{width:-1,height:-1}),r}return i9(t,e),t9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>g1||Math.abs(a.height-this.lastBoundingBox.height)>g1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return hn(hn({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=hn(hn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},u9(i,hn(hn({},this.props),{},{payload:MA(d,u,c9)})))}}],[{key:"getWithHeight",value:function(n,a){var i=hn(hn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&K(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);_h(hi,"displayName","Legend");_h(hi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var y1=Ic,d9=P0,f9=nr,v1=y1?y1.isConcatSpreadable:void 0;function h9(e){return f9(e)||d9(e)||!!(v1&&e&&e[v1])}var p9=h9,m9=OA,g9=p9;function BA(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=g9),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?BA(s,t-1,r,n,a):m9(a,s):n||(a[a.length]=s)}return a}var FA=BA;function y9(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(r(i[l],l,i)===!1)break}return t}}var v9=y9,b9=v9,x9=b9(),w9=x9,_9=w9,j9=wh;function S9(e,t){return e&&_9(e,t,j9)}var qA=S9,O9=Mc;function N9(e,t){return function(r,n){if(r==null)return r;if(!O9(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var P9=N9,E9=qA,A9=P9,k9=A9(E9),T0=k9,T9=T0,C9=Mc;function $9(e,t){var r=-1,n=C9(e)?Array(e.length):[];return T9(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var zA=$9;function I9(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var D9=I9,b1=gs;function R9(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=b1(e),o=t!==void 0,s=t===null,l=t===t,u=b1(t);if(!s&&!u&&!i&&e>t||i&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var M9=R9,L9=M9;function U9(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=L9(a[n],i[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var B9=U9,zp=m0,F9=g0,q9=sn,z9=zA,W9=D9,V9=EA,H9=B9,G9=js,K9=nr;function Y9(e,t,r){t.length?t=zp(t,function(i){return K9(i)?function(o){return F9(o,i.length===1?i[0]:i)}:i}):t=[G9];var n=-1;t=zp(t,V9(q9));var a=z9(e,function(i,o,s){var l=zp(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return W9(a,function(i,o){return H9(i,o,r)})}var X9=Y9;function J9(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Q9=J9,Z9=Q9,x1=Math.max;function eV(e,t,r){return t=x1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=x1(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),Z9(e,this,s)}}var tV=eV;function rV(e){return function(){return e}}var nV=rV,aV=Ai,iV=function(){try{var e=aV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WA=iV,oV=nV,w1=WA,sV=js,lV=w1?function(e,t){return w1(e,"toString",{configurable:!0,enumerable:!1,value:oV(t),writable:!0})}:sV,cV=lV,uV=800,dV=16,fV=Date.now;function hV(e){var t=0,r=0;return function(){var n=fV(),a=dV-(n-r);if(r=n,a>0){if(++t>=uV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pV=hV,mV=cV,gV=pV,yV=gV(mV),vV=yV,bV=js,xV=tV,wV=vV;function _V(e,t){return wV(xV(e,t,bV),e+"")}var jV=_V,SV=d0,OV=Mc,NV=E0,PV=Ta;function EV(e,t,r){if(!PV(r))return!1;var n=typeof t;return(n=="number"?OV(r)&&NV(t,r.length):n=="string"&&t in r)?SV(r[t],e):!1}var jh=EV,AV=FA,kV=X9,TV=jV,_1=jh,CV=TV(function(e,t){if(e==null)return[];var r=t.length;return r>1&&_1(e,t[0],t[1])?t=[]:r>2&&_1(t[0],t[1],t[2])&&(t=[t[0]]),kV(e,AV(t,1),[])}),$V=CV;const C0=Ne($V);function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function IV(e,t){return LV(e)||MV(e,t)||RV(e,t)||DV()}function DV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(e,t){if(e){if(typeof e=="string")return j1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(e,t)}}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function LV(e){if(Array.isArray(e))return e}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){UV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t,r){return t=BV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=FV(e,"string");return Hl(t)=="symbol"?t:t+""}function FV(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qV(e){return Array.isArray(e)&&pt(e[0])&&pt(e[1])?e.join(" ~ "):e}var zV=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,y=t.label,v=t.labelFormatter,g=t.accessibilityLayer,b=g===void 0?!1:g,w=function(){if(d&&d.length){var C={padding:0,margin:0},M=(h?C0(d,h):d).map(function(L,I){if(L.type==="none")return null;var E=Wp({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),k=L.formatter||f||qV,A=L.value,R=L.name,U=A,V=R;if(k&&U!=null&&V!=null){var q=k(A,R,L,I,d);if(Array.isArray(q)){var Q=IV(q,2);U=Q[0],V=Q[1]}else U=q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:E},pt(V)?D.createElement("span",{className:"recharts-tooltip-item-name"},V):null,pt(V)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},U),D.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:C},M)}return null},j=Wp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),x=Wp({margin:0},u),_=!ye(y),S=_?y:"",N=me("recharts-default-tooltip",p),T=me("recharts-tooltip-label",m);_&&v&&d!==void 0&&d!==null&&(S=v(y,d));var $=b?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",Hg({className:N,style:j},$),D.createElement("p",{className:T,style:x},D.isValidElement(S)?S:"".concat(S)),w())};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function gu(e,t,r){return t=WV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=VV(e,"string");return Gl(t)=="symbol"?t:t+""}function VV(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zs="recharts-tooltip-wrapper",HV={visibility:"hidden"};function GV(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return me(zs,gu(gu(gu(gu({},"".concat(zs,"-right"),K(r)&&t&&K(t.x)&&r>=t.x),"".concat(zs,"-left"),K(r)&&t&&K(t.x)&&r<t.x),"".concat(zs,"-bottom"),K(n)&&t&&K(t.y)&&n>=t.y),"".concat(zs,"-top"),K(n)&&t&&K(t.y)&&n<t.y))}function O1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&K(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,y=l[n]+u;return m>y?Math.max(d,l[n]):Math.max(f,l[n])}function KV(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function YV(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=O1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=O1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=KV({translateX:d,translateY:f,useTranslate3d:s})):u=HV,{cssProperties:u,cssClasses:GV({translateX:d,translateY:f,coordinate:r})}}function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){Kg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HA(n.key),n)}}function QV(e,t,r){return t&&JV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZV(e,t,r){return t=Vd(t),eH(e,VA()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function eH(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tH(e)}function tH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VA=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function rH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gg(e,t)}function Kg(e,t,r){return t=HA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HA(e){var t=nH(e,"string");return Lo(t)=="symbol"?t:t+""}function nH(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1=1,aH=function(e){function t(){var r;XV(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ZV(this,t,[].concat(a)),Kg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Kg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return rH(t,e),QV(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>E1||Math.abs(n.height-this.state.lastBoundingBox.height)>E1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,y=a.reverseDirection,v=a.useTranslate3d,g=a.viewBox,b=a.wrapperStyle,w=YV({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),j=w.cssClasses,x=w.cssProperties,_=P1(P1({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return D.createElement("div",{tabIndex:-1,className:j,style:_,ref:function(N){n.wrapperNode=N}},u)}}])}(O.PureComponent),iH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ss={isSsr:iH()};function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KA(n.key),n)}}function lH(e,t,r){return t&&sH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cH(e,t,r){return t=Hd(t),uH(e,GA()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function uH(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(e)}function dH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GA=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function fH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function $0(e,t,r){return t=KA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KA(e){var t=hH(e,"string");return Uo(t)=="symbol"?t:t+""}function hH(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pH(e){return e.dataKey}function mH(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(zV,t)}var Xr=function(e){function t(){return oH(this,t),cH(this,t,arguments)}return fH(t,e),lH(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,y=a.payloadUniqBy,v=a.position,g=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,x=m??[];f&&x.length&&(x=MA(m.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,pH));var _=x.length>0;return D.createElement(aH,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:j},mH(u,k1(k1({},this.props),{},{payload:x})))}}])}(O.PureComponent);$0(Xr,"displayName","Tooltip");$0(Xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ss.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gH=on,yH=function(){return gH.Date.now()},vH=yH,bH=/\s/;function xH(e){for(var t=e.length;t--&&bH.test(e.charAt(t)););return t}var wH=xH,_H=wH,jH=/^\s+/;function SH(e){return e&&e.slice(0,_H(e)+1).replace(jH,"")}var OH=SH,NH=OH,T1=Ta,PH=gs,C1=NaN,EH=/^[-+]0x[0-9a-f]+$/i,AH=/^0b[01]+$/i,kH=/^0o[0-7]+$/i,TH=parseInt;function CH(e){if(typeof e=="number")return e;if(PH(e))return C1;if(T1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=T1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=NH(e);var r=AH.test(e);return r||kH.test(e)?TH(e.slice(2),r?2:8):EH.test(e)?C1:+e}var YA=CH,$H=Ta,Vp=vH,$1=YA,IH="Expected a function",DH=Math.max,RH=Math.min;function MH(e,t,r){var n,a,i,o,s,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(IH);t=$1(t)||0,$H(r)&&(d=!!r.leading,f="maxWait"in r,i=f?DH($1(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var S=n,N=a;return n=a=void 0,u=_,o=e.apply(N,S),o}function m(_){return u=_,s=setTimeout(g,t),d?p(_):o}function y(_){var S=_-l,N=_-u,T=t-S;return f?RH(T,i-N):T}function v(_){var S=_-l,N=_-u;return l===void 0||S>=t||S<0||f&&N>=i}function g(){var _=Vp();if(v(_))return b(_);s=setTimeout(g,y(_))}function b(_){return s=void 0,h&&n?p(_):(n=a=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function j(){return s===void 0?o:b(Vp())}function x(){var _=Vp(),S=v(_);if(n=arguments,a=this,l=_,S){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(g,t),p(l)}return s===void 0&&(s=setTimeout(g,t)),o}return x.cancel=w,x.flush=j,x}var LH=MH,UH=LH,BH=Ta,FH="Expected a function";function qH(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(FH);return BH(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),UH(e,t,{leading:n,maxWait:t,trailing:a})}var zH=qH;const XA=Ne(zH);function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return t=VH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=HH(e,"string");return Kl(t)=="symbol"?t:t+""}function HH(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e,t){return JH(e)||XH(e,t)||YH(e,t)||KH()}function KH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function JH(e){if(Array.isArray(e))return e}var R1=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,y=m===void 0?0:m,v=e.id,g=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,x=O.useRef(null),_=O.useRef();_.current=b,O.useImperativeHandle(t,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var S=O.useState({containerWidth:a.width,containerHeight:a.height}),N=GH(S,2),T=N[0],$=N[1],P=O.useCallback(function(M,L){$(function(I){var E=Math.round(M),k=Math.round(L);return I.containerWidth===E&&I.containerHeight===k?I:{containerWidth:E,containerHeight:k}})},[]);O.useEffect(function(){var M=function(R){var U,V=R[0].contentRect,q=V.width,Q=V.height;P(q,Q),(U=_.current)===null||U===void 0||U.call(_,q,Q)};y>0&&(M=XA(M,y,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),I=x.current.getBoundingClientRect(),E=I.width,k=I.height;return P(E,k),L.observe(x.current),function(){L.disconnect()}},[P,y]);var C=O.useMemo(function(){var M=T.containerWidth,L=T.containerHeight;if(M<0||L<0)return null;zr(si(o)||si(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),zr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=si(o)?M:o,E=si(l)?L:l;r&&r>0&&(I?E=I/r:E&&(I=E*r),h&&E>h&&(E=h)),zr(I>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,E,o,l,d,f,r);var k=!Array.isArray(p)&&Nn(p.type).endsWith("Chart");return D.Children.map(p,function(A){return D.isValidElement(A)?O.cloneElement(A,yu({width:I,height:E},k?{style:yu({height:"100%",width:"100%",maxHeight:E,maxWidth:I},A.props.style)}:{})):A})},[r,p,l,h,f,d,T,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:me("recharts-responsive-container",g),style:yu(yu({},j),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:x},C)}),Sh=function(t){return null};Sh.displayName="Cell";function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=eG(e,"string");return Yl(t)=="symbol"?t:t+""}function eG(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi={widthCache:{},cacheCount:0},tG=2e3,rG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L1="recharts_measurement_span";function nG(e){var t=Xg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var gl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ss.isSsr)return{width:0,height:0};var n=nG(r),a=JSON.stringify({text:t,copyStyle:n});if(Fi.widthCache[a])return Fi.widthCache[a];try{var i=document.getElementById(L1);i||(i=document.createElement("span"),i.setAttribute("id",L1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Xg(Xg({},rG),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return Fi.widthCache[a]=l,++Fi.cacheCount>tG&&(Fi.cacheCount=0,Fi.widthCache={}),l}catch{return{width:0,height:0}}},aG=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Gd(e,t){return lG(e)||sG(e,t)||oG(e,t)||iG()}function iG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return U1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U1(e,t)}}function U1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function lG(e){if(Array.isArray(e))return e}function cG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dG(n.key),n)}}function uG(e,t,r){return t&&B1(e.prototype,t),r&&B1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dG(e){var t=fG(e,"string");return Xl(t)=="symbol"?t:t+""}function fG(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mG=Object.keys(JA),ao="NaN";function gG(e,t){return e*JA[t]}var vu=function(){function e(t,r){cG(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!hG.test(r)&&(this.num=NaN,this.unit=""),mG.includes(r)&&(this.num=gG(t,r),this.unit="px")}return uG(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=pG.exec(r))!==null&&n!==void 0?n:[],i=Gd(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function QA(e){if(e.includes(ao))return ao;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=F1.exec(t))!==null&&r!==void 0?r:[],a=Gd(n,4),i=a[1],o=a[2],s=a[3],l=vu.parse(i??""),u=vu.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ao;t=t.replace(F1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=q1.exec(t))!==null&&f!==void 0?f:[],p=Gd(h,4),m=p[1],y=p[2],v=p[3],g=vu.parse(m??""),b=vu.parse(v??""),w=y==="+"?g.add(b):g.subtract(b);if(w.isNaN())return ao;t=t.replace(q1,w.toString())}return t}var z1=/\(([^()]*)\)/;function yG(e){for(var t=e;t.includes("(");){var r=z1.exec(t),n=Gd(r,2),a=n[1];t=t.replace(z1,QA(a))}return t}function vG(e){var t=e.replace(/\s+/g,"");return t=yG(t),t=QA(t),t}function bG(e){try{return vG(e)}catch{return ao}}function Hp(e){var t=bG(e.slice(5,-1));return t===ao?"":t}var xG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wG=["dx","dy","angle","className","breakAll"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function W1(e,t){if(e==null)return{};var r=_G(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _G(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V1(e,t){return NG(e)||OG(e,t)||SG(e,t)||jG()}function jG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SG(e,t){if(e){if(typeof e=="string")return H1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(e,t)}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function NG(e){if(Array.isArray(e))return e}var ZA=/[ \f\n\r\t\v\u2028\u2029]+/,ek=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ye(r)||(n?i=r.toString().split(""):i=r.toString().split(ZA));var o=i.map(function(l){return{word:l,width:gl(l,a).width}}),s=n?0:gl("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},PG=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=K(o),f=s,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(E,k){var A=k.word,R=k.width,U=E[E.length-1];if(U&&(a==null||i||U.width+R+n<Number(a)))U.words.push(A),U.width+=R+n;else{var V={words:[A],width:R};E.push(V)}return E},[])},p=h(r),m=function(I){return I.reduce(function(E,k){return E.width>k.width?E:k})};if(!d)return p;for(var y="",v=function(I){var E=f.slice(0,I),k=ek({breakAll:u,style:l,children:E+y}).wordsWithComputedWidth,A=h(k),R=A.length>o||m(A).width>Number(a);return[R,A]},g=0,b=f.length-1,w=0,j;g<=b&&w<=f.length-1;){var x=Math.floor((g+b)/2),_=x-1,S=v(_),N=V1(S,2),T=N[0],$=N[1],P=v(x),C=V1(P,1),M=C[0];if(!T&&!M&&(g=x+1),T&&M&&(b=x-1),!T&&M){j=$;break}w++}return j||p},G1=function(t){var r=ye(t)?[]:t.toString().split(ZA);return[{words:r}]},EG=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Ss.isSsr){var l,u,d=ek({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return G1(a);return PG({breakAll:o,children:a,maxLines:s,style:i},l,u,r,n)}return G1(a)},K1="#808080",ji=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,y=m===void 0?"end":m,v=t.fill,g=v===void 0?K1:v,b=W1(t,xG),w=O.useMemo(function(){return EG({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,x=b.dy,_=b.angle,S=b.className,N=b.breakAll,T=W1(b,wG);if(!pt(n)||!pt(i))return null;var $=n+(K(j)?j:0),P=i+(K(x)?x:0),C;switch(y){case"start":C=Hp("calc(".concat(u,")"));break;case"middle":C=Hp("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=Hp("calc(".concat(w.length-1," * -").concat(s,")"));break}var M=[];if(f){var L=w[0].width,I=b.width;M.push("scale(".concat((K(I)?I/L:1)/L,")"))}return _&&M.push("rotate(".concat(_,", ").concat($,", ").concat(P,")")),M.length&&(T.transform=M.join(" ")),D.createElement("text",Jg({},ue(T,!0),{x:$,y:P,className:me("recharts-text",S),textAnchor:p,fill:g.includes("url")?K1:g}),w.map(function(E,k){var A=E.words.join(N?"":" ");return D.createElement("tspan",{x:$,dy:k===0?C:s,key:"".concat(A,"-").concat(k)},A)}))};function ba(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I0(e){let t,r,n;e.length!==2?(t=ba,r=(s,l)=>ba(e(s),l),n=(s,l)=>e(s)-l):(t=e===ba||e===AG?e:kG,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function kG(){return 0}function tk(e){return e===null?NaN:+e}function*TG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const CG=I0(ba),Lc=CG.right;I0(tk).center;class Y1 extends Map{constructor(t,r=DG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(X1(this,t))}has(t){return super.has(X1(this,t))}set(t,r){return super.set($G(this,t),r)}delete(t){return super.delete(IG(this,t))}}function X1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $G({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function IG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function DG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RG(e=ba){if(e===ba)return rk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MG=Math.sqrt(50),LG=Math.sqrt(10),UG=Math.sqrt(2);function Kd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=MG?10:i>=LG?5:i>=UG?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Kd(e,t,r*2):[s,l,u]}function Qg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Kd(t,e,r):Kd(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function Zg(e,t,r){return t=+t,e=+e,r=+r,Kd(e,t,r)[2]}function ey(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Zg(t,e,r):Zg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function J1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Q1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rk:RG(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),m=Math.min(n,Math.floor(t+(l-u)*f/l+h));nk(e,t,p,m,a)}const i=e[t];let o=r,s=n;for(Ws(e,r,t),a(e[n],i)>0&&Ws(e,r,n);o<s;){for(Ws(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Ws(e,r,s):(++s,Ws(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Ws(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function BG(e,t,r){if(e=Float64Array.from(TG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Q1(e);if(t>=1)return J1(e);var n,a=(n-1)*t,i=Math.floor(a),o=J1(nk(e,i).subarray(0,i+1)),s=Q1(e.subarray(i+1));return o+(s-o)*(a-i)}}function FG(e,t,r=tk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function qG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function kr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ty=Symbol("implicit");function D0(){var e=new Y1,t=[],r=[],n=ty;function a(i){let o=e.get(i);if(o===void 0){if(n!==ty)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Y1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return D0(t,r).unknown(n)},kr.apply(a,arguments),a}function Jl(){var e=D0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,y=p?n:a;i=(y-m)/Math.max(1,h-l+u*2),s&&(i=Math.floor(i)),m+=(y-m-i*(h-l))*d,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=qG(h).map(function(g){return m+i*g});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Jl(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},kr.apply(f(),arguments)}function ak(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ak(t())},e}function yl(){return ak(Jl.apply(null,arguments).paddingInner(1))}function R0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ik(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Uc(){}var Ql=.7,Yd=1/Ql,xo="\\s*([+-]?\\d+)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zG=/^#([0-9a-f]{3,8})$/,WG=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),VG=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),HG=new RegExp(`^rgba\\(${xo},${xo},${xo},${Zl}\\)$`),GG=new RegExp(`^rgba\\(${rn},${rn},${rn},${Zl}\\)$`),KG=new RegExp(`^hsl\\(${Zl},${rn},${rn}\\)$`),YG=new RegExp(`^hsla\\(${Zl},${rn},${rn},${Zl}\\)$`),Z1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R0(Uc,ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:e_,formatHex:e_,formatHex8:XG,formatHsl:JG,formatRgb:t_,toString:t_});function e_(){return this.rgb().formatHex()}function XG(){return this.rgb().formatHex8()}function JG(){return ok(this).formatHsl()}function t_(){return this.rgb().formatRgb()}function ec(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?r_(t):r===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WG.exec(e))?new Qt(t[1],t[2],t[3],1):(t=VG.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HG.exec(e))?bu(t[1],t[2],t[3],t[4]):(t=GG.exec(e))?bu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KG.exec(e))?i_(t[1],t[2]/100,t[3]/100,1):(t=YG.exec(e))?i_(t[1],t[2]/100,t[3]/100,t[4]):Z1.hasOwnProperty(e)?r_(Z1[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function r_(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function bu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qt(e,t,r,n)}function QG(e){return e instanceof Uc||(e=ec(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function ry(e,t,r,n){return arguments.length===1?QG(e):new Qt(e,t,r,n??1)}function Qt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}R0(Qt,ry,ik(Uc,{brighter(e){return e=e==null?Yd:Math.pow(Yd,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(pi(this.r),pi(this.g),pi(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n_,formatHex:n_,formatHex8:ZG,formatRgb:a_,toString:a_}));function n_(){return`#${li(this.r)}${li(this.g)}${li(this.b)}`}function ZG(){return`#${li(this.r)}${li(this.g)}${li(this.b)}${li((isNaN(this.opacity)?1:this.opacity)*255)}`}function a_(){const e=Xd(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Xd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function li(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function i_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Br(e,t,r,n)}function ok(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof Uc||(e=ec(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Br(o,s,l,e.opacity)}function eK(e,t,r,n){return arguments.length===1?ok(e):new Br(e,t,r,n??1)}function Br(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}R0(Br,eK,ik(Uc,{brighter(e){return e=e==null?Yd:Math.pow(Yd,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Qt(Gp(e>=240?e-240:e+120,a,n),Gp(e,a,n),Gp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Br(o_(this.h),xu(this.s),xu(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xd(this.opacity);return`${e===1?"hsl(":"hsla("}${o_(this.h)}, ${xu(this.s)*100}%, ${xu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function o_(e){return e=(e||0)%360,e<0?e+360:e}function xu(e){return Math.max(0,Math.min(1,e||0))}function Gp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const M0=e=>()=>e;function tK(e,t){return function(r){return e+r*t}}function rK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nK(e){return(e=+e)==1?sk:function(t,r){return r-t?rK(t,r,e):M0(isNaN(t)?r:t)}}function sk(e,t){var r=t-e;return r?tK(e,r):M0(isNaN(e)?t:e)}const s_=function e(t){var r=nK(t);function n(a,i){var o=r((a=ry(a)).r,(i=ry(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=sk(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function aK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function iK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Os(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function sK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Jd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lK(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Os(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ny=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kp=new RegExp(ny.source,"g");function cK(e){return function(){return e}}function uK(e){return function(t){return e(t)+""}}function dK(e,t){var r=ny.lastIndex=Kp.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=ny.exec(e))&&(a=Kp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Jd(n,a)})),r=Kp.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?uK(l[0].x):cK(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Os(e,t){var r=typeof t,n;return t==null||r==="boolean"?M0(t):(r==="number"?Jd:r==="string"?(n=ec(t))?(t=n,s_):dK:t instanceof ec?s_:t instanceof Date?sK:iK(t)?aK:Array.isArray(t)?oK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lK:Jd)(e,t)}function L0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fK(e,t){t===void 0&&(t=e,e=Os);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function hK(e){return function(){return e}}function Qd(e){return+e}var l_=[0,1];function Wt(e){return e}function ay(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hK(isNaN(t)?NaN:.5)}function pK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mK(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ay(a,n),i=r(o,i)):(n=ay(n,a),i=r(i,o)),function(s){return i(n(s))}}function gK(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ay(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=Lc(e,s,1,n)-1;return i[l](a[l](s))}}function Bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Oh(){var e=l_,t=l_,r=Os,n,a,i,o=Wt,s,l,u;function d(){var h=Math.min(e.length,t.length);return o!==Wt&&(o=pK(e[0],e[h-1])),s=h>2?gK:mK,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),Jd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Qd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=L0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Wt,d()):o!==Wt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function U0(){return Oh()(Wt,Wt)}function yK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bo(e){return e=Zd(Math.abs(e)),e?e[1]:NaN}function vK(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function bK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tc(e){if(!(t=xK.exec(e)))throw new Error("invalid format: "+e);var t;return new B0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tc.prototype=B0.prototype;function B0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}B0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wK(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lk;function _K(e,t){var r=Zd(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(lk=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Zd(e,Math.max(0,t+i-1))[0]}function c_(e,t){var r=Zd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const u_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c_(e*100,t),r:c_,s:_K,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function d_(e){return e}var f_=Array.prototype.map,h_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jK(e){var t=e.grouping===void 0||e.thousands===void 0?d_:vK(f_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?d_:bK(f_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=tc(f);var h=f.fill,p=f.align,m=f.sign,y=f.symbol,v=f.zero,g=f.width,b=f.comma,w=f.precision,j=f.trim,x=f.type;x==="n"?(b=!0,x="g"):u_[x]||(w===void 0&&(w=12),j=!0,x="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=y==="$"?n:/[%p]/.test(x)?o:"",N=u_[x],T=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(P){var C=_,M=S,L,I,E;if(x==="c")M=N(P)+M,P="";else{P=+P;var k=P<0||1/P<0;if(P=isNaN(P)?l:N(Math.abs(P),w),j&&(P=wK(P)),k&&+P==0&&m!=="+"&&(k=!1),C=(k?m==="("?m:s:m==="-"||m==="("?"":m)+C,M=(x==="s"?h_[8+lk/3]:"")+M+(k&&m==="("?")":""),T){for(L=-1,I=P.length;++L<I;)if(E=P.charCodeAt(L),48>E||E>57){M=(E===46?a+P.slice(L+1):P.slice(L))+M,P=P.slice(0,L);break}}}b&&!v&&(P=t(P,1/0));var A=C.length+P.length+M.length,R=A<g?new Array(g-A+1).join(h):"";switch(b&&v&&(P=t(R+P,R.length?g-M.length:1/0),R=""),p){case"<":P=C+P+M+R;break;case"=":P=C+R+P+M;break;case"^":P=R.slice(0,A=R.length>>1)+C+P+M+R.slice(A);break;default:P=R+C+P+M;break}return i(P)}return $.toString=function(){return f+""},$}function d(f,h){var p=u((f=tc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Bo(h)/3)))*3,y=Math.pow(10,-m),v=h_[8+m/3];return function(g){return p(y*g)+v}}return{format:u,formatPrefix:d}}var wu,F0,ck;SK({thousands:",",grouping:[3],currency:["$",""]});function SK(e){return wu=jK(e),F0=wu.format,ck=wu.formatPrefix,wu}function OK(e){return Math.max(0,-Bo(Math.abs(e)))}function NK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bo(t)/3)))*3-Bo(Math.abs(e)))}function PK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bo(t)-Bo(e))+1}function uk(e,t,r,n){var a=ey(e,t,r),i;switch(n=tc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=NK(a,o))&&(n.precision=i),ck(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=PK(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=OK(a))&&(n.precision=i-(n.type==="%")*2);break}}return F0(n)}function Ca(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return uk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=Zg(o,s,r),u===l)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function ef(){var e=U0();return e.copy=function(){return Bc(e,ef())},kr.apply(e,arguments),Ca(e)}function dk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dk(e).unknown(t)},e=arguments.length?Array.from(e,Qd):[0,1],Ca(r)}function fk(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function p_(e){return Math.log(e)}function m_(e){return Math.exp(e)}function EK(e){return-Math.log(-e)}function AK(e){return-Math.exp(-e)}function kK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TK(e){return e===10?kK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function g_(e){return(t,r)=>-e(-t,r)}function q0(e){const t=e(p_,m_),r=t.domain;let n=10,a,i;function o(){return a=CK(n),i=TK(n),r()[0]<0?(a=g_(a),i=g_(i),e(EK,AK)):e(p_,m_),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,y;const v=s==null?10:+s;let g=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(y=h<0?m/i(-h):m*i(h),!(y<u)){if(y>d)break;g.push(y)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(y=h>0?m/i(-h):m*i(h),!(y<u)){if(y>d)break;g.push(y)}g.length*2<v&&(g=Qg(u,d,v))}else g=Qg(h,p,Math.min(p-h,v)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=tc(l)).precision==null&&(l.trim=!0),l=F0(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(fk(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function hk(){const e=q0(Oh()).domain([1,10]);return e.copy=()=>Bc(e,hk()).base(e.base()),kr.apply(e,arguments),e}function y_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function v_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function z0(e){var t=1,r=e(y_(t),v_(t));return r.constant=function(n){return arguments.length?e(y_(t=+n),v_(t)):t},Ca(r)}function pk(){var e=z0(Oh());return e.copy=function(){return Bc(e,pk()).constant(e.constant())},kr.apply(e,arguments)}function b_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $K(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IK(e){return e<0?-e*e:e*e}function W0(e){var t=e(Wt,Wt),r=1;function n(){return r===1?e(Wt,Wt):r===.5?e($K,IK):e(b_(r),b_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ca(t)}function V0(){var e=W0(Oh());return e.copy=function(){return Bc(e,V0()).exponent(e.exponent())},kr.apply(e,arguments),e}function DK(){return V0.apply(null,arguments).exponent(.5)}function x_(e){return Math.sign(e)*e*e}function RK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mk(){var e=U0(),t=[0,1],r=!1,n;function a(i){var o=RK(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(x_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Qd)).map(x_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return mk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},kr.apply(a,arguments),Ca(a)}function gk(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=FG(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Lc(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ba),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return gk().domain(e).range(t).unknown(n)},kr.apply(i,arguments)}function yk(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Lc(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return yk().domain([e,t]).range(a).unknown(i)},kr.apply(Ca(o),arguments)}function vk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Lc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vk().domain(e).range(t).unknown(r)},kr.apply(a,arguments)}const Yp=new Date,Xp=new Date;function mt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>mt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Yp.setTime(+i),Xp.setTime(+o),e(Yp),e(Xp),Math.floor(r(Yp,Xp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const tf=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tf);tf.range;const xn=1e3,jr=xn*60,wn=jr*60,$n=wn*24,H0=$n*7,w_=$n*30,Jp=$n*365,ci=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCSeconds());ci.range;const G0=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xn)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getMinutes());G0.range;const K0=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCMinutes());K0.range;const Y0=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xn-e.getMinutes()*jr)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getHours());Y0.range;const X0=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCHours());X0.range;const Fc=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jr)/$n,e=>e.getDate()-1);Fc.range;const Nh=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$n,e=>e.getUTCDate()-1);Nh.range;const bk=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$n,e=>Math.floor(e/$n));bk.range;function ki(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*jr)/H0)}const Ph=ki(0),rf=ki(1),MK=ki(2),LK=ki(3),Fo=ki(4),UK=ki(5),BK=ki(6);Ph.range;rf.range;MK.range;LK.range;Fo.range;UK.range;BK.range;function Ti(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/H0)}const Eh=Ti(0),nf=Ti(1),FK=Ti(2),qK=Ti(3),qo=Ti(4),zK=Ti(5),WK=Ti(6);Eh.range;nf.range;FK.range;qK.range;qo.range;zK.range;WK.range;const J0=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());J0.range;const Q0=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Q0.range;const In=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});In.range;const Dn=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Dn.range;function xk(e,t,r,n,a,i){const o=[[ci,1,xn],[ci,5,5*xn],[ci,15,15*xn],[ci,30,30*xn],[i,1,jr],[i,5,5*jr],[i,15,15*jr],[i,30,30*jr],[a,1,wn],[a,3,3*wn],[a,6,6*wn],[a,12,12*wn],[n,1,$n],[n,2,2*$n],[r,1,H0],[t,1,w_],[t,3,3*w_],[e,1,Jp]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=I0(([,,v])=>v).right(o,h);if(p===o.length)return e.every(ey(u/Jp,d/Jp,f));if(p===0)return tf.every(Math.max(ey(u,d,f),1));const[m,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(y)}return[s,l]}const[VK,HK]=xk(Dn,Q0,Eh,bk,X0,K0),[GK,KK]=xk(In,J0,Ph,Fc,Y0,G0);function Qp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YK(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Hs(a),d=Gs(a),f=Hs(i),h=Gs(i),p=Hs(o),m=Gs(o),y=Hs(s),v=Gs(s),g=Hs(l),b=Gs(l),w={a:k,A,b:R,B:U,c:null,d:P_,e:P_,f:vY,g:EY,G:kY,H:mY,I:gY,j:yY,L:wk,m:bY,M:xY,p:V,q,Q:k_,s:T_,S:wY,u:_Y,U:jY,V:SY,w:OY,W:NY,x:null,X:null,y:PY,Y:AY,Z:TY,"%":A_},j={a:Q,A:re,b:J,B:ge,c:null,d:E_,e:E_,f:DY,g:VY,G:GY,H:CY,I:$Y,j:IY,L:jk,m:RY,M:MY,p:Ve,q:je,Q:k_,s:T_,S:LY,u:UY,U:BY,V:FY,w:qY,W:zY,x:null,X:null,y:WY,Y:HY,Z:KY,"%":A_},x={a:$,A:P,b:C,B:M,c:L,d:O_,e:O_,f:dY,g:S_,G:j_,H:N_,I:N_,j:sY,L:uY,m:oY,M:lY,p:T,q:iY,Q:hY,s:pY,S:cY,u:eY,U:tY,V:rY,w:ZK,W:nY,x:I,X:E,y:S_,Y:j_,Z:aY,"%":fY};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(Y,F){return function(H){var W=[],se=-1,ie=0,fe=Y.length,be,Qe,Ut;for(H instanceof Date||(H=new Date(+H));++se<fe;)Y.charCodeAt(se)===37&&(W.push(Y.slice(ie,se)),(Qe=__[be=Y.charAt(++se)])!=null?be=Y.charAt(++se):Qe=be==="e"?" ":"0",(Ut=F[be])&&(be=Ut(H,Qe)),W.push(be),ie=se+1);return W.push(Y.slice(ie,se)),W.join("")}}function S(Y,F){return function(H){var W=Vs(1900,void 0,1),se=N(W,Y,H+="",0),ie,fe;if(se!=H.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(F&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ie=Zp(Vs(W.y,0,1)),fe=ie.getUTCDay(),ie=fe>4||fe===0?nf.ceil(ie):nf(ie),ie=Nh.offset(ie,(W.V-1)*7),W.y=ie.getUTCFullYear(),W.m=ie.getUTCMonth(),W.d=ie.getUTCDate()+(W.w+6)%7):(ie=Qp(Vs(W.y,0,1)),fe=ie.getDay(),ie=fe>4||fe===0?rf.ceil(ie):rf(ie),ie=Fc.offset(ie,(W.V-1)*7),W.y=ie.getFullYear(),W.m=ie.getMonth(),W.d=ie.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),fe="Z"in W?Zp(Vs(W.y,0,1)).getUTCDay():Qp(Vs(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(fe+5)%7:W.w+W.U*7-(fe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Zp(W)):Qp(W)}}function N(Y,F,H,W){for(var se=0,ie=F.length,fe=H.length,be,Qe;se<ie;){if(W>=fe)return-1;if(be=F.charCodeAt(se++),be===37){if(be=F.charAt(se++),Qe=x[be in __?F.charAt(se++):be],!Qe||(W=Qe(Y,H,W))<0)return-1}else if(be!=H.charCodeAt(W++))return-1}return W}function T(Y,F,H){var W=u.exec(F.slice(H));return W?(Y.p=d.get(W[0].toLowerCase()),H+W[0].length):-1}function $(Y,F,H){var W=p.exec(F.slice(H));return W?(Y.w=m.get(W[0].toLowerCase()),H+W[0].length):-1}function P(Y,F,H){var W=f.exec(F.slice(H));return W?(Y.w=h.get(W[0].toLowerCase()),H+W[0].length):-1}function C(Y,F,H){var W=g.exec(F.slice(H));return W?(Y.m=b.get(W[0].toLowerCase()),H+W[0].length):-1}function M(Y,F,H){var W=y.exec(F.slice(H));return W?(Y.m=v.get(W[0].toLowerCase()),H+W[0].length):-1}function L(Y,F,H){return N(Y,t,F,H)}function I(Y,F,H){return N(Y,r,F,H)}function E(Y,F,H){return N(Y,n,F,H)}function k(Y){return o[Y.getDay()]}function A(Y){return i[Y.getDay()]}function R(Y){return l[Y.getMonth()]}function U(Y){return s[Y.getMonth()]}function V(Y){return a[+(Y.getHours()>=12)]}function q(Y){return 1+~~(Y.getMonth()/3)}function Q(Y){return o[Y.getUTCDay()]}function re(Y){return i[Y.getUTCDay()]}function J(Y){return l[Y.getUTCMonth()]}function ge(Y){return s[Y.getUTCMonth()]}function Ve(Y){return a[+(Y.getUTCHours()>=12)]}function je(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var F=_(Y+="",w);return F.toString=function(){return Y},F},parse:function(Y){var F=S(Y+="",!1);return F.toString=function(){return Y},F},utcFormat:function(Y){var F=_(Y+="",j);return F.toString=function(){return Y},F},utcParse:function(Y){var F=S(Y+="",!0);return F.toString=function(){return Y},F}}}var __={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,XK=/^%/,JK=/[\\^$*+?|[\]().{}]/g;function _e(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function QK(e){return e.replace(JK,"\\$&")}function Hs(e){return new RegExp("^(?:"+e.map(QK).join("|")+")","i")}function Gs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZK(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eY(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function j_(e,t,r){var n=_t.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function S_(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iY(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function O_(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sY(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function N_(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cY(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uY(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dY(e,t,r){var n=_t.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fY(e,t,r){var n=XK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hY(e,t,r){var n=_t.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pY(e,t,r){var n=_t.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function P_(e,t){return _e(e.getDate(),t,2)}function mY(e,t){return _e(e.getHours(),t,2)}function gY(e,t){return _e(e.getHours()%12||12,t,2)}function yY(e,t){return _e(1+Fc.count(In(e),e),t,3)}function wk(e,t){return _e(e.getMilliseconds(),t,3)}function vY(e,t){return wk(e,t)+"000"}function bY(e,t){return _e(e.getMonth()+1,t,2)}function xY(e,t){return _e(e.getMinutes(),t,2)}function wY(e,t){return _e(e.getSeconds(),t,2)}function _Y(e){var t=e.getDay();return t===0?7:t}function jY(e,t){return _e(Ph.count(In(e)-1,e),t,2)}function _k(e){var t=e.getDay();return t>=4||t===0?Fo(e):Fo.ceil(e)}function SY(e,t){return e=_k(e),_e(Fo.count(In(e),e)+(In(e).getDay()===4),t,2)}function OY(e){return e.getDay()}function NY(e,t){return _e(rf.count(In(e)-1,e),t,2)}function PY(e,t){return _e(e.getFullYear()%100,t,2)}function EY(e,t){return e=_k(e),_e(e.getFullYear()%100,t,2)}function AY(e,t){return _e(e.getFullYear()%1e4,t,4)}function kY(e,t){var r=e.getDay();return e=r>=4||r===0?Fo(e):Fo.ceil(e),_e(e.getFullYear()%1e4,t,4)}function TY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function E_(e,t){return _e(e.getUTCDate(),t,2)}function CY(e,t){return _e(e.getUTCHours(),t,2)}function $Y(e,t){return _e(e.getUTCHours()%12||12,t,2)}function IY(e,t){return _e(1+Nh.count(Dn(e),e),t,3)}function jk(e,t){return _e(e.getUTCMilliseconds(),t,3)}function DY(e,t){return jk(e,t)+"000"}function RY(e,t){return _e(e.getUTCMonth()+1,t,2)}function MY(e,t){return _e(e.getUTCMinutes(),t,2)}function LY(e,t){return _e(e.getUTCSeconds(),t,2)}function UY(e){var t=e.getUTCDay();return t===0?7:t}function BY(e,t){return _e(Eh.count(Dn(e)-1,e),t,2)}function Sk(e){var t=e.getUTCDay();return t>=4||t===0?qo(e):qo.ceil(e)}function FY(e,t){return e=Sk(e),_e(qo.count(Dn(e),e)+(Dn(e).getUTCDay()===4),t,2)}function qY(e){return e.getUTCDay()}function zY(e,t){return _e(nf.count(Dn(e)-1,e),t,2)}function WY(e,t){return _e(e.getUTCFullYear()%100,t,2)}function VY(e,t){return e=Sk(e),_e(e.getUTCFullYear()%100,t,2)}function HY(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function GY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qo(e):qo.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function KY(){return"+0000"}function A_(){return"%"}function k_(e){return+e}function T_(e){return Math.floor(+e/1e3)}var qi,Ok,Nk;YY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YY(e){return qi=YK(e),Ok=qi.format,qi.parse,Nk=qi.utcFormat,qi.utcParse,qi}function XY(e){return new Date(e)}function JY(e){return e instanceof Date?+e:+new Date(+e)}function Z0(e,t,r,n,a,i,o,s,l,u){var d=U0(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function x(_){return(l(_)<_?p:s(_)<_?m:o(_)<_?y:i(_)<_?v:n(_)<_?a(_)<_?g:b:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,JY)):h().map(XY)},d.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?x:u(S)},d.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(fk(S,_)):d},d.copy=function(){return Bc(d,Z0(e,t,r,n,a,i,o,s,l,u))},d}function QY(){return kr.apply(Z0(GK,KK,In,J0,Ph,Fc,Y0,G0,ci,Ok).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZY(){return kr.apply(Z0(VK,HK,Dn,Q0,Eh,Nh,X0,K0,ci,Nk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ah(){var e=0,t=1,r,n,a,i,o=Wt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(Os),u.rangeRound=d(L0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function $a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Pk(){var e=Ca(Ah()(Wt));return e.copy=function(){return $a(e,Pk())},qn.apply(e,arguments)}function Ek(){var e=q0(Ah()).domain([1,10]);return e.copy=function(){return $a(e,Ek()).base(e.base())},qn.apply(e,arguments)}function Ak(){var e=z0(Ah());return e.copy=function(){return $a(e,Ak()).constant(e.constant())},qn.apply(e,arguments)}function eb(){var e=W0(Ah());return e.copy=function(){return $a(e,eb()).exponent(e.exponent())},qn.apply(e,arguments)}function eX(){return eb.apply(null,arguments).exponent(.5)}function kk(){var e=[],t=Wt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ba),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>BG(e,i/n))},r.copy=function(){return kk(t).domain(e)},qn.apply(r,arguments)}function kh(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,u=Wt,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(v){var g,b,w;return arguments.length?([g,b,w]=v,u=fK(y,[g,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(Os),p.rangeRound=m(L0),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,a=y(e),i=y(t),o=y(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function Tk(){var e=Ca(kh()(Wt));return e.copy=function(){return $a(e,Tk())},qn.apply(e,arguments)}function Ck(){var e=q0(kh()).domain([.1,1,10]);return e.copy=function(){return $a(e,Ck()).base(e.base())},qn.apply(e,arguments)}function $k(){var e=z0(kh());return e.copy=function(){return $a(e,$k()).constant(e.constant())},qn.apply(e,arguments)}function tb(){var e=W0(kh());return e.copy=function(){return $a(e,tb()).exponent(e.exponent())},qn.apply(e,arguments)}function tX(){return tb.apply(null,arguments).exponent(.5)}const C_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jl,scaleDiverging:Tk,scaleDivergingLog:Ck,scaleDivergingPow:tb,scaleDivergingSqrt:tX,scaleDivergingSymlog:$k,scaleIdentity:dk,scaleImplicit:ty,scaleLinear:ef,scaleLog:hk,scaleOrdinal:D0,scalePoint:yl,scalePow:V0,scaleQuantile:gk,scaleQuantize:yk,scaleRadial:mk,scaleSequential:Pk,scaleSequentialLog:Ek,scaleSequentialPow:eb,scaleSequentialQuantile:kk,scaleSequentialSqrt:eX,scaleSequentialSymlog:Ak,scaleSqrt:DK,scaleSymlog:pk,scaleThreshold:vk,scaleTime:QY,scaleUtc:ZY,tickFormat:uk},Symbol.toStringTag,{value:"Module"}));var rX=gs;function nX(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!rX(o):r(o,s)))var s=o,l=i}return l}var Th=nX;function aX(e,t){return e>t}var Ik=aX,iX=Th,oX=Ik,sX=js;function lX(e){return e&&e.length?iX(e,sX,oX):void 0}var cX=lX;const Ch=Ne(cX);function uX(e,t){return e<t}var Dk=uX,dX=Th,fX=Dk,hX=js;function pX(e){return e&&e.length?dX(e,hX,fX):void 0}var mX=pX;const $h=Ne(mX);var gX=m0,yX=sn,vX=zA,bX=nr;function xX(e,t){var r=bX(e)?gX:vX;return r(e,yX(t))}var wX=xX,_X=FA,jX=wX;function SX(e,t){return _X(jX(e,t),1)}var OX=SX;const NX=Ne(OX);var PX=k0;function EX(e,t){return PX(e,t)}var AX=EX;const Ih=Ne(AX);var Ns=1e9,kX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nb,Ke=!0,Er="[DecimalError] ",mi=Er+"Invalid argument: ",rb=Er+"Exponent out of range: ",Ps=Math.floor,Qa=Math.pow,TX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,yt=1e7,ze=7,Rk=9007199254740991,af=Ps(Rk/ze),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return Pn(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return Ie(Pn(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return ct(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Er+"NaN");if(r.s<1)throw Error(Er+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ke=!1,t=Pn(rc(r,i),rc(e,i),i),Ke=!0,Ie(t,a))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Uk(t,e):Mk(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Er+"NaN");return r.s?(Ke=!1,t=Pn(r,e,0,1).times(e),Ke=!0,r.minus(t)):Ie(new n(r),a)};ee.naturalExponential=ee.exp=function(){return Lk(this)};ee.naturalLogarithm=ee.ln=function(){return rc(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Mk(t,e):Uk(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=ct(a)+1,n=a.d.length-1,r=n*ze+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Er+"NaN")}for(e=ct(s),Ke=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Zr(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ps((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(Pn(s,i,o+2)).times(.5),Zr(i.d).slice(0,o)===(t=Zr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ie(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ke=!0,Ie(n,r)};ee.times=ee.mul=function(e){var t,r,n,a,i,o,s,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+p[n]*h[a-n-1]+t,i[a--]=s%yt|0,t=s/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ke?Ie(e,f.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(an(e,0,Ns),t===void 0?t=n.rounding:an(t,0,8),Ie(r,e+ct(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Si(n,!0):(an(e,0,Ns),t===void 0?t=a.rounding:an(t,0,8),n=Ie(new a(n),e+1,t),r=Si(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Si(a):(an(e,0,Ns),t===void 0?t=i.rounding:an(t,0,8),n=Ie(new i(a),e+ct(a)+1,t),r=Si(n.abs(),!1,e+ct(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ct(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(lr);if(s=new l(s),!s.s){if(e.s<1)throw Error(Er+"Infinity");return s}if(s.eq(lr))return s;if(n=l.precision,e.eq(lr))return Ie(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=Rk){for(a=new l(lr),t=Math.ceil(n/ze+4),Ke=!1;r%2&&(a=a.times(s),I_(a.d,t)),r=Ps(r/2),r!==0;)s=s.times(s),I_(s.d,t);return Ke=!0,e.s<0?new l(lr).div(a):Ie(a,n)}}else if(i<0)throw Error(Er+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ke=!1,a=e.times(rc(s,n+u)),Ke=!0,a=Lk(a),a.s=i,a};ee.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ct(a),n=Si(a,r<=i.toExpNeg||r>=i.toExpPos)):(an(e,1,Ns),t===void 0?t=i.rounding:an(t,0,8),a=Ie(new i(a),e,t),r=ct(a),n=Si(a,e<=r||r<=i.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(an(e,1,Ns),t===void 0?t=n.rounding:an(t,0,8)),Ie(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ct(e),r=e.constructor;return Si(e,t<=r.toExpNeg||t>=r.toExpPos)};function Mk(e,t){var r,n,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?Ie(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=u.length):(n=u,a=o,s=l.length),o=Math.ceil(f/ze),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/yt|0,l[i]%=yt;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Ke?Ie(t,f):t}function an(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function Zr(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ze-n.length,r&&(i+=Qn(r)),i+=n;o=e[t],n=o+"",r=ze-n.length,r&&(i+=Qn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pn=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%yt|0,o=i/yt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,u,d,f,h,p,m,y,v,g,b,w,j,x,_,S,N,T=n.constructor,$=n.s==a.s?1:-1,P=n.d,C=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Er+"Division by zero");for(l=n.e-a.e,S=C.length,x=P.length,p=new T($),m=p.d=[],u=0;C[u]==(P[u]||0);)++u;if(C[u]>(P[u]||0)&&--l,i==null?b=i=T.precision:o?b=i+(ct(n)-ct(a))+1:b=i,b<0)return new T(0);if(b=b/ze+2|0,u=0,S==1)for(d=0,C=C[0],b++;(u<x||d)&&b--;u++)w=d*yt+(P[u]||0),m[u]=w/C|0,d=w%C|0;else{for(d=yt/(C[0]+1)|0,d>1&&(C=e(C,d),P=e(P,d),S=C.length,x=P.length),j=S,y=P.slice(0,S),v=y.length;v<S;)y[v++]=0;N=C.slice(),N.unshift(0),_=C[0],C[1]>=yt/2&&++_;do d=0,s=t(C,y,S,v),s<0?(g=y[0],S!=v&&(g=g*yt+(y[1]||0)),d=g/_|0,d>1?(d>=yt&&(d=yt-1),f=e(C,d),h=f.length,v=y.length,s=t(f,y,h,v),s==1&&(d--,r(f,S<h?N:C,h))):(d==0&&(s=d=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),s==-1&&(v=y.length,s=t(C,y,S,v),s<1&&(d++,r(y,S<v?N:C,v))),v=y.length):s===0&&(d++,y=[0]),m[u++]=d,s&&y[0]?y[v++]=P[j]||0:(y=[P[j]],v=1);while((j++<x||y[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Ie(p,o?i+ct(p)+1:i)}}();function Lk(e,t){var r,n,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(ct(e)>16)throw Error(rb+ct(e));if(!e.s)return new d(lr);for(Ke=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Qa(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(lr),d.precision=s;;){if(a=Ie(a.times(e),s),r=r.times(++l),o=i.plus(Pn(a,r,s)),Zr(o.d).slice(0,s)===Zr(i.d).slice(0,s)){for(;u--;)i=Ie(i.times(i),s);return d.precision=f,t==null?(Ke=!0,Ie(i,f)):i}i=o}}function ct(e){for(var t=e.e*ze,r=e.d[0];r>=10;r/=10)t++;return t}function em(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(Er+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function Qn(e){for(var t="";e--;)t+="0";return t}function rc(e,t){var r,n,a,i,o,s,l,u,d,f=1,h=10,p=e,m=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(Er+(p.s?"NaN":"-Infinity"));if(p.eq(lr))return new y(0);if(t==null?(Ke=!1,u=v):u=t,p.eq(10))return t==null&&(Ke=!0),em(y,u);if(u+=h,y.precision=u,r=Zr(m),n=r.charAt(0),i=ct(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Zr(p.d),n=r.charAt(0),f++;i=ct(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return l=em(y,u+2,v).times(i+""),p=rc(new y(n+"."+r.slice(1)),u-h).plus(l),y.precision=v,t==null?(Ke=!0,Ie(p,v)):p;for(s=o=p=Pn(p.minus(lr),p.plus(lr),u),d=Ie(p.times(p),u),a=3;;){if(o=Ie(o.times(d),u),l=s.plus(Pn(o,new y(a),u)),Zr(l.d).slice(0,u)===Zr(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(em(y,u+2,v).times(i+""))),s=Pn(s,new y(f),u),y.precision=v,t==null?(Ke=!0,Ie(s,v)):s;s=l,a+=2}}function $_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ps(r/ze),e.d=[],n=(r+1)%ze,r<0&&(n+=ze),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ze;n<a;)e.d.push(+t.slice(n,n+=ze));t=t.slice(n),n=ze-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>af||e.e<-af))throw Error(rb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,r){var n,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ze,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/ze),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=ze,a=n-ze+o}if(r!==void 0&&(i=Qa(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/Qa(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ct(e),f.length=1,t=t-i-1,f[0]=Qa(10,(ze-t%ze)%ze),e.e=Ps(-t/ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Qa(10,ze-n),f[d]=a>0?(u/Qa(10,o-a)%Qa(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>af||e.e<-af))throw Error(rb+ct(e));return e}function Uk(e,t){var r,n,a,i,o,s,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?Ie(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(p/ze),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=yt-1;--l[i],l[a]+=yt}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ke?Ie(t,p):t):new h(0)}function Si(e,t,r){var n,a=ct(e),i=Zr(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Qn(-a-1)+i,r&&(n=r-o)>0&&(i+=Qn(n))):a>=o?(i+=Qn(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Qn(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Qn(n))),e.s<0?"-"+i:i}function I_(e,t){if(e.length>t)return e.length=t,!0}function Bk(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return $_(o,i.toString())}else if(typeof i!="string")throw Error(mi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,TX.test(i))$_(o,i);else throw Error(mi+i)}if(a.prototype=ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Bk,a.config=a.set=CX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function CX(e){if(!e||typeof e!="object")throw Error(Er+"Object expected");var t,r,n,a=["precision",1,Ns,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ps(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var nb=Bk(kX);lr=new nb(1);const Ce=nb;function $X(e){return MX(e)||RX(e)||DX(e)||IX()}function IX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function RX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function MX(e){if(Array.isArray(e))return iy(e)}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var LX=function(t){return t},Fk={},qk=function(t){return t===Fk},D_=function(t){return function r(){return arguments.length===0||arguments.length===1&&qk(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},UX=function e(t,r){return t===1?r:D_(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==Fk}).length;return o>=t?r.apply(void 0,a):e(t-o,D_(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return qk(f)?l.shift():f});return r.apply(void 0,$X(d).concat(l))}))})},Dh=function(t){return UX(t.length,t)},oy=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},BX=Dh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),FX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return LX;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},sy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},zk=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function qX(e){var t;return e===0?t=1:t=Math.floor(new Ce(e).abs().log(10).toNumber())+1,t}function zX(e,t,r){for(var n=new Ce(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var WX=Dh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),VX=Dh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),HX=Dh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rh={rangeStep:zX,getDigitCount:qX,interpolateNumber:WX,uninterpolateNumber:VX,uninterpolateTruncation:HX};function ly(e){return YX(e)||KX(e)||Wk(e)||GX()}function GX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function YX(e){if(Array.isArray(e))return cy(e)}function nc(e,t){return QX(e)||JX(e,t)||Wk(e,t)||XX()}function XX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wk(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JX(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function QX(e){if(Array.isArray(e))return e}function Vk(e){var t=nc(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Hk(e,t,r){if(e.lte(0))return new Ce(0);var n=Rh.getDigitCount(e.toNumber()),a=new Ce(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Ce(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new Ce(Math.ceil(l))}function ZX(e,t,r){var n=1,a=new Ce(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ce(10).pow(Rh.getDigitCount(e)-1),a=new Ce(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ce(Math.floor(e)))}else e===0?a=new Ce(Math.floor((t-1)/2)):r||(a=new Ce(Math.floor(e)));var o=Math.floor((t-1)/2),s=FX(BX(function(l){return a.add(new Ce(l-o).mul(n)).toNumber()}),oy);return s(0,t)}function Gk(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var i=Hk(new Ce(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ce(0):(o=new Ce(e).add(t).div(2),o=o.sub(new Ce(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Ce(t).sub(o).div(i).toNumber()),u=s+l+1;return u>r?Gk(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new Ce(s).mul(i)),tickMax:o.add(new Ce(l).mul(i))})}function eJ(e){var t=nc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=Vk([r,n]),l=nc(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ly(oy(0,a-1).map(function(){return 1/0}))):[].concat(ly(oy(0,a-1).map(function(){return-1/0})),[d]);return r>n?sy(f):f}if(u===d)return ZX(u,a,i);var h=Gk(u,d,o,i),p=h.step,m=h.tickMin,y=h.tickMax,v=Rh.rangeStep(m,y.add(new Ce(.1).mul(p)),p);return r>n?sy(v):v}function tJ(e,t){var r=nc(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Vk([n,a]),s=nc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=Hk(new Ce(u).sub(l).div(d-1),i,0),h=[].concat(ly(Rh.rangeStep(new Ce(l),new Ce(u).sub(new Ce(.99).mul(f)),f)),[u]);return n>a?sy(h):h}var rJ=zk(eJ),nJ=zk(tJ),aJ="Invariant failed";function Oi(e,t){throw new Error(aJ)}var iJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function oJ(e,t){return uJ(e)||cJ(e,t)||lJ(e,t)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(e,t){if(e){if(typeof e=="string")return R_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R_(e,t)}}function R_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function uJ(e){if(Array.isArray(e))return e}function dJ(e,t){if(e==null)return{};var r=fJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xk(n.key),n)}}function mJ(e,t,r){return t&&pJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gJ(e,t,r){return t=sf(t),yJ(e,Kk()?Reflect.construct(t,r||[],sf(e).constructor):t.apply(e,r))}function yJ(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vJ(e)}function vJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kk=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(e)}function bJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uy(e,t)}function Yk(e,t,r){return t=Xk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xk(e){var t=xJ(e,"string");return zo(t)=="symbol"?t:t+""}function xJ(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mh=function(e){function t(){return hJ(this,t),gJ(this,t,arguments)}return bJ(t,e),mJ(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=dJ(n,iJ),p=ue(h,!1);this.props.direction==="x"&&d.type!=="number"&&Oi();var m=l.map(function(y){var v=u(y,s),g=v.x,b=v.y,w=v.value,j=v.errorVal;if(!j)return null;var x=[],_,S;if(Array.isArray(j)){var N=oJ(j,2);_=N[0],S=N[1]}else _=S=j;if(i==="vertical"){var T=d.scale,$=b+a,P=$+o,C=$-o,M=T(w-_),L=T(w+S);x.push({x1:L,y1:P,x2:L,y2:C}),x.push({x1:M,y1:$,x2:L,y2:$}),x.push({x1:M,y1:P,x2:M,y2:C})}else if(i==="horizontal"){var I=f.scale,E=g+a,k=E-o,A=E+o,R=I(w-_),U=I(w+S);x.push({x1:k,y1:U,x2:A,y2:U}),x.push({x1:E,y1:R,x2:E,y2:U}),x.push({x1:k,y1:R,x2:A,y2:R})}return D.createElement(Ee,of({className:"recharts-errorBar",key:"bar-".concat(x.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),x.map(function(V){return D.createElement("line",of({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return D.createElement(Ee,{className:"recharts-errorBars"},m)}}])}(D.Component);Yk(Mh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Yk(Mh,"displayName","ErrorBar");function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return t=_J(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=jJ(e,"string");return ac(t)=="symbol"?t:t+""}function jJ(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jk=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=or(r,hi);if(!o)return null;var s=hi.defaultProps,l=s!==void 0?Fa(Fa({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Fa(Fa({},h),f.props):{},m=p.dataKey,y=p.name,v=p.legendType,g=p.hide;return{inactive:g,dataKey:m,type:l.iconType||v||"square",color:ab(f),value:y||m,payload:p}}),Fa(Fa(Fa({},l),hi.getWithHeight(o,a)),{},{payload:u,item:o})};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function L_(e){return PJ(e)||NJ(e)||OJ(e)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJ(e,t){if(e){if(typeof e=="string")return dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dy(e,t)}}function NJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PJ(e){if(Array.isArray(e))return dy(e)}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wo(e,t,r){return t=EJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=AJ(e,"string");return ic(t)=="symbol"?t:t+""}function AJ(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mt(e,t,r){return ye(e)||ye(t)?r:pt(t)?dr(e,t,r):de(t)?t(e):r}function vl(e,t,r,n){var a=NX(e,function(s){return Mt(s,t)});if(r==="number"){var i=a.filter(function(s){return K(s)||parseFloat(s)});return i.length?[$h(i),Ch(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!ye(s)}):a;return o.map(function(s){return pt(s)||s instanceof Date?s:""})}var kJ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(qt(f-d)!==qt(h-f)){var m=[];if(qt(h-f)===qt(l[1]-l[0])){p=h;var y=f+l[1]-l[0];m[0]=Math.min(y,(y+d)/2),m[1]=Math.max(y,(y+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=m[0]&&t<=m[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},ab=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},TJ=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],y=m.items,v=m.cateAxisId,g=y.filter(function(S){return Nn(S.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,w=b!==void 0?tt(tt({},b),g[0].props):g[0].props,j=w.barSize,x=w[v];o[x]||(o[x]=[]);var _=ye(j)?r:j;o[x].push({item:g[0],stackList:g.slice(1),barSize:ye(_)?void 0:zt(_,n,0)})}}return o},CJ=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=zt(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/l,m=o.reduce(function(j,x){return j+x.barSize||0},0);m+=(l-1)*u,m>=a&&(m-=(l-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var y=(a-m)/2>>0,v={offset:y-u,size:0};d=o.reduce(function(j,x){var _={item:x.item,position:{offset:v.offset+v.size+u,size:h?p:x.barSize}},S=[].concat(L_(j),[_]);return v=S[S.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(N){S.push({item:N,position:v})}),S},f)}else{var g=zt(n,a,0,!0);a-2*g-(l-1)*u<=0&&(u=0);var b=(a-2*g-(l-1)*u)/l;b>1&&(b>>=0);var w=s===+s?Math.min(b,s):b;d=o.reduce(function(j,x,_){var S=[].concat(L_(j),[{item:x.item,position:{offset:g+(b+u)*_+(b-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(N){S.push({item:N,position:S[S.length-1].position})}),S},f)}return d},$J=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=Jk({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&K(t[p]))return tt(tt({},t),{},wo({},p,t[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&K(t[m]))return tt(tt({},t),{},wo({},m,t[m]+(h||0)))}return t},IJ=function(t,r,n){return ye(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Qk=function(t,r,n,a,i){var o=r.props.children,s=Or(o,Mh).filter(function(u){return IJ(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Mt(d,n);if(ye(f))return u;var h=Array.isArray(f)?[$h(f),Ch(f)]:[f,f],p=l.reduce(function(m,y){var v=Mt(d,y,0),g=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},DJ=function(t,r,n,a,i){var o=r.map(function(s){return Qk(t,s,n,i,a)}).filter(function(s){return!ye(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Zk=function(t,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&Qk(t,l,u,a)||vl(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},eT=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},tT=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},_n=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?qt(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Dc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},tm=new WeakMap,_u=function(t,r){if(typeof r!="function")return t;tm.has(t)||tm.set(t,new WeakMap);var n=tm.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},rT=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Jl(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:ef(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yl(),realScaleType:"point"}:i==="category"?{scale:Jl(),realScaleType:"band"}:{scale:ef(),realScaleType:"linear"};if(wi(a)){var l="scale".concat(yh(a));return{scale:(C_[l]||yl)(),realScaleType:C_[l]?l:"point"}}return de(a)?{scale:a}:{scale:yl(),realScaleType:"point"}},B_=1e-4,nT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-B_,o=Math.max(a[0],a[1])+B_,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},RJ=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},MJ=function(t,r){if(!r||r.length!==2||!K(r[0])||!K(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!K(t[0])||t[0]<n)&&(i[0]=n),(!K(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},LJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=Dc(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},UJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Dc(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},BJ={sign:LJ,expand:iF,none:Do,silhouette:oF,wiggle:sF,positive:UJ},FJ=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=BJ[n],o=aF().keys(a).value(function(s,l){return+Mt(s,l,0)}).order(Rg).offset(i);return o(t)},qJ=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?tt(tt({},h.type.defaultProps),h.props):h.props,y=m.stackId,v=m.hide;if(v)return f;var g=m[n],b=f[g]||{hasStack:!1,stackGroups:{}};if(pt(y)){var w=b.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[Rc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return tt(tt({},f),{},wo({},g,b))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var g=p.stackGroups[v];return tt(tt({},y),{},wo({},v,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:FJ(t,g.items,i)}))},m)}return tt(tt({},f),{},wo({},h,p))},d)},aT=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=rJ(u,i,s);return t.domain([$h(d),Ch(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=nJ(f,i,s);return{niceTicks:h}}return null},F_=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Mt(o,r.dataKey,r.domain[s]);return ye(l)?null:r.scale(l)-i/2+a},zJ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},WJ=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(pt(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},VJ=function(t){return t.reduce(function(r,n){return[$h(n.concat([r[0]]).filter(K)),Ch(n.concat([r[1]]).filter(K))]},[1/0,-1/0])},iT=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(u,d){var f=VJ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},q_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fy=function(t,r,n){if(de(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(K(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(q_.test(t[0])){var i=+q_.exec(t[0])[1];a[0]=r[0]-i}else de(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(K(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(z_.test(t[1])){var o=+z_.exec(t[1])[1];a[1]=r[1]+o}else de(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},lf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=C0(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},W_=function(t,r,n){return!t||!t.length||Ih(t,dr(n,"type.defaultProps.domain"))?r:t},oT=function(t,r){var n=t.type.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return tt(tt({},ue(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:ab(t),value:Mt(r,a),type:l,payload:r,chartType:u,hide:d})};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(r),!0).forEach(function(n){sT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sT(e,t,r){return t=HJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=GJ(e,"string");return oc(t)=="symbol"?t:t+""}function GJ(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KJ(e,t){return QJ(e)||JJ(e,t)||XJ(e,t)||YJ()}function YJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(e,t){if(e){if(typeof e=="string")return H_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H_(e,t)}}function H_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function QJ(e){if(Array.isArray(e))return e}var cf=Math.PI/180,ZJ=function(t){return t*180/Math.PI},Ue=function(t,r,n,a){return{x:t+Math.cos(-cf*a)*n,y:r+Math.sin(-cf*a)*n}},lT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},eQ=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,d=zt(t.cx,o,o/2),f=zt(t.cy,s,s/2),h=lT(o,s,n),p=zt(t.innerRadius,h,0),m=zt(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(v,g){var b=r[g],w=b.domain,j=b.reversed,x;if(ye(b.range))a==="angleAxis"?x=[l,u]:a==="radiusAxis"&&(x=[p,m]),j&&(x=[x[1],x[0]]);else{x=b.range;var _=x,S=KJ(_,2);l=S[0],u=S[1]}var N=rT(b,i),T=N.realScaleType,$=N.scale;$.domain(w).range(x),nT($);var P=aT($,gn(gn({},b),{},{realScaleType:T})),C=gn(gn(gn({},b),P),{},{range:x,radius:m,realScaleType:T,scale:$,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return gn(gn({},v),{},sT({},g,C))},{})},tQ=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},rQ=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=tQ({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:ZJ(u),angleInRadian:u}},nQ=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},aQ=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},G_=function(t,r){var n=t.x,a=t.y,i=rQ({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=nQ(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?gn(gn({},r),{},{radius:o,angle:aQ(p,r)}):null},cT=function(t){return!O.isValidElement(t)&&!de(t)&&typeof t!="boolean"?t.className:""};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}var iQ=["offset"];function oQ(e){return uQ(e)||cQ(e)||lQ(e)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQ(e,t){if(e){if(typeof e=="string")return hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hy(e,t)}}function cQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uQ(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dQ(e,t){if(e==null)return{};var r=fQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){hQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hQ(e,t,r){return t=pQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=mQ(e,"string");return sc(t)=="symbol"?t:t+""}function mQ(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}var gQ=function(t){var r=t.value,n=t.formatter,a=ye(t.children)?r:t.children;return de(n)?n(a):a},yQ=function(t,r){var n=qt(r-t),a=Math.min(Math.abs(r-t),360);return n*a},vQ=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,v=(f+h)/2,g=yQ(p,m),b=g>=0?1:-1,w,j;a==="insideStart"?(w=p+b*o,j=y):a==="insideEnd"?(w=m-b*o,j=!y):a==="end"&&(w=m+b*o,j=y),j=g<=0?j:!j;var x=Ue(u,d,v,w),_=Ue(u,d,v,w+(j?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),N=ye(t.id)?Rc("recharts-radial-line-"):t.id;return D.createElement("text",lc({},n,{dominantBaseline:"central",className:me("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:N,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(N)},r))},bQ=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Ue(o,s,u+n,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,g=Ue(o,s,v,h),b=g.x,w=g.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},xQ=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",y=u>=0?1:-1,v=y*a,g=y>0?"end":"start",b=y>0?"start":"end";if(i==="top"){var w={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return dt(dt({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return dt(dt({},j),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var x={x:s-v,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return dt(dt({},x),n?{width:Math.max(x.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:s+u+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return dt(dt({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?dt({x:s+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideRight"?dt({x:s+u-v,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?dt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},S):i==="insideBottom"?dt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?dt({x:s+v,y:l+h,textAnchor:b,verticalAnchor:m},S):i==="insideTopRight"?dt({x:s+u-v,y:l+h,textAnchor:g,verticalAnchor:m},S):i==="insideBottomLeft"?dt({x:s+v,y:l+d-h,textAnchor:b,verticalAnchor:p},S):i==="insideBottomRight"?dt({x:s+u-v,y:l+d-h,textAnchor:g,verticalAnchor:p},S):ys(i)&&(K(i.x)||si(i.x))&&(K(i.y)||si(i.y))?dt({x:s+zt(i.x,u),y:l+zt(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):dt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},wQ=function(t){return"cx"in t&&K(t.cx)};function xt(e){var t=e.offset,r=t===void 0?5:t,n=dQ(e,iQ),a=dt({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||ye(s)&&ye(l)&&!O.isValidElement(u)&&!de(u))return null;if(O.isValidElement(u))return O.cloneElement(u,a);var p;if(de(u)){if(p=O.createElement(u,a),O.isValidElement(p))return p}else p=gQ(a);var m=wQ(i),y=ue(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return vQ(a,p,y);var v=m?bQ(a):xQ(a);return D.createElement(ji,lc({className:me("recharts-label",f)},y,v,{breakAll:h}),p)}xt.displayName="Label";var uT=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,y=t.width,v=t.height,g=t.clockWise,b=t.labelViewBox;if(b)return b;if(K(y)&&K(v)){if(K(f)&&K(h))return{x:f,y:h,width:y,height:v};if(K(p)&&K(m))return{x:p,y:m,width:y,height:v}}return K(f)&&K(h)?{x:f,y:h,width:0,height:0}:K(r)&&K(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:g}:t.viewBox?t.viewBox:{}},_Q=function(t,r){return t?t===!0?D.createElement(xt,{key:"label-implicit",viewBox:r}):pt(t)?D.createElement(xt,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===xt?O.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(xt,{key:"label-implicit",content:t,viewBox:r}):de(t)?D.createElement(xt,{key:"label-implicit",content:t,viewBox:r}):ys(t)?D.createElement(xt,lc({viewBox:r},t,{key:"label-implicit"})):null:null},jQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=uT(t),o=Or(a,xt).map(function(l,u){return O.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=_Q(t.label,r||i);return[s].concat(oQ(o))};xt.parseViewBox=uT;xt.renderCallByParent=jQ;function SQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var OQ=SQ;const NQ=Ne(OQ);function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}var PQ=["valueAccessor"],EQ=["data","dataKey","clockWise","id","textBreakAll"];function AQ(e){return $Q(e)||CQ(e)||TQ(e)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function CQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Q(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){IQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t,r){return t=DQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=RQ(e,"string");return cc(t)=="symbol"?t:t+""}function RQ(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_(e,t){if(e==null)return{};var r=MQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LQ=function(t){return Array.isArray(t.value)?NQ(t.value):t.value};function xa(e){var t=e.valueAccessor,r=t===void 0?LQ:t,n=J_(e,PQ),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=J_(n,EQ);return!a||!a.length?null:D.createElement(Ee,{className:"recharts-label-list"},a.map(function(d,f){var h=ye(i)?r(d,f):Mt(d&&d.payload,i),p=ye(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(xt,uf({},ue(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:xt.parseViewBox(ye(o)?d:X_(X_({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}xa.displayName="LabelList";function UQ(e,t){return e?e===!0?D.createElement(xa,{key:"labelList-implicit",data:t}):D.isValidElement(e)||de(e)?D.createElement(xa,{key:"labelList-implicit",data:t,content:e}):ys(e)?D.createElement(xa,uf({data:t},e,{key:"labelList-implicit"})):null:null}function BQ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Or(n,xa).map(function(o,s){return O.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=UQ(e.label,t);return[i].concat(AQ(a))}xa.renderCallByParent=BQ;function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){FQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FQ(e,t,r){return t=qQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=zQ(e,"string");return uc(t)=="symbol"?t:t+""}function zQ(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WQ=function(t,r){var n=qt(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ju=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/cf,h=u?i:i+o*f,p=Ue(r,n,d,h),m=Ue(r,n,a,h),y=u?i-o*f:i,v=Ue(r,n,d*Math.cos(f*cf),y);return{center:p,circleTangency:m,lineTangency:v,theta:f}},dT=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=WQ(o,s),u=o+l,d=Ue(r,n,i,o),f=Ue(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Ue(r,n,a,o),m=Ue(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},VQ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=qt(d-u),h=ju({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,y=h.theta,v=ju({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),g=v.circleTangency,b=v.lineTangency,w=v.theta,j=l?Math.abs(u-d):Math.abs(u-d)-y-w;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):dT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var _=ju({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=_.circleTangency,N=_.lineTangency,T=_.theta,$=ju({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=$.circleTangency,C=$.lineTangency,M=$.theta,L=l?Math.abs(u-d):Math.abs(u-d)-T-M;if(L<0&&o===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},HQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fT=function(t){var r=Z_(Z_({},HQ),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=me("recharts-sector",h),m=o-i,y=zt(s,m,0,!0),v;return y>0&&Math.abs(d-f)<360?v=VQ({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=dT({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",my({},ue(r,!0),{className:p,d:v,role:"img"}))};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return t=KQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=YQ(e,"string");return dc(t)=="symbol"?t:t+""}function YQ(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rj={curveBasisClosed:G6,curveBasisOpen:K6,curveBasis:H6,curveBumpX:C6,curveBumpY:$6,curveLinearClosed:Y6,curveLinear:bh,curveMonotoneX:X6,curveMonotoneY:J6,curveNatural:Q6,curveStep:Z6,curveStepAfter:tF,curveStepBefore:eF},Su=function(t){return t.x===+t.x&&t.y===+t.y},Ks=function(t){return t.x},Ys=function(t){return t.y},XQ=function(t,r){if(de(t))return t;var n="curve".concat(yh(t));return(n==="curveMonotone"||n==="curveBump")&&r?rj["".concat(n).concat(r==="vertical"?"Y":"X")]:rj[n]||bh},JQ=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=XQ(n,s),f=u?i.filter(function(y){return Su(y)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(y){return Su(y)}):o,m=f.map(function(y,v){return tj(tj({},y),{},{base:p[v]})});return s==="vertical"?h=pu().y(Ys).x1(Ks).x0(function(y){return y.base.x}):h=pu().x(Ks).y1(Ys).y0(function(y){return y.base.y}),h.defined(Su).curve(d),h(m)}return s==="vertical"&&K(o)?h=pu().y(Ys).x1(Ks).x0(o):K(o)?h=pu().x(Ks).y1(Ys).y0(o):h=oA().x(Ks).y(Ys),h.defined(Su).curve(d),h(f)},yy=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?JQ(t):a;return O.createElement("path",gy({},ue(t,!1),Id(t),{className:me("recharts-curve",r),d:o,ref:i}))},hT={exports:{}},QQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZQ=QQ,eZ=ZQ;function pT(){}function mT(){}mT.resetWarningCache=pT;var tZ=function(){function e(n,a,i,o,s,l){if(l!==eZ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mT,resetWarningCache:pT};return r.PropTypes=r,r};hT.exports=tZ();var rZ=hT.exports;const Oe=Ne(rZ);var nZ=Object.getOwnPropertyNames,aZ=Object.getOwnPropertySymbols,iZ=Object.prototype.hasOwnProperty;function nj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ou(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function oZ(e){return e!=null?e[Symbol.toStringTag]:void 0}function aj(e){return nZ(e).concat(aZ(e))}var sZ=Object.hasOwn||function(e,t){return iZ.call(e,t)};function Ci(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var lZ="__v",cZ="__o",uZ="_owner",ij=Object.getOwnPropertyDescriptor,oj=Object.keys;function dZ(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function fZ(e,t){return Ci(e.getTime(),t.getTime())}function hZ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pZ(e,t){return e===t}function sj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var mZ=Ci;function gZ(e,t,r){var n=oj(e),a=n.length;if(oj(t).length!==a)return!1;for(;a-- >0;)if(!gT(e,t,r,n[a]))return!1;return!0}function Xs(e,t,r){var n=aj(e),a=n.length;if(aj(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!gT(e,t,r,i)||(o=ij(e,i),s=ij(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function yZ(e,t){return Ci(e.valueOf(),t.valueOf())}function vZ(e,t){return e.source===t.source&&e.flags===t.flags}function lj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function bZ(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function xZ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function gT(e,t,r,n){return(n===uZ||n===cZ||n===lZ)&&(e.$$typeof||t.$$typeof)?!0:sZ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var wZ="[object Arguments]",_Z="[object Boolean]",jZ="[object Date]",SZ="[object Error]",OZ="[object Map]",NZ="[object Number]",PZ="[object Object]",EZ="[object RegExp]",AZ="[object Set]",kZ="[object String]",TZ="[object URL]",CZ=Array.isArray,cj=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,uj=Object.assign,$Z=Object.prototype.toString.call.bind(Object.prototype.toString);function IZ(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(y,v,g){if(y===v)return!0;if(y==null||v==null)return!1;var b=typeof y;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(y,v,g):b==="function"?a(y,v,g):!1;var w=y.constructor;if(w!==v.constructor)return!1;if(w===Object)return s(y,v,g);if(CZ(y))return t(y,v,g);if(cj!=null&&cj(y))return f(y,v,g);if(w===Date)return r(y,v,g);if(w===RegExp)return u(y,v,g);if(w===Map)return i(y,v,g);if(w===Set)return d(y,v,g);var j=$Z(y);if(j===jZ)return r(y,v,g);if(j===EZ)return u(y,v,g);if(j===OZ)return i(y,v,g);if(j===AZ)return d(y,v,g);if(j===PZ)return typeof y.then!="function"&&typeof v.then!="function"&&s(y,v,g);if(j===TZ)return h(y,v,g);if(j===SZ)return n(y,v,g);if(j===wZ)return s(y,v,g);if(j===_Z||j===NZ||j===kZ)return l(y,v,g);if(p){var x=p[j];if(!x){var _=oZ(y);_&&(x=p[_])}if(x)return x(y,v,g)}return!1}}function DZ(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Xs:dZ,areDatesEqual:fZ,areErrorsEqual:hZ,areFunctionsEqual:pZ,areMapsEqual:n?nj(sj,Xs):sj,areNumbersEqual:mZ,areObjectsEqual:n?Xs:gZ,arePrimitiveWrappersEqual:yZ,areRegExpsEqual:vZ,areSetsEqual:n?nj(lj,Xs):lj,areTypedArraysEqual:n?Xs:bZ,areUrlsEqual:xZ,unknownTagComparators:void 0};if(r&&(a=uj({},a,r(a))),t){var i=Ou(a.areArraysEqual),o=Ou(a.areMapsEqual),s=Ou(a.areObjectsEqual),l=Ou(a.areSetsEqual);a=uj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function RZ(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function MZ(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var LZ=Ia();Ia({strict:!0});Ia({circular:!0});Ia({circular:!0,strict:!0});Ia({createInternalComparator:function(){return Ci}});Ia({strict:!0,createInternalComparator:function(){return Ci}});Ia({circular:!0,createInternalComparator:function(){return Ci}});Ia({circular:!0,createInternalComparator:function(){return Ci},strict:!0});function Ia(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=DZ(e),l=IZ(s),u=n?n(l):RZ(l);return MZ({circular:r,comparator:l,createState:a,equals:u,strict:o})}function UZ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function dj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):UZ(a)};requestAnimationFrame(n)}function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function BZ(e){return WZ(e)||zZ(e)||qZ(e)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZ(e,t){if(e){if(typeof e=="string")return fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fj(e,t)}}function fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WZ(e){if(Array.isArray(e))return e}function VZ(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=BZ(o),l=s[0],u=s.slice(1);if(typeof l=="number"){dj(a.bind(null,u),l);return}a(l),dj(a.bind(null,u));return}vy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){yT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yT(e,t,r){return t=HZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=GZ(e,"string");return fc(t)==="symbol"?t:String(t)}function GZ(e,t){if(fc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},YZ=function(t){return t},XZ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bl=function(t,r){return Object.keys(r).reduce(function(n,a){return pj(pj({},n),{},yT({},a,t(a,r[a])))},{})},mj=function(t,r,n){return t.map(function(a){return"".concat(XZ(a)," ").concat(r,"ms ").concat(n)}).join(",")};function JZ(e,t){return eee(e)||ZZ(e,t)||vT(e,t)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function eee(e){if(Array.isArray(e))return e}function tee(e){return aee(e)||nee(e)||vT(e)||ree()}function ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vT(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function nee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aee(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var df=1e-4,bT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},xT=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},gj=function(t,r){return function(n){var a=bT(t,r);return xT(a,n)}},iee=function(t,r){return function(n){var a=bT(t,r),i=[].concat(tee(a.map(function(o,s){return o*s}).slice(1)),[0]);return xT(i,n)}},yj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=JZ(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=gj(a,o),h=gj(i,s),p=iee(a,o),m=function(g){return g>1?1:g<0?0:g},y=function(g){for(var b=g>1?1:g,w=b,j=0;j<8;++j){var x=f(w)-b,_=p(w);if(Math.abs(x-b)<df||_<df)return h(w);w=m(w-x/_)}return h(w)};return y.isStepper=!1,y},oee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,m=h*i,y=h+(p-m)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<df&&Math.abs(y)<df?[f,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},see=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yj(a);case"spring":return oee();default:if(a.split("(")[0]==="cubic-bezier")return yj(a)}return typeof a=="function"?a:null};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function vj(e){return uee(e)||cee(e)||wT(e)||lee()}function lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uee(e){if(Array.isArray(e))return wy(e)}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xy(e,t,r){return t=dee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dee(e){var t=fee(e,"string");return hc(t)==="symbol"?t:String(t)}function fee(e,t){if(hc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hee(e,t){return gee(e)||mee(e,t)||wT(e,t)||pee()}function pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wT(e,t){if(e){if(typeof e=="string")return wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wy(e,t)}}function wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function gee(e){if(Array.isArray(e))return e}var ff=function(t,r,n){return t+(r-t)*n},_y=function(t){var r=t.from,n=t.to;return r!==n},yee=function e(t,r,n){var a=bl(function(i,o){if(_y(o)){var s=t(o.from,o.to,o.velocity),l=hee(s,2),u=l[0],d=l[1];return Ot(Ot({},o),{},{from:u,velocity:d})}return o},r);return n<1?bl(function(i,o){return _y(o)?Ot(Ot({},o),{},{velocity:ff(o.velocity,a[i].velocity,n),from:ff(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const vee=function(e,t,r,n,a){var i=KZ(e,t),o=i.reduce(function(v,g){return Ot(Ot({},v),{},xy({},g,[e[g],t[g]]))},{}),s=i.reduce(function(v,g){return Ot(Ot({},v),{},xy({},g,{from:e[g],velocity:0,to:t[g]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return bl(function(g,b){return b.from},s)},p=function(){return!Object.values(s).filter(_y).length},m=function(g){u||(u=g);var b=g-u,w=b/r.dt;s=yee(r,s,w),a(Ot(Ot(Ot({},e),t),h())),u=g,p()||(l=requestAnimationFrame(f))},y=function(g){d||(d=g);var b=(g-d)/n,w=bl(function(x,_){return ff.apply(void 0,vj(_).concat([r(b)]))},o);if(a(Ot(Ot(Ot({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var j=bl(function(x,_){return ff.apply(void 0,vj(_).concat([r(1)]))},o);a(Ot(Ot(Ot({},e),t),j))}};return f=r.isStepper?m:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}var bee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xee(e,t){if(e==null)return{};var r=wee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wee(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function rm(e){return Oee(e)||See(e)||jee(e)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(e,t){if(e){if(typeof e=="string")return jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jy(e,t)}}function See(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oee(e){if(Array.isArray(e))return jy(e)}function jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function al(e,t,r){return t=_T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_T(n.key),n)}}function Eee(e,t,r){return t&&Pee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _T(e){var t=Aee(e,"string");return Wo(t)==="symbol"?t:String(t)}function Aee(e,t){if(Wo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}function Sy(e,t){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sy(e,t)}function Tee(e){var t=Cee();return function(){var n=hf(e),a;if(t){var i=hf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Oy(this,a)}}function Oy(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ny(e)}function Ny(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}var Rn=function(e){kee(r,e);var t=Tee(r);function r(n,a){var i;Nee(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ny(i)),i.changeStyle=i.changeStyle.bind(Ny(i)),!s||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Oy(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Oy(i);i.state={style:l?al({},l,u):u}}else i.state={style:{}};return i}return Eee(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var p={style:l?al({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(LZ(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||u?f:a.to;if(this.state&&h){var v={style:l?al({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(Cr(Cr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=vee(o,s,see(u),l,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,v,g){if(g===0)return y;var b=v.duration,w=v.easing,j=w===void 0?"ease":w,x=v.style,_=v.properties,S=v.onAnimationEnd,N=g>0?o[g-1]:v,T=_||Object.keys(x);if(typeof j=="function"||j==="spring")return[].concat(rm(y),[i.runJSAnimation.bind(i,{from:N.style,to:x,duration:b,easing:j}),b]);var $=mj(T,b,j),P=Cr(Cr(Cr({},N.style),x),{},{transition:$});return[].concat(rm(y),[P,b,S]).filter(YZ)};return this.manager.start([l].concat(rm(o.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=VZ());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var y=s?al({},s,l):l,v=mj(Object.keys(y),o,u);m.start([d,i,Cr(Cr({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=xee(a,bee),u=O.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(p){var m=p.props,y=m.style,v=y===void 0?{}:y,g=m.className,b=O.cloneElement(p,Cr(Cr({},l),{},{style:Cr(Cr({},v),d),className:g}));return b};return u===1?f(O.Children.only(i)):D.createElement("div",null,O.Children.map(i,function(h){return f(h)}))}}]),r}(O.PureComponent);Rn.displayName="Animate";Rn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rn.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function $ee(e,t){return Mee(e)||Ree(e,t)||Dee(e,t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(e,t){if(e){if(typeof e=="string")return wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(e,t)}}function wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Mee(e){if(Array.isArray(e))return e}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){Lee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lee(e,t,r){return t=Uee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return pc(t)=="symbol"?t:t+""}function Bee(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sj=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Fee=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},qee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ib=function(t){var r=jj(jj({},qee),t),n=O.useRef(),a=O.useState(-1),i=$ee(a,2),o=i[0],s=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,g=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=me("recharts-rectangle",p);return b?D.createElement(Rn,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:y,animationEasing:m,isActive:b},function(j){var x=j.width,_=j.height,S=j.x,N=j.y;return D.createElement(Rn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:g,easing:m},D.createElement("path",pf({},ue(r,!0),{className:w,d:Sj(S,N,x,_,h),ref:n})))}):D.createElement("path",pf({},ue(r,!0),{className:w,d:Sj(l,u,d,f,h)}))},zee=["points","className","baseLinePoints","connectNulls"];function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function Wee(e,t){if(e==null)return{};var r=Vee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oj(e){return Yee(e)||Kee(e)||Gee(e)||Hee()}function Hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gee(e,t){if(e){if(typeof e=="string")return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Py(e,t)}}function Kee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yee(e){if(Array.isArray(e))return Py(e)}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Xee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Nj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Nj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xl=function(t,r){var n=Xee(t);r&&(n=[n.reduce(function(i,o){return[].concat(Oj(i),Oj(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Jee=function(t,r,n){var a=xl(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(xl(r.reverse(),n).slice(1))},Qee=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Wee(t,zee);if(!r||!r.length)return null;var s=me("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=Jee(r,a,i);return D.createElement("g",{className:s},D.createElement("path",io({},ue(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?D.createElement("path",io({},ue(o,!0),{fill:"none",d:xl(r,i)})):null,l?D.createElement("path",io({},ue(o,!0),{fill:"none",d:xl(a,i)})):null)}var d=xl(r,i);return D.createElement("path",io({},ue(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}var ob=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=me("recharts-dot",i);return r===+r&&n===+n&&a===+a?O.createElement("circle",Ey({},ue(t,!1),Id(t),{className:o,cx:r,cy:n,r:a})):null};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}var Zee=["x","y","top","left","width","height","className"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ete(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return t=rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return mc(t)=="symbol"?t:t+""}function nte(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ate(e,t){if(e==null)return{};var r=ite(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ote=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},ste=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,y=ate(t,Zee),v=ete({x:n,y:i,top:s,left:u,width:f,height:p},y);return!K(n)||!K(i)||!K(f)||!K(p)||!K(s)||!K(u)?null:D.createElement("path",Ay({},ue(v,!0),{className:me("recharts-cross",m),d:ote(n,i,f,p,s,u)}))},lte=Th,cte=Ik,ute=sn;function dte(e,t){return e&&e.length?lte(e,ute(t),cte):void 0}var fte=dte;const hte=Ne(fte);var pte=Th,mte=sn,gte=Dk;function yte(e,t){return e&&e.length?pte(e,mte(t),gte):void 0}var vte=yte;const bte=Ne(vte);var xte=["cx","cy","angle","ticks","axisLine"],wte=["ticks","tick","angle","tickFormatter","stroke"];function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aj(e,t){if(e==null)return{};var r=_te(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ST(n.key),n)}}function Ste(e,t,r){return t&&kj(e.prototype,t),r&&kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ote(e,t,r){return t=mf(t),Nte(e,jT()?Reflect.construct(t,r||[],mf(e).constructor):t.apply(e,r))}function Nte(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pte(e)}function Pte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jT=function(){return!!e})()}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(e)}function Ete(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ky(e,t)}function Lh(e,t,r){return t=ST(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=Ate(e,"string");return Vo(t)=="symbol"?t:t+""}function Ate(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uh=function(e){function t(){return jte(this,t),Ote(this,t,arguments)}return Ete(t,e),Ste(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Ue(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=hte(s,function(d){return d.coordinate||0}),u=bte(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=Aj(n,xte),d=s.reduce(function(m,y){return[Math.min(m[0],y.coordinate),Math.max(m[1],y.coordinate)]},[1/0,-1/0]),f=Ue(a,i,d[0],o),h=Ue(a,i,d[1],o),p=qa(qa(qa({},ue(u,!1)),{},{fill:"none"},ue(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",wl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=Aj(a,wte),f=this.getTickTextAnchor(),h=ue(d,!1),p=ue(o,!1),m=i.map(function(y,v){var g=n.getTickValueCoord(y),b=qa(qa(qa(qa({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},g),{},{payload:y});return D.createElement(Ee,wl({className:me("recharts-polar-radius-axis-tick",cT(o)),key:"tick-".concat(y.coordinate)},_i(n.props,y,v)),t.renderTickItem(o,b,l?l(y.value,v):y.value))});return D.createElement(Ee,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:D.createElement(Ee,{className:me("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):de(n)?o=n(a):o=D.createElement(ji,wl({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(O.PureComponent);Lh(Uh,"displayName","PolarRadiusAxis");Lh(Uh,"axisType","radiusAxis");Lh(Uh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(this,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NT(n.key),n)}}function Tte(e,t,r){return t&&Cj(e.prototype,t),r&&Cj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cte(e,t,r){return t=gf(t),$te(e,OT()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function $te(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ite(e)}function Ite(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OT=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function Dte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ty(e,t)}function Bh(e,t,r){return t=NT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NT(e){var t=Rte(e,"string");return Ho(t)=="symbol"?t:t+""}function Rte(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mte=Math.PI/180,$j=1e-5,Fh=function(e){function t(){return kte(this,t),Cte(this,t,arguments)}return Dte(t,e),Tte(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=Ue(i,o,s,n.coordinate),h=Ue(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Mte),o;return i>$j?o=a==="outer"?"start":"end":i<-$j?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=za(za({},ue(this.props,!1)),{},{fill:"none"},ue(s,!1));if(l==="circle")return D.createElement(ob,ti({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ue(a,i,o,h.coordinate)});return D.createElement(Qee,ti({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=ue(this.props,!1),f=ue(o,!1),h=za(za({},d),{},{fill:"none"},ue(s,!1)),p=i.map(function(m,y){var v=n.getTickLineCoord(m),g=n.getTickTextAnchor(m),b=za(za(za({textAnchor:g},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:m,x:v.x2,y:v.y2});return D.createElement(Ee,ti({className:me("recharts-polar-angle-axis-tick",cT(o)),key:"tick-".concat(m.coordinate)},_i(n.props,m,y)),s&&D.createElement("line",ti({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,l?l(m.value,y):m.value))});return D.createElement(Ee,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:D.createElement(Ee,{className:me("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):de(n)?o=n(a):o=D.createElement(ji,ti({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(O.PureComponent);Bh(Fh,"displayName","PolarAngleAxis");Bh(Fh,"axisType","angleAxis");Bh(Fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lte=kA,Ute=Lte(Object.getPrototypeOf,Object),Bte=Ute,Fte=Bn,qte=Bte,zte=Fn,Wte="[object Object]",Vte=Function.prototype,Hte=Object.prototype,PT=Vte.toString,Gte=Hte.hasOwnProperty,Kte=PT.call(Object);function Yte(e){if(!zte(e)||Fte(e)!=Wte)return!1;var t=qte(e);if(t===null)return!0;var r=Gte.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&PT.call(r)==Kte}var Xte=Yte;const Jte=Ne(Xte);var Qte=Bn,Zte=Fn,ere="[object Boolean]";function tre(e){return e===!0||e===!1||Zte(e)&&Qte(e)==ere}var rre=tre;const nre=Ne(rre);function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function are(e,t){return lre(e)||sre(e,t)||ore(e,t)||ire()}function ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(e,t){if(e){if(typeof e=="string")return Ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ij(e,t)}}function Ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function lre(e){if(Array.isArray(e))return e}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cre(e,t,r){return t=ure(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ure(e){var t=dre(e,"string");return gc(t)=="symbol"?t:t+""}function dre(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mj=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},fre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hre=function(t){var r=Rj(Rj({},fre),t),n=O.useRef(),a=O.useState(-1),i=are(a,2),o=i[0],s=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,g=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=me("recharts-trapezoid",p);return g?D.createElement(Rn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:m,isActive:g},function(w){var j=w.upperWidth,x=w.lowerWidth,_=w.height,S=w.x,N=w.y;return D.createElement(Rn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:m},D.createElement("path",yf({},ue(r,!0),{className:b,d:Mj(S,N,j,x,_),ref:n})))}):D.createElement("g",null,D.createElement("path",yf({},ue(r,!0),{className:b,d:Mj(l,u,d,f,h)})))},pre=["option","shapeType","propTransformer","activeClassName","isActive"];function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function mre(e,t){if(e==null)return{};var r=gre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){yre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yre(e,t,r){return t=vre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=bre(e,"string");return yc(t)=="symbol"?t:t+""}function bre(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xre(e,t){return vf(vf({},t),e)}function wre(e,t){return e==="symbols"}function Uj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(ib,r);case"trapezoid":return D.createElement(hre,r);case"sector":return D.createElement(fT,r);case"symbols":if(wre(t))return D.createElement(S0,r);break;default:return null}}function _re(e){return O.isValidElement(e)?e.props:e}function ET(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?xre:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=mre(e,pre),u;if(O.isValidElement(t))u=O.cloneElement(t,vf(vf({},l),_re(t)));else if(de(t))u=t(l);else if(Jte(t)&&!nre(t)){var d=a(t,l);u=D.createElement(Uj,{shapeType:r,elementProps:d})}else{var f=l;u=D.createElement(Uj,{shapeType:r,elementProps:f})}return s?D.createElement(Ee,{className:o},u):u}function qh(e,t){return t!=null&&"trapezoids"in e.props}function zh(e,t){return t!=null&&"sectors"in e.props}function vc(e,t){return t!=null&&"points"in e.props}function jre(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Sre(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ore(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Nre(e,t){var r;return qh(e,t)?r=jre:zh(e,t)?r=Sre:vc(e,t)&&(r=Ore),r}function Pre(e,t){var r;return qh(e,t)?r="trapezoids":zh(e,t)?r="sectors":vc(e,t)&&(r="points"),r}function Ere(e,t){if(qh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vc(e,t)?t.payload:{}}function Are(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Pre(r,t),i=Ere(r,t),o=n.filter(function(l,u){var d=Ih(i,l),f=r.props[a].filter(function(m){var y=Nre(r,t);return y(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var Wu;function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kT(n.key),n)}}function Tre(e,t,r){return t&&Fj(e.prototype,t),r&&Fj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cre(e,t,r){return t=bf(t),$re(e,AT()?Reflect.construct(t,r||[],bf(e).constructor):t.apply(e,r))}function $re(e,t){if(t&&(Go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ire(e)}function Ire(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AT=function(){return!!e})()}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bf(e)}function Dre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function wr(e,t,r){return t=kT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e){var t=Rre(e,"string");return Go(t)=="symbol"?t:t+""}function Rre(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zn=function(e){function t(r){var n;return kre(this,t),n=Cre(this,t,[r]),wr(n,"pieRef",null),wr(n,"sectorRefs",[]),wr(n,"id",Rc("recharts-pie-")),wr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),de(a)&&a()}),wr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),de(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Dre(t,e),Tre(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=ue(this.props,!1),f=ue(o,!1),h=ue(s,!1),p=o&&o.offsetRadius||20,m=n.map(function(y,v){var g=(y.startAngle+y.endAngle)/2,b=Ue(y.cx,y.cy,y.outerRadius+p,g),w=Re(Re(Re(Re({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,y.cx)},b),j=Re(Re(Re(Re({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[Ue(y.cx,y.cy,y.outerRadius,g),b]}),x=l;return ye(l)&&ye(u)?x="value":ye(l)&&(x=u),D.createElement(Ee,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&t.renderLabelLineItem(s,j,"line"),t.renderLabelItem(o,w,Mt(y,x)))});return D.createElement(Ee,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?o:h,m=Re(Re({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return D.createElement(Ee,oo({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},_i(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),D.createElement(ET,oo({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return D.createElement(Rn,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var y=m.t,v=[],g=i&&i[0],b=g.startAngle;return i.forEach(function(w,j){var x=h&&h[j],_=j>0?dr(w,"paddingAngle",0):0;if(x){var S=Jn(x.endAngle-x.startAngle,w.endAngle-w.startAngle),N=Re(Re({},w),{},{startAngle:b+_,endAngle:b+S(y)+_});v.push(N),b=N.endAngle}else{var T=w.endAngle,$=w.startAngle,P=Jn(0,T-$),C=P(y),M=Re(Re({},w),{},{startAngle:b+_,endAngle:b+C+_});v.push(M),b=M.endAngle}}),D.createElement(Ee,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!K(u)||!K(d)||!K(f)||!K(h))return null;var y=me("recharts-pie",s);return D.createElement(Ee,{tabIndex:this.props.rootTabIndex,className:y,ref:function(g){n.pieRef=g}},this.renderSectors(),l&&this.renderLabels(o),xt.renderCallByParent(this.props,null,!1),(!p||m)&&xa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);if(de(n))return n(a);var o=me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement(yy,oo({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);var o=i;if(de(n)&&(o=n(a),D.isValidElement(o)))return o;var s=me("recharts-pie-label-text",typeof n!="boolean"&&!de(n)?n.className:"");return D.createElement(ji,oo({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(O.PureComponent);Wu=zn;wr(zn,"displayName","Pie");wr(zn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ss.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wr(zn,"parseDeltaAngle",function(e,t){var r=qt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});wr(zn,"getRealPieData",function(e){var t=e.data,r=e.children,n=ue(e,!1),a=Or(r,Sh);return t&&t.length?t.map(function(i,o){return Re(Re(Re({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Re(Re({},n),i.props)}):[]});wr(zn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=lT(a,i),s=n+zt(e.cx,a,a/2),l=r+zt(e.cy,i,i/2),u=zt(e.innerRadius,o,0),d=zt(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});wr(zn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Re(Re({},t.type.defaultProps),t.props):t.props,a=Wu.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=Wu.parseCoordinateOfPie(n,r),y=Wu.parseDeltaAngle(o,s),v=Math.abs(y),g=u;ye(u)&&ye(f)?(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):ye(u)&&(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var b=a.filter(function(N){return Mt(N,g,0)!==0}).length,w=(v>=360?b:b-1)*l,j=v-b*p-w,x=a.reduce(function(N,T){var $=Mt(T,g,0);return N+(K($)?$:0)},0),_;if(x>0){var S;_=a.map(function(N,T){var $=Mt(N,g,0),P=Mt(N,d,T),C=(K($)?$:0)/x,M;T?M=S.endAngle+qt(y)*l*($!==0?1:0):M=o;var L=M+qt(y)*(($!==0?p:0)+C*j),I=(M+L)/2,E=(m.innerRadius+m.outerRadius)/2,k=[{name:P,value:$,payload:N,dataKey:g,type:h}],A=Ue(m.cx,m.cy,E,I);return S=Re(Re(Re({percent:C,cornerRadius:i,name:P,tooltipPayload:k,midAngle:I,middleRadius:E,tooltipPosition:A},N),m),{},{value:Mt(N,g),startAngle:M,endAngle:L,payload:N,paddingAngle:qt(y)*l}),S})}return Re(Re({},m),{},{sectors:_,data:a})});var Mre=Math.ceil,Lre=Math.max;function Ure(e,t,r,n){for(var a=-1,i=Lre(Mre((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Bre=Ure,Fre=YA,qj=1/0,qre=17976931348623157e292;function zre(e){if(!e)return e===0?e:0;if(e=Fre(e),e===qj||e===-qj){var t=e<0?-1:1;return t*qre}return e===e?e:0}var TT=zre,Wre=Bre,Vre=jh,nm=TT;function Hre(e){return function(t,r,n){return n&&typeof n!="number"&&Vre(t,r,n)&&(r=n=void 0),t=nm(t),r===void 0?(r=t,t=0):r=nm(r),n=n===void 0?t<r?1:-1:nm(n),Wre(t,r,n,e)}}var Gre=Hre,Kre=Gre,Yre=Kre(),Xre=Yre;const xf=Ne(Xre);function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){CT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CT(e,t,r){return t=Jre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=Qre(e,"string");return bc(t)=="symbol"?t:t+""}function Qre(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zre=["Webkit","Moz","O","ms"],ene=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Zre.reduce(function(i,o){return Wj(Wj({},i),{},CT({},o+n,r))},{});return a[t]=r,a};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){ar(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IT(n.key),n)}}function rne(e,t,r){return t&&Hj(e.prototype,t),r&&Hj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nne(e,t,r){return t=_f(t),ane(e,$T()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function ane(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ine(e)}function ine(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($T=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function one(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$y(e,t)}function ar(e,t,r){return t=IT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=sne(e,"string");return Ko(t)=="symbol"?t:t+""}function sne(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lne=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=yl().domain(xf(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Gj=function(t){return t.changedTouches&&!!t.changedTouches.length},Yo=function(e){function t(r){var n;return tne(this,t),n=nne(this,t,[r]),ar(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ar(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ar(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),ar(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ar(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ar(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ar(n,"handleSlideDragStart",function(a){var i=Gj(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return one(t,e),rne(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=Mt(i[n],s,n);return de(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+d-f-s,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Gj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,y=d.gap,v=d.data,g={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),g[o]=u+b;var w=this.getIndex(g),j=w.startIndex,x=w.endIndex,_=function(){var N=v.length-1;return o==="startX"&&(s>l?j%y===0:x%y===0)||s<l&&x===N||o==="endX"&&(s>l?x%y===0:j%y===0)||s>l&&x===N};this.setState(ar(ar({},o,u+b),"brushMoveStartX",n.pageX),function(){m&&_()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(ar({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?D.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,y=l.startIndex,v=l.endIndex,g=Math.max(n,this.props.x),b=am(am({},ue(this.props,!1)),{},{x:g,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=m[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return D.createElement(Ee,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(Ee,{className:"recharts-brush-texts"},D.createElement(ji,wf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(a)),D.createElement(ji,wf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,y=h.isTextActive,v=h.isSlideMoving,g=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!K(s)||!K(l)||!K(u)||!K(d)||u<=0||d<=0)return null;var w=me("recharts-brush",i),j=D.Children.count(o)===1,x=ene("userSelect","none");return D.createElement(Ee,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||v||g||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(i+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return D.isValidElement(n)?i=D.cloneElement(n,a):de(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return am({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?lne({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(O.PureComponent);ar(Yo,"displayName","Brush");ar(Yo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cne=T0;function une(e,t){var r;return cne(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var dne=une,fne=_A,hne=sn,pne=dne,mne=nr,gne=jh;function yne(e,t,r){var n=mne(e)?fne:pne;return r&&gne(e,t,r)&&(t=void 0),n(e,hne(t))}var vne=yne;const bne=Ne(vne);var nn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Kj=WA;function xne(e,t,r){t=="__proto__"&&Kj?Kj(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var wne=xne,_ne=wne,jne=qA,Sne=sn;function One(e,t){var r={};return t=Sne(t),jne(e,function(n,a,i){_ne(r,a,t(n,a,i))}),r}var Nne=One;const Pne=Ne(Nne);function Ene(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Ane=Ene,kne=T0;function Tne(e,t){var r=!0;return kne(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Cne=Tne,$ne=Ane,Ine=Cne,Dne=sn,Rne=nr,Mne=jh;function Lne(e,t,r){var n=Rne(e)?$ne:Ine;return r&&Mne(e,t,r)&&(t=void 0),n(e,Dne(t))}var Une=Lne;const DT=Ne(Une);var Bne=["x","y"];function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t,r){return t=qne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=zne(e,"string");return xc(t)=="symbol"?t:t+""}function zne(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wne(e,t){if(e==null)return{};var r=Vne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hne(e,t){var r=e.x,n=e.y,a=Wne(e,Bne),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Js(Js(Js(Js(Js({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Xj(e){return D.createElement(ET,Iy({shapeType:"rectangle",propTransformer:Hne,activeClassName:"recharts-active-bar"},e))}var Gne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=K(n)||vB(n);return i?t(n,a):(i||Oi(),r)}},Kne=["value","background"],RT;function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function Yne(e,t){if(e==null)return{};var r=Xne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){la(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LT(n.key),n)}}function Qne(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zne(e,t,r){return t=Sf(t),eae(e,MT()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function eae(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tae(e)}function tae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MT=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function rae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dy(e,t)}function la(e,t,r){return t=LT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LT(e){var t=nae(e,"string");return Xo(t)=="symbol"?t:t+""}function nae(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sa=function(e){function t(){var r;Jne(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Zne(this,t,[].concat(a)),la(r,"state",{isAnimationFinished:!1}),la(r,"id",Rc("recharts-bar-")),la(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),la(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return rae(t,e),Qne(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,u=i.activeBar,d=ue(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:o,y=ot(ot(ot({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(Ee,jf({className:"recharts-bar-rectangle"},_i(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(Xj,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return D.createElement(Rn,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=i.map(function(v,g){var b=h&&h[g];if(b){var w=Jn(b.x,v.x),j=Jn(b.y,v.y),x=Jn(b.width,v.width),_=Jn(b.height,v.height);return ot(ot({},v),{},{x:w(m),y:j(m),width:x(m),height:_(m)})}if(o==="horizontal"){var S=Jn(0,v.height),N=S(m);return ot(ot({},v),{},{y:v.y+v.height-N,height:N})}var T=Jn(0,v.width),$=T(m);return ot(ot({},v),{},{width:$})});return D.createElement(Ee,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=ue(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Yne(u,Kne);if(!f)return null;var p=ot(ot(ot(ot(ot({},h),{},{fill:"#eee"},f),l),_i(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(Xj,jf({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=Or(d,Mh);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,g){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Mt(v,g)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(Ee,m,f.map(function(y){return D.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,y=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,g=me("recharts-bar",o),b=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,j=b||w,x=ye(y)?this.id:y;return D.createElement(Ee,{className:g},b||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(x)},D.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,D.createElement(Ee,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,x),(!p||v)&&xa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);RT=Sa;la(Sa,"displayName","Bar");la(Sa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ss.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});la(Sa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=RJ(n,r);if(!p)return null;var m=t.layout,y=r.type.defaultProps,v=y!==void 0?ot(ot({},y),r.props):r.props,g=v.dataKey,b=v.children,w=v.minPointSize,j=m==="horizontal"?o:i,x=u?j.scale.domain():null,_=zJ({numericAxis:j}),S=Or(b,Sh),N=f.map(function(T,$){var P,C,M,L,I,E;u?P=MJ(u[d+$],x):(P=Mt(T,g),Array.isArray(P)||(P=[_,P]));var k=Gne(w,RT.defaultProps.minPointSize)(P[1],$);if(m==="horizontal"){var A,R=[o.scale(P[0]),o.scale(P[1])],U=R[0],V=R[1];C=F_({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:T,index:$}),M=(A=V??U)!==null&&A!==void 0?A:void 0,L=p.size;var q=U-V;if(I=Number.isNaN(q)?0:q,E={x:C,y:o.y,width:L,height:o.height},Math.abs(k)>0&&Math.abs(I)<Math.abs(k)){var Q=qt(I||k)*(Math.abs(k)-Math.abs(I));M-=Q,I+=Q}}else{var re=[i.scale(P[0]),i.scale(P[1])],J=re[0],ge=re[1];if(C=J,M=F_({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:T,index:$}),L=ge-J,I=p.size,E={x:i.x,y:M,width:i.width,height:I},Math.abs(k)>0&&Math.abs(L)<Math.abs(k)){var Ve=qt(L||k)*(Math.abs(k)-Math.abs(L));L+=Ve}}return ot(ot(ot({},T),{},{x:C,y:M,width:L,height:I,value:u?P:P[1],payload:T,background:E},S&&S[$]&&S[$].props),{},{tooltipPayload:[oT(r,T)],tooltipPosition:{x:C+L/2,y:M+I/2}})});return ot({data:N,layout:m},h)});function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UT(n.key),n)}}function iae(e,t,r){return t&&Zj(e.prototype,t),r&&Zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wh(e,t,r){return t=UT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UT(e){var t=oae(e,"string");return wc(t)=="symbol"?t:t+""}function oae(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sae=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!or(u,Sa);return d.reduce(function(p,m){var y=r[m],v=y.orientation,g=y.domain,b=y.padding,w=b===void 0?{}:b,j=y.mirror,x=y.reversed,_="".concat(v).concat(j?"Mirror":""),S,N,T,$,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var C=g[1]-g[0],M=1/0,L=y.categoricalDomain.sort(wB);if(L.forEach(function(re,J){J>0&&(M=Math.min((re||0)-(L[J-1]||0),M))}),Number.isFinite(M)){var I=M/C,E=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(S=I*E/2),y.padding==="no-gap"){var k=zt(t.barCategoryGap,I*E),A=I*E/2;S=A-k-(A-k)/E*k}}}a==="xAxis"?N=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:a==="yAxis"?N=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:N=y.range,x&&(N=[N[1],N[0]]);var R=rT(y,i,h),U=R.scale,V=R.realScaleType;U.domain(g).range(N),nT(U);var q=aT(U,Lr(Lr({},y),{},{realScaleType:V}));a==="xAxis"?(P=v==="top"&&!j||v==="bottom"&&j,T=n.left,$=f[_]-P*y.height):a==="yAxis"&&(P=v==="left"&&!j||v==="right"&&j,T=f[_]-P*y.width,$=n.top);var Q=Lr(Lr(Lr({},y),q),{},{realScaleType:V,x:T,y:$,scale:U,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return Q.bandSize=lf(Q,q),!y.hide&&a==="xAxis"?f[_]+=(P?-1:1)*Q.height:y.hide||(f[_]+=(P?-1:1)*Q.width),Lr(Lr({},p),{},Wh({},m,Q))},{})},BT=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},lae=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return BT({x:r,y:n},{x:a,y:i})},FT=function(){function e(t){aae(this,e),this.scale=t}return iae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Wh(FT,"EPS",1e-4);var sb=function(t){var r=Object.keys(t).reduce(function(n,a){return Lr(Lr({},n),{},Wh({},a,FT.create(t[a])))},{});return Lr(Lr({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return Pne(a,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return DT(a,function(i,o){return r[o].isInRange(i)})}})};function cae(e){return(e%180+180)%180}var uae=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=cae(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},dae=sn,fae=Mc,hae=wh;function pae(e){return function(t,r,n){var a=Object(t);if(!fae(t)){var i=dae(r);t=hae(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var mae=pae,gae=TT;function yae(e){var t=gae(e),r=t%1;return t===t?r?t-r:t:0}var vae=yae,bae=RA,xae=sn,wae=vae,_ae=Math.max;function jae(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:wae(r);return a<0&&(a=_ae(n+a,0)),bae(e,xae(t),a)}var Sae=jae,Oae=mae,Nae=Sae,Pae=Oae(Nae),Eae=Pae;const Aae=Ne(Eae);var kae=SU(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),lb=O.createContext(void 0),cb=O.createContext(void 0),qT=O.createContext(void 0),zT=O.createContext({}),WT=O.createContext(void 0),VT=O.createContext(0),HT=O.createContext(0),tS=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,d=kae(i);return D.createElement(lb.Provider,{value:n},D.createElement(cb.Provider,{value:a},D.createElement(zT.Provider,{value:i},D.createElement(qT.Provider,{value:d},D.createElement(WT.Provider,{value:o},D.createElement(VT.Provider,{value:u},D.createElement(HT.Provider,{value:l},s)))))))},Tae=function(){return O.useContext(WT)},GT=function(t){var r=O.useContext(lb);r==null&&Oi();var n=r[t];return n==null&&Oi(),n},Cae=function(){var t=O.useContext(lb);return na(t)},$ae=function(){var t=O.useContext(cb),r=Aae(t,function(n){return DT(n.domain,Number.isFinite)});return r||na(t)},KT=function(t){var r=O.useContext(cb);r==null&&Oi();var n=r[t];return n==null&&Oi(),n},Iae=function(){var t=O.useContext(qT);return t},Dae=function(){return O.useContext(zT)},ub=function(){return O.useContext(HT)},db=function(){return O.useContext(VT)};function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XT(n.key),n)}}function Lae(e,t,r){return t&&Mae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uae(e,t,r){return t=Of(t),Bae(e,YT()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function Bae(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fae(e)}function Fae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ry(e,t)}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fb(e,t,r){return t=XT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XT(e){var t=zae(e,"string");return Jo(t)=="symbol"?t:t+""}function zae(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wae(e,t){return Kae(e)||Gae(e,t)||Hae(e,t)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(e,t){if(e){if(typeof e=="string")return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(e,t)}}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Kae(e){if(Array.isArray(e))return e}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}var Yae=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):de(t)?n=t(r):n=D.createElement("line",My({},r,{className:"recharts-reference-line-line"})),n},Xae=function(t,r,n,a,i,o,s,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,y=t.y.apply(m,{position:o});if(nn(u,"discard")&&!t.y.isInRange(y))return null;var v=[{x:d+h,y},{x:d,y}];return l==="left"?v.reverse():v}if(r){var g=u.x,b=t.x.apply(g,{position:o});if(nn(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?w.reverse():w}if(a){var j=u.segment,x=j.map(function(_){return t.apply(_,{position:o})});return nn(u,"discard")&&bne(x,function(_){return!t.isInRange(_)})?null:x}return null};function Jae(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=Tae(),d=GT(a),f=KT(i),h=Iae();if(!u||!h)return null;zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sb({x:d.scale,y:f.scale}),m=pt(t),y=pt(r),v=n&&n.length===2,g=Xae(p,m,y,v,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var b=Wae(g,2),w=b[0],j=w.x,x=w.y,_=b[1],S=_.x,N=_.y,T=nn(e,"hidden")?"url(#".concat(u,")"):void 0,$=nS(nS({clipPath:T},ue(e,!0)),{},{x1:j,y1:x,x2:S,y2:N});return D.createElement(Ee,{className:me("recharts-reference-line",s)},Yae(o,$),xt.renderCallByParent(e,lae({x1:j,y1:x,x2:S,y2:N})))}var hb=function(e){function t(){return Rae(this,t),Uae(this,t,arguments)}return qae(t,e),Lae(t,[{key:"render",value:function(){return D.createElement(Jae,this.props)}}])}(D.Component);fb(hb,"displayName","ReferenceLine");fb(hb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QT(n.key),n)}}function eie(e,t,r){return t&&Zae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tie(e,t,r){return t=Nf(t),rie(e,JT()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function rie(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(e)}function nie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JT=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function aie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uy(e,t)}function Vh(e,t,r){return t=QT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QT(e){var t=iie(e,"string");return Qo(t)=="symbol"?t:t+""}function iie(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oie=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=sb({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return nn(t,"discard")&&!o.isInRange(s)?null:s},Hh=function(e){function t(){return Qae(this,t),tie(this,t,arguments)}return aie(t,e),eie(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=pt(a),d=pt(i);if(zr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=oie(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,y=m.shape,v=m.className,g=nn(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=oS(oS({clipPath:g},ue(this.props,!0)),{},{cx:h,cy:p});return D.createElement(Ee,{className:me("recharts-reference-dot",v)},t.renderDot(y,b),xt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);Vh(Hh,"displayName","ReferenceDot");Vh(Hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vh(Hh,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):de(e)?r=e(t):r=D.createElement(ob,Ly({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eC(n.key),n)}}function cie(e,t,r){return t&&lie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uie(e,t,r){return t=Pf(t),die(e,ZT()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function die(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(e)}function fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZT=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function hie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fy(e,t)}function Gh(e,t,r){return t=eC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eC(e){var t=pie(e,"string");return Zo(t)=="symbol"?t:t+""}function pie(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mie=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=sb({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return nn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:BT(p,m)},Kh=function(e){function t(){return sie(this,t),uie(this,t,arguments)}return hie(t,e),cie(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;zr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pt(a),h=pt(i),p=pt(o),m=pt(s),y=this.props.shape;if(!f&&!h&&!p&&!m&&!y)return null;var v=mie(f,h,p,m,this.props);if(!v&&!y)return null;var g=nn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(Ee,{className:me("recharts-reference-area",l)},t.renderRect(y,lS(lS({clipPath:g},ue(this.props,!0)),v)),xt.renderCallByParent(this.props,v))}}])}(D.Component);Gh(Kh,"displayName","ReferenceArea");Gh(Kh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gh(Kh,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):de(e)?r=e(t):r=D.createElement(ib,By({},t,{className:"recharts-reference-area-rect"})),r});function tC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function gie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uae(n,r)}function yie(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Ef(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function vie(e,t){return tC(e,t+1)}function bie(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,u=1,d=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:tC(n,u)};var y=l,v,g=function(){return v===void 0&&(v=r(m,y)),v},b=m.coordinate,w=l===0||Ef(e,b,g,d,s);w||(l=0,d=o,u+=1),w&&(d=b+e*(g()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xie(e,t,r){return t=wie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=_ie(e,"string");return _c(t)=="symbol"?t:t+""}function _ie(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jie(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,u=function(h){var p=i[h],m,y=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var v=e*(p.coordinate+e*y()/2-l);i[h]=p=Tt(Tt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Tt(Tt({},p),{},{tickCoord:p.coordinate});var g=Ef(e,p.tickCoord,y,s,l);g&&(l=p.tickCoord-e*(y()/2+a),i[h]=Tt(Tt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Sie(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Ef(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Tt(Tt({},d),{},{isShow:!0}))}for(var m=i?s-1:s,y=function(b){var w=o[b],j,x=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var _=e*(w.coordinate-e*x()/2-l);o[b]=w=Tt(Tt({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[b]=w=Tt(Tt({},w),{},{tickCoord:w.coordinate});var S=Ef(e,w.tickCoord,x,l,u);S&&(l=w.tickCoord+e*(x()/2+a),o[b]=Tt(Tt({},w),{},{isShow:!0}))},v=0;v<m;v++)y(v);return o}function pb(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(K(l)||Ss.isSsr)return vie(a,typeof l=="number"&&K(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?gl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(w,j){var x=de(u)?u(w.value,j):w.value;return p==="width"?gie(gl(x,{fontSize:t,letterSpacing:r}),m,f):gl(x,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?qt(a[1].coordinate-a[0].coordinate):1,g=yie(i,v,p);return l==="equidistantPreserveStart"?bie(v,g,y,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Sie(v,g,y,a,o,l==="preserveStartEnd"):h=jie(v,g,y,a,o),h.filter(function(b){return b.isShow}))}var Oie=["viewBox"],Nie=["viewBox"],Pie=["ticks"];function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){mb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function im(e,t){if(e==null)return{};var r=Eie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nC(n.key),n)}}function kie(e,t,r){return t&&dS(e.prototype,t),r&&dS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tie(e,t,r){return t=Af(t),Cie(e,rC()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function Cie(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ie(e)}function $ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function Iie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qy(e,t)}function mb(e,t,r){return t=nC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=Die(e,"string");return es(t)=="symbol"?t:t+""}function Die(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Es=function(e){function t(r){var n;return Aie(this,t),n=Tie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Iie(t,e),kie(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=im(n,Oie),s=this.props,l=s.viewBox,u=im(s,Nie);return!bo(i,l)||!bo(o,u)||!bo(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,y,v,g,b,w=f?-1:1,j=n.tickSize||d,x=K(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=o+ +!f*l,y=v-w*j,b=y-w*h,g=x;break;case"left":y=v=n.coordinate,m=i+ +!f*s,p=m-w*j,g=p-w*h,b=x;break;case"right":y=v=n.coordinate,m=i+ +f*s,p=m+w*j,g=p+w*h,b=x;break;default:p=m=n.coordinate,v=o+ +f*l,y=v+w*j,b=y+w*h,g=x;break}return{line:{x1:p,y1:y,x2:m,y2:v},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=ut(ut(ut({},ue(this.props,!1)),ue(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=ut(ut({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=ut(ut({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+s})}return D.createElement("line",so({},f,{className:me("recharts-cartesian-axis-line",dr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=pb(ut(ut({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=ue(this.props,!1),g=ue(d,!1),b=ut(ut({},v),{},{fill:"none"},ue(l,!1)),w=p.map(function(j,x){var _=o.getTickLineCoord(j),S=_.line,N=_.tick,T=ut(ut(ut(ut({textAnchor:m,verticalAnchor:y},v),{},{stroke:"none",fill:u},g),N),{},{index:x,payload:j,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(Ee,so({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},_i(o.props,j,x)),l&&D.createElement("line",so({},b,S,{className:me("recharts-cartesian-axis-tick-line",dr(l,"className"))})),d&&t.renderTickItem(d,T,"".concat(de(f)?f(j.value,x):j.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=im(f,Pie),m=h;return de(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:D.createElement(Ee,{className:me("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,s=me(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,ut(ut({},a),{},{className:s})):de(n)?o=n(ut(ut({},a),{},{className:s})):o=D.createElement(ji,so({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);mb(Es,"displayName","CartesianAxis");mb(Es,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rie=["x1","y1","x2","y2","key"],Mie=["offset"];function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return t=Uie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uie(e){var t=Bie(e,"string");return Ni(t)=="symbol"?t:t+""}function Bie(e,t){if(Ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}function hS(e,t){if(e==null)return{};var r=Fie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qie=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return D.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aC(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(de(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=hS(t,Rie),u=ue(l,!1);u.offset;var d=hS(u,Mie);r=D.createElement("line",ui({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function zie(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Dt(Dt({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return aC(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Wie(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Dt(Dt({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return aC(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Vie(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],y=m?a+o-h:d[p+1]-h;if(y<=0)return null;var v=p%t.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Hie(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],y=m?i+s-h:d[p+1]-h;if(y<=0)return null;var v=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Gie=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return tT(pb(Dt(Dt(Dt({},Es.defaultProps),n),{},{ticks:_n(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Kie=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return tT(pb(Dt(Dt(Dt({},Es.defaultProps),n),{},{ticks:_n(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},zi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iC(e){var t,r,n,a,i,o,s=ub(),l=db(),u=Dae(),d=Dt(Dt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:zi.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:zi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:zi.verticalFill,x:K(e.x)?e.x:u.left,y:K(e.y)?e.y:u.top,width:K(e.width)?e.width:u.width,height:K(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,y=d.syncWithTicks,v=d.horizontalValues,g=d.verticalValues,b=Cae(),w=$ae();if(!K(p)||p<=0||!K(m)||m<=0||!K(f)||f!==+f||!K(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Gie,x=d.horizontalCoordinatesGenerator||Kie,_=d.horizontalPoints,S=d.verticalPoints;if((!_||!_.length)&&de(x)){var N=v&&v.length,T=x({yAxis:w?Dt(Dt({},w),{},{ticks:N?v:w.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);zr(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ni(T),"]")),Array.isArray(T)&&(_=T)}if((!S||!S.length)&&de(j)){var $=g&&g.length,P=j({xAxis:b?Dt(Dt({},b),{},{ticks:$?g:b.ticks}):void 0,width:s,height:l,offset:u},$?!0:y);zr(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ni(P),"]")),Array.isArray(P)&&(S=P)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(qie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(zie,ui({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:w})),D.createElement(Wie,ui({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:w})),D.createElement(Vie,ui({},d,{horizontalPoints:_})),D.createElement(Hie,ui({},d,{verticalPoints:S})))}iC.displayName="CartesianGrid";function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function Yie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lC(n.key),n)}}function Jie(e,t,r){return t&&Xie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qie(e,t,r){return t=kf(t),Zie(e,oC()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function Zie(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eoe(e)}function eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oC=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function toe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zy(e,t)}function sC(e,t,r){return t=lC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lC(e){var t=roe(e,"string");return ts(t)=="symbol"?t:t+""}function roe(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function noe(e){var t=e.xAxisId,r=ub(),n=db(),a=GT(t);return a==null?null:O.createElement(Es,Wy({},a,{className:me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _n(o,!0)}}))}var Yh=function(e){function t(){return Yie(this,t),Qie(this,t,arguments)}return toe(t,e),Jie(t,[{key:"render",value:function(){return O.createElement(noe,this.props)}}])}(O.Component);sC(Yh,"displayName","XAxis");sC(Yh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ioe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dC(n.key),n)}}function ooe(e,t,r){return t&&ioe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function soe(e,t,r){return t=Tf(t),loe(e,cC()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function loe(e,t){if(t&&(rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return coe(e)}function coe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cC=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function uoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vy(e,t)}function uC(e,t,r){return t=dC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dC(e){var t=doe(e,"string");return rs(t)=="symbol"?t:t+""}function doe(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}var foe=function(t){var r=t.yAxisId,n=ub(),a=db(),i=KT(r);return i==null?null:O.createElement(Es,Hy({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return _n(s,!0)}}))},Xh=function(e){function t(){return aoe(this,t),soe(this,t,arguments)}return uoe(t,e),ooe(t,[{key:"render",value:function(){return O.createElement(foe,this.props)}}])}(O.Component);uC(Xh,"displayName","YAxis");uC(Xh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pS(e){return goe(e)||moe(e)||poe(e)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(e,t){if(e){if(typeof e=="string")return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}}function moe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function goe(e){if(Array.isArray(e))return Gy(e)}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ky=function(t,r,n,a,i){var o=Or(t,hb),s=Or(t,Hh),l=[].concat(pS(o),pS(s)),u=Or(t,Kh),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(y,v){if(v.props[d]===n&&nn(v.props,"extendDomain")&&K(v.props[f])){var g=v.props[f];return[Math.min(y[0],g),Math.max(y[1],g)]}return y},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(y,v){if(v.props[d]===n&&nn(v.props,"extendDomain")&&K(v.props[p])&&K(v.props[m])){var g=v.props[p],b=v.props[m];return[Math.min(y[0],g,b),Math.max(y[1],g,b)]}return y},h)}return i&&i.length&&(h=i.reduce(function(y,v){return K(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},fC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,m){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],g=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,x;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),g){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(x=1,b=new Array(g-1);x<g;x++)b[x-1]=arguments[x];v[w].fn.apply(v[w].context,b)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var y=0,v=[],g=m.length;y<g;y++)(m[y].fn!==d||h&&!m[y].once||f&&m[y].context!==f)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(fC);var yoe=fC.exports;const voe=Ne(yoe);var om=new voe,sm="recharts.syncMouseEvents";function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hC(n.key),n)}}function woe(e,t,r){return t&&xoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lm(e,t,r){return t=hC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hC(e){var t=_oe(e,"string");return jc(t)=="symbol"?t:t+""}function _oe(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var joe=function(){function e(){boe(this,e),lm(this,"activeIndex",0),lm(this,"coordinateList",[]),lm(this,"layout","horizontal")}return woe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Soe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&K(n)&&K(a))return!0}return!1}function Ooe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function pC(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ue(t,r,n,a),s=Ue(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Noe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ue(s,l,u,f),p=Ue(s,l,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return pC(t);return[{x:n,y:a},{x:i,y:o}]}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return t=Eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=Aoe(e,"string");return Sc(t)=="symbol"?t:t+""}function Aoe(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function koe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,y=yy;if(h==="ScatterChart")m=o,y=ste;else if(h==="BarChart")m=Ooe(f,o,l,d),y=ib;else if(f==="radial"){var v=pC(o),g=v.cx,b=v.cy,w=v.radius,j=v.startAngle,x=v.endAngle;m={cx:g,cy:b,startAngle:j,endAngle:x,innerRadius:w,outerRadius:w},y=fT}else m={points:Noe(f,o,l)},y=yy;var _=Nu(Nu(Nu(Nu({stroke:"#ccc",pointerEvents:"none"},l),m),ue(p,!1)),{},{payload:s,payloadIndex:u,className:me("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,_):O.createElement(y,_)}var Toe=["item"],Coe=["children","className","width","height","style","compact","title","desc"];function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(this,arguments)}function gS(e,t){return Doe(e)||Ioe(e,t)||gC(e,t)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Doe(e){if(Array.isArray(e))return e}function yS(e,t){if(e==null)return{};var r=Roe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Roe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Moe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Loe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yC(n.key),n)}}function Uoe(e,t,r){return t&&Loe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Boe(e,t,r){return t=Cf(t),Foe(e,mC()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function Foe(e,t){if(t&&(ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qoe(e)}function qoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mC=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yy(e,t)}function as(e){return Hoe(e)||Voe(e)||gC(e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gC(e,t){if(e){if(typeof e=="string")return Xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(e,t)}}function Voe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hoe(e){if(Array.isArray(e))return Xy(e)}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function le(e,t,r){return t=yC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yC(e){var t=Goe(e,"string");return ns(t)=="symbol"?t:t+""}function Goe(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Koe={xAxis:["bottom","top"],yAxis:["left","right"]},Yoe={width:"100%",height:"100%"},vC={x:0,y:0};function Pu(e){return e}var Xoe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Joe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return z(z(z({},a),Ue(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return z(z(z({},a),Ue(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return vC},Jh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(as(s),as(u)):s},[]);return o.length>0?o:t&&t.length&&K(a)&&K(i)?t.slice(a,i+1):[]};function bC(e){return e==="number"?[0,"auto"]:void 0}var Jy=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=Jh(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Og(p,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(as(l),[oT(u,h)]):l},[])},bS=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Xoe(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=kJ(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=Jy(t,r,d,f),p=Joe(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Qoe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=eT(d,i);return n.reduce(function(m,y){var v,g=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,b=g.type,w=g.dataKey,j=g.allowDataOverflow,x=g.allowDuplicatedCategory,_=g.scale,S=g.ticks,N=g.includeHidden,T=g[o];if(m[T])return m;var $=Jh(t.data,{graphicalItems:a.filter(function(q){var Q,re=o in q.props?q.props[o]:(Q=q.type.defaultProps)===null||Q===void 0?void 0:Q[o];return re===T}),dataStartIndex:l,dataEndIndex:u}),P=$.length,C,M,L;Soe(g.domain,j,b)&&(C=fy(g.domain,null,j),p&&(b==="number"||_!=="auto")&&(L=vl($,w,"category")));var I=bC(b);if(!C||C.length===0){var E,k=(E=g.domain)!==null&&E!==void 0?E:I;if(w){if(C=vl($,w,b),b==="category"&&p){var A=xB(C);x&&A?(M=C,C=xf(0,P)):x||(C=W_(k,C,y).reduce(function(q,Q){return q.indexOf(Q)>=0?q:[].concat(as(q),[Q])},[]))}else if(b==="category")x?C=C.filter(function(q){return q!==""&&!ye(q)}):C=W_(k,C,y).reduce(function(q,Q){return q.indexOf(Q)>=0||Q===""||ye(Q)?q:[].concat(as(q),[Q])},[]);else if(b==="number"){var R=DJ($,a.filter(function(q){var Q,re,J=o in q.props?q.props[o]:(Q=q.type.defaultProps)===null||Q===void 0?void 0:Q[o],ge="hide"in q.props?q.props.hide:(re=q.type.defaultProps)===null||re===void 0?void 0:re.hide;return J===T&&(N||!ge)}),w,i,d);R&&(C=R)}p&&(b==="number"||_!=="auto")&&(L=vl($,w,"category"))}else p?C=xf(0,P):s&&s[T]&&s[T].hasStack&&b==="number"?C=h==="expand"?[0,1]:iT(s[T].stackGroups,l,u):C=Zk($,a.filter(function(q){var Q=o in q.props?q.props[o]:q.type.defaultProps[o],re="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Q===T&&(N||!re)}),b,d,!0);if(b==="number")C=Ky(f,C,T,i,S),k&&(C=fy(k,C,j));else if(b==="category"&&k){var U=k,V=C.every(function(q){return U.indexOf(q)>=0});V&&(C=U)}}return z(z({},m),{},le({},T,z(z({},g),{},{axisType:i,domain:C,categoricalDomain:L,duplicateDomain:M,originalDomain:(v=g.domain)!==null&&v!==void 0?v:I,isCategorical:p,layout:d})))},{})},Zoe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Jh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=eT(d,i),y=-1;return n.reduce(function(v,g){var b=g.type.defaultProps!==void 0?z(z({},g.type.defaultProps),g.props):g.props,w=b[o],j=bC("number");if(!v[w]){y++;var x;return m?x=xf(0,p):s&&s[w]&&s[w].hasStack?(x=iT(s[w].stackGroups,l,u),x=Ky(f,x,w,i)):(x=fy(j,Zk(h,n.filter(function(_){var S,N,T=o in _.props?_.props[o]:(S=_.type.defaultProps)===null||S===void 0?void 0:S[o],$="hide"in _.props?_.props.hide:(N=_.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===w&&!$}),"number",d),a.defaultProps.allowDataOverflow),x=Ky(f,x,w,i)),z(z({},v),{},le({},w,z(z({axisType:i},a.defaultProps),{},{hide:!0,orientation:dr(Koe,"".concat(i,".").concat(y%2),null),domain:x,originalDomain:j,isCategorical:m,layout:d})))}return v},{})},ese=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Or(d,i),p={};return h&&h.length?p=Qoe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Zoe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},tse=function(t){var r=na(t),n=_n(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:C0(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:lf(r,n)}},xS=function(t){var r=t.children,n=t.defaultShowTooltip,a=or(r,Yo),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rse=function(t){return!t||!t.length?!1:t.some(function(r){var n=Nn(r&&r.type);return n&&n.indexOf("Bar")>=0})},wS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nse=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=or(f,Yo),m=or(f,hi),y=Object.keys(l).reduce(function(x,_){var S=l[_],N=S.orientation;return!S.mirror&&!S.hide?z(z({},x),{},le({},N,x[N]+S.width)):x},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(x,_){var S=o[_],N=S.orientation;return!S.mirror&&!S.hide?z(z({},x),{},le({},N,dr(x,"".concat(N))+S.height)):x},{top:h.top||0,bottom:h.bottom||0}),g=z(z({},v),y),b=g.bottom;p&&(g.bottom+=p.props.height||Yo.defaultProps.height),m&&r&&(g=$J(g,a,n,r));var w=u-g.left-g.right,j=d-g.top-g.bottom;return z(z({brushBottom:b},g),{},{width:Math.max(w,0),height:Math.max(j,0)})},ase=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},xC=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,b){var w=b.graphicalItems,j=b.stackGroups,x=b.offset,_=b.updateId,S=b.dataStartIndex,N=b.dataEndIndex,T=g.barSize,$=g.layout,P=g.barGap,C=g.barCategoryGap,M=g.maxBarSize,L=wS($),I=L.numericAxisName,E=L.cateAxisName,k=rse(w),A=[];return w.forEach(function(R,U){var V=Jh(g.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:N}),q=R.type.defaultProps!==void 0?z(z({},R.type.defaultProps),R.props):R.props,Q=q.dataKey,re=q.maxBarSize,J=q["".concat(I,"Id")],ge=q["".concat(E,"Id")],Ve={},je=l.reduce(function(cn,un){var $i=b["".concat(un.axisType,"Map")],B=q["".concat(un.axisType,"Id")];$i&&$i[B]||un.axisType==="zAxis"||Oi();var ae=$i[B];return z(z({},cn),{},le(le({},un.axisType,ae),"".concat(un.axisType,"Ticks"),_n(ae)))},Ve),Y=je[E],F=je["".concat(E,"Ticks")],H=j&&j[J]&&j[J].hasStack&&WJ(R,j[J].stackGroups),W=Nn(R.type).indexOf("Bar")>=0,se=lf(Y,F),ie=[],fe=k&&TJ({barSize:T,stackGroups:j,totalSize:ase(je,E)});if(W){var be,Qe,Ut=ye(re)?M:re,ln=(be=(Qe=lf(Y,F,!0))!==null&&Qe!==void 0?Qe:Ut)!==null&&be!==void 0?be:0;ie=CJ({barGap:P,barCategoryGap:C,bandSize:ln!==se?ln:se,sizeList:fe[ge],maxBarSize:Ut}),ln!==se&&(ie=ie.map(function(cn){return z(z({},cn),{},{position:z(z({},cn.position),{},{offset:cn.position.offset-ln/2})})}))}var Da=R&&R.type&&R.type.getComposedData;Da&&A.push({props:z(z({},Da(z(z({},je),{},{displayedData:V,props:g,dataKey:Q,item:R,bandSize:se,barPosition:ie,offset:x,stackedData:H,layout:$,dataStartIndex:S,dataEndIndex:N}))),{},le(le(le({key:R.key||"item-".concat(U)},I,je[I]),E,je[E]),"animationId",_)),childIndex:CB(R,g.children),item:R})}),A},p=function(g,b){var w=g.props,j=g.dataStartIndex,x=g.dataEndIndex,_=g.updateId;if(!Mw({props:w}))return null;var S=w.children,N=w.layout,T=w.stackOffset,$=w.data,P=w.reverseStackOrder,C=wS(N),M=C.numericAxisName,L=C.cateAxisName,I=Or(S,n),E=qJ($,I,"".concat(M,"Id"),"".concat(L,"Id"),T,P),k=l.reduce(function(q,Q){var re="".concat(Q.axisType,"Map");return z(z({},q),{},le({},re,ese(w,z(z({},Q),{},{graphicalItems:I,stackGroups:Q.axisType===M&&E,dataStartIndex:j,dataEndIndex:x}))))},{}),A=nse(z(z({},k),{},{props:w,graphicalItems:I}),b==null?void 0:b.legendBBox);Object.keys(k).forEach(function(q){k[q]=d(w,k[q],A,q.replace("Map",""),r)});var R=k["".concat(L,"Map")],U=tse(R),V=h(w,z(z({},k),{},{dataStartIndex:j,dataEndIndex:x,updateId:_,graphicalItems:I,stackGroups:E,offset:A}));return z(z({formattedGraphicalItems:V,graphicalItems:I,offset:A,stackGroups:E},U),k)},m=function(v){function g(b){var w,j,x;return Moe(this,g),x=Boe(this,g,[b]),le(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(x,"accessibilityManager",new joe),le(x,"handleLegendBBoxUpdate",function(_){if(_){var S=x.state,N=S.dataStartIndex,T=S.dataEndIndex,$=S.updateId;x.setState(z({legendBBox:_},p({props:x.props,dataStartIndex:N,dataEndIndex:T,updateId:$},z(z({},x.state),{},{legendBBox:_}))))}}),le(x,"handleReceiveSyncEvent",function(_,S,N){if(x.props.syncId===_){if(N===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(S)}}),le(x,"handleBrushChange",function(_){var S=_.startIndex,N=_.endIndex;if(S!==x.state.dataStartIndex||N!==x.state.dataEndIndex){var T=x.state.updateId;x.setState(function(){return z({dataStartIndex:S,dataEndIndex:N},p({props:x.props,dataStartIndex:S,dataEndIndex:N,updateId:T},x.state))}),x.triggerSyncEvent({dataStartIndex:S,dataEndIndex:N})}}),le(x,"handleMouseEnter",function(_){var S=x.getMouseInfo(_);if(S){var N=z(z({},S),{},{isTooltipActive:!0});x.setState(N),x.triggerSyncEvent(N);var T=x.props.onMouseEnter;de(T)&&T(N,_)}}),le(x,"triggeredAfterMouseMove",function(_){var S=x.getMouseInfo(_),N=S?z(z({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(N),x.triggerSyncEvent(N);var T=x.props.onMouseMove;de(T)&&T(N,_)}),le(x,"handleItemMouseEnter",function(_){x.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),le(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),le(x,"handleMouseMove",function(_){_.persist(),x.throttleTriggeredAfterMouseMove(_)}),le(x,"handleMouseLeave",function(_){x.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var N=x.props.onMouseLeave;de(N)&&N(S,_)}),le(x,"handleOuterEvent",function(_){var S=TB(_),N=dr(x.props,"".concat(S));if(S&&de(N)){var T,$;/.*touch.*/i.test(S)?$=x.getMouseInfo(_.changedTouches[0]):$=x.getMouseInfo(_),N((T=$)!==null&&T!==void 0?T:{},_)}}),le(x,"handleClick",function(_){var S=x.getMouseInfo(_);if(S){var N=z(z({},S),{},{isTooltipActive:!0});x.setState(N),x.triggerSyncEvent(N);var T=x.props.onClick;de(T)&&T(N,_)}}),le(x,"handleMouseDown",function(_){var S=x.props.onMouseDown;if(de(S)){var N=x.getMouseInfo(_);S(N,_)}}),le(x,"handleMouseUp",function(_){var S=x.props.onMouseUp;if(de(S)){var N=x.getMouseInfo(_);S(N,_)}}),le(x,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),le(x,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseDown(_.changedTouches[0])}),le(x,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseUp(_.changedTouches[0])}),le(x,"handleDoubleClick",function(_){var S=x.props.onDoubleClick;if(de(S)){var N=x.getMouseInfo(_);S(N,_)}}),le(x,"handleContextMenu",function(_){var S=x.props.onContextMenu;if(de(S)){var N=x.getMouseInfo(_);S(N,_)}}),le(x,"triggerSyncEvent",function(_){x.props.syncId!==void 0&&om.emit(sm,x.props.syncId,_,x.eventEmitterSymbol)}),le(x,"applySyncEvent",function(_){var S=x.props,N=S.layout,T=S.syncMethod,$=x.state.updateId,P=_.dataStartIndex,C=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)x.setState(z({dataStartIndex:P,dataEndIndex:C},p({props:x.props,dataStartIndex:P,dataEndIndex:C,updateId:$},x.state)));else if(_.activeTooltipIndex!==void 0){var M=_.chartX,L=_.chartY,I=_.activeTooltipIndex,E=x.state,k=E.offset,A=E.tooltipTicks;if(!k)return;if(typeof T=="function")I=T(A,_);else if(T==="value"){I=-1;for(var R=0;R<A.length;R++)if(A[R].value===_.activeLabel){I=R;break}}var U=z(z({},k),{},{x:k.left,y:k.top}),V=Math.min(M,U.x+U.width),q=Math.min(L,U.y+U.height),Q=A[I]&&A[I].value,re=Jy(x.state,x.props.data,I),J=A[I]?{x:N==="horizontal"?A[I].coordinate:V,y:N==="horizontal"?q:A[I].coordinate}:vC;x.setState(z(z({},_),{},{activeLabel:Q,activeCoordinate:J,activePayload:re,activeTooltipIndex:I}))}else x.setState(_)}),le(x,"renderCursor",function(_){var S,N=x.state,T=N.isTooltipActive,$=N.activeCoordinate,P=N.activePayload,C=N.offset,M=N.activeTooltipIndex,L=N.tooltipAxisBandSize,I=x.getTooltipEventType(),E=(S=_.props.active)!==null&&S!==void 0?S:T,k=x.props.layout,A=_.key||"_recharts-cursor";return D.createElement(koe,{key:A,activeCoordinate:$,activePayload:P,activeTooltipIndex:M,chartName:r,element:_,isActive:E,layout:k,offset:C,tooltipAxisBandSize:L,tooltipEventType:I})}),le(x,"renderPolarAxis",function(_,S,N){var T=dr(_,"type.axisType"),$=dr(x.state,"".concat(T,"Map")),P=_.type.defaultProps,C=P!==void 0?z(z({},P),_.props):_.props,M=$&&$[C["".concat(T,"Id")]];return O.cloneElement(_,z(z({},M),{},{className:me(T,M.className),key:_.key||"".concat(S,"-").concat(N),ticks:_n(M,!0)}))}),le(x,"renderPolarGrid",function(_){var S=_.props,N=S.radialLines,T=S.polarAngles,$=S.polarRadius,P=x.state,C=P.radiusAxisMap,M=P.angleAxisMap,L=na(C),I=na(M),E=I.cx,k=I.cy,A=I.innerRadius,R=I.outerRadius;return O.cloneElement(_,{polarAngles:Array.isArray(T)?T:_n(I,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray($)?$:_n(L,!0).map(function(U){return U.coordinate}),cx:E,cy:k,innerRadius:A,outerRadius:R,key:_.key||"polar-grid",radialLines:N})}),le(x,"renderLegend",function(){var _=x.state.formattedGraphicalItems,S=x.props,N=S.children,T=S.width,$=S.height,P=x.props.margin||{},C=T-(P.left||0)-(P.right||0),M=Jk({children:N,formattedGraphicalItems:_,legendWidth:C,legendContent:u});if(!M)return null;var L=M.item,I=yS(M,Toe);return O.cloneElement(L,z(z({},I),{},{chartWidth:T,chartHeight:$,margin:P,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),le(x,"renderTooltip",function(){var _,S=x.props,N=S.children,T=S.accessibilityLayer,$=or(N,Xr);if(!$)return null;var P=x.state,C=P.isTooltipActive,M=P.activeCoordinate,L=P.activePayload,I=P.activeLabel,E=P.offset,k=(_=$.props.active)!==null&&_!==void 0?_:C;return O.cloneElement($,{viewBox:z(z({},E),{},{x:E.left,y:E.top}),active:k,label:I,payload:k?L:[],coordinate:M,accessibilityLayer:T})}),le(x,"renderBrush",function(_){var S=x.props,N=S.margin,T=S.data,$=x.state,P=$.offset,C=$.dataStartIndex,M=$.dataEndIndex,L=$.updateId;return O.cloneElement(_,{key:_.key||"_recharts-brush",onChange:_u(x.handleBrushChange,_.props.onChange),data:T,x:K(_.props.x)?_.props.x:P.left,y:K(_.props.y)?_.props.y:P.top+P.height+P.brushBottom-(N.bottom||0),width:K(_.props.width)?_.props.width:P.width,startIndex:C,endIndex:M,updateId:"brush-".concat(L)})}),le(x,"renderReferenceElement",function(_,S,N){if(!_)return null;var T=x,$=T.clipPathId,P=x.state,C=P.xAxisMap,M=P.yAxisMap,L=P.offset,I=_.type.defaultProps||{},E=_.props,k=E.xAxisId,A=k===void 0?I.xAxisId:k,R=E.yAxisId,U=R===void 0?I.yAxisId:R;return O.cloneElement(_,{key:_.key||"".concat(S,"-").concat(N),xAxis:C[A],yAxis:M[U],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:$})}),le(x,"renderActivePoints",function(_){var S=_.item,N=_.activePoint,T=_.basePoint,$=_.childIndex,P=_.isRange,C=[],M=S.props.key,L=S.item.type.defaultProps!==void 0?z(z({},S.item.type.defaultProps),S.item.props):S.item.props,I=L.activeDot,E=L.dataKey,k=z(z({index:$,dataKey:E,cx:N.x,cy:N.y,r:4,fill:ab(S.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},ue(I,!1)),Id(I));return C.push(g.renderActiveDot(I,k,"".concat(M,"-activePoint-").concat($))),T?C.push(g.renderActiveDot(I,z(z({},k),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat($))):P&&C.push(null),C}),le(x,"renderGraphicChild",function(_,S,N){var T=x.filterFormatItem(_,S,N);if(!T)return null;var $=x.getTooltipEventType(),P=x.state,C=P.isTooltipActive,M=P.tooltipAxis,L=P.activeTooltipIndex,I=P.activeLabel,E=x.props.children,k=or(E,Xr),A=T.props,R=A.points,U=A.isRange,V=A.baseLine,q=T.item.type.defaultProps!==void 0?z(z({},T.item.type.defaultProps),T.item.props):T.item.props,Q=q.activeDot,re=q.hide,J=q.activeBar,ge=q.activeShape,Ve=!!(!re&&C&&k&&(Q||J||ge)),je={};$!=="axis"&&k&&k.props.trigger==="click"?je={onClick:_u(x.handleItemMouseEnter,_.props.onClick)}:$!=="axis"&&(je={onMouseLeave:_u(x.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:_u(x.handleItemMouseEnter,_.props.onMouseEnter)});var Y=O.cloneElement(_,z(z({},T.props),je));function F(un){return typeof M.dataKey=="function"?M.dataKey(un.payload):null}if(Ve)if(L>=0){var H,W;if(M.dataKey&&!M.allowDuplicatedCategory){var se=typeof M.dataKey=="function"?F:"payload.".concat(M.dataKey.toString());H=Og(R,se,I),W=U&&V&&Og(V,se,I)}else H=R==null?void 0:R[L],W=U&&V&&V[L];if(ge||J){var ie=_.props.activeIndex!==void 0?_.props.activeIndex:L;return[O.cloneElement(_,z(z(z({},T.props),je),{},{activeIndex:ie})),null,null]}if(!ye(H))return[Y].concat(as(x.renderActivePoints({item:T,activePoint:H,basePoint:W,childIndex:L,isRange:U})))}else{var fe,be=(fe=x.getItemByXY(x.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Y},Qe=be.graphicalItem,Ut=Qe.item,ln=Ut===void 0?_:Ut,Da=Qe.childIndex,cn=z(z(z({},T.props),je),{},{activeIndex:Da});return[O.cloneElement(ln,cn),null,null]}return U?[Y,null,null]:[Y,null]}),le(x,"renderCustomized",function(_,S,N){return O.cloneElement(_,z(z({key:"recharts-customized-".concat(N)},x.props),x.state))}),le(x,"renderMap",{CartesianGrid:{handler:Pu,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Pu},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Pu},YAxis:{handler:Pu},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Rc("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=XA(x.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),x.state={},x}return zoe(g,v),Uoe(g,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,x=w.data,_=w.height,S=w.layout,N=or(j,Xr);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=Jy(this.state,x,T,$),C=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+_)/2,L=S==="horizontal",I=L?{x:C,y:M}:{y:C,x:M},E=this.state.formattedGraphicalItems.find(function(A){var R=A.item;return R.type.name==="Scatter"});E&&(I=z(z({},I),E.props.points[T].tooltipPosition),P=E.props.points[T].tooltipPayload);var k={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:$,activePayload:P,activeCoordinate:I};this.setState(k),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var x,_;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){Pg([or(w.children,Xr)],[or(this.props.children,Xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=or(this.props.children,Xr);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return s.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,x=j.getBoundingClientRect(),_=aG(x),S={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},N=x.width/j.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,N);if(!T)return null;var $=this.state,P=$.xAxisMap,C=$.yAxisMap,M=this.getTooltipEventType(),L=bS(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&P&&C){var I=na(P).scale,E=na(C).scale,k=I&&I.invert?I.invert(S.chartX):null,A=E&&E.invert?E.invert(S.chartY):null;return z(z({},S),{},{xValue:k,yValue:A},L)}return L?z(z({},S),L):null}},{key:"inRange",value:function(w,j){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=w/x,N=j/x;if(_==="horizontal"||_==="vertical"){var T=this.state.offset,$=S>=T.left&&S<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return $?{x:S,y:N}:null}var P=this.state,C=P.angleAxisMap,M=P.radiusAxisMap;if(C&&M){var L=na(C);return G_({x:S,y:N},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),x=or(w,Xr),_={};x&&j==="axis"&&(x.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Id(this.props,this.handleOuterEvent);return z(z({},S),_)}},{key:"addListener",value:function(){om.on(sm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){om.removeListener(sm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,x){for(var _=this.state.formattedGraphicalItems,S=0,N=_.length;S<N;S++){var T=_[S];if(T.item===w||T.props.key===w.key||j===Nn(T.item.type)&&x===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,x=j.left,_=j.top,S=j.height,N=j.width;return D.createElement("defs",null,D.createElement("clipPath",{id:w},D.createElement("rect",{x,y:_,height:S,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,x){var _=gS(x,2),S=_[0],N=_[1];return z(z({},j),{},le({},S,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,x){var _=gS(x,2),S=_[0],N=_[1];return z(z({},j),{},le({},S,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,x=j.formattedGraphicalItems,_=j.activeItem;if(x&&x.length)for(var S=0,N=x.length;S<N;S++){var T=x[S],$=T.props,P=T.item,C=P.type.defaultProps!==void 0?z(z({},P.type.defaultProps),P.props):P.props,M=Nn(P.type);if(M==="Bar"){var L=($.data||[]).find(function(A){return Fee(w,A)});if(L)return{graphicalItem:T,payload:L}}else if(M==="RadialBar"){var I=($.data||[]).find(function(A){return G_(w,A)});if(I)return{graphicalItem:T,payload:I}}else if(qh(T,_)||zh(T,_)||vc(T,_)){var E=Are({graphicalItem:T,activeTooltipItem:_,itemData:C.data}),k=C.activeIndex===void 0?E:C.activeIndex;return{graphicalItem:z(z({},T),{},{childIndex:k}),payload:vc(T,_)?C.data[E]:T.props.data[E]}}}return null}},{key:"render",value:function(){var w=this;if(!Mw(this))return null;var j=this.props,x=j.children,_=j.className,S=j.width,N=j.height,T=j.style,$=j.compact,P=j.title,C=j.desc,M=yS(j,Coe),L=ue(M,!1);if($)return D.createElement(tS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(Ag,lo({},L,{width:S,height:N,title:P,desc:C}),this.renderClipPath(),Uw(x,this.renderMap)));if(this.props.accessibilityLayer){var I,E;L.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,L.role=(E=this.props.role)!==null&&E!==void 0?E:"application",L.onKeyDown=function(A){w.accessibilityManager.keyboardEvent(A)},L.onFocus=function(){w.accessibilityManager.focus()}}var k=this.parseEventsOfWrapper();return D.createElement(tS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",lo({className:me("recharts-wrapper",_),style:z({position:"relative",cursor:"default",width:S,height:N},T)},k,{ref:function(R){w.container=R}}),D.createElement(Ag,lo({},L,{width:S,height:N,title:P,desc:C,style:Yoe}),this.renderClipPath(),Uw(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);le(m,"displayName",r),le(m,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),le(m,"getDerivedStateFromProps",function(v,g){var b=v.dataKey,w=v.data,j=v.children,x=v.width,_=v.height,S=v.layout,N=v.stackOffset,T=v.margin,$=g.dataStartIndex,P=g.dataEndIndex;if(g.updateId===void 0){var C=xS(v);return z(z(z({},C),{},{updateId:0},p(z(z({props:v},C),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:_,prevLayout:S,prevStackOffset:N,prevMargin:T,prevChildren:j})}if(b!==g.prevDataKey||w!==g.prevData||x!==g.prevWidth||_!==g.prevHeight||S!==g.prevLayout||N!==g.prevStackOffset||!bo(T,g.prevMargin)){var M=xS(v),L={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},I=z(z({},bS(g,w,S)),{},{updateId:g.updateId+1}),E=z(z(z({},M),L),I);return z(z(z({},E),p(z({props:v},E),g)),{},{prevDataKey:b,prevData:w,prevWidth:x,prevHeight:_,prevLayout:S,prevStackOffset:N,prevMargin:T,prevChildren:j})}if(!Pg(j,g.prevChildren)){var k,A,R,U,V=or(j,Yo),q=V&&(k=(A=V.props)===null||A===void 0?void 0:A.startIndex)!==null&&k!==void 0?k:$,Q=V&&(R=(U=V.props)===null||U===void 0?void 0:U.endIndex)!==null&&R!==void 0?R:P,re=q!==$||Q!==P,J=!ye(w),ge=J&&!re?g.updateId:g.updateId+1;return z(z({updateId:ge},p(z(z({props:v},g),{},{updateId:ge,dataStartIndex:q,dataEndIndex:Q}),g)),{},{prevChildren:j,dataStartIndex:q,dataEndIndex:Q})}return null}),le(m,"renderActiveDot",function(v,g,b){var w;return O.isValidElement(v)?w=O.cloneElement(v,g):de(v)?w=v(g):w=D.createElement(ob,g),D.createElement(Ee,{className:"recharts-active-dot",key:b},w)});var y=O.forwardRef(function(g,b){return D.createElement(m,lo({},g,{ref:b}))});return y.displayName=m.displayName,y},ise=xC({chartName:"BarChart",GraphicalChild:Sa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yh},{axisType:"yAxis",AxisComp:Xh}],formatAxisMap:sae}),ose=xC({chartName:"PieChart",GraphicalChild:zn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fh},{axisType:"radiusAxis",AxisComp:Uh}],formatAxisMap:eQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function sse(){const[e,t]=O.useState(null),[r,n]=O.useState([]),[a,i]=O.useState([]),[o,s]=O.useState([]),[l,u]=O.useState([]),[d,f]=O.useState("last_month"),[h,p]=O.useState(""),[m,y]=O.useState("");O.useEffect(()=>{g()},[]);const v=()=>{const P=new Date;let C,M=P;switch(d){case"last_month":C=Xn(fn(P,1)),M=ml(fn(P,1));break;case"last_3_months":C=Xn(fn(P,3)),M=P;break;case"last_6_months":C=Xn(fn(P,6)),M=P;break;case"past_year":C=Xn(fn(P,12)),M=P;break;case"custom":h&&m?(C=new Date(h),M=new Date(m),M.setHours(23,59,59,999)):(C=Xn(fn(P,1)),M=ml(fn(P,1)));break;default:C=Xn(fn(P,1)),M=ml(fn(P,1))}return{startDate:C,endDate:M}},g=async()=>{try{const P=await oe.getDashboardStats(),C=await oe.getOverdueInvoices(),M=await oe.getInvoices(),L=await oe.getProperties(),I=await oe.getUnits();t(P),n(C),i(M),s(L),u(I)}catch(P){console.error("Error loading dashboard data:",P)}};if(!e)return c.jsx("div",{className:"p-6",children:"Loading..."});const{startDate:b,endDate:w}=v(),j=a.filter(P=>{const C=new Date(P.dueDate);return jw(C,{start:b,end:w})}),x=r.filter(P=>{const C=new Date(P.dueDate);return jw(C,{start:b,end:w})}),S=(()=>{const P=[],C=new Date(b);for(;C<=w;){const M=oi(C,"MMM");P.push({month:M,billed:0,collected:0}),C.setMonth(C.getMonth()+1)}return j.forEach(M=>{const L=new Date(M.dueDate),I=oi(L,"MMM"),E=P.findIndex(k=>k.month===I);E!==-1&&(P[E].billed+=M.amount,P[E].collected+=M.paidAmount)}),P})(),N=j.filter(P=>P.status==="paid").length,T=x.length,$=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Welcome back! Here's your portfolio overview."})]}),c.jsx("div",{className:"text-gray-500 text-sm",children:$})]}),c.jsx("div",{className:"mb-5 bg-white rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($M,{className:"w-4 h-4 text-gray-500"}),c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date Range:"})]}),c.jsxs("select",{value:d,onChange:P=>{f(P.target.value),P.target.value!=="custom"&&(p(""),y(""))},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"last_month",children:"Last Month"}),c.jsx("option",{value:"last_3_months",children:"Last 3 Months"}),c.jsx("option",{value:"last_6_months",children:"Last 6 Months"}),c.jsx("option",{value:"past_year",children:"Past Year"}),c.jsx("option",{value:"custom",children:"Custom Range"})]}),d==="custom"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm text-gray-600",children:"From:"}),c.jsx("input",{type:"date",value:h,onChange:P=>p(P.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm text-gray-600",children:"To:"}),c.jsx("input",{type:"date",value:m,onChange:P=>y(P.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),c.jsxs("div",{className:"text-xs text-gray-500 ml-auto",children:["Showing: ",oi(b,"MMM d, yyyy")," - ",oi(w,"MMM d, yyyy")]})]})}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-5",children:[c.jsxs(mn,{to:"/properties",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(Sn,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Add Property"})]}),c.jsxs(mn,{to:"/tenants",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(Io,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Add Tenant"})]}),c.jsxs(mn,{to:"/contracts",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(sa,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"New Contract"})]}),c.jsxs(mn,{to:"/payments",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(Ad,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Record Payment"})]}),c.jsxs(mn,{to:"/calendar",className:"flex items-center px-4 py-2 bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(On,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:"Calendar"})]})]}),x.length>0&&c.jsx("div",{className:"bg-pink-50 border border-red-200 rounded-lg p-5 mb-5",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(hr,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-red-900 text-base mb-1",children:[x.length," Overdue Payments Require Attention"]}),c.jsxs("p",{className:"text-red-800 text-sm mb-3",children:["Total overdue: ",c.jsxs("span",{className:"font-bold",children:["AED ",x.reduce((P,C)=>P+C.remainingAmount,0).toLocaleString()]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.slice(0,3).map(P=>c.jsxs("div",{className:"bg-white px-3 py-1.5 rounded border border-red-100",children:[c.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:P.invoiceNumber}),c.jsxs("span",{className:"text-red-600 ml-2 text-sm font-medium",children:["AED ",P.remainingAmount.toLocaleString()]})]},P.id)),x.length>3&&c.jsx("div",{className:"bg-white px-3 py-1.5 rounded border border-red-100",children:c.jsxs("span",{className:"text-gray-700 text-sm",children:["+",x.length-3," more"]})})]})]})]}),c.jsx(mn,{to:"/invoices?status=overdue",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm whitespace-nowrap ml-4",children:"View All Overdue"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:[c.jsxs("div",{className:"bg-green-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(Ad,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Total Collected"}),c.jsxs("p",{className:"text-3xl font-bold mb-1",children:["AED ",j.reduce((P,C)=>P+C.paidAmount,0).toLocaleString()]}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(_g,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[j.length>0?(j.reduce((P,C)=>P+C.paidAmount,0)/j.reduce((P,C)=>P+C.amount,0)*100).toFixed(0):0,"% collection rate"]})]})]}),c.jsxs("div",{className:"bg-orange-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(Ed,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Outstanding"}),c.jsxs("p",{className:"text-3xl font-bold mb-1",children:["AED ",j.filter(P=>P.status==="pending"||P.status==="partial"||P.status==="overdue").reduce((P,C)=>P+C.remainingAmount,0).toLocaleString()]}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(Ed,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[j.filter(P=>P.status==="pending"||P.status==="partial"||P.status==="overdue").length," pending invoices"]})]})]}),c.jsxs("div",{className:"bg-blue-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(To,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Occupancy Rate"}),c.jsxs("p",{className:"text-3xl font-bold mb-1",children:[e.occupancyRate.toFixed(0),"%"]}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(To,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[e.occupiedUnits,"/",e.totalUnits," units occupied"]})]})]}),c.jsxs("div",{className:"bg-purple-500 rounded-xl p-6 shadow-md text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(sa,{className:"w-16 h-16"})}),c.jsx("h3",{className:"text-white text-sm font-medium mb-2 opacity-90",children:"Active Contracts"}),c.jsx("p",{className:"text-3xl font-bold mb-1",children:e.activeContracts}),c.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[c.jsx(Io,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{children:[e.activeTenants," tenants"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-5",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Revenue Overview"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Billed vs Collected (Last 6 months)"})]}),c.jsx(NM,{className:"w-5 h-5 text-gray-400"})]}),c.jsx(R1,{width:"100%",height:250,children:c.jsxs(ise,{data:S,children:[c.jsx(iC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),c.jsx(Yh,{dataKey:"month",tick:{fontSize:12}}),c.jsx(Xh,{tick:{fontSize:12},tickFormatter:P=>`${P/1e3}k`}),c.jsx(Xr,{formatter:P=>$e(P)}),c.jsx(hi,{wrapperStyle:{fontSize:"12px"}}),c.jsx(Sa,{dataKey:"billed",fill:"#94a3b8",name:"Billed"}),c.jsx(Sa,{dataKey:"collected",fill:"#14b8a6",name:"Collected"})]})})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Invoice Status"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Distribution breakdown"})]}),c.jsx(MM,{className:"w-5 h-5 text-gray-400"})]}),c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(R1,{width:"100%",height:250,children:c.jsx(ose,{children:c.jsx(zn,{data:[{name:"Paid",value:N,color:"#14b8a6"},{name:"Overdue",value:T,color:"#ef4444"}],cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:2,dataKey:"value",children:[{name:"Paid",value:N,color:"#14b8a6"},{name:"Overdue",value:T,color:"#ef4444"}].map((P,C)=>c.jsx(Sh,{fill:P.color},`cell-${C}`))})})})}),c.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:"#14b8a6"}}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Paid (",N,")"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Overdue (",T,")"]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Recent Invoices"}),c.jsxs(mn,{to:"/invoices",className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center",children:["View All",c.jsx(_g,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"space-y-4",children:x.slice(0,5).map(P=>c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:P.invoiceNumber}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Due ",It(P.dueDate)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-gray-900",children:["AED ",P.remainingAmount.toLocaleString()]}),c.jsx("span",{className:"inline-block px-3 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full",children:"Overdue"})]})]},P.id))})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-6",children:"Property Occupancy"}),c.jsx("div",{className:"space-y-6",children:o.map(P=>{const C=l.filter(E=>E.propertyId===P.id),M=C.filter(E=>E.isOccupied).length,L=C.length,I=L>0?M/L*100:0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sn,{className:"w-5 h-5 text-green-600 mr-2"}),c.jsx("span",{className:"font-medium text-gray-900",children:P.name})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:[M,"/",L]}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[I.toFixed(0),"%"]})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${I}%`,backgroundColor:"#14b8a6"}})})]},P.id)})})]})]})]})}function lse(){var Y;const[e,t]=O.useState([]),[r,n]=O.useState(""),[a,i]=O.useState("all"),[o,s]=O.useState(null),[l,u]=O.useState(""),[d,f]=O.useState(!1),[h,p]=O.useState(null),[m,y]=O.useState(null),[v,g]=O.useState([]),[b,w]=O.useState(!0),j=O.useRef(null),[x,_]=O.useState(null),[S,N]=O.useState([]),T=O.useRef(null),[$,P]=O.useState(null),[C,M]=O.useState(!1),[L,I]=O.useState([]);O.useEffect(()=>{E()},[]);const E=async()=>{try{const[F,H]=await Promise.all([oe.getProperties(),oe.getUnits()]);t(F),I(H)}catch(F){console.error("Error loading properties:",F),t([]),I([])}},k=e.filter(F=>{var ie;const H=r.toLowerCase(),W=!r||F.name.toLowerCase().includes(H)||F.address.toLowerCase().includes(H)||F.city.toLowerCase().includes(H)||((ie=F.shortCode)==null?void 0:ie.toLowerCase().includes(H)),se=a==="all"?!0:a==="active"?F.isActive??!0:!(F.isActive??!0);return W&&se}),A=(F,H)=>{const se=F.split(" ").map(fe=>{var be;return((be=fe[0])==null?void 0:be.toUpperCase())||""}).join("");return`${se.length>=3?se.substring(0,3):se.padEnd(3,"X")}-${String(H+1).padStart(3,"0")}`},R=async F=>{F.preventDefault();try{const H=new FormData(F.currentTarget),W={name:H.get("name"),address:H.get("address"),addressLine2:H.get("addressLine2")||void 0,city:H.get("city"),country:H.get("country"),images:v,shortCode:H.get("shortCode")||void 0,state:H.get("state")||void 0,postalCode:H.get("postalCode")||void 0,notes:H.get("notes")||void 0,isActive:b};h?await oe.updateProperty(h.id,W):await oe.createProperty(W),await E(),f(!1),p(null),g([]),w(!0)}catch(H){console.error("Error saving property:",H),alert("Failed to save property. Please try again.")}},U=F=>{p(F),g(F.images||[]),w(F.isActive??!0),f(!0)},V=async F=>{if(confirm("Are you sure you want to delete this property?"))try{await oe.deleteProperty(F)?await E():alert("Cannot delete property with associated units")}catch(H){console.error("Error deleting property:",H),alert("Failed to delete property. Please try again.")}},q=()=>{f(!1),p(null),g([]),w(!0)},Q=F=>{const H=F.target.files;H&&(Array.from(H).forEach(W=>{if(v.length>=5){alert("Maximum 5 images allowed");return}if(W.type.startsWith("image/")){const se=new FileReader;se.onloadend=()=>{g(ie=>[...ie,se.result])},se.readAsDataURL(W)}}),j.current&&(j.current.value=""))},re=F=>{g(H=>H.filter((W,se)=>se!==F))},J=F=>{_(F),N(F.images||[]),P(F.propertyId),M(!1)},ge=()=>{_(null),N([]),P(null),M(!1),T.current&&(T.current.value="")},Ve=F=>{const H=F.target.files;H&&(Array.from(H).forEach(W=>{if(S.length>=5){alert("Maximum 5 images allowed for a unit");return}if(W.type.startsWith("image/")){const se=new FileReader;se.onloadend=()=>{N(ie=>[...ie,se.result])},se.readAsDataURL(W)}}),T.current&&(T.current.value=""))},je=F=>{N(H=>H.filter((W,se)=>se!==F))};return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Properties"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.length," registered ",e.length===1?"property":"properties"]})]}),c.jsxs("button",{onClick:()=>{p(null),g([]),w(!0),f(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[c.jsx(va,{className:"w-4 h-4 mr-2"}),"Add Property"]})]}),c.jsxs("div",{className:"mb-5 flex gap-3",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search properties...",value:r,onChange:F=>n(F.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("select",{value:a,onChange:F=>i(F.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Not Active"})]})]}),c.jsx("div",{className:"space-y-3",children:k.map((F,H)=>{const W=L.filter(fe=>fe.propertyId===F.id),se=W.filter(fe=>fe.isOccupied).length,ie=A(F.name,H);return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[F.images.length>0?c.jsx("img",{src:F.images[0],alt:F.name,className:"w-12 h-12 rounded-lg object-cover mr-4 flex-shrink-0"}):c.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mr-4 flex-shrink-0",children:c.jsx(Sn,{className:"w-6 h-6 text-green-600"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center mb-1 flex-wrap gap-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.name}),c.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:ie}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${F.isActive??!0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:F.isActive??!0?"Active":"Not Active"})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[c.jsx(lw,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),c.jsxs("span",{className:"truncate",children:[F.address,", ",F.city]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(To,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),c.jsxs("span",{children:[W.length," units ",se," occupied"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[c.jsx("button",{onClick:()=>U(F),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:c.jsx(Pd,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>V(F.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx($o,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>s(o===F.id?null:F.id),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:o===F.id?"Hide Units":"Show Units",children:c.jsx(EM,{className:`w-5 h-5 transition-transform ${o===F.id?"rotate-180":""}`})})]})]}),o===F.id&&c.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg border border-gray-100 px-4 py-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{children:c.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:["Apartments (",W.length,")"]})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search units...",value:l,onChange:fe=>u(fe.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent w-56"})]}),c.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",onClick:()=>{M(!0),_(null),N([]),P(F.id)},children:[c.jsx(va,{className:"w-4 h-4 mr-1"}),"Add Unit"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:W.filter(fe=>{if(!l)return!0;const be=l.toLowerCase();return fe.unitNumber.toLowerCase().includes(be)||fe.type.toLowerCase().includes(be)}).map(fe=>{const be=fe.unitNumber.match(/\d+/),Qe=be?be[0]:"",Ut=Qe.length>=2?`Floor ${Qe[0]}`:"Floor 1";return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 flex flex-col justify-between",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-green-50 border border-green-100 flex items-center justify-center mr-2",children:c.jsx(To,{className:"w-4 h-4 text-green-600"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Unit ",fe.unitNumber]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[Ut,"  ",fe.type]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{type:"button",className:"p-1 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit unit",onClick:()=>J(fe),children:c.jsx(Pd,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",className:"p-1 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete unit",onClick:()=>alert("Delete this unit from the Units page for now."),children:c.jsx($o,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex items-center justify-between mt-2",children:c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${fe.isOccupied?"bg-blue-50 text-blue-700":"bg-green-50 text-green-700"}`,children:fe.isOccupied?"Occupied":"Vacant"})})]},fe.id)})})]})]},F.id)})}),k.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),c.jsx("p",{className:"text-gray-600",children:r?"Try a different search term":"Get started by adding your first property"})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:h?"Edit Property":"Add New Property"}),c.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:R,className:"p-5 space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Name *"}),c.jsx("input",{type:"text",name:"name",defaultValue:h==null?void 0:h.name,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Marina Heights Tower"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Code *"}),c.jsx("input",{type:"text",name:"shortCode",defaultValue:h==null?void 0:h.shortCode,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"MHT-001"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),c.jsx("input",{type:"text",name:"address",defaultValue:h==null?void 0:h.address,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"45 Marina Walk"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),c.jsx("input",{type:"text",name:"addressLine2",defaultValue:h==null?void 0:h.addressLine2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Suite 101"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),c.jsx("input",{type:"text",name:"city",defaultValue:h==null?void 0:h.city,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Dubai"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),c.jsx("input",{type:"text",name:"state",defaultValue:h==null?void 0:h.state,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Dubai"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),c.jsx("input",{type:"text",name:"postalCode",defaultValue:h==null?void 0:h.postalCode,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"00000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),c.jsx("input",{type:"text",name:"country",defaultValue:h==null?void 0:h.country,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"UAE"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",defaultValue:h==null?void 0:h.notes,rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any notes about this property..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Images"}),v.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("img",{src:v[0],alt:"Property",className:"w-24 h-24 object-cover rounded-lg border border-gray-300"}),c.jsx("button",{type:"button",onClick:()=>re(0),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",children:c.jsx(Rt,{className:"w-2.5 h-2.5"})})]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.length,"/5 images"]})]}),c.jsx("input",{ref:j,type:"file",accept:"image/*",multiple:!0,onChange:Q,className:"hidden",id:"image-upload"}),c.jsxs("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors",children:[c.jsx(uw,{className:"w-4 h-4 mr-2"}),"Add"]}),v.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No images uploaded yet"})]}),c.jsxs("div",{className:"flex items-center gap-3 pt-1",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Active"}),c.jsx("button",{type:"button",onClick:()=>w(!b),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ${b?"bg-green-600":"bg-gray-300"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${b?"translate-x-6":"translate-x-1"}`})})]}),c.jsxs("div",{className:"flex gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:q,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:h?"Update":"Add Property"})]})]})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Property Details"}),c.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"mb-6",children:m.images.length>0?c.jsx("img",{src:m.images[0],alt:m.name,className:"w-full h-64 object-cover rounded-lg mb-4"}):c.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(Sn,{className:"w-16 h-16 text-gray-400"})})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:m.name}),c.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[c.jsx(lw,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:[m.address,", ",m.city,", ",m.country]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Units"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.filter(F=>F.propertyId===m.id).length})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Occupied Units"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:L.filter(F=>F.propertyId===m.id&&F.isOccupied).length})]})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Units"}),c.jsx("div",{className:"space-y-2",children:L.filter(F=>F.propertyId===m.id).map(F=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-gray-900",children:["Unit ",F.unitNumber]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[F.type,"  ",F.squareFeet," sq ft"]})]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${F.isOccupied?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:F.isOccupied?"Occupied":"Vacant"})]},F.id))})]})]})]})]})}),(x||$)&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Apartment"}),c.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("form",{className:"p-5 space-y-3",onSubmit:async F=>{F.preventDefault();try{const H=new FormData(F.currentTarget),W=H.get("unitNumber").trim(),se=H.get("floor").trim(),ie=H.get("type"),fe=H.get("status"),be=H.get("unitNotes")||void 0,Qe=fe==="occupied";x&&!C?await oe.updateUnit(x.id,{unitNumber:W,floor:se,type:ie,isOccupied:Qe,images:S,notes:be}):$&&W&&await oe.createUnit({propertyId:$,unitNumber:W,type:ie,floor:se,bedrooms:1,bathrooms:1,squareFeet:0,monthlyRent:0,isOccupied:Qe,images:S,notes:be}),await E(),ge()}catch(H){console.error("Error saving unit:",H),alert("Failed to save unit. Please try again.")}},children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number *"}),c.jsx("input",{type:"text",name:"unitNumber",defaultValue:(x==null?void 0:x.unitNumber)||"",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),c.jsx("input",{type:"text",name:"floor",defaultValue:((Y=x==null?void 0:x.floor)==null?void 0:Y.toString())||"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),c.jsxs("select",{name:"type",defaultValue:(x==null?void 0:x.type)||"1BR",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"studio",children:"Studio"}),c.jsx("option",{value:"1BR",children:"1BR"}),c.jsx("option",{value:"2BR",children:"2BR"}),c.jsx("option",{value:"3BR",children:"3BR"}),c.jsx("option",{value:"4BR",children:"4BR"}),c.jsx("option",{value:"penthouse",children:"Penthouse"}),c.jsx("option",{value:"villa",children:"Villa"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",defaultValue:x!=null&&x.isOccupied?"occupied":"vacant",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"vacant",children:"Vacant"}),c.jsx("option",{value:"occupied",children:"Occupied"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Images"}),S.length>0&&c.jsx("div",{className:"mb-2 flex gap-2 flex-wrap",children:S.map((F,H)=>c.jsxs("div",{className:"relative inline-block",children:[c.jsx("img",{src:F,alt:x?`Unit ${x.unitNumber}`:"Unit image",className:"w-20 h-20 object-cover rounded-lg border border-gray-300"}),c.jsx("button",{type:"button",onClick:()=>je(H),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",children:c.jsx(Rt,{className:"w-2.5 h-2.5"})})]},H))}),c.jsx("input",{ref:T,type:"file",accept:"image/*",multiple:!0,onChange:Ve,className:"hidden",id:"unit-image-upload"}),c.jsxs("label",{htmlFor:"unit-image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors text-sm",children:[c.jsx(uw,{className:"w-4 h-4 mr-2"}),"Add"]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S.length,"/5 images"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"unitNotes",defaultValue:x==null?void 0:x.notes,rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-3",children:[c.jsx("button",{type:"button",onClick:ge,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Update"})]})]})]})})]})}function cse(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[a,i]=O.useState(""),[o,s]=O.useState(!1),[l,u]=O.useState(null),[d,f]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{m()},[]);const m=async()=>{try{const x=await oe.getUnits(),_=await oe.getProperties();t(x),n(_)}catch(x){console.error("Error loading units data:",x),t([]),n([])}},y=e.filter(x=>{const _=a?x.unitNumber.toLowerCase().includes(a.toLowerCase())||x.type.toLowerCase().includes(a.toLowerCase()):!0,S=d==="all"||x.propertyId===d,N=h==="all"||h==="occupied"&&x.isOccupied||h==="vacant"&&!x.isOccupied;return _&&S&&N}),v=async x=>{x.preventDefault();try{const _=new FormData(x.currentTarget),S={propertyId:_.get("propertyId"),unitNumber:_.get("unitNumber"),type:_.get("type"),bedrooms:parseInt(_.get("bedrooms")),bathrooms:parseInt(_.get("bathrooms")),squareFeet:parseInt(_.get("squareFeet")),monthlyRent:parseFloat(_.get("monthlyRent")),isOccupied:!1,images:_.get("images").split(`
`).filter(Boolean)};l?await oe.updateUnit(l.id,S):await oe.createUnit(S),await m(),s(!1),u(null)}catch(_){console.error("Error saving unit:",_),alert("Failed to save unit. Please try again.")}},g=x=>{u(x),s(!0)},b=async x=>{if(confirm("Are you sure you want to delete this unit?"))try{await oe.deleteUnit(x)?await m():alert("Cannot delete unit with associated contracts")}catch(_){console.error("Error deleting unit:",_),alert("Failed to delete unit. Please try again.")}},w=()=>{s(!1),u(null)},j=x=>{var _;return((_=r.find(S=>S.id===x))==null?void 0:_.name)||"Unknown"};return c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Units"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage rental units across properties"})]}),c.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors shadow-md",children:[c.jsx(va,{className:"w-5 h-5 mr-2"}),"Add Unit"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search units...",value:a,onChange:x=>i(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("select",{value:d,onChange:x=>f(x.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Properties"}),r.map(x=>c.jsx("option",{value:x.id,children:x.name},x.id))]}),c.jsxs("select",{value:h,onChange:x=>p(x.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"occupied",children:"Occupied"}),c.jsx("option",{value:"vacant",children:"Vacant"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(x=>c.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"h-40 bg-gradient-to-br from-primary-400 to-primary-600 relative",children:[x.images.length>0?c.jsx("img",{src:x.images[0],alt:x.unitNumber,className:"w-full h-full object-cover"}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx(To,{className:"w-12 h-12 text-white opacity-50"})}),c.jsx("div",{className:"absolute top-3 right-3",children:c.jsx("span",{className:bt("px-3 py-1 rounded-full text-xs font-semibold flex items-center",x.isOccupied?"bg-danger-100 text-danger-700":"bg-success-100 text-success-700"),children:x.isOccupied?c.jsxs(c.Fragment,{children:[c.jsx(UM,{className:"w-3 h-3 mr-1"}),"Occupied"]}):c.jsxs(c.Fragment,{children:[c.jsx(ja,{className:"w-3 h-3 mr-1"}),"Vacant"]})})})]}),c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Unit ",x.unitNumber]}),c.jsx("p",{className:"text-sm text-gray-600",children:j(x.propertyId)})]}),c.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-semibold rounded",children:x.type.toUpperCase()})]}),c.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Bedrooms:"}),c.jsx("span",{className:"font-medium text-gray-900",children:x.bedrooms})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Bathrooms:"}),c.jsx("span",{className:"font-medium text-gray-900",children:x.bathrooms})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Size:"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[x.squareFeet," sq ft"]})]})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200 mb-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Monthly Rent"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$e(x.monthlyRent)})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>g(x),className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[c.jsx(Pd,{className:"w-4 h-4 mr-1"}),"Edit"]}),c.jsxs("button",{onClick:()=>b(x.id),className:"flex-1 flex items-center justify-center px-3 py-2 border border-danger-300 text-danger-600 rounded-lg hover:bg-danger-50 transition-colors text-sm",children:[c.jsx($o,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]},x.id))}),y.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(To,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No units found"}),c.jsx("p",{className:"text-gray-600",children:a?"Try a different search term":"Get started by adding your first unit"})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l?"Edit Unit":"Add New Unit"}),c.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property *"}),c.jsxs("select",{name:"propertyId",defaultValue:l==null?void 0:l.propertyId,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select Property"}),r.map(x=>c.jsx("option",{value:x.id,children:x.name},x.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number *"}),c.jsx("input",{type:"text",name:"unitNumber",defaultValue:l==null?void 0:l.unitNumber,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"101"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),c.jsxs("select",{name:"type",defaultValue:l==null?void 0:l.type,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"studio",children:"Studio"}),c.jsx("option",{value:"1BR",children:"1 Bedroom"}),c.jsx("option",{value:"2BR",children:"2 Bedrooms"}),c.jsx("option",{value:"3BR",children:"3 Bedrooms"}),c.jsx("option",{value:"4BR",children:"4 Bedrooms"}),c.jsx("option",{value:"penthouse",children:"Penthouse"}),c.jsx("option",{value:"villa",children:"Villa"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms *"}),c.jsx("input",{type:"number",name:"bedrooms",defaultValue:l==null?void 0:l.bedrooms,required:!0,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),c.jsx("input",{type:"number",name:"bathrooms",defaultValue:l==null?void 0:l.bathrooms,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Square Feet *"}),c.jsx("input",{type:"number",name:"squareFeet",defaultValue:l==null?void 0:l.squareFeet,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rent (AED) *"}),c.jsx("input",{type:"number",name:"monthlyRent",defaultValue:l==null?void 0:l.monthlyRent,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"5000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URLs (one per line)"}),c.jsx("textarea",{name:"images",defaultValue:l==null?void 0:l.images.join(`
`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com/image1.jpg"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter image URLs, one per line"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:l?"Update Unit":"Add Unit"}),c.jsx("button",{type:"button",onClick:w,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}function use(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[a,i]=O.useState([]),[o,s]=O.useState([]),[l,u]=O.useState(""),[d,f]=O.useState(!0),[h,p]=O.useState(!1),[m,y]=O.useState(null),[v,g]=O.useState(null),[b,w]=O.useState("");O.useEffect(()=>{j()},[]);const j=async()=>{f(!0);try{const I=await oe.getTenants();t(I),f(!1)}catch(I){console.error("Error loading tenants:",I),t([]),f(!1)}try{const[I,E,k]=await Promise.all([oe.getContracts(),oe.getInvoices(),oe.getPayments()]);n(I),i(E),s(k)}catch(I){console.error("Error loading related data:",I),n([]),i([]),s([])}},x=async()=>{try{const I=await oe.getTenants();t(I)}catch(I){console.error("Error loading tenants:",I),t([])}},_=l?e.filter(I=>{var E,k,A;return`${I.firstName} ${I.lastName}`.toLowerCase().includes(l.toLowerCase())||I.email.toLowerCase().includes(l.toLowerCase())||I.phone.includes(l)||((E=I.secondaryPhone)==null?void 0:E.includes(l))||((k=I.whatsappNumber)==null?void 0:k.includes(l))||((A=I.secondaryWhatsappNumber)==null?void 0:A.includes(l))}):e,S=async I=>{I.preventDefault();try{const E=new FormData(I.currentTarget),k=E.get("idType"),A=E.get("idNumber");if(k&&k.trim()!==""&&(!A||!A.trim())){alert("ID Number is required when ID Type is selected");const q=I.currentTarget.querySelector('[name="idNumber"]');q&&q.focus();return}const R=E.get("idExpiryDate"),U=R?new Date(R):void 0,V={firstName:E.get("firstName"),lastName:E.get("lastName"),email:E.get("email"),phone:E.get("phone"),secondaryPhone:E.get("secondaryPhone")||void 0,whatsappNumber:E.get("whatsappNumber"),secondaryWhatsappNumber:E.get("secondaryWhatsappNumber")||void 0,nationalId:A||E.get("nationalId")||(m==null?void 0:m.nationalId)||"",emergencyContact:E.get("emergencyContact"),emergencyPhone:E.get("emergencyPhone"),idType:E.get("idType"),idNumber:A||void 0,idExpiryDate:U,billingAddress:E.get("billingAddress"),paymentMethod:E.get("paymentMethod"),notificationPreference:E.get("notificationPreference"),notes:E.get("notes")};m?await oe.updateTenant(m.id,V):await oe.createTenant(V),await x(),p(!1),y(null),w("")}catch(E){console.error("Error saving tenant:",E),alert("Failed to save tenant. Please try again.")}},N=(I,E)=>{E.value=I},T=I=>{y(I),w(I.idType||""),p(!0)},$=I=>{g(I)},P=async I=>{if(confirm("Are you sure you want to delete this tenant?"))try{await oe.deleteTenant(I)?await j():alert("Cannot delete tenant with associated contracts")}catch(E){console.error("Error deleting tenant:",E),alert("Error deleting tenant")}},C=()=>{p(!1),y(null),w("")},M=I=>r.filter(A=>A.tenantId===I).some(A=>A.status==="active")?"Active":"Inactive",L=I=>{const E=r.filter(q=>q.tenantId===I);if(E.length===0)return"";const k=E.map(q=>q.id),R=a.filter(q=>k.includes(q.contract.id)).map(q=>q.id),U=o.filter(q=>R.includes(q.invoiceId));if(U.length===0)return"";switch(U.reduce((q,Q)=>!q||new Date(Q.paymentDate)>new Date(q.paymentDate)?Q:q,U[0]).paymentMethod){case"cash":return"Cash";case"bank_transfer":return"Bank Transfer";case"cheque":return"Cheque";case"card":return"Card";case"online":return"Online Payment";default:return""}};return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenants"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.length," registered ",e.length===1?"tenant":"tenants"]})]}),c.jsxs("button",{onClick:()=>{p(!0),w("")},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[c.jsx(va,{className:"w-4 h-4 mr-2"}),"Add Tenant"]})]}),c.jsx("div",{className:"mb-5",children:c.jsxs("div",{className:"relative",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search tenants...",value:l,onChange:I=>u(I.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[d&&_.length===0&&c.jsx(c.Fragment,{children:Array.from({length:6}).map((I,E)=>c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"h-4 w-32 bg-gray-100 rounded mb-2"}),c.jsx("div",{className:"h-3 w-24 bg-gray-100 rounded"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg"}),c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg"})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("div",{className:"h-3 w-40 bg-gray-100 rounded"}),c.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"}),c.jsx("div",{className:"h-3 w-32 bg-gray-100 rounded"})]}),c.jsx("div",{className:"h-3 w-44 bg-gray-100 rounded"})]},`tenant-skeleton-${E}`))}),!d&&_.map(I=>{const E=M(I.id),k=I.paymentMethod?I.paymentMethod==="bank_transfer"?"Bank Transfer":I.paymentMethod.charAt(0).toUpperCase()+I.paymentMethod.slice(1):L(I.id);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"w-12 h-12 rounded-full bg-green-50 border border-green-200 flex items-center justify-center text-green-700 font-bold text-lg mr-3",children:[I.firstName[0],I.lastName[0]]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[I.firstName," ",I.lastName]}),c.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs font-semibold ${E==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:E==="Active"?"Active Contract":"No Active Contract"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsxs("button",{onClick:()=>$(I),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-1",title:"View",children:[c.jsx(CM,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:"View"})]}),c.jsx("button",{onClick:()=>T(I),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:c.jsx(Pd,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>P(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx($o,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(RM,{className:"w-4 h-4 mr-2 flex-shrink-0"}),c.jsx("a",{href:`tel:${I.phone}`,className:"hover:text-green-600",children:I.phone})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(Co,{className:"w-4 h-4 mr-2 flex-shrink-0"}),c.jsx("a",{href:`mailto:${I.email}`,className:"hover:text-green-600 truncate",children:I.email})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(TM,{className:"w-4 h-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:k})]})]}),c.jsx("div",{className:"pt-4 border-top border-t border-gray-200 mt-2",children:c.jsxs("p",{className:"text-xs text-gray-500",children:[I.idType?`${I.idType==="emirates_id"?"Emirates ID":I.idType==="driver_license"?"Driver License":I.idType==="passport"?"Passport":"ID"}: `:"National ID: ",c.jsx("span",{className:"font-medium text-gray-900",children:I.idNumber||I.nationalId})]})})]},I.id)})]}),_.length===0&&!d&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Io,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tenants found"}),c.jsx("p",{className:"text-gray-600",children:l?"Try a different search term":"Get started by adding your first tenant"})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:m?"Edit Tenant":"Add New Tenant"}),c.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:S,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),c.jsx("input",{type:"text",name:"firstName",defaultValue:m==null?void 0:m.firstName,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),c.jsx("input",{type:"text",name:"lastName",defaultValue:m==null?void 0:m.lastName,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Type"}),c.jsxs("select",{name:"idType",value:b||(m==null?void 0:m.idType)||"",onChange:I=>w(I.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"Select ID Type"}),c.jsx("option",{value:"passport",children:"Passport"}),c.jsx("option",{value:"emirates_id",children:"Emirates ID"}),c.jsx("option",{value:"driver_license",children:"Driver License"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID Number ",(b||(m==null?void 0:m.idType))&&" *"]}),c.jsx("input",{type:"text",name:"idNumber",defaultValue:(m==null?void 0:m.idNumber)||(m==null?void 0:m.nationalId),required:!!(b||m!=null&&m.idType),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"EID-123456"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Expiry Date"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",name:"idExpiryDate",defaultValue:m!=null&&m.idExpiryDate?new Date(m.idExpiryDate).toISOString().split("T")[0]:"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10"}),c.jsx(On,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"tel",name:"phone",id:"phone-input",defaultValue:m==null?void 0:m.phone,required:!0,className:"w-full px-3 py-1.5 pr-9 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"}),c.jsx("button",{type:"button",onClick:I=>{var A;const E=(A=I.currentTarget.parentElement)==null?void 0:A.querySelector("#phone-input"),k=document.getElementById("whatsapp-input");E&&k&&N(E.value,k)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Copy to WhatsApp",children:c.jsx(yE,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number *"}),c.jsx("input",{type:"tel",name:"whatsappNumber",id:"whatsapp-input",defaultValue:m==null?void 0:m.whatsappNumber,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Phone"}),c.jsx("input",{type:"tel",name:"secondaryPhone",defaultValue:m==null?void 0:m.secondaryPhone,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Optional secondary phone"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary WhatsApp"}),c.jsx("input",{type:"tel",name:"secondaryWhatsappNumber",defaultValue:m==null?void 0:m.secondaryWhatsappNumber,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Optional secondary WhatsApp"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",name:"email",defaultValue:m==null?void 0:m.email,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Address"}),c.jsx("textarea",{name:"billingAddress",rows:2,defaultValue:m==null?void 0:m.billingAddress,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Enter billing address..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),c.jsxs("select",{name:"paymentMethod",defaultValue:(m==null?void 0:m.paymentMethod)||"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"cheque",children:"Cheque"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification"}),c.jsxs("select",{name:"notificationPreference",defaultValue:(m==null?void 0:m.notificationPreference)||"whatsapp",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"whatsapp",children:"WhatsApp"}),c.jsx("option",{value:"email",children:"Email"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,defaultValue:m==null?void 0:m.notes,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any additional notes..."})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Emergency Contact"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),c.jsx("input",{type:"text",name:"emergencyContact",defaultValue:m==null?void 0:m.emergencyContact,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),c.jsx("input",{type:"tel",name:"emergencyPhone",defaultValue:m==null?void 0:m.emergencyPhone,required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]})]}),c.jsx("input",{type:"hidden",name:"nationalId",value:(m==null?void 0:m.idNumber)||(m==null?void 0:m.nationalId)||""}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:C,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:m?"Update":"Add Tenant"})]})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-200",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[v.firstName," ",v.lastName]}),c.jsx("p",{className:"text-sm text-gray-600",children:M(v.id)==="Active"?"Active Contract":"No Active Contract"})]}),c.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Contact"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Phone:"})," ",v.phone]}),v.secondaryPhone&&c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Secondary Phone:"})," ",v.secondaryPhone]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"WhatsApp:"})," ",v.whatsappNumber]}),v.secondaryWhatsappNumber&&c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Secondary WhatsApp:"})," ",v.secondaryWhatsappNumber]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",v.email]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Identification"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"ID Type:"})," ",v.idType||""]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"ID Number:"})," ",v.idNumber||v.nationalId||""]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"ID Expiry:"})," ",v.idExpiryDate?new Date(v.idExpiryDate).toLocaleDateString():""]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Preferences"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",v.paymentMethod||L(v.id)||""]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Notification:"})," ",v.notificationPreference||""]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Emergency"}),c.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Contact:"})," ",v.emergencyContact]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"Phone:"})," ",v.emergencyPhone]})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Billing & Notes"}),c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"Billing Address:"})," ",v.billingAddress||""]}),c.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[c.jsx("span",{className:"font-medium",children:"Notes:"})," ",v.notes||""]})]})]})]})})]})}const _S=e=>{switch(e){case"1_payment":return"1 Payment";case"2_payment":return"2 Payments";case"3_payment":return"3 Payments";case"4_payment":return"4 Payments";default:return e}};function dse(){const{user:e}=ka(),[t,r]=O.useState([]),[n,a]=O.useState([]),[i,o]=O.useState([]),[s,l]=O.useState([]),[u,d]=O.useState(""),[f,h]=O.useState(!1),[p,m]=O.useState("all"),[y,v]=O.useState(""),[g,b]=O.useState(null),[w,j]=O.useState(""),[x,_]=O.useState(""),[S,N]=O.useState(""),[T,$]=O.useState(""),[P,C]=O.useState(""),[M,L]=O.useState("monthly"),[I,E]=O.useState(0),[k,A]=O.useState(""),[R,U]=O.useState(!1),[V,q]=O.useState(1),[Q,re]=O.useState([]),[J,ge]=O.useState(null),[Ve,je]=O.useState([]),[Y,F]=O.useState("");O.useEffect(()=>{H()},[]),O.useEffect(()=>{q(1)},[u,p]);const H=async()=>{try{const[B,ae,Se,gt,we]=await Promise.all([oe.getContracts(),oe.getTenants(),oe.getUnits(),oe.getProperties(),oe.getInvoices()]);r(B),a(ae),o(Se),l(gt),re(we)}catch(B){console.error("Error loading contracts data:",B),v("Failed to load contracts. Please refresh the page."),r([]),a([]),o([]),l([]),re([])}},se=[...t].sort((B,ae)=>{const Se=new Date(B.createdAt||B.startDate).getTime();return new Date(ae.createdAt||ae.startDate).getTime()-Se}).filter(B=>{var gb,yb,vb,bb,xb;const ae=p==="all"||B.status===p;if(!u)return ae;const Se=u.toLowerCase(),gt=`${B.tenant.firstName} ${B.tenant.lastName}`.toLowerCase(),we=B.property.name.toLowerCase(),Ze=B.unit.unitNumber.toLowerCase(),Hr=((gb=B.contractNumber)==null?void 0:gb.toLowerCase())||"",Qh=((yb=B.tenant.email)==null?void 0:yb.toLowerCase())||"",wC=((vb=B.tenant.phone)==null?void 0:vb.toLowerCase())||"",_C=((bb=B.tenant.whatsappNumber)==null?void 0:bb.toLowerCase())||"",jC=((xb=B.tenant.nationalId)==null?void 0:xb.toLowerCase())||"";return(gt.includes(Se)||we.includes(Se)||Ze.includes(Se)||Hr.includes(Se)||Qh.includes(Se)||wC.includes(Se)||_C.includes(Se)||jC.includes(Se))&&ae}),ie=100,fe=Math.ceil(se.length/ie),be=se.slice((V-1)*ie,V*ie);O.useEffect(()=>{if(T&&k==="1_year"){const B=new Date(T),ae=R3(B,1),Se=FL(ae,1);C(Se.toISOString().split("T")[0])}},[T,k]),O.useEffect(()=>{E(T&&P&&M?M==="1_payment"?1:M==="2_payment"?2:M==="3_payment"?3:M==="4_payment"?4:0:0)},[T,P,M]),O.useEffect(()=>{J?(N(J.tenantId),_(`${J.tenant.firstName} ${J.tenant.lastName}`),j(J.unit.propertyId),$(J.startDate.toISOString().split("T")[0]),C(J.endDate.toISOString().split("T")[0]),L(J.paymentFrequency),E(J.numberOfInstallments),je(J.attachments||[]),F((J.monthlyRent*12).toString())):F("")},[J]);const Qe=async B=>{B.preventDefault(),v("");const ae=new FormData(B.currentTarget),gt=parseFloat(ae.get("yearlyRent"))/12,we={tenantId:S||ae.get("tenantId"),unitId:ae.get("unitId"),startDate:new Date(ae.get("startDate")),endDate:new Date(ae.get("endDate")),monthlyRent:gt,securityDeposit:parseFloat(ae.get("securityDeposit")),paymentFrequency:ae.get("paymentFrequency"),numberOfInstallments:I||parseInt(ae.get("numberOfInstallments")),status:ae.get("status")||"draft",reminderPeriod:ae.get("reminderPeriod")||void 0,notes:ae.get("notes")||void 0,contractNumber:ae.get("contractNumber"),dueDateDay:ae.get("dueDateDay")?parseInt(ae.get("dueDateDay")):void 0,attachments:Ve};try{if(J)if(we.status==="active"&&J.status==="draft"&&(e==null?void 0:e.role)!=="admin")try{const{supabaseService:Hr}=await wE(async()=>{const{supabaseService:Qh}=await Promise.resolve().then(()=>YM);return{supabaseService:Qh}},void 0);await Hr.createApprovalRequest("contract_create","contract",{...we,id:J.id,isUpdate:!0},e.id),alert("Contract activation request submitted for approval"),await H(),h(!1),ge(null),Ut();return}catch(Hr){console.error("Error creating approval request:",Hr),v(Hr.message||"Failed to submit approval request");return}else await oe.updateContract(J.id,we,e==null?void 0:e.id,e==null?void 0:e.role)?(alert("Contract updated successfully"),await H(),h(!1),ge(null),Ut()):v("Failed to update contract");else{const Ze=await oe.createContract(we,e==null?void 0:e.id,e==null?void 0:e.role);Ze.success?(Ze.requiresApproval&&alert(Ze.message||"Contract creation request submitted for approval"),await H(),h(!1),Ut()):v(Ze.message||"Failed to create contract")}}catch(Ze){console.error("Error saving contract:",Ze),v(Ze.message||"Failed to save contract. Please try again.")}},Ut=()=>{j(""),_(""),N(""),$(""),C(""),L("monthly"),E(0),A(""),je([]),F("")},ln=async B=>{if(confirm("Are you sure you want to terminate this contract? This will mark the unit as vacant and cancel unpaid invoices."))try{const ae=await oe.terminateContract(B,e==null?void 0:e.id,e==null?void 0:e.role);typeof ae=="object"&&"requiresApproval"in ae&&alert(ae.message||"Contract termination request submitted for approval"),await H()}catch(ae){console.error("Error terminating contract:",ae),alert("Failed to terminate contract. Please try again.")}},Da=()=>{h(!1),v(""),ge(null),Ut()},cn=()=>s.filter(B=>i.filter(Se=>Se.propertyId===B.id).some(Se=>!Se.isOccupied)),un=B=>i.filter(ae=>ae.propertyId===B&&!ae.isOccupied),$i=x?n.filter(B=>`${B.firstName} ${B.lastName}`.toLowerCase().includes(x.toLowerCase())||B.email.toLowerCase().includes(x.toLowerCase())):[];return c.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contracts"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage rental agreements and leases"})]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[c.jsx(va,{className:"w-4 h-4 mr-2"}),"New Contract"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:(()=>{const B=t.filter(we=>we.status==="active").length,ae=t.filter(we=>we.status==="expired").length,Se=t.filter(we=>we.status==="draft").length,gt=t.filter(we=>we.status==="terminated").length;return[{label:"Active",count:B,color:"bg-success-100 text-success-700",icon:ja},{label:"Expired",count:ae,color:"bg-warning-100 text-warning-700",icon:s0},{label:"Draft",count:Se,color:"bg-primary-100 text-primary-700",icon:sa},{label:"Terminated",count:gt,color:"bg-danger-100 text-danger-700",icon:sw}].map(we=>c.jsxs("div",{className:bt("rounded-xl p-4",we.color),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(we.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-3xl font-bold",children:we.count})]}),c.jsx("p",{className:"mt-2 font-medium",children:we.label})]},we.label))})()}),c.jsxs("div",{className:"flex gap-3 mb-5",children:[c.jsxs("div",{className:"relative flex-1 max-w-sm",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by tenant name, property, unit, contract number, phone, email...",value:u,onChange:B=>d(B.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("button",{onClick:()=>U(!0),className:"flex items-center px-3 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm whitespace-nowrap",children:[c.jsx(va,{className:"w-4 h-4 mr-1.5"}),"Add New Tenant"]}),c.jsxs("select",{value:p,onChange:B=>m(B.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"expired",children:"Expired"}),c.jsx("option",{value:"terminated",children:"Terminated"})]})]}),c.jsx("div",{className:"space-y-3",children:be.length>0?be.map(B=>{if(!B||!B.tenant||!B.unit||!B.property)return null;const ae=Q.filter(we=>we.contractId===B.id),Se=ae.filter(we=>we.status==="paid").length,gt=ae.filter(we=>we.status==="overdue").length;return c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsxs("div",{className:"w-10 h-10 bg-green-50 border border-green-200 rounded-full flex items-center justify-center text-green-700 font-bold text-base mr-3",children:[B.tenant.firstName[0],B.tenant.lastName[0]]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[B.tenant.firstName," ",B.tenant.lastName]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[B.property.name," - Unit ",B.unit.unitNumber]}),B.contractNumber&&c.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Contract: ",B.contractNumber]})]}),c.jsx("span",{className:bt("ml-3 px-2 py-0.5 rounded-full text-xs font-semibold",zl(B.status)),children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-3 text-sm",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Start Date"}),c.jsx("p",{className:"font-medium text-gray-900",children:It(B.startDate)})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"End Date"}),c.jsx("p",{className:"font-medium text-gray-900",children:It(B.endDate)})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Monthly Rent"}),c.jsx("p",{className:"font-medium text-gray-900",children:$e(B.monthlyRent)})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-0.5 whitespace-nowrap",children:"Security Deposit"}),c.jsx("p",{className:"font-medium text-gray-900",children:$e(B.securityDeposit)})]})]}),c.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-xs mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(sa,{className:"w-3.5 h-3.5 mr-1.5 text-primary-600"}),c.jsxs("span",{className:"text-gray-600",children:["Payment: ",c.jsx("span",{className:"font-medium text-gray-900",children:_S(B.paymentFrequency)})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(vE,{className:"w-3.5 h-3.5 mr-1.5 text-success-600"}),c.jsxs("span",{className:"text-gray-600",children:["Invoices: ",c.jsxs("span",{className:"font-medium text-gray-900",children:[Se,"/",B.numberOfInstallments," paid"]})]})]}),gt>0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(hr,{className:"w-3.5 h-3.5 mr-1.5 text-danger-600"}),c.jsxs("span",{className:"text-danger-600 font-medium",children:[gt," overdue"]})]}),B.reminderPeriod&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(On,{className:"w-3.5 h-3.5 mr-1.5 text-warning-600"}),c.jsxs("span",{className:"text-gray-600",children:["Reminder: ",c.jsx("span",{className:"font-medium text-gray-900",children:B.reminderPeriod.replace("_"," ")})]})]})]}),B.notes&&c.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700",children:B.notes})]}),c.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[c.jsx("button",{onClick:()=>{b(B),je(B.attachments||[])},className:"px-3 py-1.5 border border-primary-300 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors text-xs font-medium",children:"View"}),B.status==="active"&&c.jsx("button",{onClick:()=>ln(B.id),className:"px-3 py-1.5 border border-danger-300 text-danger-600 rounded-lg hover:bg-danger-50 transition-colors text-xs font-medium",children:"Terminate"})]})]})},B.id)}).filter(Boolean):null}),be.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(sa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No contracts found"}),c.jsx("p",{className:"text-gray-600",children:u?"Try a different search term":"Get started by creating your first contract"})]}),fe>1&&c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(V-1)*ie+1," to ",Math.min(V*ie,se.length)," of ",se.length," contracts"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>q(B=>Math.max(1,B-1)),disabled:V===1,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),c.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-700",children:["Page ",V," of ",fe]}),c.jsx("button",{onClick:()=>q(B=>Math.min(fe,B+1)),disabled:V===fe,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:J?"Edit Contract":"Create New Contract"}),c.jsx("button",{onClick:Da,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:Qe,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[y&&c.jsx("div",{className:"bg-danger-50 border-l-4 border-danger-500 p-3 rounded text-sm",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(hr,{className:"w-4 h-4 text-danger-600 mr-2"}),c.jsx("p",{className:"text-danger-700",children:y})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant *"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search tenant...",value:x,onChange:B=>{_(B.target.value),N("")},className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),x&&$i.length>0&&c.jsx("div",{className:"mt-1 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:$i.map(B=>c.jsxs("button",{type:"button",onClick:()=>{N(B.id),_(`${B.firstName} ${B.lastName}`)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${S===B.id?"bg-green-50":""}`,children:[B.firstName," ",B.lastName," - ",B.email]},B.id))}),c.jsx("input",{type:"hidden",name:"tenantId",value:S,required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property"}),c.jsxs("select",{value:w,onChange:B=>{j(B.target.value)},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"Select Property"}),cn().map(B=>c.jsx("option",{value:B.id,children:B.name},B.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit *"}),c.jsxs("select",{name:"unitId",required:!0,disabled:!w,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white disabled:bg-gray-50 disabled:text-gray-500",children:[c.jsx("option",{value:"",children:w?"Select Unit":"Select Property First"}),w&&un(w).map(B=>c.jsxs("option",{value:B.id,children:["Unit ",B.unitNumber," (",B.type,")"]},B.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Number *"}),c.jsx("input",{type:"text",name:"contractNumber",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"CT-001"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yearly Rent (AED) *"}),c.jsx("input",{type:"number",name:"yearlyRent",id:"yearlyRent",required:!0,min:"0",step:"0.01",value:Y,onChange:B=>F(B.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Duration"}),c.jsxs("select",{value:k,onChange:B=>{A(B.target.value),B.target.value==="custom"&&C("")},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"Select Duration"}),c.jsx("option",{value:"1_year",children:"1 Year (Auto: End date = 1 day before anniversary)"}),c.jsx("option",{value:"custom",children:"Custom (Manual dates)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),c.jsx("input",{type:"date",name:"startDate",required:!0,value:T,onChange:B=>$(B.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),c.jsx("input",{type:"date",name:"endDate",required:!0,value:P,onChange:B=>{C(B.target.value),k==="1_year"&&A("custom")},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),c.jsxs("select",{name:"paymentFrequency",value:M,onChange:B=>L(B.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"1_payment",children:"1 Payment"}),c.jsx("option",{value:"2_payment",children:"2 Payments"}),c.jsx("option",{value:"3_payment",children:"3 Payments"}),c.jsx("option",{value:"4_payment",children:"4 Payments"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installments"}),c.jsx("input",{type:"number",name:"numberOfInstallments",value:I||"",readOnly:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"number",name:"dueDateDay",min:"1",max:"31",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Day (1-31)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",defaultValue:(J==null?void 0:J.status)||"draft",disabled:(J==null?void 0:J.status)==="active",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[c.jsx("option",{value:"draft",children:"Draft"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"expired",children:"Expired"}),c.jsx("option",{value:"terminated",disabled:!J||J.status!=="active",children:"Terminated"})]}),(J==null?void 0:J.status)==="active"&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active contracts cannot be edited. Use Terminate button instead."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Reminder"}),c.jsxs("select",{name:"reminderPeriod",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"",children:"No Reminders"}),c.jsx("option",{value:"3_days",children:"3 Days Before"}),c.jsx("option",{value:"1_week",children:"1 Week Before"}),c.jsx("option",{value:"2_weeks",children:"2 Weeks Before"}),c.jsx("option",{value:"1_month",children:"1 Month Before"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Deposit (AED) *"}),c.jsx("input",{type:"number",name:"securityDeposit",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this contract..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:Da,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Create Contract"})]})]})]})}),g&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contract Details"}),c.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Tenant Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Name:"})," ",c.jsxs("span",{className:"font-medium",children:[g.tenant.firstName," ",g.tenant.lastName]})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Email:"})," ",c.jsx("span",{className:"font-medium",children:g.tenant.email})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",c.jsx("span",{className:"font-medium",children:g.tenant.phone})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"National ID:"})," ",c.jsx("span",{className:"font-medium",children:g.tenant.nationalId})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Unit Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Property:"})," ",c.jsx("span",{className:"font-medium",children:g.property.name})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Unit:"})," ",c.jsx("span",{className:"font-medium",children:g.unit.unitNumber})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Type:"})," ",c.jsx("span",{className:"font-medium",children:g.unit.type})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Size:"})," ",c.jsxs("span",{className:"font-medium",children:[g.unit.squareFeet," sq ft"]})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contract Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Status:"})," ",c.jsx("span",{className:bt("ml-2 px-2 py-1 rounded-full text-xs font-semibold",zl(g.status)),children:g.status})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Start Date:"})," ",c.jsx("span",{className:"font-medium",children:It(g.startDate)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"End Date:"})," ",c.jsx("span",{className:"font-medium",children:It(g.endDate)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Monthly Rent:"})," ",c.jsx("span",{className:"font-medium",children:$e(g.monthlyRent)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Security Deposit:"})," ",c.jsx("span",{className:"font-medium",children:$e(g.securityDeposit)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Payment Frequency:"})," ",c.jsx("span",{className:"font-medium",children:_S(g.paymentFrequency)})]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Installments:"})," ",c.jsx("span",{className:"font-medium",children:g.numberOfInstallments})]}),g.reminderPeriod&&c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-600",children:"Reminder:"})," ",c.jsx("span",{className:"font-medium",children:g.reminderPeriod.replace("_"," ")})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Invoices Summary"}),(()=>{const B=Q.filter(Ze=>Ze.contractId===g.id),ae=B.filter(Ze=>Ze.status==="paid").length,Se=B.filter(Ze=>Ze.status==="pending").length,gt=B.filter(Ze=>Ze.status==="overdue").length,we=B.filter(Ze=>Ze.status==="partial").length;return c.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-success-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-success-700",children:ae}),c.jsx("p",{className:"text-sm text-success-600 mt-1",children:"Paid"})]}),c.jsxs("div",{className:"bg-warning-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-warning-700",children:Se}),c.jsx("p",{className:"text-sm text-warning-600 mt-1",children:"Pending"})]}),c.jsxs("div",{className:"bg-primary-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-primary-700",children:we}),c.jsx("p",{className:"text-sm text-primary-600 mt-1",children:"Partial"})]}),c.jsxs("div",{className:"bg-danger-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-3xl font-bold text-danger-700",children:gt}),c.jsx("p",{className:"text-sm text-danger-600 mt-1",children:"Overdue"})]})]})})()]}),g.notes&&c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),c.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:g.notes})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[g.status==="draft"&&c.jsxs("button",{type:"button",onClick:()=>{ge(g),h(!0),b(null)},className:"flex items-center px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(sa,{className:"w-4 h-4 mr-2"}),"Edit Contract"]}),g.status==="active"&&c.jsxs("button",{type:"button",onClick:()=>{b(null),ln(g.id)},className:"flex items-center px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[c.jsx(sw,{className:"w-4 h-4 mr-2"}),"Terminate Contract"]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Attachments"}),c.jsxs("button",{onClick:()=>{ge(g),je(g.attachments||[])},className:"flex items-center px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(va,{className:"w-4 h-4 mr-1.5"}),"Add Attachment"]})]}),g.attachments&&g.attachments.length>0?c.jsx("div",{className:"space-y-2",children:g.attachments.map((B,ae)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(cw,{className:"w-4 h-4 text-gray-600 mr-2"}),c.jsx("span",{className:"text-sm text-gray-700",children:B.startsWith("data:")?`Attachment ${ae+1}`:B.split("/").pop()||`Attachment ${ae+1}`})]}),c.jsx("div",{className:"flex gap-2",children:B.startsWith("data:")||B.startsWith("http")?c.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:text-green-700",children:"View"}):null})]},ae))}):c.jsx("p",{className:"text-sm text-gray-500 italic",children:"No attachments yet"})]})]})]})}),J&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Attachments"}),c.jsx("button",{onClick:()=>{ge(null),je([])},className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto flex-1",children:[Ve.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Current Attachments"}),Ve.map((B,ae)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[c.jsx(cw,{className:"w-4 h-4 text-gray-600 mr-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-gray-700 truncate",children:B.startsWith("data:")?`Attachment ${ae+1}`:B.split("/").pop()||`Attachment ${ae+1}`})]}),c.jsx("button",{onClick:()=>{je(Ve.filter((Se,gt)=>gt!==ae))},className:"ml-2 p-1 text-red-600 hover:text-red-700 transition-colors",children:c.jsx($o,{className:"w-4 h-4"})})]},ae))]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Attachment"}),c.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:async B=>{var Se;const ae=(Se=B.target.files)==null?void 0:Se[0];if(ae){const gt=new FileReader;gt.onload=we=>{var Hr;const Ze=(Hr=we.target)==null?void 0:Hr.result;je([...Ve,Ze])},gt.readAsDataURL(ae)}},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported: PDF, DOC, DOCX, JPG, PNG, TXT"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:()=>{ge(null),je([])},className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"button",onClick:async()=>{try{await oe.updateContract(J.id,{attachments:Ve}),await H();const ae=(await oe.getContracts()).find(Se=>Se.id===J.id);ae&&b(ae),ge(null),je([])}catch(B){console.error("Error updating attachments:",B),alert("Failed to update attachments. Please try again.")}},className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Save Attachments"})]})]})]})}),R&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Tenant"}),c.jsx("button",{onClick:()=>{U(!1)},className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsx(fse,{onSuccess:B=>{H(),U(!1),f&&(N(B.id),_(`${B.firstName} ${B.lastName}`))},onCancel:()=>U(!1)})]})})]})}function fse({onSuccess:e,onCancel:t}){const[r,n]=O.useState(""),a=async o=>{o.preventDefault(),n("");const s=new FormData(o.currentTarget),l=s.get("idExpiryDate"),u=l?new Date(l):void 0,d=s.get("idNumber"),f={firstName:s.get("firstName"),lastName:s.get("lastName"),email:s.get("email"),phone:s.get("phone"),whatsappNumber:s.get("whatsappNumber"),nationalId:d||s.get("nationalId")||"",emergencyContact:s.get("emergencyContact"),emergencyPhone:s.get("emergencyPhone"),idType:s.get("idType"),idNumber:d||void 0,idExpiryDate:u,billingAddress:s.get("billingAddress"),paymentMethod:s.get("paymentMethod"),notificationPreference:s.get("notificationPreference"),notes:s.get("notes")};try{const h=await oe.createTenant(f);e(h)}catch(h){console.error("Error creating tenant:",h),n("Failed to create tenant. Please try again.")}},i=(o,s)=>{s.value=o};return c.jsxs("form",{onSubmit:a,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[r&&c.jsx("div",{className:"bg-danger-50 border-l-4 border-danger-500 p-3 rounded text-sm",children:c.jsx("p",{className:"text-danger-700",children:r})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),c.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),c.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Type"}),c.jsxs("select",{name:"idType",defaultValue:"emirates_id",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"passport",children:"Passport"}),c.jsx("option",{value:"emirates_id",children:"Emirates ID"}),c.jsx("option",{value:"driver_license",children:"Driver License"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Number"}),c.jsx("input",{type:"text",name:"idNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"EID-123456"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Expiry Date"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"date",name:"idExpiryDate",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10"}),c.jsx(On,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"tel",name:"phone",id:"tenant-phone-input",required:!0,className:"w-full px-3 py-1.5 pr-9 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"}),c.jsx("button",{type:"button",onClick:o=>{var u;const s=(u=o.currentTarget.parentElement)==null?void 0:u.querySelector("#tenant-phone-input"),l=document.getElementById("tenant-whatsapp-input");s&&l&&i(s.value,l)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Copy to WhatsApp",children:c.jsx(yE,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number *"}),c.jsx("input",{type:"tel",name:"whatsappNumber",id:"tenant-whatsapp-input",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Address"}),c.jsx("textarea",{name:"billingAddress",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Enter billing address..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),c.jsxs("select",{name:"paymentMethod",defaultValue:"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"cheque",children:"Cheque"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification"}),c.jsxs("select",{name:"notificationPreference",defaultValue:"whatsapp",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"whatsapp",children:"WhatsApp"}),c.jsx("option",{value:"email",children:"Email"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Any additional notes..."})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Emergency Contact"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),c.jsx("input",{type:"text",name:"emergencyContact",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),c.jsx("input",{type:"tel",name:"emergencyPhone",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+971501234567"})]})]})]}),c.jsx("input",{type:"hidden",name:"nationalId",value:""}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Add Tenant"})]})]})}function hse(){const{user:e}=ka(),[t,r]=O.useState([]),[n,a]=O.useState(""),[i,o]=O.useState("all"),[s,l]=O.useState(null),[u,d]=O.useState(null),f=O.useRef(null),[h,p]=O.useState(1),[m,y]=O.useState(!1),[v,g]=O.useState(null);O.useEffect(()=>{new URLSearchParams(window.location.search).get("status")==="overdue"&&o("overdue")},[]),O.useEffect(()=>{p(1)},[n,i]),O.useEffect(()=>{b()},[]);const b=async()=>{try{const E=await oe.getInvoices();r(E)}catch(E){console.error("Error loading invoices:",E),r([])}},j=[...t].sort((E,k)=>{const A=new Date(E.createdAt||E.dueDate).getTime();return new Date(k.createdAt||k.dueDate).getTime()-A}).filter(E=>{var je,Y,F,H;let k=!0;if(i==="issued"?k=E.status==="pending"||E.status==="partial":i==="overdue"?k=E.status==="overdue":i==="paid"?k=E.status==="paid":i==="partial"&&(k=E.status==="partial"),!n)return k;const A=n.toLowerCase(),R=`${E.tenant.firstName} ${E.tenant.lastName}`.toLowerCase(),U=E.property.name.toLowerCase(),V=E.unit.unitNumber.toLowerCase(),q=E.invoiceNumber.toLowerCase(),Q=((je=E.tenant.email)==null?void 0:je.toLowerCase())||"",re=((Y=E.tenant.phone)==null?void 0:Y.toLowerCase())||"",J=((F=E.tenant.whatsappNumber)==null?void 0:F.toLowerCase())||"",ge=((H=E.tenant.nationalId)==null?void 0:H.toLowerCase())||"";return(q.includes(A)||R.includes(A)||U.includes(A)||V.includes(A)||Q.includes(A)||re.includes(A)||J.includes(A)||ge.includes(A))&&k}),x=100,_=Math.ceil(j.length/x),S=j.slice((h-1)*x,h*x),N=E=>`Dear ${E.tenant.firstName} ${E.tenant.lastName},

This is a payment reminder for your rental unit.

Property: ${E.property.name}
Unit: ${E.unit.unitNumber}
Invoice Number: ${E.invoiceNumber}
Installment: ${E.installmentNumber}/${E.contract.numberOfInstallments}

Amount Due: ${$e(E.remainingAmount)}
Due Date: ${It(E.dueDate)}

Remaining Balance: ${$e(E.remainingAmount)}
Total Invoice Amount: ${$e(E.amount)}
Amount Paid: ${$e(E.paidAmount)}

Please make the payment at your earliest convenience.

Thank you!`,T=E=>{if(!E.tenant.whatsappNumber){alert("WhatsApp number not available for this tenant"),d(null);return}try{const k=N(E),A=kE(E.tenant.whatsappNumber,k);window.open(A,"_blank","noopener,noreferrer")||(window.location.href=A)}catch(k){console.error("Error opening WhatsApp:",k),alert("Failed to open WhatsApp. Please check the phone number format.")}d(null)},$=E=>{const k=`Payment Reminder - Invoice ${E.invoiceNumber}`,A=N(E),R=TE(E.tenant.email,k,A);window.location.href=R,d(null)},P=async E=>{if(E.preventDefault(),!s)return;const k=new FormData(E.currentTarget),A={status:k.get("paymentStatus"),adminStatus:k.get("adminStatus"),paymentType:k.get("paymentType"),notes:k.get("notes")||void 0};try{await oe.updateInvoice(s.id,A),await b(),l(null)}catch(R){console.error("Error updating invoice:",R),alert("Failed to update invoice. Please try again.")}},C=()=>{l(null)},M=E=>{E.remainingAmount<=0||(g(E),y(!0))},L=async E=>{if(E.preventDefault(),!!v)try{const k=new FormData(E.currentTarget),A=parseFloat(k.get("amount")),R=Math.round(A*100)/100,U={invoiceId:v.id,amount:R,paymentDate:new Date(k.get("paymentDate")),paymentMethod:k.get("paymentMethod"),referenceNumber:k.get("referenceNumber")||void 0,notes:k.get("notes")||void 0},V=await oe.createPayment(U,e==null?void 0:e.id,e==null?void 0:e.role);"requiresApproval"in V&&alert(V.message||"Payment request submitted for approval"),await b(),y(!1),g(null)}catch(k){console.error("Error creating payment:",k),alert((k==null?void 0:k.message)||"Failed to create payment. Please try again.")}},I=()=>{y(!1),g(null)};return O.useEffect(()=>{const E=k=>{f.current&&!f.current.contains(k.target)&&d(null)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage payment invoices"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{label:"Paid",count:t.filter(E=>E.status==="paid").length,color:"bg-success-100 text-success-700",icon:ja},{label:"Pending",count:t.filter(E=>E.status==="pending").length,color:"bg-warning-100 text-warning-700",icon:s0},{label:"Partial",count:t.filter(E=>E.status==="partial").length,color:"bg-primary-100 text-primary-700",icon:Ed},{label:"Overdue",count:t.filter(E=>E.status==="overdue").length,color:"bg-danger-100 text-danger-700",icon:hr}].map(E=>c.jsxs("div",{className:bt("rounded-xl p-4",E.color),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(E.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-3xl font-bold",children:E.count})]}),c.jsx("p",{className:"mt-2 font-medium",children:E.label})]},E.label))}),c.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, property, unit, phone, email...",value:n,onChange:E=>a(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1 text-sm",children:["all","issued","overdue","paid","partial"].map(E=>{const k=E==="all"?"All":E==="issued"?"Issued":E==="overdue"?"Overdue":E==="paid"?"Paid":"Partial",A=i===E;return c.jsx("button",{type:"button",onClick:()=>o(E),className:bt("px-3 py-1.5 rounded-md font-medium",A?"bg-white text-primary-700 shadow-sm":"text-gray-600 hover:text-gray-900"),children:k},E)})})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[1.5fr_2fr_2fr_1.2fr_1.2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm font-semibold text-gray-500 bg-gray-50 border-b border-gray-200",children:[c.jsx("div",{children:"Invoice"}),c.jsx("div",{children:"Tenant"}),c.jsx("div",{children:"Property"}),c.jsx("div",{children:"Due Date"}),c.jsx("div",{children:"Amount"}),c.jsx("div",{children:"Balance"}),c.jsx("div",{children:"Status"}),c.jsx("div",{children:"Payment"}),c.jsx("div",{className:"text-right",children:"Actions"})]}),S.length>0?S.map(E=>{if(!E||!E.tenant||!E.unit||!E.property||!E.contract)return null;const k=E.status==="overdue",A=E.status==="paid"||E.remainingAmount<=0;return c.jsxs("div",{className:"grid grid-cols-[1.5fr_2fr_2fr_1.2fr_1.2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm items-center border-b border-gray-100 hover:bg-gray-50",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:E.invoiceNumber}),c.jsxs("div",{className:"text-xs text-gray-500",children:[E.installmentNumber,"/",E.contract.numberOfInstallments]})]}),c.jsx("div",{children:c.jsxs("div",{className:"text-gray-900",children:[E.tenant.firstName," ",E.tenant.lastName]})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-gray-900",children:E.property.name}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Unit ",E.unit.unitNumber]})]}),c.jsx("div",{children:c.jsx("div",{className:bt("font-medium",k?"text-danger-600":"text-gray-900"),children:It(E.dueDate)})}),c.jsx("div",{children:c.jsx("div",{className:"font-medium text-gray-900",children:$e(E.amount)})}),c.jsx("div",{children:c.jsx("div",{className:bt("font-medium",E.remainingAmount>0?"text-danger-600":"text-success-600"),children:$e(E.remainingAmount)})}),c.jsx("div",{children:c.jsx("span",{className:bt("inline-flex px-2 py-1 rounded-full text-xs font-semibold",zl(E.status)),children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})}),c.jsx("div",{children:c.jsx("button",{type:"button",onClick:()=>!A&&M(E),disabled:A,className:bt("px-3 py-1.5 text-sm font-medium rounded-lg transition-colors whitespace-nowrap",A?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:A?"Paid":"Create Payment"})}),c.jsxs("div",{className:"flex items-center justify-end gap-3 text-gray-600",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("button",{type:"button",onClick:()=>d(u===E.id?null:E.id),className:"hover:text-gray-900",title:"Share invoice",children:c.jsx(xE,{className:"w-4 h-4"})}),u===E.id&&c.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",onClick:R=>R.stopPropagation(),children:[c.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),T(E)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(bE,{className:"w-4 h-4 text-success-600"}),"WhatsApp"]}),c.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),$(E)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(Co,{className:"w-4 h-4 text-primary-600"}),"Email"]})]})]}),c.jsx("div",{className:"w-4 h-4"})]})]},E.id)}).filter(Boolean):c.jsx("div",{className:"py-10 text-center text-sm text-gray-600",children:n?"No invoices match your search.":"Invoices will appear here once contracts are created."})]}),_>1&&c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(h-1)*x+1," to ",Math.min(h*x,j.length)," of ",j.length," invoices"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>p(E=>Math.max(1,E-1)),disabled:h===1,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),c.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-700",children:["Page ",h," of ",_]}),c.jsx("button",{onClick:()=>p(E=>Math.min(_,E+1)),disabled:h===_,className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Invoice"}),c.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:P,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),c.jsxs("select",{name:"paymentStatus",defaultValue:s.status,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"paid",children:"Paid"}),c.jsx("option",{value:"partial",children:"Partial"}),c.jsx("option",{value:"overdue",children:"Overdue"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Status"}),c.jsxs("select",{name:"adminStatus",defaultValue:s.adminStatus||"pending",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"reviewed",children:"Reviewed"}),c.jsx("option",{value:"approved",children:"Approved"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),c.jsxs("select",{name:"paymentType",defaultValue:s.paymentType||"bank_transfer",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"cheque",children:"Cheque"}),c.jsx("option",{value:"online",children:"Online"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:3,defaultValue:s.notes||"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this invoice..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:C,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Save"})]})]})]})}),m&&v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),c.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:L,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice"}),c.jsxs("div",{className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:[v.invoiceNumber," - ",v.tenant.firstName," ",v.tenant.lastName," - Unit ",v.unit.unitNumber]}),c.jsx("input",{type:"hidden",name:"invoiceId",value:v.id})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (AED) *"}),c.jsx("input",{type:"number",name:"amount",required:!0,min:"0.01",step:"0.01",defaultValue:Math.round(v.remainingAmount*100)/100,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),c.jsx("input",{type:"date",name:"paymentDate",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),c.jsxs("select",{name:"paymentMethod",required:!0,defaultValue:"cash",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"cheque",children:"Cheque"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"online",children:"Online Payment"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),c.jsx("input",{type:"text",name:"referenceNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"REF-12345"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this payment..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:I,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Record Payment"})]})]})]})})]})}function pse(){const{user:e}=ka(),[t,r]=O.useState([]),[n,a]=O.useState([]),[i,o]=O.useState([]),[s,l]=O.useState(""),[u,d]=O.useState(!1),[f,h]=O.useState(""),[p,m]=O.useState(""),[y,v]=O.useState(null),g=O.useRef(null);O.useEffect(()=>{b()},[]),O.useEffect(()=>{const k=A=>{g.current&&!g.current.contains(A.target)&&v(null)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const b=async()=>{try{const k=await oe.getPayments(),A=await oe.getInvoices();r(k),a(A);try{const U=(await oe.getApprovalRequests("pending",void 0)).filter(V=>V.requestType==="payment_create"&&V.status==="pending");o(U)}catch(R){console.error("Error loading approval requests:",R)}}catch(k){console.error("Error loading payments data:",k),r([]),a([])}},w=k=>n.find(A=>A.id===k),j=()=>e?i.filter(k=>k.requestedBy===e.id):[],_=[...t].sort((k,A)=>{const R=new Date(k.paymentDate).getTime();return new Date(A.paymentDate).getTime()-R}).filter(k=>{var Y,F,H,W;const A=w(k.invoiceId);if(!A)return!1;if(!s)return!0;const R=s.toLowerCase(),U=`${A.tenant.firstName} ${A.tenant.lastName}`.toLowerCase(),V=A.property.name.toLowerCase(),q=A.unit.unitNumber.toLowerCase(),Q=A.invoiceNumber.toLowerCase(),re=((Y=A.tenant.email)==null?void 0:Y.toLowerCase())||"",J=((F=A.tenant.phone)==null?void 0:F.toLowerCase())||"",ge=((H=A.tenant.whatsappNumber)==null?void 0:H.toLowerCase())||"",Ve=((W=k.referenceNumber)==null?void 0:W.toLowerCase())||"",je=k.paymentMethod.toLowerCase();return Q.includes(R)||U.includes(R)||V.includes(R)||q.includes(R)||re.includes(R)||J.includes(R)||ge.includes(R)||Ve.includes(R)||je.includes(R)}),S=()=>n.filter(k=>k.remainingAmount>0&&k.status!=="cancelled"),N=()=>{const k=S();if(!p)return k;const A=p.toLowerCase();return k.filter(R=>{var U,V;return R.invoiceNumber.toLowerCase().includes(A)||`${R.tenant.firstName} ${R.tenant.lastName}`.toLowerCase().includes(A)||R.unit.unitNumber.toLowerCase().includes(A)||((U=R.tenant.phone)==null?void 0:U.toLowerCase().includes(A))||((V=R.tenant.whatsappNumber)==null?void 0:V.toLowerCase().includes(A))})},T=async k=>{k.preventDefault();const A=new FormData(k.currentTarget),R=parseFloat(A.get("amount")),U=Math.round(R*100)/100,V={invoiceId:f||A.get("invoiceId"),amount:U,paymentDate:new Date(A.get("paymentDate")),paymentMethod:A.get("paymentMethod"),referenceNumber:A.get("referenceNumber")||void 0,notes:A.get("notes")||void 0};try{const q=await oe.createPayment(V,e==null?void 0:e.id,e==null?void 0:e.role);"requiresApproval"in q&&alert(q.message||"Payment request submitted for approval"),await b(),d(!1),h(""),m("")}catch(q){console.error("Error creating payment:",q),alert((q==null?void 0:q.message)||"Failed to create payment. Please try again.")}},$=()=>{d(!1),h(""),m("")},P=async k=>{if(confirm("Are you sure you want to delete this payment?"))try{const A=await oe.deletePayment(k,e==null?void 0:e.id,e==null?void 0:e.role);typeof A=="object"&&"requiresApproval"in A?alert(A.message||"Payment deletion request submitted for approval"):A===!0||alert("Failed to delete payment. Please try again."),await b()}catch(A){console.error("Error deleting payment:",A),alert("Failed to delete payment. Please try again.")}},C=(k,A)=>`Dear ${A.tenant.firstName} ${A.tenant.lastName},

This is a confirmation of your payment received.

Invoice Number: ${A.invoiceNumber}
Payment Date: ${It(k.paymentDate)}
Payment Amount: ${$e(k.amount)}
Payment Method: ${k.paymentMethod.replace("_"," ")}
${k.referenceNumber?`Reference Number: ${k.referenceNumber}`:""}

Thank you for your payment!

Property: ${A.property.name}
Unit: ${A.unit.unitNumber}`,M=k=>{const A=w(k.invoiceId);if(!A||!A.tenant.whatsappNumber){alert("WhatsApp number not available for this tenant"),v(null);return}try{const R=C(k,A),U=kE(A.tenant.whatsappNumber,R);window.open(U,"_blank","noopener,noreferrer")||(window.location.href=U)}catch(R){console.error("Error opening WhatsApp:",R),alert("Failed to open WhatsApp. Please check the phone number format.")}v(null)},L=k=>{const A=w(k.invoiceId);if(!A||!A.tenant.email){alert("Email not available for this tenant"),v(null);return}const R=`Payment Confirmation - Invoice ${A.invoiceNumber}`,U=C(k,A),V=TE(A.tenant.email,R,U);window.location.href=V,v(null)},I=t.reduce((k,A)=>k+A.amount,0),E=f?S().find(k=>k.id===f):null;return c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track all payment transactions"})]}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-md",children:[c.jsx(va,{className:"w-5 h-5 mr-2"}),"Record Payment"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:(()=>{const k=new Date;k.setDate(1),k.setHours(0,0,0,0);const A=t.filter(re=>new Date(re.paymentDate)>=k),R=A.reduce((re,J)=>re+J.amount,0),U=new Date;U.setDate(U.getDate()-30);const V=t.filter(re=>new Date(re.paymentDate)>=U).length,q=t.filter(re=>new Date(re.paymentDate)>=U).reduce((re,J)=>re+J.amount,0),Q=S().reduce((re,J)=>re+J.remainingAmount,0);return[{label:"Total Payments",count:t.length,amount:I,color:"bg-success-100 text-success-700",icon:Ad},{label:"This Month",count:A.length,amount:R,color:"bg-primary-100 text-primary-700",icon:On},{label:"Last 30 Days",count:V,amount:q,color:"bg-warning-100 text-warning-700",icon:_g},{label:"Unpaid Invoices",count:S().length,amount:Q,color:"bg-danger-100 text-danger-700",icon:hr}].map(re=>c.jsxs("div",{className:bt("rounded-xl p-4",re.color),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(re.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-3xl font-bold",children:re.count})]}),c.jsx("p",{className:"mt-2 font-medium",children:re.label})]},re.label))})()}),j().length>0&&c.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(s0,{className:"w-5 h-5 text-yellow-600"}),c.jsx("h3",{className:"font-semibold text-yellow-900",children:"Pending Payment Approvals"})]}),c.jsx("div",{className:"space-y-2",children:j().map(k=>{var R,U,V,q,Q;const A=n.find(re=>{var J;return re.id===((J=k.requestData)==null?void 0:J.invoiceId)});return c.jsx("div",{className:"bg-white rounded-lg p-3 border border-yellow-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-gray-900",children:[$e(((R=k.requestData)==null?void 0:R.amount)||0)," - ",A?`${A.tenant.firstName} ${A.tenant.lastName}`:"Unknown"]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Invoice: ",(A==null?void 0:A.invoiceNumber)||((U=k.requestData)==null?void 0:U.invoiceId),"  Method: ",((q=(V=k.requestData)==null?void 0:V.paymentMethod)==null?void 0:q.replace("_"," "))||"N/A","  Date: ",(Q=k.requestData)!=null&&Q.paymentDate?It(new Date(k.requestData.paymentDate)):"N/A"]})]}),c.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Awaiting Approval"})]})},k.id)})})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, property, unit, phone, email, reference...",value:s,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[1.2fr_1.5fr_2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm font-semibold text-gray-500 bg-gray-50 border-b border-gray-200",children:[c.jsx("div",{children:"Date"}),c.jsx("div",{children:"Tenants"}),c.jsx("div",{children:"Invoice"}),c.jsx("div",{children:"Amount"}),c.jsx("div",{children:"Method"}),c.jsx("div",{children:"Reference"}),c.jsx("div",{className:"text-right",children:"Actions"})]}),_.length>0?_.map(k=>{const A=w(k.invoiceId);return A?c.jsxs("div",{className:"grid grid-cols-[1.2fr_1.5fr_2fr_1.2fr_1fr_1.2fr_auto] gap-4 px-4 py-3 text-sm items-center border-b border-gray-100 hover:bg-gray-50",children:[c.jsx("div",{children:c.jsx("div",{className:"font-medium text-gray-900",children:It(k.paymentDate)})}),c.jsx("div",{children:c.jsxs("div",{className:"text-gray-900",children:[A.tenant.firstName," ",A.tenant.lastName]})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:A.invoiceNumber}),c.jsxs("div",{className:"text-xs text-gray-500",children:[A.property.name," - Unit ",A.unit.unitNumber]})]}),c.jsx("div",{children:c.jsx("div",{className:"font-medium text-success-600",children:$e(k.amount)})}),c.jsx("div",{children:c.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:k.paymentMethod.replace("_"," ")})}),c.jsx("div",{children:c.jsx("div",{className:"text-gray-600",children:k.referenceNumber||"-"})}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs("div",{className:"relative",ref:g,children:[c.jsx("button",{type:"button",onClick:()=>v(y===k.id?null:k.id),className:"hover:text-gray-900",title:"Share payment confirmation",children:c.jsx(xE,{className:"w-4 h-4"})}),y===k.id&&c.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",onClick:R=>R.stopPropagation(),children:[c.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),M(k)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(bE,{className:"w-4 h-4 text-success-600"}),"WhatsApp"]}),c.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),L(k)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(Co,{className:"w-4 h-4 text-primary-600"}),"Email"]})]})]}),c.jsx("button",{type:"button",onClick:()=>P(k.id),className:"hover:text-danger-600",title:"Delete payment",children:c.jsx($o,{className:"w-4 h-4"})})]})]},k.id):null}):c.jsx("div",{className:"py-10 text-center text-sm text-gray-600",children:s?"No payments match your search.":"Payment records will appear here"})]}),u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-5 py-3 flex items-center justify-between rounded-t-xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),c.jsx("button",{onClick:$,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:T,className:"p-5 space-y-3 overflow-y-auto flex-1",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice * (Only due invoices)"}),c.jsxs("div",{className:"relative",children:[c.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by invoice number, tenant name, or phone number...",value:p,onChange:k=>{m(k.target.value),h("")},className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),p&&N().length>0&&c.jsx("div",{className:"mt-1 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:N().map(k=>c.jsxs("button",{type:"button",onClick:()=>{h(k.id),m(`${k.invoiceNumber} - ${k.tenant.firstName} ${k.tenant.lastName} - Unit ${k.unit.unitNumber}`)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${f===k.id?"bg-green-50":""}`,children:[k.invoiceNumber," - ",k.tenant.firstName," ",k.tenant.lastName," - Unit ",k.unit.unitNumber," - ",$e(k.remainingAmount)," due"]},k.id))}),c.jsx("input",{type:"hidden",name:"invoiceId",value:f,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (AED) *"}),c.jsx("input",{type:"number",name:"amount",required:!0,min:"0.01",step:"0.01",defaultValue:E?Math.round(E.remainingAmount*100)/100:"",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),c.jsx("input",{type:"date",name:"paymentDate",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),c.jsxs("select",{name:"paymentMethod",required:!0,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",children:[c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"cheque",children:"Cheque"}),c.jsx("option",{value:"card",children:"Card"}),c.jsx("option",{value:"online",children:"Online Payment"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),c.jsx("input",{type:"text",name:"referenceNumber",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"REF-12345"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{name:"notes",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Additional notes about this payment..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-3",children:[c.jsx("button",{type:"button",onClick:$,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Record Payment"})]})]})]})})]})}function mse(){const[e,t]=O.useState(new Date),[r,n]=O.useState([]),[a,i]=O.useState(null),[o,s]=O.useState([]);O.useEffect(()=>{l()},[e]);const l=async()=>{const g=Xn(e),b=ml(e),w=mw(g),j=yw(b);try{const x=await oe.getInvoicesByDateRange(w,j);n(x)}catch(x){console.error("Error loading invoices:",x),n([])}},u=()=>{t(Td(e,1))},d=()=>{t(Td(e,-1))},f=()=>{t(new Date)},h=()=>c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendar"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"View invoice due dates by calendar"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:f,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Today"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:d,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:c.jsx(AM,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 min-w-[200px] text-center",children:oi(e,"MMMM yyyy")}),c.jsx("button",{onClick:u,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:c.jsx(kM,{className:"w-5 h-5"})})]})]})]}),p=()=>{const g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:g.map(b=>c.jsx("div",{className:"text-center font-semibold text-gray-600 text-sm py-2",children:b},b))})},m=g=>r.filter(b=>Sg(b.dueDate,g)),y=g=>{i(g),s(m(g))},v=()=>{const g=Xn(e),b=ml(e),w=mw(g),j=yw(b),x=[];let _=[],S=w;for(;S<=j;){for(let N=0;N<7;N++){const T=S,$=m(T),P=_w(T,g),C=BL(T),M=a&&Sg(T,a);_.push(c.jsxs("div",{onClick:()=>y(T),className:bt("min-h-[120px] border border-gray-200 rounded-lg p-2 cursor-pointer transition-all",P?"bg-white hover:bg-gray-50":"bg-gray-50",C&&"ring-2 ring-primary-500",M&&"bg-primary-50"),children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:bt("text-sm font-medium",P?"text-gray-900":"text-gray-400",C&&"bg-primary-600 text-white w-7 h-7 rounded-full flex items-center justify-center"),children:oi(T,"d")}),$.length>0&&c.jsx("span",{className:"text-xs font-semibold text-gray-500",children:$.length})]}),c.jsxs("div",{className:"space-y-1",children:[$.slice(0,3).map(L=>c.jsxs("div",{className:bt("text-xs p-1 rounded truncate",zl(L.status)),title:`${L.tenant.firstName} ${L.tenant.lastName} - ${L.invoiceNumber}`,children:[L.tenant.firstName," ",L.tenant.lastName[0],"."]},L.id)),$.length>3&&c.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",$.length-3," more"]})]})]},T.toString())),S=CE(S,1)}x.push(c.jsx("div",{className:"grid grid-cols-7 gap-2",children:_},S.toString())),_=[]}return c.jsx("div",{className:"space-y-2",children:x})};return c.jsxs("div",{className:"p-8 max-w-[1800px] mx-auto",children:[h(),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md p-6",children:[p(),v()]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:a?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(On,{className:"w-6 h-6 text-primary-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:oi(a,"MMMM d, yyyy")}),c.jsxs("p",{className:"text-sm text-gray-600",children:[o.length," invoice",o.length!==1?"s":""," due"]})]})]}),o.length>0?c.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:o.map(g=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-semibold text-gray-900",children:[g.tenant.firstName," ",g.tenant.lastName]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[g.property.name," - Unit ",g.unit.unitNumber]})]}),c.jsx("span",{className:bt("px-2 py-1 rounded-full text-xs font-semibold",zl(g.status)),children:g.status})]}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Invoice:"}),c.jsx("span",{className:"font-medium text-gray-900",children:g.invoiceNumber})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Amount:"}),c.jsx("span",{className:"font-medium text-gray-900",children:$e(g.amount)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Remaining:"}),c.jsx("span",{className:bt("font-medium",g.remainingAmount>0?"text-danger-600":"text-success-600"),children:$e(g.remainingAmount)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Installment:"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[g.installmentNumber,"/",g.contract.numberOfInstallments]})]})]})]},g.id))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(On,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-600",children:"No invoices due on this date"})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(On,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Date"}),c.jsx("p",{className:"text-gray-600",children:"Click on a date to view invoices"})]})})]}),c.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:(()=>{const g=r.filter(_=>_w(_.dueDate,e)),b=g.filter(_=>_.status==="paid"),w=g.filter(_=>_.status==="pending"),j=g.filter(_=>_.status==="overdue"),x=g.filter(_=>_.status==="partial");return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-success-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-success-700 font-medium mb-2",children:"Paid"}),c.jsx("p",{className:"text-3xl font-bold text-success-700",children:b.length}),c.jsx("p",{className:"text-sm text-success-600 mt-1",children:$e(b.reduce((_,S)=>_+S.amount,0))})]}),c.jsxs("div",{className:"bg-warning-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-warning-700 font-medium mb-2",children:"Pending"}),c.jsx("p",{className:"text-3xl font-bold text-warning-700",children:w.length}),c.jsx("p",{className:"text-sm text-warning-600 mt-1",children:$e(w.reduce((_,S)=>_+S.remainingAmount,0))})]}),c.jsxs("div",{className:"bg-primary-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-primary-700 font-medium mb-2",children:"Partial"}),c.jsx("p",{className:"text-3xl font-bold text-primary-700",children:x.length}),c.jsx("p",{className:"text-sm text-primary-600 mt-1",children:$e(x.reduce((_,S)=>_+S.remainingAmount,0))})]}),c.jsxs("div",{className:"bg-danger-50 rounded-xl p-6",children:[c.jsx("p",{className:"text-danger-700 font-medium mb-2",children:"Overdue"}),c.jsx("p",{className:"text-3xl font-bold text-danger-700",children:j.length}),c.jsx("p",{className:"text-sm text-danger-600 mt-1",children:$e(j.reduce((_,S)=>_+S.remainingAmount,0))})]})]})})()})]})}function gse(){var w,j;const{user:e}=ka(),[t,r]=O.useState([]),[n,a]=O.useState("pending"),[i,o]=O.useState(null),[s,l]=O.useState(""),[u,d]=O.useState(!1),[f,h]=O.useState(null),p=((w=e==null?void 0:e.role)==null?void 0:w.trim())==="admin";O.useEffect(()=>{p&&m()},[e,n,p]);const m=async()=>{try{console.log("=== APPROVALS PAGE: Loading requests ==="),console.log("Current filter:",n),console.log("User role:",e==null?void 0:e.role);const x=await oe.getApprovalRequests(n==="all"?void 0:n,void 0);console.log("Approvals page - received data:",x),console.log("Number of requests:",x.length),console.log("========================================"),r(x)}catch(x){console.error("Error loading approval requests:",x)}},y=async x=>{if(e){d(!0);try{const _=await oe.approveRequest(x,e.id);_.success?(await m(),o(null),alert("Request approved and processed successfully")):alert(_.message||"Failed to approve request")}catch(_){console.error("Error approving request:",_),alert("Failed to approve request")}finally{d(!1)}}},v=async x=>{if(!e||!s.trim()){alert("Please provide a rejection reason");return}d(!0);try{const _=await oe.rejectRequest(x,e.id,s);_.success?(await m(),o(null),l(""),alert("Request rejected")):alert(_.message||"Failed to reject request")}catch(_){console.error("Error rejecting request:",_),alert("Failed to reject request")}finally{d(!1)}},g=x=>{switch(x){case"contract_create":case"contract_terminate":case"contract_cancel":return c.jsx(sa,{className:"w-5 h-5"});case"payment_create":case"payment_delete":return c.jsx(vE,{className:"w-5 h-5"});default:return c.jsx(hr,{className:"w-5 h-5"})}},b=x=>{switch(x){case"contract_create":return"Create Contract";case"contract_terminate":return"Terminate Contract";case"contract_cancel":return"Cancel Contract";case"payment_create":return"Create Payment";case"payment_delete":return"Delete Payment";default:return x}};return p?c.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Approval Requests"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve pending requests"})]}),c.jsx("div",{className:"flex gap-2 mb-6",children:["all","pending","approved","rejected"].map(x=>c.jsx("button",{onClick:()=>a(x),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===x?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t.length===0?c.jsxs("div",{className:"py-10 text-center text-gray-600",children:["No ",n==="all"?"":n," requests found"]}):t.map(x=>c.jsx("div",{className:"border-b border-gray-100 p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:async()=>{var _;if(o(x),l(""),x.requestType==="payment_create"&&((_=x.requestData)!=null&&_.invoiceId))try{const N=(await oe.getInvoices()).find(T=>T.id===x.requestData.invoiceId);h(N||null)}catch(S){console.error("Error loading invoice details:",S),h(null)}else h(null)},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[g(x.requestType),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:b(x.requestType)}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Requested by ",x.requesterName||"Unknown","  ",It(x.createdAt)]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[x.status==="pending"&&c.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Pending"}),x.status==="approved"&&c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Approved"}),x.status==="rejected"&&c.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Rejected"})]})]})},x.id))}),i&&i.status==="pending"&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:b(i.requestType)}),c.jsxs("div",{className:"mb-6 space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Requested by:"}),c.jsx("p",{className:"text-gray-900",children:i.requesterName||"Unknown"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Request Date:"}),c.jsx("p",{className:"text-gray-900",children:It(i.createdAt)})]}),i.requestType==="contract_create"&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Contract Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Monthly Rent:"})," ",$e(i.requestData.monthlyRent)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Security Deposit:"})," ",$e(i.requestData.securityDeposit)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Start Date:"})," ",It(new Date(i.requestData.startDate))]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"End Date:"})," ",It(new Date(i.requestData.endDate))]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Status:"})," ",i.requestData.status]})]})]}),i.requestType==="contract_terminate"&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Termination Request"}),c.jsxs("p",{className:"text-sm text-gray-700",children:["Contract ID: ",i.requestData.contractId]})]}),i.requestType==="payment_create"&&c.jsxs(c.Fragment,{children:[f&&c.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsx("h3",{className:"font-semibold mb-3 text-blue-900",children:"Invoice Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Invoice Number:"}),c.jsx("p",{className:"text-gray-900 font-semibold",children:f.invoiceNumber})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Installment:"}),c.jsxs("p",{className:"text-gray-900",children:[f.installmentNumber,"/",f.contract.numberOfInstallments]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Tenant:"}),c.jsxs("p",{className:"text-gray-900",children:[f.tenant.firstName," ",f.tenant.lastName]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Property:"}),c.jsxs("p",{className:"text-gray-900",children:[f.property.name," - Unit ",f.unit.unitNumber]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Invoice Amount:"}),c.jsx("p",{className:"text-gray-900 font-semibold",children:$e(f.amount)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Remaining Amount:"}),c.jsx("p",{className:"text-gray-900 font-semibold",children:$e(f.remainingAmount)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Due Date:"}),c.jsx("p",{className:"text-gray-900",children:It(f.dueDate)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),c.jsx("p",{className:"text-gray-900 capitalize",children:f.status})]})]})]}),c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Payment Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Amount:"})," ",c.jsx("span",{className:"text-lg font-bold text-green-600",children:$e(i.requestData.amount)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Payment Method:"})," ",c.jsx("span",{className:"capitalize",children:((j=i.requestData.paymentMethod)==null?void 0:j.replace("_"," "))||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Payment Date:"})," ",It(new Date(i.requestData.paymentDate))]}),i.requestData.referenceNumber&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Reference Number:"})," ",c.jsx("span",{className:"font-mono",children:i.requestData.referenceNumber})]}),i.requestData.notes&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-600",children:"Notes:"}),c.jsx("p",{className:"text-gray-700 mt-1 whitespace-pre-wrap",children:i.requestData.notes})]})]})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (if rejecting)"}),c.jsx("textarea",{value:s,onChange:x=>l(x.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter reason for rejection..."})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>{o(null),l(""),h(null)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:u,children:"Cancel"}),c.jsx("button",{onClick:()=>v(i.id),disabled:u||!s.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Reject"}),c.jsx("button",{onClick:()=>y(i.id),disabled:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Approve"})]})]})})})]}):c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"text-center text-gray-600",children:[c.jsx(hr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),c.jsx("p",{children:"You don't have permission to access this page."})]})})}function yse(){const{user:e}=ka(),[t,r]=O.useState("change"),[n,a]=O.useState(""),[i,o]=O.useState(""),[s,l]=O.useState(""),[u,d]=O.useState(""),[f,h]=O.useState(""),[p,m]=O.useState(!1),[y,v]=O.useState([]),[g,b]=O.useState(!1),[w,j]=O.useState(""),[x,_]=O.useState(""),S=async $=>{if($.preventDefault(),d(""),h(""),!n||!i||!s){d("All fields are required");return}if(i.length<6){d("New password must be at least 6 characters");return}if(i!==s){d("New passwords do not match");return}if(n===i){d("New password must be different from current password");return}m(!0);try{if(!X){d("Supabase is not configured");return}const{error:P}=await X.auth.signInWithPassword({email:e.email,password:n});if(P){d("Current password is incorrect");return}const{error:C}=await X.auth.updateUser({password:i});if(C){d(C.message||"Failed to update password");return}h("Password changed successfully!"),a(""),o(""),l("")}catch(P){d(P.message||"An error occurred")}finally{m(!1)}},N=async()=>{if((e==null?void 0:e.role)==="admin"){b(!0);try{if(!X){j("Supabase is not configured");return}const{data:$,error:P}=await X.from("users").select("id, email, name, role, created_at").order("created_at",{ascending:!1});if(P){j(P.message||"Failed to load users");return}v($||[])}catch($){j($.message||"An error occurred")}finally{b(!1)}}},T=async $=>{j(""),_("");try{if(!X){j("Supabase is not configured");return}const{error:P}=await X.auth.resetPasswordForEmail($,{redirectTo:`${window.location.origin}/login`});if(P){j(`Failed to send reset email: ${P.message}`);return}_(`Password reset email sent to ${$}`),setTimeout(()=>_(""),5e3)}catch(P){j(P.message||"An error occurred")}};return O.useEffect(()=>{t==="users"&&(e==null?void 0:e.role)==="admin"&&N()},[t,e==null?void 0:e.role]),c.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Password Management"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your password and user accounts"})]}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsxs("nav",{className:"flex space-x-8",children:[c.jsx("button",{onClick:()=>r("change"),className:`
              py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${t==="change"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pl,{className:"w-4 h-4"}),"Change My Password"]})}),(e==null?void 0:e.role)==="admin"&&c.jsx("button",{onClick:()=>{r("users"),N()},className:`
                py-4 px-1 border-b-2 font-medium text-sm transition-colors
                ${t==="users"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Io,{className:"w-4 h-4"}),"Manage Users"]})})]})}),t==="change"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(Nd,{className:"w-6 h-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Update your account password"})]})]}),u&&c.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-red-700",children:u})]}),f&&c.jsxs("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(ja,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-green-700",children:f})]}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",value:n,onChange:$=>a($.target.value),required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter current password"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",value:i,onChange:$=>o($.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",value:s,onChange:$=>l($.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Confirm new password"})]})]}),c.jsx("button",{type:"submit",disabled:p,className:"w-full bg-green-600 text-white py-2.5 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Changing Password...":"Change Password"})]})]}),t==="users"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(LM,{className:"w-6 h-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Management"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Reset passwords for other users"})]})]}),w&&c.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-red-700",children:w})]}),x&&c.jsxs("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(ja,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-green-700",children:x})]}),g?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):c.jsx("div",{className:"space-y-3",children:y.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Io,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),c.jsx("p",{children:"No users found"})]}):y.map($=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx(Co,{className:"w-5 h-5 text-gray-600"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium text-gray-900",children:$.name}),$.role==="admin"&&c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:"Admin"})]}),c.jsx("p",{className:"text-sm text-gray-600",children:$.email})]})]})}),c.jsx("button",{onClick:()=>T($.email),className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Send Reset Email"})]},$.id))})]})]})}function vse(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[a,i]=O.useState(""),[o,s]=O.useState(!1),[l,u]=O.useState(!1),d=Tc();O.useEffect(()=>{const h=new URLSearchParams(window.location.hash.substring(1)),p=h.get("access_token"),m=h.get("type");(!p||m!=="recovery")&&i("Invalid or expired reset link. Please request a new password reset.")},[]);const f=async h=>{if(h.preventDefault(),i(""),s(!1),!e||!r){i("Please fill in all fields");return}if(e.length<6){i("Password must be at least 6 characters");return}if(e!==r){i("Passwords do not match");return}u(!0);try{if(!X){i("Supabase is not configured");return}const{error:p}=await X.auth.updateUser({password:e});if(p){i(p.message||"Failed to update password");return}s(!0),setTimeout(()=>{d("/login")},2e3)}catch(p){i(p.message||"An error occurred")}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center mr-4",children:c.jsx(Sn,{className:"w-10 h-10 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"PropTrack"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Reset Your Password"})]})]}),o?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(ja,{className:"w-10 h-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been updated. Redirecting to login..."})]}):c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(hr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-red-700",children:a})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",value:e,onChange:h=>t(h.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",value:r,onChange:h=>n(h.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Confirm new password"})]})]}),c.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Updating Password...":"Reset Password"})]})]})})}function bse(){return c.jsx(wM,{children:c.jsxs(VI,{children:[c.jsx(Bt,{path:"/login",element:c.jsx(C3,{})}),c.jsx(Bt,{path:"/reset-password",element:c.jsx(vse,{})}),c.jsxs(Bt,{path:"/",element:c.jsx(_M,{children:c.jsx(T3,{})}),children:[c.jsx(Bt,{index:!0,element:c.jsx(VN,{to:"/dashboard",replace:!0})}),c.jsx(Bt,{path:"dashboard",element:c.jsx(sse,{})}),c.jsx(Bt,{path:"properties",element:c.jsx(lse,{})}),c.jsx(Bt,{path:"units",element:c.jsx(cse,{})}),c.jsx(Bt,{path:"tenants",element:c.jsx(use,{})}),c.jsx(Bt,{path:"contracts",element:c.jsx(dse,{})}),c.jsx(Bt,{path:"invoices",element:c.jsx(hse,{})}),c.jsx(Bt,{path:"payments",element:c.jsx(pse,{})}),c.jsx(Bt,{path:"calendar",element:c.jsx(mse,{})}),c.jsx(Bt,{path:"approvals",element:c.jsx(gse,{})}),c.jsx(Bt,{path:"password",element:c.jsx(yse,{})})]})]})})}typeof window<"u"&&window.addEventListener("error",e=>{(e.filename||"").includes("share-modal.js")&&e.preventDefault()});cm.createRoot(document.getElementById("root")).render(c.jsx(D.StrictMode,{children:c.jsx(QI,{children:c.jsx(bse,{})})}));export{CE as a,$3 as b,Td as c,R3 as d,ml as e,yw as f,oi as g,Sg as h,M3 as i,_w as j,BL as k,L3 as l,jw as m,Xn as n,mw as o,FL as p,U3 as q,ke as r,gw as s,rt as t,fn as u};
